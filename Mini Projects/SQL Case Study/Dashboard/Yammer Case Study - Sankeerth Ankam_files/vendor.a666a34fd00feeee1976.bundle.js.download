webpackJsonp([0],{"+0nQ":function(e,t,r){"use strict";var n=r("aYtU");t.range=n.RangeObservable.create},"+1Bn":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("m0oc"),a=function(e){function TGPane(t,r,n){var i=e.call(this,"vg-"+r.yAlias,n)||this;return i._table=t,i._marks=r,i._borders=new o.Borders,i.borders.right.display=!0,i.borders.bottom.display=!0,i}return i(TGPane,e),Object.defineProperty(TGPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(TGPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(TGPane.prototype,"borders",{get:function(){return this._borders},enumerable:!0,configurable:!0}),TGPane.prototype.getProperties=function(){return{enter:{x:{field:"tcol.layout_start"},y:{field:"trow.layout_start"},width:{field:"tcol.layout_width"},height:{field:"trow.layout_height"}}}},TGPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.borders.getDisplayed();r<n.length;r++){var i=n[r];t.push(i.compile())}return t},TGPane}(r("pkpF").Group);t.TGPane=a},"+6+c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STANDARD="STANDARD",e.WIDTH="WIDTH",e.HEIGHT="HEIGHT",e.VIEW="VIEW"}(t.FitType||(t.FitType={}))},"+6G+":function(e,t,r){"use strict";var n=r("DRWY"),i=r("+9ts");n.Observable.prototype.share=i.share},"+73G":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("2p93"),a=r("/TTe"),s=r("MCIp"),u=r("Uzcp"),l=r("/aKK"),c=r("YHqs"),f=r("uzqJ"),h=r("hurv"),p=r("RgNB"),d=function(e){function VMarks(t,r,n){var i=e.call(this,t,r,n)||this;return i._valueRange=i.getDomain(r),i._cells=new o.MCells(t,i,i.query),i}return i(VMarks,e),Object.defineProperty(VMarks.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(VMarks.prototype,"valueRange",{get:function(){return this._valueRange},enumerable:!0,configurable:!0}),Object.defineProperty(VMarks.prototype,"yAlias",{get:function(){return this.alias},enumerable:!0,configurable:!0}),Object.defineProperty(VMarks.prototype,"yAxisFields",{get:function(){return[this.field]},enumerable:!0,configurable:!0}),Object.defineProperty(VMarks.prototype,"xAxisFields",{get:function(){return[].concat(this.table.xAxisFields,this.table.x2AxisFields)},enumerable:!0,configurable:!0}),VMarks.prototype.buildColorScale=function(){return e.prototype.buildColorScale.call(this,this.cells)},VMarks.prototype.buildSizeScale=function(){return e.prototype.buildSizeScale.call(this,this.cells)},VMarks.prototype.buildAreaScale=function(){return e.prototype.buildAreaScale.call(this,this.cells)},VMarks}(s.TableMarks);t.VMarks=d;var y=function(e){function VMStacked(t,r,n){var i=e.call(this,t,r,n)||this,o=i.getStackFields(),a=i.fields.map(function(e){return e.alias});return i._stackedDomain=i.getStackedDomain(o,a),i}return i(VMStacked,e),Object.defineProperty(VMStacked.prototype,"stack",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(VMStacked.prototype,"stackedDomain",{get:function(){return this._stackedDomain},enumerable:!0,configurable:!0}),VMStacked.prototype.getStackFields=function(){return[].concat(this.table.facetFields,this.table.xAxisFields)},VMStacked.prototype.buildYScale=function(){var e=this.getYDomain();return new a.ContinuousY(this.yScaleName,this.cells,e,this.field)},VMStacked.prototype.getYDomain=function(){var e=this.cellHeight;return this.getPaddedInterval(this.stackedDomain,{max:e},{max:15})},VMStacked}(d);t.VMStacked=y;var g=function(e){function VMBars(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new l.VBar(t,i)),i}return i(VMBars,e),Object.defineProperty(VMBars.prototype,"sizeProp",{get:function(){return.8},enumerable:!0,configurable:!0}),VMBars.prototype.sizeMax=function(){return this.cellWidth},VMBars}(y);t.VMBars=g;var m=function(e){function VMArea(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new u.VArea(t,i)),i}return i(VMArea,e),Object.defineProperty(VMArea.prototype,"impute",{get:function(){return!0},enumerable:!0,configurable:!0}),VMArea.prototype.sizeMax=function(){return this.cellHeight},VMArea}(y);t.VMArea=m;var v=function(e){function VMLine(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new f.VLine(t,i)),i}return i(VMLine,e),VMLine.prototype.sizeMax=function(){return this.size.fields.length>0?60:12},VMLine.prototype.buildYScale=function(){var e=this.getYDomain();return new a.ContinuousY(this.yScaleName,this.cells,e,this.field)},VMLine.prototype.getYDomain=function(){return this.getSizePaddedDomain(this.cellHeight,this.valueRange,{max:15})},VMLine}(d);t.VMLine=v;var b=function(e){function VMSymbol(t,r,n){return e.call(this,t,r,n)||this}return i(VMSymbol,e),VMSymbol.prototype.sizeMax=function(){var e=this.size.fields,t=Math.min(this.cellWidth,this.cellHeight);return e.length>0?t:Math.min(this.cellWidth,90)},VMSymbol.prototype.buildYScale=function(){var e=this.getYDomain();return new a.ContinuousY(this.yScaleName,this.cells,e,this.field)},VMSymbol.prototype.buildSizeScale=function(){return this.buildAreaScale()},VMSymbol.prototype.getYDomain=function(){return this.getSizePaddedDomain(this.cellHeight,this.valueRange,{min:10,max:15})},VMSymbol}(d);t.VMSymbol=b;var _=function(e){function VMCircle(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new c.VCircle(t,i)),i}return i(VMCircle,e),VMCircle}(b);t.VMCircle=_;var w=function(e){function VMShape(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new h.VShape(t,i)),i}return i(VMShape,e),VMShape}(b);t.VMShape=w;var S=function(e){function VMSquare(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new p.VSquare(t,i)),i}return i(VMSquare,e),VMSquare}(b);t.VMSquare=S},"+8et":function(e,t,r){"use strict";var n=r("DRWY"),i=function(){function Notification(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return Notification.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},Notification.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},Notification.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},Notification.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},Notification.createNext=function(e){return void 0!==e?new Notification("N",e):Notification.undefinedValueNotification},Notification.createError=function(e){return new Notification("E",void 0,e)},Notification.createComplete=function(){return Notification.completeNotification},Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",void 0),Notification}();t.Notification=i},"+9ts":function(e,t,r){"use strict";var n=r("oIyb");t.share=function(){return n.share()(this)}},"+GNe":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new a(n,r))}};var a=function(){function WithLatestFromOperator(e,t){this.observables=e,this.project=t}return WithLatestFromOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.observables,this.project))},WithLatestFromOperator}(),s=function(e){function WithLatestFromSubscriber(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var a=0;a<i;a++)this.toRespond.push(a);for(a=0;a<i;a++){var s=r[a];this.add(o.subscribeToResult(this,s,s,a))}}return n(WithLatestFromSubscriber,e),WithLatestFromSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(r);-1!==a&&o.splice(a,1)}},WithLatestFromSubscriber.prototype.notifyComplete=function(){},WithLatestFromSubscriber.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},WithLatestFromSubscriber.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},WithLatestFromSubscriber}(i.OuterSubscriber)},"+H9G":function(e,t,r){"use strict";var n=r("oRuo");t.generate=n.GenerateObservable.create},"+HTF":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("/E++"),o=r("ITh/"),a=r("EIUo"),s=r("k+FJ");t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&o.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new u(e))}},t.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;return 1===e.length&&o.isArray(e[0])&&(e=e[0]),r=e.shift(),new i.FromObservable(r,null).lift(new u(e))};var u=function(){function OnErrorResumeNextOperator(e){this.nextSources=e}return OnErrorResumeNextOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.nextSources))},OnErrorResumeNextOperator}(),l=function(e){function OnErrorResumeNextSubscriber(t,r){e.call(this,t),this.destination=t,this.nextSources=r}return n(OnErrorResumeNextSubscriber,e),OnErrorResumeNextSubscriber.prototype.notifyError=function(e,t){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype.notifyComplete=function(e){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype._error=function(e){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype._complete=function(){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(s.subscribeToResult(this,e)):this.destination.complete()},OnErrorResumeNextSubscriber}(a.OuterSubscriber)},"+J24":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AUTO="AUTO",e.LEFT="LEFT",e.CENTER="CENTER",e.RIGHT="RIGHT"}(t.Horizontal||(t.Horizontal={}))},"+ayz":function(e,t,r){"use strict";var n=r("1wjR");t._finally=function(e){return n.finalize(e)(this)}},"+cGy":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Size(){this._fields=new Array}return Object.defineProperty(Size.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Size.prototype.addField=function(e){this._fields=this.fields.concat(e)},Size.prototype.addFields=function(e){this._fields=this.fields.concat(e)},Size}();t.Size=n},"+cyl":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PShape(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(PShape,e),Object.defineProperty(PShape.prototype,"isFilled",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(PShape.prototype,"isStroked",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(PShape.prototype,"strokeWidth",{get:function(){return{value:2}},enumerable:!0,configurable:!0}),PShape}(r("sMza").PSymbol);t.PShape=o},"+jxi":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function ObjectUnsubscribedError(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(ObjectUnsubscribedError,e),ObjectUnsubscribedError}(Error);t.ObjectUnsubscribedError=i},"+kJd":function(e,t,r){"use strict";var n=function(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]},i=function(e){return(e=n(Math.abs(e)))?e[1]:NaN},o=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){return new FormatSpecifier(e)}function FormatSpecifier(e){if(!(t=o.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var a,s,u,l,c=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(i>0){if(!+e[n])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e},f=function(e,t){var r=n(e,t);if(!r)return e+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},h={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return f(100*e,t)},r:f,s:function(e,t){var r=n(e,t);if(!r)return e+"";var i=r[0],o=r[1],s=o-(a=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=i.length;return s===u?i:s>u?i+new Array(s-u+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+n(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=function(e){return e},d=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],y=function(e){var t,r,n=e.grouping&&e.thousands?(t=e.grouping,r=e.thousands,function(e,n){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(r)}):p,o=e.currency,s=e.decimal,u=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):p,l=e.percent||"%";function newFormat(e){var t=(e=formatSpecifier(e)).fill,r=e.align,i=e.sign,f=e.symbol,p=e.zero,y=e.width,g=e.comma,m=e.precision,v=e.trim,b=e.type;"n"===b?(g=!0,b="g"):h[b]||(null==m&&(m=12),v=!0,b="g"),(p||"0"===t&&"="===r)&&(p=!0,t="0",r="=");var _="$"===f?o[0]:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===f?o[1]:/[%p]/.test(b)?l:"",S=h[b],E=/[defgprs%]/.test(b);function format(e){var o,l,f,h=_,C=w;if("c"===b)C=S(e)+C,e="";else{var O=(e=+e)<0;if(e=S(Math.abs(e),m),v&&(e=c(e)),O&&0==+e&&(O=!1),h=(O?"("===i?i:"-":"-"===i||"("===i?"":i)+h,C=("s"===b?d[8+a/3]:"")+C+(O&&"("===i?")":""),E)for(o=-1,l=e.length;++o<l;)if(48>(f=e.charCodeAt(o))||f>57){C=(46===f?s+e.slice(o+1):e.slice(o))+C,e=e.slice(0,o);break}}g&&!p&&(e=n(e,1/0));var T=h.length+e.length+C.length,A=T<y?new Array(y-T+1).join(t):"";switch(g&&p&&(e=n(A+e,A.length?y-C.length:1/0),A=""),r){case"<":e=h+e+C+A;break;case"=":e=h+A+e+C;break;case"^":e=A.slice(0,T=A.length>>1)+h+e+C+A.slice(T);break;default:e=A+h+e+C}return u(e)}return m=null==m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),format.toString=function(){return e+""},format}return{format:newFormat,formatPrefix:function(e,t){var r=newFormat(((e=formatSpecifier(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(i(t)/3))),o=Math.pow(10,-n),a=d[8+n/3];return function(e){return r(o*e)+a}}}};function defaultLocale(e){return s=y(e),u=s.format,l=s.formatPrefix,s}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var g=function(e){return Math.max(0,-i(Math.abs(e)))},m=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(t)/3)))-i(Math.abs(e)))},v=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,i(t)-i(e))+1};r.d(t,!1,function(){return defaultLocale}),r.d(t,"a",function(){return u}),r.d(t,!1,function(){return l}),r.d(t,"b",function(){return y}),r.d(t,!1,function(){return formatSpecifier}),r.d(t,!1,function(){return g}),r.d(t,!1,function(){return m}),r.d(t,!1,function(){return v})},"/Cw+":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var s=r("a7OZ"),u=r("kdBv"),l=r("YyKR"),c=r("niCK"),f=(function(){function EncodedDataType(e){this.value=e.value,this.fixed=e.fixed}EncodedDataType.prototype.serialize=function(){return o({},this.value?{value:this.value}:{},this.fixed?{fixed:!0}:{})}}(),function(){function EncodedFieldRole(e){this.value=e.value,this.fixed=e.fixed}EncodedFieldRole.prototype.serialize=function(){return o({},this.value?{value:this.value}:{},this.fixed?{fixed:!0}:{})}}(),function(){function EncodedAggregate(e){this.value=e.value,this.fixed=e.fixed}EncodedAggregate.prototype.serialize=function(){return o({},this.value?{value:this.value}:{},this.fixed?{fixed:!0}:{})}}(),function(){function EncodedVariable(e){this.type=e.type,this.level=e.level,this.fixed=e.fixed}return EncodedVariable.prototype.serialize=function(){return{type:this.type,level:this.level,fixed:this.fixed}},EncodedVariable}()),h=function(){function EncodedField(e,t){if(this.parent=t,!e.id)throw Error("id is required");if(!e.formula)throw Error("formula is required");if(!e.variable)throw Error("variable is required");this.id=e.id,this.formula=e.formula,this.variable=new f(e.variable)}return EncodedField.equals=function(e,t){return e.variable.type===t.variable.type&&e.formula===t.formula},Object.defineProperty(EncodedField.prototype,"isContinuous",{get:function(){return this.variable.type===u.VariableType.CONTINUOUS},enumerable:!0,configurable:!0}),Object.defineProperty(EncodedField.prototype,"isDimension",{get:function(){return this.formula.startsWith("[")||this.formula.startsWith("DATE")},enumerable:!0,configurable:!0}),Object.defineProperty(EncodedField.prototype,"isDiscrete",{get:function(){return this.variable.type===u.VariableType.DISCRETE},enumerable:!0,configurable:!0}),EncodedField.prototype.clone=function(e){return new EncodedField(o({},this.serialize(),{id:u.BField.GenerateID()}),e)},EncodedField.prototype.detach=function(){this.parent instanceof d?this.parent.values=void 0:this.parent instanceof T?this.parent.byField=void 0:this.parent.removeField(this.id)},EncodedField.prototype.serialize=function(){var e=this.variable.serialize();return o({id:this.id,formula:this.formula},{variable:e})},EncodedField}(),p=function(e){function EncodedDualAxisField(t,r,n,i){var o=e.call(this,t,i)||this;return o.axis=r,o.other=n,"x"===r?o.x=n.id:o.y=n.id,o}return i(EncodedDualAxisField,e),EncodedDualAxisField.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return"x"===this.axis?o({},t,{x:this.x}):o({},t,{y:this.y})},EncodedDualAxisField}(h),d=function(){function EncodedSingleMark(e,t){e&&(this.values=new h(e,this),t.set(this.values.id,this.values))}return EncodedSingleMark.prototype.removeFromLookup=function(e){this.values&&e.delete(this.values.id)},EncodedSingleMark.prototype.serialize=function(){return o({},this.values?{values:this.values.serialize()}:{})},EncodedSingleMark}(),y=function(){function EncodedMultiMark(e,t){this.lookup=t,this.values=new F(e,t,!1)}return EncodedMultiMark.prototype.insertField=function(e,t){var r=new h(e,this.values);return this.insertEncodedField(r,t)},EncodedMultiMark.prototype.insertEncodedField=function(e,t){if(!this.values.fields.some(function(t){return h.equals(t,e)}))return this.values.insertField(e,t),this.lookup.set(e.id,e),e},EncodedMultiMark.prototype.removeFromLookup=function(e){if(this.values.length)for(var t=0,r=this.values.fields;t<r.length;t++){var n=r[t];e.delete(n.id)}},EncodedMultiMark.prototype.serialize=function(){return{values:this.values.serialize()}},EncodedMultiMark}(),g=function(e){function EncodedColor(t,r){var n=this;return t&&((n=e.call(this,t.values,r)||this).value=t.value,n.transparency=t.transparency),n}return i(EncodedColor,e),EncodedColor.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{value:this.value,transparency:this.transparency})},EncodedColor}(y),m=function(e){function EncodedAngle(t,r){return e.call(this,t.values,r)||this}return i(EncodedAngle,e),EncodedAngle.prototype.serialize=function(){return o({},e.prototype.serialize.call(this))},EncodedAngle}(y),v=function(e){function EncodedSize(t,r){var n=e.call(this,t.values,r)||this;return n.value=t.value,n}return i(EncodedSize,e),EncodedSize.prototype.serialize=function(){return o({value:this.value},e.prototype.serialize.call(this))},EncodedSize}(y),b=function(e){function EncodedLabel(t,r){return e.call(this,t.values,r)||this}return i(EncodedLabel,e),EncodedLabel.prototype.serialize=function(){return o({},e.prototype.serialize.call(this))},EncodedLabel}(y),_=function(e){function EncodedText(t,r){return e.call(this,t.values,r)||this}return i(EncodedText,e),EncodedText.prototype.serialize=function(){return o({},e.prototype.serialize.call(this))},EncodedText}(y),w=function(e){function EncodedDetail(t,r){return e.call(this,t.values,r)||this}return i(EncodedDetail,e),EncodedDetail.prototype.serialize=function(){return o({},e.prototype.serialize.call(this))},EncodedDetail}(y),S=function(e){function EncodedTooltip(t,r){return e.call(this,t.values,r)||this}return i(EncodedTooltip,e),EncodedTooltip.prototype.serialize=function(){return o({},e.prototype.serialize.call(this))},EncodedTooltip}(y),E=function(){function EncodedMarkSettings(e){this.value=e.value||null,this.automatic=!!e.automatic}return EncodedMarkSettings.prototype.serialize=function(){return{value:this.value,automatic:this.automatic}},EncodedMarkSettings}(),C=function(){function EncodedMarks(e,t){this.lookup=t,this.type=new E(e.type||{automatic:!0}),this.color=new g(e.color||{},t),this.size=new v(e.size||{},t),this.text=new _(e.text||{},t),this.label=new b(e.label||{},t),this.detail=new w(e.detail||{},t),this.angle=new m(e.angle||{},t),this.tooltip=new S(e.tooltip||{},t)}return EncodedMarks.prototype.insertField=function(e,t,r){switch(t){case"color":return this.color.removeFromLookup(this.lookup),this.color.values.fields.length=0,this.color.insertField(e,r);case"size":return this.size.removeFromLookup(this.lookup),this.size.values.fields.length=0,this.size.insertField(e,r);case"label":return this.label.insertField(e,r);case"text":return this.text.insertField(e,r);case"detail":return this.detail.insertField(e,r);case"angle":return this.angle.removeFromLookup(this.lookup),this.angle.values.fields.length=0,this.angle.insertField(e,r);case"tooltip":return this.tooltip.insertField(e,r)}},EncodedMarks.prototype.insertEncodedField=function(e,t,r){switch(t){case"color":this.color.removeFromLookup(this.lookup),this.color.values.fields.length=0,this.color.insertEncodedField(e,r);break;case"size":this.size.removeFromLookup(this.lookup),this.size.values.fields.length=0,this.size.insertEncodedField(e,r);break;case"label":this.label.insertEncodedField(e,r);break;case"text":this.text.insertEncodedField(e,r);break;case"detail":this.detail.insertEncodedField(e,r);break;case"angle":this.angle.removeFromLookup(this.lookup),this.angle.values.fields.length=0,this.angle.insertEncodedField(e,r);break;case"tooltip":this.tooltip.insertEncodedField(e,r)}},EncodedMarks.prototype.removeFromLookup=function(){this.color.removeFromLookup(this.lookup),this.size.removeFromLookup(this.lookup),this.text.removeFromLookup(this.lookup),this.label.removeFromLookup(this.lookup),this.detail.removeFromLookup(this.lookup),this.angle.removeFromLookup(this.lookup),this.tooltip.removeFromLookup(this.lookup)},EncodedMarks.prototype.serialize=function(){var e=this.color.serialize(),t=this.size.serialize(),r=this.text.serialize(),n=this.label.serialize(),i=this.detail.serialize(),o=this.angle.serialize(),a=this.tooltip.serialize();return{type:this.type.serialize(),color:e,size:t,text:r,label:n,detail:i,angle:o,tooltip:a}},EncodedMarks}(),O=function(){function BaseFieldArray(){this.contLast=!0}return Object.defineProperty(BaseFieldArray.prototype,"length",{get:function(){return this.fields.length},enumerable:!0,configurable:!0}),BaseFieldArray.prototype.insertField=function(e,t){var r=-1;if("string"==typeof t?r=this.fields.findIndex(function(e){return e.id===t}):"number"==typeof t&&(r=this.fields.length>t?t:-1),this.contLast){var n=this.findFirstContinuousField();n<0&&(n=this.fields.length),r>=0?r>0||e.isContinuous?e.isDiscrete&&this.fields[r-1].isContinuous?this.fields.splice(n,0,e):e.isContinuous&&this.fields[r]&&this.fields[r].isDiscrete?this.fields.splice(n,0,e):this.fields.splice(r,0,e):this.fields.splice(r,0,e):e.isDiscrete&&this.fields.length>0&&this.fields[this.fields.length-1].isContinuous?this.fields.splice(n,0,e):this.fields.push(e)}else this.fields.splice(r,0,e);e.parent=this},BaseFieldArray.prototype.removeField=function(e){var t=this.fields.findIndex(function(t){return t.id===e});t>=0&&this.fields.splice(t,1)},BaseFieldArray.prototype.findById=function(e){return this.fields.find(function(t){return t.id===e})},BaseFieldArray.prototype.findIndexById=function(e){if(e)return this.fields.findIndex(function(t){return t.id===e})},BaseFieldArray.prototype.findFirstContinuousField=function(){return this.fields.findIndex(function(e){return e.isContinuous})},BaseFieldArray.prototype.initLookup=function(e){for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];e.set(n.id,n)}},BaseFieldArray}(),T=function(){function EncodedSort(e){this.source=e.source,this.type=e.type,this.descending=e.descending,e.byField&&(this.byField=new h(e.byField,this))}return EncodedSort.prototype.serialize=function(){return o({source:this.source},this.byField?{byField:this.byField.serialize()}:{},{type:this.type,descending:this.descending})},EncodedSort}(),A=function(e){function EncodedContinuousFilter(t,r){var n=e.call(this,t,r)||this;return null!=t.range&&(n.min=t.range.min,n.max=t.range.max),n.includeMin=t.includeMin,n.includeMax=t.includeMax,n.includeNulls=t.includeNulls,n}return i(EncodedContinuousFilter,e),EncodedContinuousFilter.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{range:{min:this.min,max:this.max},includeMin:this.includeMin,includeMax:this.includeMax,includeNulls:this.includeNulls,filterType:l.FilterType.Continuous})},EncodedContinuousFilter}(h),x=function(e){function EncodedContinuousDateFilter(t,r){var n=e.call(this,t,r)||this;return null!=t.range&&(n.min=t.range.min,n.max=t.range.max),n.includeMin=t.includeMin,n.includeMax=t.includeMax,n.includeNulls=t.includeNulls,n}return i(EncodedContinuousDateFilter,e),EncodedContinuousDateFilter.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{range:{min:this.min,max:this.max},includeMin:this.includeMin,includeMax:this.includeMax,includeNulls:this.includeNulls,filterType:l.FilterType.ContinuousDate})},EncodedContinuousDateFilter}(h),k=function(e){function EncodedDiscreteFilter(t,r){var n=e.call(this,t,r)||this;return n.selection=t.selection?{selected:t.selection.selected.slice(),mode:t.selection.mode}:void 0,n}return i(EncodedDiscreteFilter,e),EncodedDiscreteFilter.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{selection:{selected:this.selection.selected.slice(),mode:this.selection.mode},filterType:l.FilterType.Discrete})},EncodedDiscreteFilter}(h),R=function(e){function EncodedDiscreteBooleanFilter(t,r){var n=e.call(this,t,r)||this;return n.selection=t.selection?{selected:t.selection.selected.slice(),mode:t.selection.mode}:void 0,n}return i(EncodedDiscreteBooleanFilter,e),EncodedDiscreteBooleanFilter.prototype.serialize=function(){return o({},e.prototype.serialize.call(this),{selection:{selected:this.selection.selected.slice(),mode:this.selection.mode},filterType:l.FilterType.DiscreteBoolean})},EncodedDiscreteBooleanFilter}(h);var P=function(e){return t={Discrete:function(t){return new k(t,e)},DiscreteBoolean:function(t){return new R(t,e)},Continuous:function(t){return new A(t,e)},ContinuousDate:function(t){return new x(t,e)}},function(e){switch(e.filterType){case l.FilterType.Continuous:return t.Continuous(e);case l.FilterType.ContinuousDate:return t.ContinuousDate(e);case l.FilterType.DiscreteBoolean:return t.DiscreteBoolean(e);case l.FilterType.Discrete:return t.Discrete(e)}};var t},D=function(e){function EncodedFilterArray(t){var r=e.call(this)||this;return r.contLast=!1,r.fields=t&&t.map(P(r))||[],r}return i(EncodedFilterArray,e),EncodedFilterArray.prototype.findBySource=function(e){return this.fields.find(function(t){return t.formula===e})},EncodedFilterArray.prototype.findIndexBySource=function(e){return this.fields.findIndex(function(t){return t.formula===e})},EncodedFilterArray.prototype.clear=function(){this.fields.length=0},EncodedFilterArray.prototype.removeBySource=function(e){var t=this.findIndexBySource(e);if(t>=0)return this.fields[t].detach(),this.fields[t]},EncodedFilterArray.prototype.serialize=function(){return this.fields.map(function(e){return e.serialize()})},EncodedFilterArray}(O),M=function(){function EncodedSortArray(e){this.arr=e?e.map(function(e){return new T(e)}):[]}return Object.defineProperty(EncodedSortArray.prototype,"length",{get:function(){return this.arr.length},enumerable:!0,configurable:!0}),EncodedSortArray.prototype.addSort=function(e,t,r,n){void 0===r&&(r=!1),this.removeBySource(e),this.arr.push(new T({source:e,type:t,byField:n,descending:r}))},EncodedSortArray.prototype.removeBySource=function(e){var t=this.arr.findIndex(function(t){return t.source===e});if(t>=0)return this.arr.splice(t,1)[0]},EncodedSortArray.prototype.clear=function(){this.arr.length=0},EncodedSortArray.prototype.serialize=function(){return this.arr.map(function(e){return e.serialize()})},EncodedSortArray}(),F=function(e){function EncodedFieldArray(t,r,n){void 0===n&&(n=!0);var i=e.call(this)||this;return i.contLast=n,i.fields=t&&t.map(function(e){return new h(e,i)})||[],i.initLookup(r),i}return i(EncodedFieldArray,e),EncodedFieldArray.prototype.findLeftSibling=function(e){var t=this.fields.findIndex(function(t){return t.id===e});if(t>0)return this.fields[t-1]},EncodedFieldArray.prototype.serialize=function(){return this.fields.map(function(e){return e.serialize()})},EncodedFieldArray}(O),N=function(e){function EncodedDualXAxisFieldArray(t,r,n){var i=e.call(this)||this;return i.source=r,i.fields=t&&t.map(function(e){var t=r.findById(e.x);if(!t)throw Error("field "+e.x+" not found in x axis");return new p(e,"x",t,i)})||[],i.initLookup(n),i}return i(EncodedDualXAxisFieldArray,e),EncodedDualXAxisFieldArray.prototype.removeFieldByX=function(e){var t=this.fields.find(function(t){return t.x===e});if(t)return t.detach(),t},EncodedDualXAxisFieldArray.prototype.serialize=function(){return this.fields.map(function(e){return e.serialize()})},EncodedDualXAxisFieldArray}(O),I=function(e){function EncodedDualYAxisFieldArray(t,r,n){var i=e.call(this)||this;return i.source=r,i.fields=t&&t.map(function(e){var t=r.findById(e.y);if(!t)throw Error("field "+e.y+" not found in y axis");return new p(e,"y",t,i)})||[],i.initLookup(n),i}return i(EncodedDualYAxisFieldArray,e),EncodedDualYAxisFieldArray.prototype.removeFieldByY=function(e){var t=this.fields.find(function(t){return t.y===e});if(t)return t.detach(),t},EncodedDualYAxisFieldArray.prototype.serialize=function(){return this.fields.map(function(e){return e.serialize()})},EncodedDualYAxisFieldArray}(O),j=function(){function EncodedMarkRoot(e,t){this.channel=e.channel||"*",this.series=new H(e.series||[],t),this.discrete=new C(e.properties||{},t)}return EncodedMarkRoot.prototype.getMarksSummary=function(){var e,t,r,n,i,o,a,s,u,l,c,f,h,p,d=new B;if(this.series.fields.length){var y=this.series.fields.length,g=Array.from(new Set(this.series.fields.map(function(e){return e.marks.type.value}))),m=this.series.fields.map(function(e){return e.marks.angle.values.fields}),v=this.series.fields.map(function(e){return e.marks.color.values.fields}),b=this.series.fields.map(function(e){return e.marks.detail.values.fields}),_=this.series.fields.map(function(e){return e.marks.label.values.fields}),w=this.series.fields.map(function(e){return e.marks.size.values.fields}),S=this.series.fields.map(function(e){return e.marks.text.values.fields}),E=this.series.fields.map(function(e){return e.marks.tooltip.values.fields});d.type=g.length>1?"multiple":g[0],d.automatic=this.series.fields.every(function(e){return e.marks.type.automatic}),e=this.generateMultiMarkSummary(m,y),d.angle=e[0],d.angleIds=e[1],t=this.generateMultiMarkSummary(v,y),d.color=t[0],d.colorIds=t[1],r=this.generateMultiMarkSummary(b,y),d.detail=r[0],d.detailIds=r[1],n=this.generateMultiMarkSummary(_,y),d.label=n[0],d.labelIds=n[1],i=this.generateMultiMarkSummary(w,y),d.size=i[0],d.sizeIds=i[1],o=this.generateMultiMarkSummary(S,y),d.text=o[0],d.textIds=o[1],a=this.generateMultiMarkSummary(E,y),d.tooltip=a[0],d.tooltipIds=a[1]}else d.type=this.discrete.type.value,d.automatic=this.discrete.type.automatic,s=this.generateMultiMarkSummary([this.discrete.angle.values.fields],1),d.angle=s[0],d.angleIds=s[1],u=this.generateMultiMarkSummary([this.discrete.color.values.fields],1),d.color=u[0],d.colorIds=u[1],l=this.generateMultiMarkSummary([this.discrete.detail.values.fields],1),d.detail=l[0],d.detailIds=l[1],c=this.generateMultiMarkSummary([this.discrete.label.values.fields],1),d.label=c[0],d.labelIds=c[1],f=this.generateMultiMarkSummary([this.discrete.size.values.fields],1),d.size=f[0],d.sizeIds=f[1],h=this.generateMultiMarkSummary([this.discrete.text.values.fields],1),d.text=h[0],d.textIds=h[1],p=this.generateMultiMarkSummary([this.discrete.tooltip.values.fields],1),d.tooltip=p[0],d.tooltipIds=p[1];return d},EncodedMarkRoot.prototype.serialize=function(){return{channel:this.channel,series:this.series.serialize(),properties:this.discrete.serialize()}},EncodedMarkRoot.prototype.generateMultiMarkSummary=function(e,t){var r=e.reduce(function(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r],o=!1;for(var a in e)h.equals(e[a][0],i)&&(e[a].push(i),o=!0);o||(e[i.id]=[i])}return e},{}),n={};for(var i in r)r[i].length!==t?(n.multiple||(n.multiple=[]),n.multiple=n.multiple.concat(r[i])):n[i]=r[i];var o=[[],{}];for(var i in n)n.hasOwnProperty(i)&&("multiple"!==i&&o[0].push(n[i][0].serialize()),o[1][i]=n[i].map(function(e){return e.id}));return o},EncodedMarkRoot}(),L=function(){function EncodedSeries(e,t){this.field=e.field,this.marks=new C(e.properties,t)}return EncodedSeries.prototype.insertField=function(e,t,r){this.marks.insertField(e,t,r)},EncodedSeries.prototype.serialize=function(){return{field:this.field,properties:this.marks.serialize()}},EncodedSeries}(),B=function(){return function(){this.angle=[],this.color=[],this.detail=[],this.label=[],this.size=[],this.text=[],this.tooltip=[],this.angleIds={},this.colorIds={},this.detailIds={},this.labelIds={},this.sizeIds={},this.textIds={},this.tooltipIds={}}}();t.MarksSummary=B;var H=function(){function EncodedSeriesArray(e,t){this.fields=e&&e.map(function(e){return new L(e,t)})||[]}return Object.defineProperty(EncodedSeriesArray.prototype,"hasPlaceholder",{get:function(){return!this.fields.length},enumerable:!0,configurable:!0}),EncodedSeriesArray.prototype.insertField=function(e,t,r,n){if("*"!==e){var i=this.fields.find(function(t){return t.field===e});if(i)return i.marks.insertField(t,r,n)}},EncodedSeriesArray.prototype.newSeries=function(e,t){var r=this.fields.find(function(t){return t.field===e});return r||(r=new L({field:e,properties:new C({},t).serialize()},t),this.fields.push(r)),r},EncodedSeriesArray.prototype.removeField=function(e){var t=this.fields.findIndex(function(t){return t.field===e});if(t>=0){var r=this.fields.splice(t,1)[0];return r.marks.removeFromLookup(),r}},EncodedSeriesArray.prototype.findById=function(e){return this.fields.find(function(t){return t.field===e})},EncodedSeriesArray.prototype.serialize=function(){return this.fields.map(function(e){return e.serialize()})},EncodedSeriesArray}(),U=function(){function Encoder(e){this.encoding=e,this.fieldLookup=new Map,this.row=new F(e.row,this.fieldLookup),this.column=new F(e.column,this.fieldLookup),this.x=new F(e.x,this.fieldLookup),this.y=new F(e.y,this.fieldLookup),this.x2=new N(e.x2,this.x,this.fieldLookup),this.y2=new I(e.y2,this.y,this.fieldLookup),this.value=new F(e.value,this.fieldLookup),this.markRoot=new j(e.marks||{},this.fieldLookup),this.sort=new M(e.sorts),this.filter=new D(e.filter)}return Encoder.newEncoder=function(e){return new Encoder(e)},Encoder.prototype.addFilterField=function(e,t){var r=this.filter.findIndexBySource(e.formula);r>=0&&this.filter.removeBySource(e.formula);var n=P(this.filter)(e);n&&this.filter.insertField(n,r>=0?r:t)},Encoder.prototype.addField=function(e,t,r){var n;switch(t){case"row":if(n=new h(e,this.row),this.resetY(),this.row.insertField(n,r),"y"===this.markRoot.channel&&n.isContinuous){var i=this.markRoot.getMarksSummary();this.cloneMarks(n.id,i,this.markRoot.series.fields[0].marks)}break;case"column":if(n=new h(e,this.column),this.resetX(),this.column.insertField(n,r),"x"===this.markRoot.channel&&n.isContinuous){i=this.markRoot.getMarksSummary();this.cloneMarks(n.id,i,this.markRoot.series.fields[0].marks)}break;case"value":e.formula!==c.SystemFieldName.NAMES&&e.formula!==c.SystemFieldName.VALUES&&(n=new h(e,this.value),this.value.insertField(n,r))}n&&this.fieldLookup.set(n.id,n)},Encoder.prototype.addFieldToSeries=function(e,t,r,n){var i;(i="*"!==e?this.markRoot.series.insertField(e,t,r,n):this.markRoot.discrete.insertField(t,r,n))&&this.fieldLookup.set(i.id,i)},Encoder.prototype.addFieldToAllSeries=function(e,t,r){if(!this.markRoot.series.fields.length)throw new Error("Must have series to add a field to a mark channel");for(var n=0,i=this.markRoot.series.fields;n<i.length;n++){var o=i[n],a=e();this.addFieldToSeries(o.field,a,t)}},Encoder.prototype.toggleDualAxis=function(e){var t=this.getField(e);if(t)if(t.parent===this.x2||t.parent===this.y2){if(t.parent===this.x2){this.resetX();var r=t.serialize(),n=r.x,i=a(r,["x"]),o=new h(i,this.column),s=this.column.findIndexById(n);this.column.insertField(o,s+1)}else{this.resetY();var u=t.serialize(),l=u.y;i=a(u,["y"]),o=new h(i,this.row),s=this.row.findIndexById(l);this.row.insertField(o,s+1)}t.detach(),this.autoEncode()}else{var c=t.parent===this.y?"y":"x",f="x"===c?this.x:this.y,d="x"===c?this.x2:this.y2,y=f.findLeftSibling(t.id);if(!y||!y.isContinuous)throw Error("Field has no left sibling with a continuous variable type.");t.detach();var g=new p(t.serialize(),c,y,d);d.insertField(g),this.fieldLookup.set(g.id,g)}},Encoder.prototype.hasField=function(e){return this.fieldLookup.has(e)},Encoder.prototype.removeField=function(e){var t=this.getField(e);if(t){if(this.isInRowColumn(t)){this.resetX(),this.resetY();var r=this.x2.removeFieldByX(e);if(r){r.x;var n=a(r,["x"]),i=new h(n,this.column);this.column.insertField(i,t.id),this.fieldLookup.set(i.id,i)}else{var o=this.y2.removeFieldByY(e);if(o){o.y,n=a(o,["y"]),i=new h(n,this.row);this.row.insertField(i,t.id),this.fieldLookup.set(i.id,i)}}}t.detach(),this.fieldLookup.delete(e);var s=this.markRoot.series.removeField(t.id);return s&&(this.markRoot.series.fields.length||(this.markRoot.discrete=new C(s.marks.serialize(),this.fieldLookup))),Array.from(this.fieldLookup.values()).some(function(e){return e.formula===t.formula})||this.sort.removeBySource(t.formula),t.serialize()}},Encoder.prototype.swapRowsColumns=function(){this.resetX(),this.resetY();var e=this.row.serialize(),t=this.column.serialize();this.row=new F(t,this.fieldLookup),this.column=new F(e,this.fieldLookup),"*"!==this.markRoot.channel&&(this.markRoot.channel="y"===this.markRoot.channel?"x":"y")},Encoder.prototype.updateField=function(e){var t=this.getField(e.id);if(!t)throw new Error("Field not found");if(e.formula&&((e.variable&&e.variable.type===u.VariableType.CONTINUOUS||1===Array.from(this.fieldLookup.values()).filter(function(e){return e.formula===t.formula&&e.variable.type===u.VariableType.DISCRETE}).length)&&this.sort.removeBySource(t.formula),t.formula=e.formula),e.variable&&(t.variable.level=e.variable.level,t.variable.type!==e.variable.type&&(t.variable.type=e.variable.type,t.parent instanceof F&&[this.row,this.y,this.y2,this.column,this.x,this.x2].indexOf(t.parent)>=0))){this.resetX(),this.resetY(),t.isDiscrete&&this.markRoot.series.removeField(t.id);var r=t.parent,n=t.parent.fields.indexOf(t);t.detach(),r.insertField(t,n),this.autoEncode()}if(e.channel){var i=this.removeField(e.id);if(i){switch(e.channel){case"row":case"column":case"value":this.addField(i,e.channel,e.at);break;case"filter":break;default:if("*"!==e.series)this.markRoot.series.findById(e.series).marks.insertEncodedField(t,e.channel,e.at);else this.markRoot.discrete.insertEncodedField(t,e.channel,e.at)}this.autoEncode()}}},Encoder.prototype.updateMarkType=function(e,t,r){if(r)if("*"!==r){var n=this.markRoot.series.findById(r);n&&(n.marks.type.value=e,n.marks.type.automatic=t)}else this.markRoot.discrete.type.value=e,this.markRoot.discrete.type.automatic=t;else this.markRoot.series.fields.forEach(function(r){r.marks.type.value=e,r.marks.type.automatic=t})},Encoder.prototype.updateMarkSize=function(e,t){if(t){var r=this.getMark(t);r&&(r.size.value=e.value)}else this.markRoot.discrete.size.value=e.value,this.markRoot.series.fields.forEach(function(t){t.marks.size.value=e.value})},Encoder.prototype.updateMarkColor=function(e,t){if(t){var r=this.getMark(t);r&&(r.color.value=e.value,r.color.transparency=e.transparency)}else this.markRoot.discrete.color.value=e.value,this.markRoot.discrete.color.transparency=e.transparency,this.markRoot.series.fields.forEach(function(t){t.marks.color.value=e.value,t.marks.color.transparency=e.transparency})},Encoder.prototype.updateMarkLabel=function(e,t){if(t)this.getMark(t)},Encoder.prototype.getMarksRollup=function(){return this.markRoot.getMarksSummary()},Encoder.prototype.addSort=function(e,t,r,n){void 0===r&&(r=!1),this.sort.addSort(e,t,r,n)},Encoder.prototype.removeSort=function(e){this.sort.removeBySource(e)},Encoder.prototype.clearSorts=function(){this.sort.clear()},Encoder.prototype.removeFilter=function(e){this.filter.removeBySource(e)},Encoder.prototype.clearFilters=function(){this.filter.clear()},Encoder.prototype.autoEncode=function(){for(var e=this.x.length?this.x.length:0,t=this.column.length-1;t>=0;t--){var r=this.column.fields[t];if(r.isDiscrete){e<=0&&(this.column.fields.pop(),this.x.fields.push(r),r.parent=this.x);break}this.column.fields.pop(),this.x.fields.unshift(r),r.parent=this.x,e++}e=this.y.length;for(t=this.row.length-1;t>=0;t--){var n=this.row.fields[t];if(n.isDiscrete){e<=0&&(this.row.fields.pop(),this.y.fields.push(n),n.parent=this.y);break}this.row.fields.pop(),this.y.fields.unshift(n),n.parent=this.y,e++}this.refreshSeries();var i,o=this.y.fields.some(function(e){return e.isContinuous}),a=this.x.fields.some(function(e){return e.isContinuous});if(i=a&&o?s.MarkType.Shape:a||o?s.MarkType.Bar:s.MarkType.Text,this.markRoot.series.fields.length)for(var u=0,l=this.markRoot.series.fields;u<l.length;u++){var c=l[u];(null==c.marks.type.value||c.marks.type.automatic)&&this.updateMarkType(i,!0,c.field)}else(null==this.markRoot.discrete.type.value||this.markRoot.discrete.type.automatic)&&this.updateMarkType(i,!0,"*")},Encoder.prototype.serialize=function(){var e=this.row.serialize(),t=this.column.serialize(),r=this.x.serialize(),n=this.y.serialize(),i=this.x2.serialize(),a=this.y2.serialize(),s=this.value.serialize(),u=this.markRoot.serialize();return o({row:e,column:t,x:r,y:n,x2:i,y2:a,value:s,marks:u},this.encoding.options&&Object.keys(this.encoding.options).length?{options:this.encoding.options}:{},{sorts:this.sort.serialize(),filter:this.filter.serialize()})},Encoder.prototype.cloneMarks=function(e,t,r){var n=this.markRoot.series.newSeries(e,this.fieldLookup);"multiple"!==t.type?(n.marks.type.value=t.type,n.marks.type.automatic=t.automatic):(n.marks.type.value=null,n.marks.type.automatic=!1),t.angle.forEach(function(e){n.marks.angle.insertEncodedField(r.angle.values.findById(e.id).clone(n.marks.angle.values))}),t.color.forEach(function(e){n.marks.color.insertEncodedField(r.color.values.findById(e.id).clone(n.marks.color.values))}),t.detail.forEach(function(e){n.marks.detail.insertEncodedField(r.detail.values.findById(e.id).clone(n.marks.detail.values))}),t.label.forEach(function(e){n.marks.label.insertEncodedField(r.label.values.findById(e.id).clone(n.marks.label.values))}),t.size.forEach(function(e){n.marks.size.insertEncodedField(r.size.values.findById(e.id).clone(n.marks.size.values))}),t.text.forEach(function(e){n.marks.text.insertEncodedField(r.text.values.findById(e.id).clone(n.marks.text.values))}),t.tooltip.forEach(function(e){n.marks.tooltip.insertEncodedField(r.tooltip.values.findById(e.id).clone(n.marks.tooltip.values))})},Encoder.prototype.refreshSeries=function(){var e,t,r=this.x.fields.filter(function(e){return e.isContinuous}).concat(this.x2.fields),n=this.y.fields.filter(function(e){return e.isContinuous}).concat(this.y2.fields),i=r.filter(function(e){return!e.isDimension}),o=n.filter(function(e){return!e.isDimension});if((r.length||n.length)&&this.markRoot.series.hasPlaceholder&&(e=this.markRoot.getMarksSummary(),t=this.markRoot.discrete),1===this.markRoot.series.fields.length&&(r.length>1||n.length>1||"x"===this.markRoot.channel&&(!r.length&&n.length||!i.length&&o.length)||"y"===this.markRoot.channel&&(!n.length&&r.length||!o.length&&i.length))&&(e=this.markRoot.getMarksSummary(),t=this.markRoot.series.removeField(this.markRoot.series.fields[0].field).marks),!this.markRoot.series.fields.length)if(r.length>n.length||i.length>o.length){this.markRoot.channel="x";for(var a=0,s=r;a<s.length;a++){var u=s[a];e?this.cloneMarks(u.id,e,t):this.markRoot.series.newSeries(u.id,this.fieldLookup)}}else if(n.length){this.markRoot.channel="y";for(var l=0,c=n;l<c.length;l++){var f=c[l];e?this.cloneMarks(f.id,e,t):this.markRoot.series.newSeries(f.id,this.fieldLookup)}}else this.markRoot.channel="*";if("*"!==this.markRoot.channel){var h="y"===this.markRoot.channel?this.y:this.x,p=this.markRoot.series.fields;h.fields.forEach(function(e,t){if(p[t].field!==e.id)for(var r=t;r<p.length;r++)if(p[r].field===e.id){var n=p[t];p[t]=p[r],p[r]=n;break}})}},Encoder.prototype.isInRowColumn=function(e){return e.parent instanceof F&&[this.row,this.column,this.x,this.y,this.x2,this.y2].indexOf(e.parent)>=0},Encoder.prototype.getField=function(e){return this.fieldLookup.get(e)||this.filter.findById(e)},Encoder.prototype.getMark=function(e){if(e){var t=this.markRoot.series.findById(e);if(t)return t.marks}return this.markRoot.discrete},Encoder.prototype.resetY=function(){for(var e=0,t=this.y.fields;e<t.length;e++){var r=t[e];this.row.insertField(r)}this.y.fields.length=0},Encoder.prototype.resetX=function(){for(var e=0,t=this.x.fields;e<t.length;e++){var r=t[e];this.column.insertField(r)}this.x.fields.length=0},Encoder}();t.Encoder=U},"/E++":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("ITh/"),o=r("q6Po"),a=r("vkb2"),s=r("dVJf"),u=r("U0ap"),l=r("KBwi"),c=r("scAW"),f=r("pSKN"),h=r("DRWY"),p=r("AoWu"),d=r("siyM"),y=function(e){function FromObservable(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(FromObservable,e),FromObservable.create=function(e,t){if(null!=e){if("function"==typeof e[d.observable])return e instanceof h.Observable&&!t?e:new FromObservable(e,t);if(i.isArray(e))return new l.ArrayObservable(e,t);if(a.isPromise(e))return new s.PromiseObservable(e,t);if("function"==typeof e[f.iterator]||"string"==typeof e)return new u.IteratorObservable(e,t);if(o.isArrayLike(e))return new c.ArrayLikeObservable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},FromObservable.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[d.observable]().subscribe(e):t[d.observable]().subscribe(new p.ObserveOnSubscriber(e,r,0))},FromObservable}(h.Observable);t.FromObservable=y},"/Fvp":function(e,t,r){"use strict";var n=r("A2is");t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""))?e.split("&").reduce(function(e,t){var r=t.replace(/\+/g," ").split("="),n=r.shift(),i=r.length>0?r.join("="):void 0;return n=decodeURIComponent(n),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i,e},{}):{}},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var r=e[t];return void 0===r?"":null===r?t:Array.isArray(r)?r.sort().map(function(e){return n(t)+"="+n(e)}).join("&"):n(t)+"="+n(r)}).filter(function(e){return e.length>0}).join("&"):""}},"/RbK":function(e,t,r){"use strict";var n=r("DRWY"),i=r("pXwY");n.Observable.prototype.let=i.letProto,n.Observable.prototype.letBind=i.letProto},"/TTe":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("HDAs"),a=r("LGff"),s=function(){function Scale(e,t){this._type=e,this._name=t}return Object.defineProperty(Scale.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Scale.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Scale.prototype.compile=function(){var e=new Object;e.type=this.getType(),e.name=this.getName();var t=this.getDomain();null!=t&&(e.domain=t);var r=this.getDomainMax();null!=r&&(e.domainMax=r);var n=this.getDomainMin();null!=n&&(e.domainMin=n);var i=this.getPoints();i&&(e.points=i,e.padding=this.getPadding());var o=this.getRange();null!=o&&(e.range=o);var a=this.getRangeMax();null!=a&&(e.rangeMax=a);var s=this.getRangeMin();null!=s&&(e.rangeMin=s);var u=this.getReverse();null!=u&&(e.reverse=u);var l=this.getSort();return null!=l&&(e.sort=l),e},Scale.prototype.getType=function(){switch(this.type){case a.ScaleType.LINEAR:return"linear";case a.ScaleType.ORDINAL:return"ordinal"}},Scale.prototype.getName=function(){return this.name},Scale.prototype.getDomain=function(){return null},Scale.prototype.getDomainMax=function(){return null},Scale.prototype.getDomainMin=function(){return null},Scale.prototype.getPoints=function(){return!1},Scale.prototype.getPadding=function(){return 1},Scale.prototype.getRange=function(){return null},Scale.prototype.getRangeMax=function(){return null},Scale.prototype.getRangeMin=function(){return null},Scale.prototype.getReverse=function(){return null},Scale.prototype.getSort=function(){return null},Scale}();t.Scale=s;var u=function(e){function ContinuousX(t,r,n,i,o){var s=e.call(this,a.ScaleType.LINEAR,t)||this;return s._data=r,s._field=i,s._domain=n,s._range=o,s}return i(ContinuousX,e),Object.defineProperty(ContinuousX.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousX.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousX.prototype,"domain",{get:function(){return this._domain},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousX.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),ContinuousX.prototype.getDomainMin=function(){return this.domain.min},ContinuousX.prototype.getDomainMax=function(){return this.domain.max},ContinuousX.prototype.getRange=function(){return null==this.range?"width":[this.range.min||0,this.range.max||0]},ContinuousX}(s);t.ContinuousX=u;var l=function(e){function ContinuousY(t,r,n,i){var o=e.call(this,a.ScaleType.LINEAR,t)||this;return o._data=r,o._field=i,o._domain=n,o}return i(ContinuousY,e),Object.defineProperty(ContinuousY.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousY.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousY.prototype,"domain",{get:function(){return this._domain},enumerable:!0,configurable:!0}),ContinuousY.prototype.getDomainMin=function(){return this.domain.min},ContinuousY.prototype.getDomainMax=function(){return this.domain.max},ContinuousY.prototype.getRange=function(){return"height"},ContinuousY}(s);t.ContinuousY=l;var c=function(e){function ContinuousColor(t,r,n){var i=e.call(this,a.ScaleType.LINEAR,t)||this;return i._data=r,i._field=n,i}return i(ContinuousColor,e),Object.defineProperty(ContinuousColor.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousColor.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),ContinuousColor.prototype.getDomain=function(){return null==this.field?["*"]:{data:this.data.name,field:this.field.alias}},ContinuousColor.prototype.getRange=function(){return o.Palettes.TableauBlue},ContinuousColor}(s);t.ContinuousColor=c;var f=function(e){function ContinuousSize(t,r,n,i){var o=e.call(this,a.ScaleType.LINEAR,t)||this;return o._data=r,o._range=n,o._field=i,o}return i(ContinuousSize,e),Object.defineProperty(ContinuousSize.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousSize.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousSize.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),ContinuousSize.prototype.getDomain=function(){return null==this.field?["*"]:{data:this.data.name,field:this.field.alias}},ContinuousSize.prototype.getRange=function(){var e=this.range.min,t=Math.max(this.range.max,e);return null==this.field?[t]:[e,t]},ContinuousSize}(s);t.ContinuousSize=f;var h=function(e){function DiscreteX(t,r,n,i){var o=e.call(this,a.ScaleType.ORDINAL,t)||this;return o._data=r,o._dField=n,o._rField=i,o}return i(DiscreteX,e),Object.defineProperty(DiscreteX.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteX.prototype,"dField",{get:function(){return this._dField},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteX.prototype,"rField",{get:function(){return this._rField},enumerable:!0,configurable:!0}),DiscreteX.prototype.getDomain=function(){return{data:this.data.name,field:this.dField}},DiscreteX.prototype.getRange=function(){return{data:this.data.name,field:this.rField}},DiscreteX}(s);t.DiscreteX=h;var p=function(e){function DiscreteY(t,r,n,i){var o=e.call(this,a.ScaleType.ORDINAL,t)||this;return o._data=r,o._dField=n,o._rField=i,o}return i(DiscreteY,e),Object.defineProperty(DiscreteY.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteY.prototype,"dField",{get:function(){return this._dField},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteY.prototype,"rField",{get:function(){return this._rField},enumerable:!0,configurable:!0}),DiscreteY.prototype.getDomain=function(){return{data:this.data.name,field:this.dField}},DiscreteY.prototype.getRange=function(){return{data:this.data.name,field:this.rField}},DiscreteY}(s);t.DiscreteY=p;var d=function(e){function DiscreteColor(t,r,n){var i=e.call(this,a.ScaleType.ORDINAL,t)||this;return i._data=r,i._field=n,i}return i(DiscreteColor,e),Object.defineProperty(DiscreteColor.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteColor.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),DiscreteColor.prototype.getDomain=function(){return null==this.field?["*"]:{data:this.data.name,field:this.field.alias}},DiscreteColor.prototype.getRange=function(){return o.Palettes.Tableau10},DiscreteColor}(s);t.DiscreteColor=d;var y=function(e){function DiscreteSize(t,r,n,i){var o=e.call(this,a.ScaleType.ORDINAL,t)||this;return o._data=r,o._range=n,o._field=i,o}return i(DiscreteSize,e),Object.defineProperty(DiscreteSize.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteSize.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteSize.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),DiscreteSize.prototype.getDomain=function(){return null==this.field?["*"]:{data:this.data.name,field:this.field.alias}},DiscreteSize.prototype.getRange=function(){var e=this.range.min,t=Math.max(this.range.max,e);return null==this.field?[t]:[e,t]},DiscreteSize}(s);t.DiscreteSize=y},"/UoH":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FJ+F"),i=r("+J24"),o=r("cFrJ"),a=r("/YJ/"),s=function(){function Alignment(){this._direction=n.Direction.AUTO,this._horizontal=i.Horizontal.AUTO,this._vertical=o.Vertical.AUTO,this._wrap=a.Wrap.AUTO}return Object.defineProperty(Alignment.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(Alignment.prototype,"horizontal",{get:function(){return this._horizontal},set:function(e){this._horizontal=e},enumerable:!0,configurable:!0}),Object.defineProperty(Alignment.prototype,"vertical",{get:function(){return this._vertical},set:function(e){this._vertical=e},enumerable:!0,configurable:!0}),Object.defineProperty(Alignment.prototype,"wrap",{get:function(){return this._wrap},set:function(e){this._wrap=e},enumerable:!0,configurable:!0}),Alignment}();t.Alignment=s},"/VWl":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function LBorder(){return null!==e&&e.apply(this,arguments)||this}return i(LBorder,e),LBorder.prototype.getProperties=function(){var t=e.prototype.getProperties.call(this);return t.enter.x={value:0},t.enter.y={value:.5},t.enter.y2={field:{group:"height"}},t},LBorder}(r("sDUs").Border);t.LBorder=o},"/YJ/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AUTO="AUTO",e.ON="ON",e.OFF="OFF"}(t.Wrap||(t.Wrap={}))},"/YdO":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){!function(e){e.Identifier="Identifier",e.AccessIdentifier="AccessIdentifier",e.NullLiteral="NullLiteral",e.BooleanLiteral="BooleanLiteral",e.NumberLiteral="NumberLiteral",e.HexLiteral="HexLiteral",e.StringLiteral="StringLiteral",e.RegExpLiteral="RegExpLiteral",e.DateLiteral="DateLiteral",e.UnaryExpression="UnaryExpression",e.BinaryExpression="BinaryExpression",e.LogicalExpression="LogicalExpression",e.AccessExpression="AccessExpression",e.CaseExpression="CaseExpression",e.CaseWhen="CaseWhen",e.CaseElse="CaseElse",e.CallExpression="CallExpression"}(e.Type||(e.Type={})),e.isAccess=function(t){return t.type===e.Type.AccessIdentifier||t.type===e.Type.AccessExpression}}(t.Node||(t.Node={}))},"/aKK":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function VBar(t,r){var n=e.call(this,a.MarkType.RECT)||this;return n._table=t,n._marks=r,n._y={scale:r.yScaleName,field:"layout_start"},n._y2={scale:r.yScaleName,field:"layout_end"},n._xc={field:"ccols.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n}return i(VBar,e),Object.defineProperty(VBar.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(VBar.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(VBar.prototype,"xc",{get:function(){return this._xc},enumerable:!0,configurable:!0}),Object.defineProperty(VBar.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(VBar.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),VBar.prototype.getProperties=function(){return{enter:{y:this.y,y2:this.y2,xc:this.xc,fill:this.color,width:this.size}}},VBar}(o.Mark);t.VBar=s},"/dVp":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("CKSt"),i=r("9ER9"),o=function(){function PivotResult(e){this._root=new i.RootNode,this._base=new n.ResultSet,this._layers=new Map;for(var t=0,r=Array.from(e.layers);t<r.length;t++)for(var o=r[t],a=(o[0],0),s=o[1];a<s.length;a++){var u=s[a];this.layers.set(u.name,new n.ResultSet)}}return Object.defineProperty(PivotResult.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(PivotResult.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(PivotResult.prototype,"base",{get:function(){return this._base},enumerable:!0,configurable:!0}),Object.defineProperty(PivotResult.prototype,"layers",{get:function(){return this._layers},enumerable:!0,configurable:!0}),PivotResult.prototype.getResultSet=function(e){return null==e?this.base:this.layers.get(e)},PivotResult.prototype.addBaseRow=function(e){this.base.add(e)},PivotResult.prototype.addLayerRow=function(e,t){this.layers.get(e).add(t)},PivotResult}();t.PivotResult=o},"/f3m":function(e,t,r){e.exports=function(e){return function(t,i,o){var a=r("S7SM");(o=o&&a(o)||{}).hosts=o.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof t&&void 0!==t||(t="",i="",o._allowEmptyCredentials=!0);var s=e(t,i,o),u=s.initIndex("places");return u.search=n("query","/1/places/query"),u.getObject=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/places/"+encodeURIComponent(e),hostType:"read",callback:t})},u}};var n=r("Yu17")},"/kIf":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.skipUntil=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function SkipUntilOperator(e){this.notifier=e}return SkipUntilOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.notifier))},SkipUntilOperator}(),s=function(e){function SkipUntilSubscriber(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,r))}return n(SkipUntilSubscriber,e),SkipUntilSubscriber.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},SkipUntilSubscriber.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},SkipUntilSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0},SkipUntilSubscriber.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},SkipUntilSubscriber}(i.OuterSubscriber)},"/sFx":function(e,t,r){"use strict";var n=function(){return function(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}}();t.SubscriptionLog=n},"0Ecd":function(e,t,r){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function createStore(e,t,r){"function"==typeof t&&void 0===r&&(r=t,t=void 0);if(void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(createStore)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var n=e;var i=t;var s=[];var u=s;var l=!1;function ensureCanMutateNextListeners(){u===s&&(u=s.slice())}function dispatch(e){if(!(0,o.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,i=n(i,e)}finally{l=!1}for(var t=s=u,r=0;r<t.length;r++)t[r]();return e}dispatch({type:a.INIT});return{dispatch:dispatch,subscribe:function(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return ensureCanMutateNextListeners(),u.push(e),function(){if(t){t=!1,ensureCanMutateNextListeners();var r=u.indexOf(e);u.splice(r,1)}}},getState:function(){return i},replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");n=e,dispatch({type:a.INIT})}}};var n,i=r("ES04"),o=(n=i)&&n.__esModule?n:{default:n};var a=t.ActionTypes={INIT:"@@redux/INIT"}},"0KBP":function(e,t,r){"use strict";var n=r("DRWY"),i=r("F013");n.Observable.prototype.publishLast=i.publishLast},"0MEo":function(e,t,r){"use strict";var n=function(){function Scheduler(e,t){void 0===t&&(t=Scheduler.now),this.SchedulerAction=e,this.now=t}return Scheduler.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},Scheduler.now=Date.now?Date.now:function(){return+new Date},Scheduler}();t.Scheduler=n},"0Qn/":function(e,t,r){"use strict";var n=r("bIfK");t.audit=n.audit;var i=r("1OJT");t.auditTime=i.auditTime;var o=r("uELO");t.buffer=o.buffer;var a=r("8EwW");t.bufferCount=a.bufferCount;var s=r("ce5R");t.bufferTime=s.bufferTime;var u=r("C/wd");t.bufferToggle=u.bufferToggle;var l=r("dBN9");t.bufferWhen=l.bufferWhen;var c=r("NZZi");t.catchError=c.catchError;var f=r("OVOA");t.combineAll=f.combineAll;var h=r("RzX6");t.combineLatest=h.combineLatest;var p=r("tEFf");t.concat=p.concat;var d=r("I/Nv");t.concatAll=d.concatAll;var y=r("8zNw");t.concatMap=y.concatMap;var g=r("IxkH");t.concatMapTo=g.concatMapTo;var m=r("ZRXU");t.count=m.count;var v=r("oIyB");t.debounce=v.debounce;var b=r("mjDY");t.debounceTime=b.debounceTime;var _=r("SFto");t.defaultIfEmpty=_.defaultIfEmpty;var w=r("b/Yl");t.delay=w.delay;var S=r("obMk");t.delayWhen=S.delayWhen;var E=r("4GoX");t.dematerialize=E.dematerialize;var C=r("86ZJ");t.distinct=C.distinct;var O=r("ZUnZ");t.distinctUntilChanged=O.distinctUntilChanged;var T=r("TJmw");t.distinctUntilKeyChanged=T.distinctUntilKeyChanged;var A=r("gNkM");t.elementAt=A.elementAt;var x=r("RltC");t.every=x.every;var k=r("OYnI");t.exhaust=k.exhaust;var R=r("BBD6");t.exhaustMap=R.exhaustMap;var P=r("JuPq");t.expand=P.expand;var D=r("pXYK");t.filter=D.filter;var M=r("1wjR");t.finalize=M.finalize;var F=r("mBMa");t.find=F.find;var N=r("ii0K");t.findIndex=N.findIndex;var I=r("wZEL");t.first=I.first;var j=r("lLuG");t.groupBy=j.groupBy;var L=r("b4iQ");t.ignoreElements=L.ignoreElements;var B=r("4CgL");t.isEmpty=B.isEmpty;var H=r("k5n7");t.last=H.last;var U=r("3L1M");t.map=U.map;var q=r("Wslh");t.mapTo=q.mapTo;var V=r("o0fr");t.materialize=V.materialize;var W=r("g1nX");t.max=W.max;var z=r("iZ9e");t.merge=z.merge;var Y=r("ngUQ");t.mergeAll=Y.mergeAll;var $=r("3IPk");t.mergeMap=$.mergeMap;var G=r("3IPk");t.flatMap=G.mergeMap;var K=r("Ns7t");t.mergeMapTo=K.mergeMapTo;var X=r("vMJw");t.mergeScan=X.mergeScan;var J=r("dXmF");t.min=J.min;var Q=r("A9Q0");t.multicast=Q.multicast;var Z=r("AoWu");t.observeOn=Z.observeOn;var ee=r("+HTF");t.onErrorResumeNext=ee.onErrorResumeNext;var te=r("Q8I2");t.pairwise=te.pairwise;var re=r("D4xe");t.partition=re.partition;var ne=r("qXvT");t.pluck=ne.pluck;var ie=r("mmJl");t.publish=ie.publish;var oe=r("R5wN");t.publishBehavior=oe.publishBehavior;var ae=r("uaEH");t.publishLast=ae.publishLast;var se=r("PCCV");t.publishReplay=se.publishReplay;var ue=r("5FP+");t.race=ue.race;var le=r("yY7C");t.reduce=le.reduce;var ce=r("L6ih");t.repeat=ce.repeat;var fe=r("Y51t");t.repeatWhen=fe.repeatWhen;var he=r("30J0");t.retry=he.retry;var pe=r("i6N7");t.retryWhen=pe.retryWhen;var de=r("y3NY");t.refCount=de.refCount;var ye=r("NHYo");t.sample=ye.sample;var ge=r("Us1s");t.sampleTime=ge.sampleTime;var me=r("qw2Y");t.scan=me.scan;var ve=r("MoZO");t.sequenceEqual=ve.sequenceEqual;var be=r("oIyb");t.share=be.share;var _e=r("6Tub");t.shareReplay=_e.shareReplay;var we=r("syON");t.single=we.single;var Se=r("ENzA");t.skip=Se.skip;var Ee=r("O7vc");t.skipLast=Ee.skipLast;var Ce=r("/kIf");t.skipUntil=Ce.skipUntil;var Oe=r("3op6");t.skipWhile=Oe.skipWhile;var Te=r("f//e");t.startWith=Te.startWith;var Ae=r("hx+Y");t.switchAll=Ae.switchAll;var xe=r("LM6W");t.switchMap=xe.switchMap;var ke=r("9H8a");t.switchMapTo=ke.switchMapTo;var Re=r("RI1+");t.take=Re.take;var Pe=r("dFqO");t.takeLast=Pe.takeLast;var De=r("724K");t.takeUntil=De.takeUntil;var Me=r("gi6a");t.takeWhile=Me.takeWhile;var Fe=r("nvzG");t.tap=Fe.tap;var Ne=r("f6vn");t.throttle=Ne.throttle;var Ie=r("0TL3");t.throttleTime=Ie.throttleTime;var je=r("KBVm");t.timeInterval=je.timeInterval;var Le=r("yu95");t.timeout=Le.timeout;var Be=r("IUQD");t.timeoutWith=Be.timeoutWith;var He=r("Wtcn");t.timestamp=He.timestamp;var Ue=r("zBR+");t.toArray=Ue.toArray;var qe=r("JfTI");t.window=qe.window;var Ve=r("YZC0");t.windowCount=Ve.windowCount;var We=r("oqNA");t.windowTime=We.windowTime;var ze=r("YSI4");t.windowToggle=ze.windowToggle;var Ye=r("wSeB");t.windowWhen=Ye.windowWhen;var $e=r("+GNe");t.withLatestFrom=$e.withLatestFrom;var Ge=r("AeEG");t.zip=Ge.zip;var Ke=r("v4/0");t.zipAll=Ke.zipAll},"0TL3":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("CsEb"),a=r("f6vn");t.throttleTime=function(e,t,r){return void 0===t&&(t=o.async),void 0===r&&(r=a.defaultThrottleConfig),function(n){return n.lift(new s(e,t,r.leading,r.trailing))}};var s=function(){function ThrottleTimeOperator(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return ThrottleTimeOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},ThrottleTimeOperator}(),u=function(e){function ThrottleTimeSubscriber(t,r,n,i,o){e.call(this,t),this.duration=r,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return n(ThrottleTimeSubscriber,e),ThrottleTimeSubscriber.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},ThrottleTimeSubscriber.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},ThrottleTimeSubscriber}(i.Subscriber);function dispatchNext(e){e.subscriber.clearThrottle()}},"0trz":function(e,t,r){"use strict";var n=r("DRWY"),i=r("ZR2D");n.Observable.ajax=i.ajax},"0yNw":function(e,t,r){"use strict";var n=function(){function MapPolyfill(){this.size=0,this._values=[],this._keys=[]}return MapPolyfill.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},MapPolyfill.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},MapPolyfill.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},MapPolyfill.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},MapPolyfill.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},MapPolyfill}();t.MapPolyfill=n},"1+O5":function(e,t,r){"use strict";var n=r("CsEb"),i=r("IUQD");t.timeoutWith=function(e,t,r){return void 0===r&&(r=n.async),i.timeoutWith(e,t,r)(this)}},"11u+":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("X2xY"),a=r("BFbo"),s=function(e){function TArea(t,r){var n=e.call(this,a.MarkType.AREA)||this;return n._table=t,n._marks=r,n._y={field:"crows.layout_mid",offset:.5},n._y2={field:"crows.layout_mid",offset:.5},n._x={field:"ccols.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},n}return i(TArea,e),Object.defineProperty(TArea.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(TArea.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(TArea.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(TArea.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(TArea.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),TArea.prototype.getProperties=function(){return{enter:{y:this.y,y2:this.y2,x:this.x,fill:this.color,stroke:this.color,strokeCap:this.strokeCap,strokeWidth:{value:1},strokeOpacity:{value:1},opacity:{value:.65}}}},TArea}(o.MarkFrom);t.TArea=s},"13uw":function(e,t,r){"use strict";var n=r("DRWY"),i=r("JkfO");n.Observable.prototype.expand=i.expand},"14Lv":function(e,t,r){"use strict";var n=r("AoWu");t.observeOn=function(e,t){return void 0===t&&(t=0),n.observeOn(e,t)(this)}},"19QM":function(e,t,r){"use strict";var n=r("OVOA");t.combineAll=function(e){return n.combineAll(e)(this)}},"19lV":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("sTlA"),a=function(e){function DateFormula(t,r){var n=e.call(this,t,r)||this,i=t.root,o=i.arguments[0],a=i.arguments[1];return n._funcName=i.callee,n._datePart=o.value,n._fieldName=a.value,n}return i(DateFormula,e),DateFormula.Matches=function(e){if("CallExpression"!==e.root.type)return!1;var t=e.root;return-1!==["DATEPART","DATETRUNC"].indexOf(t.callee)&&(2===t.arguments.length&&("StringLiteral"===t.arguments[0].type&&"FieldLiteral"===t.arguments[1].type))},Object.defineProperty(DateFormula.prototype,"form",{get:function(){return o.FormType.DATEFUNC},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormula.prototype,"funcName",{get:function(){return this._funcName},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormula.prototype,"datePart",{get:function(){return this._datePart},enumerable:!0,configurable:!0}),Object.defineProperty(DateFormula.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),DateFormula}(o.Formula);t.DateFormula=a},"1C4T":function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},"1IBE":function(e,t,r){"use strict";var n,i=r("5UgM");function tryCatcher(){try{return n.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}t.tryCatch=function(e){return n=e,tryCatcher}},"1OJT":function(e,t,r){"use strict";var n=r("CsEb"),i=r("bIfK"),o=r("1PPK");t.auditTime=function(e,t){return void 0===t&&(t=n.async),i.audit(function(){return o.timer(e,t)})}},"1PPK":function(e,t,r){"use strict";var n=r("5X2t");t.timer=n.TimerObservable.create},"1VDi":function(e,t,r){"use strict";var n=r("MTDT");t.bindNodeCallback=n.BoundNodeCallbackObservable.create},"1iMb":function(e,t,r){"use strict";var n=r("DRWY"),i=r("+H9G");n.Observable.generate=i.generate},"1m4I":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("YRA8"),o=function(e){function AsapAction(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(AsapAction,e),AsapAction.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=i.Immediate.setImmediate(t.flush.bind(t,null))))},AsapAction.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(i.Immediate.clearImmediate(r),t.scheduled=void 0)},AsapAction}(r("Wvrh").AsyncAction);t.AsapAction=o},"1oUO":function(e,t,r){"use strict";var n=r("iZ9e"),i=r("gYGa");t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.merge.apply(void 0,e)(this)}},"1wSv":function(e,t,r){"use strict";var n=r("dFqO");t.takeLast=function(e){return n.takeLast(e)(this)}},"1wjR":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("I9Xa");t.finalize=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function FinallyOperator(e){this.callback=e}return FinallyOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.callback))},FinallyOperator}(),s=function(e){function FinallySubscriber(t,r){e.call(this,t),this.add(new o.Subscription(r))}return n(FinallySubscriber,e),FinallySubscriber}(i.Subscriber)},"1woP":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("k+FJ"),a=r("EIUo"),s=function(e){function DeferObservable(t){e.call(this),this.observableFactory=t}return n(DeferObservable,e),DeferObservable.create=function(e){return new DeferObservable(e)},DeferObservable.prototype._subscribe=function(e){return new u(e,this.observableFactory)},DeferObservable}(i.Observable);t.DeferObservable=s;var u=function(e){function DeferSubscriber(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return n(DeferSubscriber,e),DeferSubscriber.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},DeferSubscriber.prototype._callFactory=function(){var e=this.factory();e&&this.add(o.subscribeToResult(this,e))},DeferSubscriber}(a.OuterSubscriber)},"22it":function(e,t,r){"use strict";var n=r("DRWY"),i=r("1oUO");n.Observable.prototype.merge=i.merge},"2Ba+":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pkpF"),a=r("BDNn"),s=r("R1xi"),u=r("IKQk"),l=r("3NTU"),c=function(e){function VBody(t){var r=e.call(this,"body")||this;return r._table=t,r._gData=new Array,r._mData=new Array,r._gTiles=new Array,r._mTiles=new Array,r.buildGridTiles(t),r.buildMarkTiles(t),r}return i(VBody,e),Object.defineProperty(VBody.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(VBody.prototype,"gData",{get:function(){return this._gData},enumerable:!0,configurable:!0}),Object.defineProperty(VBody.prototype,"mData",{get:function(){return this._mData},enumerable:!0,configurable:!0}),Object.defineProperty(VBody.prototype,"gTiles",{get:function(){return this._gTiles},enumerable:!0,configurable:!0}),Object.defineProperty(VBody.prototype,"mTiles",{get:function(){return this._mTiles},enumerable:!0,configurable:!0}),VBody.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.gTiles;r<n.length;r++){var i=n[r];t.push(i.compile())}for(var o=0,a=this.mTiles;o<a.length;o++){var s=a[o];t.push(s.compile())}return t},VBody.prototype.getProperties=function(){return{enter:{x:{signal:"BodyX"},y:{signal:"BodyY"},width:{signal:"BodyWidth"},height:{signal:"BodyHeight"}}}},VBody.prototype.buildGridTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new a.VGData(e,n),o=new s.VGPane(e,n,i);this.gData.push(i),this.gTiles.push(o)}},VBody.prototype.buildMarkTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new u.VMData(e,n),o=new l.VMPane(e,i,n);this.mData.push(i),this.mTiles.push(o)}},VBody}(o.Group);t.VBody=c},"2HRn":function(e,t,r){"use strict";var n=r("DRWY"),i=r("JueX");n.Observable.prototype.skipUntil=i.skipUntil},"2Lz6":function(e,t,r){"use strict";var n=r("DRWY"),i=r("mO9N");n.Observable.prototype.scan=i.scan},"2T06":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("EYua"),a=r("zdYa"),s=r("sgHH"),u=r("7CtO"),l=r("IA4p"),c=r("hxYi"),f=r("yf0c"),h=r("yf0c"),p=r("yf0c"),d=r("yf0c"),y=r("yf0c"),g=r("yf0c"),m=function(e){function PTable(t){var r=e.call(this,t)||this;return r._marks=r.buildMarks(),r._top=new u.HTop(r),r._left=new l.VLeft(r),r._body=new c.PBody(r),r}return i(PTable,e),Object.defineProperty(PTable.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"topHeight",{get:function(){for(var e=0,t=0,r=this.columnFields;t<r.length;t++){r[t];e+=this.fit.getTopHeaderHeight()}return e},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"bottomHeight",{get:function(){var e=0;return this.xAxisCount>0&&(e+=this.fit.getBottomAxisHeight()),e},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"leftWidth",{get:function(){for(var e=0,t=0,r=this.rowFields;t<r.length;t++){r[t];e+=this.fit.getLeftHeaderWidth()}return this.yAxisCount>0&&(e+=this.fit.getLeftAxisWidth()),e},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"rightWidth",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"cellWidth",{get:function(){return this.fit.getCellWidth(100)},enumerable:!0,configurable:!0}),Object.defineProperty(PTable.prototype,"cellHeight",{get:function(){return this.fit.getCellHeight(100)},enumerable:!0,configurable:!0}),PTable.prototype.compute=function(){e.prototype.compute.call(this);for(var t=0,r=this.marks;t<r.length;t++){var n=r[t];this.sheet.addData(n.query),this.sheet.addData(n.cells)}for(var i=0,o=this.body.gData;i<o.length;i++){var a=o[i];this.sheet.addData(a)}for(var s=0,u=this.body.mData;s<u.length;s++){a=u[s];this.sheet.addData(a)}for(var l=0,c=this.left.stacks;l<c.length;l++){var f=c[l];this.sheet.addData(f)}for(var h=0,p=this.top.stacks;h<p.length;h++){f=p[h];this.sheet.addData(f)}this.addFixedSignals(),this.addTopSignals(),this.addLeftSignals(),this.addBottomSignals(),this.addBodySignals()},PTable.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.body.compile()),this.xAxisCount>0&&(t.push(this.top.compile()),t.push(this.top.bottom.compile())),this.yAxisCount>0&&t.push(this.left.compile()),t},PTable.prototype.buildMarks=function(){return"X"===this.encoding.channel?this.buildXSeriesMarks():"Y"===this.encoding.channel?this.buildYSeriesMarks():void 0},PTable.prototype.buildXSeriesMarks=function(){return this.buildSeriesMarks(this.xAxisFields,this.yAxisFields,o.Channel.X)},PTable.prototype.buildYSeriesMarks=function(){return this.buildSeriesMarks(this.yAxisFields,this.xAxisFields,o.Channel.Y)},PTable.prototype.buildSeriesMarks=function(e,t,r){for(var n=new Array,i=0,o=e;i<o.length;i++)for(var a=o[i],s=this.encoding.getMarks(a),u=0,l=t;u<l.length;u++){var c=l[u];n.push(this.buildMark(a,c,s,r))}for(var f=0,h=n;f<h.length;f++){s=h[f];for(var p=0,d=n;p<d.length;p++){var y=d[p],g=void 0;"X"===r?g=s.yAlias===y.yAlias:"Y"===r&&(g=s.xAlias===y.xAlias),g&&s.addMarks(y)}for(var m=0,v=t;m<v.length;m++){c=v[m];s.addField(c)}}return n},PTable.prototype.buildMark=function(e,t,r,n){switch(r.type){case"bar":return new h.PMBars(this,e,t,r,n);case"line":return new d.PMLine(this,e,t,r,n);case"area":return new f.PMArea(this,e,t,r,n);case"circle":return new p.PMCircle(this,e,t,r,n);case"square":return new g.PMSquare(this,e,t,r,n);case"shape":return new y.PMShape(this,e,t,r,n)}},PTable.prototype.addFixedSignals=function(){this.sheet.addSignal(new a.Signal("CellWidth",this.cellWidth)),this.sheet.addSignal(new a.Signal("CellHeight",this.cellHeight)),this.sheet.addSignal(new a.Signal("TopHeight",this.top.getHeight())),this.sheet.addSignal(new a.Signal("LeftWidth",this.left.getWidth()))},PTable.prototype.addTopSignals=function(){this.sheet.addSignal(new a.Signal("TopX",{expr:"LeftWidth"})),this.sheet.addSignal(new a.Signal("TopY",{expr:"0.5"})),this.sheet.addSignal(new a.Signal("TopWidth",{expr:"CellWidth * CCellCount"}))},PTable.prototype.addLeftSignals=function(){this.sheet.addSignal(new a.Signal("LeftY",{expr:"TopHeight"})),this.sheet.addSignal(new a.Signal("LeftX",{expr:"0.5"})),this.sheet.addSignal(new a.Signal("LeftHeight",{expr:"CellHeight * RCellCount"}))},PTable.prototype.addBottomSignals=function(){this.sheet.addSignal(new a.Signal("BottomX",{expr:"LeftWidth"})),this.sheet.addSignal(new a.Signal("BottomY",{expr:"TopHeight + LeftHeight"})),this.sheet.addSignal(new a.Signal("BottomWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new a.Signal("BottomHeight",{expr:""+this.fit.getBottomAxisHeight()}))},PTable.prototype.addBodySignals=function(){this.sheet.addSignal(new a.Signal("BodyX",{expr:"LeftWidth + 0.5"})),this.sheet.addSignal(new a.Signal("BodyY",{expr:"TopHeight + 0.5"})),this.sheet.addSignal(new a.Signal("BodyWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new a.Signal("BodyHeight",{expr:"CellHeight * RCellCount"}))},PTable}(s.Table);t.PTable=m},"2az/":function(e,t,r){"use strict";var n=r("DRWY"),i=r("R5VL");n.Observable.prototype.min=i.min},"2p93":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function MCells(t,r,n){var i=e.call(this,t,"mc-"+n.name,n)||this;return i._marks=r,i._query=n,i.addSeriesStep(),i.addImputeStep(),i.addPipeline(),r.stack&&i.addStack(i.getStackFields(),i.getStackFieldName(),["_id"]),i}return i(MCells,e),Object.defineProperty(MCells.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(MCells.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),MCells.prototype.getXFoldFields=function(){return this.getFoldFields([this.marks.xAxisFields])},MCells.prototype.getYFoldFields=function(){return this.getFoldFields([this.marks.yAxisFields])},MCells.prototype.getNamesFields=function(){return[].concat(this.table.facetFields,this.table.xAxisFields,this.table.yAxisFields,this.marks.seriesFields).filter(function(e){return e.isNames})},MCells.prototype.getValuesFields=function(){return[].concat(this.table.facetFields,this.table.xAxisFields,this.table.yAxisFields,this.marks.seriesFields).filter(function(e){return e.isValues})},MCells.prototype.getStackFields=function(){return this.marks.getStackFields().map(function(e){return e.alias}).concat("yAlias","xAlias")},MCells.prototype.getStackSorts=function(){return this.marks.getStackSorts().map(function(e){return e.alias})},MCells.prototype.getStackFieldName=function(){return this.marks.getStackFieldName()},MCells.prototype.getSeriesNameFields=function(){return this.marks.getSeriesNameFields()},MCells.prototype.addImputeStep=function(){if(this.marks.impute){var t=this.marks.seriesFields.map(function(e){return e.alias}),r=this.table.facetFields.concat(this.table.xAxisFields,this.table.yAxisFields).filter(function(e){return e.isDiscrete}).map(function(e){return e.alias}),n=this.marks.alias;e.prototype.addImpute.call(this,t,r,n,"value",0)}},MCells.prototype.addSeriesStep=function(){var e=this,t=this.getSeriesNameFields();if(t.length>0){var r=this.table.valuesField,n=this.table.namesField,i=t.map(function(e){return e.alias});this.addFold(i,n.name,r.name),this.addLookup("field-names","alias",[n.name],"names"),this.addFormula(n.name,"datum.names.name"),this.getNamesFields().forEach(function(t){e.addFormula(t.alias,"datum['"+n.name+"']")}),this.getValuesFields().forEach(function(t){e.addFormula(t.alias,"datum['"+r.name+"']")})}},MCells}(r("XV20").Cells);t.MCells=o},"2tzf":function(e,t,r){"use strict";var n=r("RltC");t.every=function(e,t){return n.every(e,t)(this)}},"30J0":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new o(e,t))}};var o=function(){function RetryOperator(e,t){this.count=e,this.source=t}return RetryOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},RetryOperator}(),a=function(e){function RetrySubscriber(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(RetrySubscriber,e),RetrySubscriber.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},RetrySubscriber}(i.Subscriber)},"33Jt":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function EmptyObservable(t){e.call(this),this.scheduler=t}return n(EmptyObservable,e),EmptyObservable.create=function(e){return new EmptyObservable(e)},EmptyObservable.dispatch=function(e){e.subscriber.complete()},EmptyObservable.prototype._subscribe=function(e){var t=this.scheduler;if(t)return t.schedule(EmptyObservable.dispatch,0,{subscriber:e});e.complete()},EmptyObservable}(r("DRWY").Observable);t.EmptyObservable=i},"3DSv":function(e,t,r){"use strict";var n=r("b4iQ");t.ignoreElements=function(){return n.ignoreElements()(this)}},"3F7m":function(e,t,r){(function(t){!function(t){"use strict";var r={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function Lexer(e){this.tokens=[],this.tokens.links={},this.options=e||marked.defaults,this.rules=r.normal,this.options.gfm&&(this.options.tables?this.rules=r.tables:this.rules=r.gfm)}r._label=/(?:\\[\[\]]|[^\[\]])+/,r._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,r.def=edit(r.def).replace("label",r._label).replace("title",r._title).getRegex(),r.bullet=/(?:[*+-]|\d+\.)/,r.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,r.item=edit(r.item,"gm").replace(/bull/g,r.bullet).getRegex(),r.list=edit(r.list).replace(/bull/g,r.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+r.def.source+")").getRegex(),r._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",r.html=edit(r.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,r._tag).getRegex(),r.paragraph=edit(r.paragraph).replace("hr",r.hr).replace("heading",r.heading).replace("lheading",r.lheading).replace("tag","<"+r._tag).getRegex(),r.blockquote=edit(r.blockquote).replace("paragraph",r.paragraph).getRegex(),r.normal=merge({},r),r.gfm=merge({},r.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),r.gfm.paragraph=edit(r.paragraph).replace("(?!","(?!"+r.gfm.fences.source.replace("\\1","\\2")+"|"+r.list.source.replace("\\1","\\3")+"|").getRegex(),r.tables=merge({},r.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),Lexer.rules=r,Lexer.lex=function(e,t){return new Lexer(t).lex(e)},Lexer.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},Lexer.prototype.token=function(e,t){var n,i,o,a,s,u,l,c,f,h,p;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<u.align.length;c++)/^ *-+: *$/.test(u.align[c])?u.align[c]="right":/^ *:-+: *$/.test(u.align[c])?u.align[c]="center":/^ *:-+ *$/.test(u.align[c])?u.align[c]="left":u.align[c]=null;for(c=0;c<u.cells.length;c++)u.cells[c]=u.cells[c].split(/ *\| */);this.tokens.push(u)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),p=(a=o[2]).length>1,this.tokens.push({type:"list_start",ordered:p,start:p?+a:""}),n=!1,h=(o=o[0].match(this.rules.item)).length,c=0;c<h;c++)l=(u=o[c]).length,~(u=u.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(a===(s=r.bullet.exec(o[c+1])[0])||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=h-1)),i=n||/\n\n(?!\s*$)/.test(u),c!==h-1&&(n="\n"===u.charAt(u.length-1),i||(i=n)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(u,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),f=o[1].toLowerCase(),this.tokens.links[f]||(this.tokens.links[f]={href:o[2],title:o[3]});else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<u.align.length;c++)/^ *-+: *$/.test(u.align[c])?u.align[c]="right":/^ *:-+: *$/.test(u.align[c])?u.align[c]="center":/^ *:-+ *$/.test(u.align[c])?u.align[c]="left":u.align[c]=null;for(c=0;c<u.cells.length;c++)u.cells[c]=u.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(u)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function InlineLexer(e,t){if(this.options=t||marked.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new Renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function Renderer(e){this.options=e||{}}function TextRenderer(){}function Parser(e){this.tokens=[],this.token=null,this.options=e||marked.defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options}function escape(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function edit(e,t){return e=e.source,t=t||"",{replace:function(t,r){return r=(r=r.source||r).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,r),this},getRegex:function(){return new RegExp(e,t)}}}function resolveUrl(e,t){return i[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?i[" "+e]=e+"/":i[" "+e]=e.replace(/[^/]*$/,"")),e=i[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=edit(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=edit(n.link).replace("inside",n._inside).replace("href",n._href).getRegex(),n.reflink=edit(n.reflink).replace("inside",n._inside).getRegex(),n.normal=merge({},n),n.pedantic=merge({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=merge({},n.normal,{escape:edit(n.escape).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",n._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:edit(n.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),n.breaks=merge({},n.gfm,{br:edit(n.br).replace("{2,}","*").getRegex(),text:edit(n.gfm.text).replace("{2,}","*").getRegex()}),InlineLexer.rules=n,InlineLexer.output=function(e,t,r){return new InlineLexer(t,r).output(e)},InlineLexer.prototype.output=function(e){for(var t,r,n,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),n="@"===i[2]?"mailto:"+(r=escape(this.mangle(i[1]))):r=escape(i[1]),o+=this.renderer.link(n,null,r);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):escape(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+=this.renderer.codespan(escape(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=this.renderer.text(escape(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],e=e.substring(i[0].length),"@"===i[2]?n="mailto:"+(r=escape(i[0])):(r=escape(i[0]),n="www."===i[1]?"http://"+r:r),o+=this.renderer.link(n,null,r);return o},InlineLexer.prototype.outputLink=function(e,t){var r=escape(t.href),n=t.title?escape(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(r,n,this.output(e[1])):this.renderer.image(r,n,escape(e[1]))},InlineLexer.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):e},InlineLexer.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,r="",n=e.length,i=0;i<n;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r},Renderer.prototype.code=function(e,t,r){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(r=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+escape(t,!0)+'">'+(r?e:escape(e,!0))+"\n</code></pre>\n":"<pre><code>"+(r?e:escape(e,!0))+"\n</code></pre>"},Renderer.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},Renderer.prototype.html=function(e){return e},Renderer.prototype.heading=function(e,t,r){return"<h"+t+' id="'+this.options.headerPrefix+r.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Renderer.prototype.list=function(e,t,r){var n=t?"ol":"ul";return"<"+n+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+n+">\n"},Renderer.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},Renderer.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},Renderer.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},Renderer.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},Renderer.prototype.tablecell=function(e,t){var r=t.header?"th":"td";return(t.align?"<"+r+' style="text-align:'+t.align+'">':"<"+r+">")+e+"</"+r+">\n"},Renderer.prototype.strong=function(e){return"<strong>"+e+"</strong>"},Renderer.prototype.em=function(e){return"<em>"+e+"</em>"},Renderer.prototype.codespan=function(e){return"<code>"+e+"</code>"},Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer.prototype.del=function(e){return"<del>"+e+"</del>"},Renderer.prototype.link=function(e,t,r){if(this.options.sanitize){try{var n=decodeURIComponent(unescape(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return r}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return r}this.options.baseUrl&&!o.test(e)&&(e=resolveUrl(this.options.baseUrl,e));var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>"},Renderer.prototype.image=function(e,t,r){this.options.baseUrl&&!o.test(e)&&(e=resolveUrl(this.options.baseUrl,e));var n='<img src="'+e+'" alt="'+r+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},Renderer.prototype.text=function(e){return e},TextRenderer.prototype.strong=TextRenderer.prototype.em=TextRenderer.prototype.codespan=TextRenderer.prototype.del=TextRenderer.prototype.text=function(e){return e},TextRenderer.prototype.link=TextRenderer.prototype.image=function(e,t,r){return""+r},TextRenderer.prototype.br=function(){return""},Parser.parse=function(e,t){return new Parser(t).parse(e)},Parser.prototype.parse=function(e){this.inline=new InlineLexer(e.links,this.options),this.inlineText=new InlineLexer(e.links,merge({},this.options,{renderer:new TextRenderer})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},Parser.prototype.next=function(){return this.token=this.tokens.pop()},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,unescape(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,r,n,i="",o="";for(r="",e=0;e<this.token.header.length;e++)r+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(r),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],r="",n=0;n<t.length;n++)r+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});o+=this.renderer.tablerow(r)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var i={},o=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function noop(){}function merge(e){for(var t,r,n=1;n<arguments.length;n++)for(r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function marked(e,t,r){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof t){r||(r=t,t=null);var n,i,o=(t=merge({},marked.defaults,t||{})).highlight,a=0;try{n=Lexer.lex(e,t)}catch(e){return r(e)}i=n.length;var s=function(e){if(e)return t.highlight=o,r(e);var i;try{i=Parser.parse(n,t)}catch(t){e=t}return t.highlight=o,e?r(e):r(null,i)};if(!o||o.length<3)return s();if(delete t.highlight,!i)return s();for(;a<n.length;a++)!function(e){"code"!==e.type?--i||s():o(e.text,e.lang,function(t,r){return t?s(t):null==r||r===e.text?--i||s():(e.text=r,e.escaped=!0,void(--i||s()))})}(n[a])}else try{return t&&(t=merge({},marked.defaults,t)),Parser.parse(Lexer.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||marked.defaults).silent)return"<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}noop.exec=noop,marked.options=marked.setOptions=function(e){return merge(marked.defaults,e),marked},marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1,baseUrl:null},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.TextRenderer=TextRenderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.parse=marked,e.exports=marked}(this||"undefined"!=typeof window&&window)}).call(t,r("h6ac"))},"3FHA":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("T4A1"),i=r("2T06"),o=r("6ysq"),a=r("WS1W"),s=r("YMHf"),u=function(){function Sheet(e,t){this._config=e,this._model=t,"TABULAR"===e.layout?this._table=new o.TTable(this):"HORIZONTAL"===e.layout?this._table=new n.HTable(this):"VERTICAL"===e.layout?this._table=new a.VTable(this):"PROPORTIONAL"===e.layout&&(this._table=new i.PTable(this)),this._spec=new s.Spec}return Object.defineProperty(Sheet.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(Sheet.prototype,"encoding",{get:function(){return this.config.encoding},enumerable:!0,configurable:!0}),Object.defineProperty(Sheet.prototype,"layout",{get:function(){return this.config.layout},enumerable:!0,configurable:!0}),Object.defineProperty(Sheet.prototype,"fit",{get:function(){return this.config.fit},enumerable:!0,configurable:!0}),Object.defineProperty(Sheet.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),Object.defineProperty(Sheet.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(Sheet.prototype,"spec",{get:function(){return this._spec},enumerable:!0,configurable:!0}),Sheet.prototype.addData=function(e){this.spec.addData(e)},Sheet.prototype.addMark=function(e){this.spec.addMark(e)},Sheet.prototype.addScale=function(e){this.spec.addScale(e)},Sheet.prototype.addSignal=function(e){this.spec.addSignal(e)},Sheet.prototype.compute=function(){null!=this.table&&this.table.compute()},Sheet.prototype.compile=function(){this.compute(),this.spec.width=this.getWidth(),this.spec.height=this.getHeight(),null!=this.table&&this.spec.addMark(this.table);var e=this.spec.compile();return console.debug(JSON.stringify(e)),e},Sheet.prototype.getWidth=function(){return this.config.fit.width},Sheet.prototype.getHeight=function(){return this.config.fit.height},Sheet}();t.Sheet=u},"3IPk":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("k+FJ"),o=r("EIUo");t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new a(e,t,r))}};var a=function(){function MergeMapOperator(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return MergeMapOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector,this.concurrent))},MergeMapOperator}();t.MergeMapOperator=a;var s=function(e){function MergeMapSubscriber(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(MergeMapSubscriber,e),MergeMapSubscriber.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},MergeMapSubscriber.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},MergeMapSubscriber.prototype._innerSub=function(e,t,r){this.add(i.subscribeToResult(this,e,t,r))},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},MergeMapSubscriber.prototype._notifyResultSelector=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},MergeMapSubscriber.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(o.OuterSubscriber);t.MergeMapSubscriber=s},"3L1M":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(e,t))}};var o=function(){function MapOperator(e,t){this.project=e,this.thisArg=t}return MapOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},MapOperator}();t.MapOperator=o;var a=function(e){function MapSubscriber(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return n(MapSubscriber,e),MapSubscriber.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},MapSubscriber}(i.Subscriber)},"3NTU":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VMPane(t,r,n){var i=e.call(this,"vm-"+n.yAlias,r)||this;return i._table=t,i._marks=n,i._yScale=n.buildYScale(),i._colorScale=n.buildColorScale(),i._sizeScale=n.buildSizeScale(),i}return i(VMPane,e),Object.defineProperty(VMPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(VMPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(VMPane.prototype,"yScale",{get:function(){return this._yScale},enumerable:!0,configurable:!0}),Object.defineProperty(VMPane.prototype,"colorScale",{get:function(){return this._colorScale},enumerable:!0,configurable:!0}),Object.defineProperty(VMPane.prototype,"sizeScale",{get:function(){return this._sizeScale},enumerable:!0,configurable:!0}),VMPane.prototype.getScales=function(){return e.prototype.getScales.call(this).concat(this.yScale.compile(),this.colorScale.compile(),this.sizeScale.compile())},VMPane.prototype.getProperties=function(){return{enter:{x:{field:"tcols.layout_start"},y:{field:"trows.layout_start"},width:{field:"tcols.layout_width"},height:{field:"trows.layout_height"}}}},VMPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.marks.marks;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},VMPane}(r("pkpF").Group);t.VMPane=o},"3Qux":function(e,t,r){"use strict";var n=r("DRWY"),i=r("xdX3");n.Observable.prototype.count=i.count},"3Txa":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(){}}();t.Transform=n},"3bk5":function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("jpd/"),o=r("mPZX");!function(e){e.make=function(e,t,r,n){return{id:n||i.Utility.id(),model:e,relation:t,queries:r}},function(e){e.make=function(e){return{id:e.id,size:0,results:[]}},e.add=function(e,t){var r=e.results.concat([t]);return n({},e,{results:r,size:r.length})},e.get=function(e,t){var r=e.results.find(function(e){return e.id===t.id});if(r)switch(r.type){case o.Query.Result.Type.URL:return r;case o.Query.Result.Type.Inline:return o.Query.Result.Inline.expand(r,t)}return null}}(e.Result||(e.Result={}))}(t.Select||(t.Select={}))},"3bld":function(e,t,r){"use strict";var n=r("DRWY"),i=r("nZP+");n.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},"3cAX":function(e,t,r){"use strict";var n=r("X0B2");t.Subject=n.Subject,t.AnonymousSubject=n.AnonymousSubject;var i=r("DRWY");t.Observable=i.Observable,r("Z8wL"),r("oTMF"),r("mItB"),r("8okT"),r("OxGv"),r("EkL9"),r("SHle"),r("ZUP2"),r("oztJ"),r("oHh7"),r("a/3V"),r("1iMb"),r("ARRY"),r("Zbq8"),r("tYmq"),r("uy5f"),r("hhY7"),r("syYF"),r("NpkY"),r("kvb0"),r("WXQD"),r("JeX6"),r("Zfb9"),r("wfVV"),r("yjDd"),r("0trz"),r("UkXh"),r("ygY+"),r("9yGG"),r("TOc1"),r("Cjp5"),r("rAj2"),r("CiRJ"),r("zjNf"),r("40BR"),r("g6xy"),r("mdf+"),r("JQSV"),r("aoHn"),r("3Qux"),r("t3sv"),r("rnTn"),r("RbKJ"),r("wpm+"),r("eBi+"),r("sk75"),r("pZww"),r("MR7H"),r("XpGX"),r("eXv6"),r("JV5w"),r("jeVo"),r("13uw"),r("Ntk8"),r("pOWA"),r("dviU"),r("Fwk0"),r("rJd8"),r("uBL5"),r("o9Tc"),r("n34g"),r("SB6h"),r("kvhK"),r("DVrn"),r("sEfj"),r("/RbK"),r("nOnZ"),r("KXNp"),r("ZE8M"),r("jvBf"),r("fAa0"),r("22it"),r("SMWO"),r("VNVC"),r("WnHa"),r("DF1g"),r("2az/"),r("fkkR"),r("xQ2D"),r("3bld"),r("Hm4U"),r("A390"),r("4R0m"),r("g31p"),r("8YHK"),r("yyZQ"),r("0KBP"),r("Bw82"),r("I/LB"),r("YnxP"),r("CChH"),r("Xvgo"),r("O2Xe"),r("bDvD"),r("wFCY"),r("2Lz6"),r("K10V"),r("+6G+"),r("EGxG"),r("4Hlz"),r("MVbb"),r("ndss"),r("2HRn"),r("eXAX"),r("HgjA"),r("Amrj"),r("Zo3h"),r("FMUF"),r("MfNK"),r("C4z4"),r("N+Vq"),r("A2D/"),r("H9L6"),r("NXE7"),r("wd/X"),r("lYd8"),r("y8b9"),r("xq1Q"),r("ScxB"),r("s28B"),r("Qd1I"),r("ME1e"),r("FOEW"),r("kF8H"),r("Ch11"),r("UtMs"),r("ViRY"),r("DvIW"),r("h1Ef");var o=r("I9Xa");t.Subscription=o.Subscription;var a=r("LGJh");t.Subscriber=a.Subscriber;var s=r("moUI");t.AsyncSubject=s.AsyncSubject;var u=r("Z7hs");t.ReplaySubject=u.ReplaySubject;var l=r("KMrg");t.BehaviorSubject=l.BehaviorSubject;var c=r("JXkC");t.ConnectableObservable=c.ConnectableObservable;var f=r("+8et");t.Notification=f.Notification;var h=r("O3mw");t.EmptyError=h.EmptyError;var p=r("lVEQ");t.ArgumentOutOfRangeError=p.ArgumentOutOfRangeError;var d=r("+jxi");t.ObjectUnsubscribedError=d.ObjectUnsubscribedError;var y=r("Him7");t.TimeoutError=y.TimeoutError;var g=r("SY+v");t.UnsubscriptionError=g.UnsubscriptionError;var m=r("Hdo1");t.TimeInterval=m.TimeInterval;var v=r("Wtcn");t.Timestamp=v.Timestamp;var b=r("ATY1");t.TestScheduler=b.TestScheduler;var _=r("6pZQ");t.VirtualTimeScheduler=_.VirtualTimeScheduler;var w=r("oxBv");t.AjaxResponse=w.AjaxResponse,t.AjaxError=w.AjaxError,t.AjaxTimeoutError=w.AjaxTimeoutError;var S=r("5esv");t.pipe=S.pipe;var E=r("5gRZ"),C=r("CsEb"),O=r("i4XC"),T=r("riXn"),A=r("GsTu"),x=r("pSKN"),k=r("siyM"),R=r("0Qn/");t.operators=R;var P={asap:E.asap,queue:O.queue,animationFrame:T.animationFrame,async:C.async};t.Scheduler=P;var D={rxSubscriber:A.rxSubscriber,observable:k.observable,iterator:x.iterator};t.Symbol=D},"3lcO":function(e,t,r){"use strict";var n=r("86ZJ");t.distinct=function(e,t){return n.distinct(e,t)(this)}},"3op6":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.skipWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function SkipWhileOperator(e){this.predicate=e}return SkipWhileOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},SkipWhileOperator}(),a=function(e){function SkipWhileSubscriber(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return n(SkipWhileSubscriber,e),SkipWhileSubscriber.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},SkipWhileSubscriber.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},SkipWhileSubscriber}(i.Subscriber)},"3qNI":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TGrid(t,r){var n=e.call(this,"tgrid",t)||this;return n.addCross(r,"trow","tcol"),n}return i(TGrid,e),TGrid}(r("qI4a").Data);t.TGrid=o},"3xhV":function(e,t,r){var n=r("9R9K"),i={values:measure({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:measure({name:"count",set:"cell.num"}),missing:measure({name:"missing",set:"this.missing"}),valid:measure({name:"valid",set:"this.valid"}),sum:measure({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:measure({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:measure({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:measure({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:measure({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:measure({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:measure({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:measure({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),median:measure({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:measure({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:measure({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:measure({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:measure({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:measure({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:measure({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:measure({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:measure({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","variance","median"],idx:5})};function measure(e){return function(t){var r=n.extend({init:"",add:"",rem:"",idx:0},e);return r.out=t||e.name,r}}i.create=function(e,t,o,a){var s="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",u="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",l="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",c="var t = this.tuple; var cell = this.cell;";return function(e,t){var r=e.reduce(function collect(e,r){function helper(t){e[t]||collect(e,e[t]=i[t]())}return r.req&&r.req.forEach(helper),t&&r.str&&r.str.forEach(helper),e},e.reduce(function(e,t){return e[t.name]=t,e},{}));return n.vals(r).sort(function(e,t){return e.idx-t.idx})}(e,t).forEach(function(e){e.idx<0?(s=e.init+s,u=e.add+u,l=e.rem+l):(s+=e.init,u+=e.add,l+=e.rem)}),e.slice().sort(function(e,t){return e.idx-t.idx}).forEach(function(e){c+="this.assign(t,'"+e.out+"',"+e.set+");"}),c+="return t;",(s=Function("cell","t",s)).prototype.assign=a,s.prototype.add=Function("t","var v = this.get(t);"+u),s.prototype.rem=Function("t","var v = this.get(t);"+l),s.prototype.set=Function(c),s.prototype.get=o,s.prototype.distinct=r("TvGQ").count.distinct,s.prototype.isValid=n.isValid,s.fields=e.map(n.$("out")),s},e.exports=i},"4/4o":function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},"40BR":function(e,t,r){"use strict";var n=r("DRWY"),i=r("ISCv");n.Observable.prototype.combineLatest=i.combineLatest},"44vW":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("sTlA"),a=function(e){function GenericFormula(t,r){return e.call(this,t,r)||this}return i(GenericFormula,e),Object.defineProperty(GenericFormula.prototype,"form",{get:function(){return o.FormType.GENERIC},enumerable:!0,configurable:!0}),GenericFormula}(o.Formula);t.GenericFormula=a},"4Bm0":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"4CgL":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.isEmpty=function(){return function(e){return e.lift(new o)}};var o=function(){function IsEmptyOperator(){}return IsEmptyOperator.prototype.call=function(e,t){return t.subscribe(new a(e))},IsEmptyOperator}(),a=function(e){function IsEmptySubscriber(t){e.call(this,t)}return n(IsEmptySubscriber,e),IsEmptySubscriber.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},IsEmptySubscriber.prototype._next=function(e){this.notifyComplete(!1)},IsEmptySubscriber.prototype._complete=function(){this.notifyComplete(!0)},IsEmptySubscriber}(i.Subscriber)},"4GoX":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.dematerialize=function(){return function(e){return e.lift(new o)}};var o=function(){function DeMaterializeOperator(){}return DeMaterializeOperator.prototype.call=function(e,t){return t.subscribe(new a(e))},DeMaterializeOperator}(),a=function(e){function DeMaterializeSubscriber(t){e.call(this,t)}return n(DeMaterializeSubscriber,e),DeMaterializeSubscriber.prototype._next=function(e){e.observe(this.destination)},DeMaterializeSubscriber}(i.Subscriber)},"4Hlz":function(e,t,r){"use strict";var n=r("DRWY"),i=r("wixA");n.Observable.prototype.single=i.single},"4M4E":function(e,t,r){"use strict";var n=r("8EwW");t.bufferCount=function(e,t){return void 0===t&&(t=null),n.bufferCount(e,t)(this)}},"4R0m":function(e,t,r){"use strict";var n=r("DRWY"),i=r("4o5c");n.Observable.prototype.pluck=i.pluck},"4bxi":function(e,t,r){var n,i;function get_beautify(e,t,r){var n=function(t,r){return e.js_beautify(t,r)};return n.js=e.js_beautify,n.css=t.css_beautify,n.html=r.html_beautify,n.js_beautify=e.js_beautify,n.css_beautify=t.css_beautify,n.html_beautify=r.html_beautify,n}n=[r("Kuu2"),r("8yyG"),r("ZoDK")],void 0===(i=(function(e,t,r){return get_beautify(e,t,r)}).apply(t,n))||(e.exports=i)},"4hKF":function(e,t,r){var n=r("4Bm0"),i=r("ig01"),o=r("F888"),a=r("8OXg"),s=r("nb0e"),u=r("QKhG"),l=o(function(){},a("forwardToSlaves","forwardToReplicas"));function Index(){i.apply(this,arguments)}function exportData(e,t,r){return function search(r,n){var i={page:r||0,hitsPerPage:t||100},o=n||[];return e(i).then(function(e){var t=e.hits,r=e.nbHits,n=t.map(function(e){return delete e._highlightResult,e}),a=o.concat(n);return a.length<r?search(i.page+1,a):a})}().then(function(e){if("function"!=typeof r)return e;r(e)})}e.exports=Index,n(Index,i),Index.prototype.addObject=function(e,t,r){return 1!==arguments.length&&"function"!=typeof t||(r=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:r})},Index.prototype.addObjects=function(e,t){if(!r("YuqC")(e))throw new Error("Usage: index.addObjects(arrayOfObjects[, callback])");for(var n={requests:[]},i=0;i<e.length;++i){var o={action:"addObject",body:e[i]};n.requests.push(o)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:n,hostType:"write",callback:t})},Index.prototype.partialUpdateObject=function(e,t,r){1!==arguments.length&&"function"!=typeof t||(r=t,t=void 0);var n="/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(n+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:n,body:e,hostType:"write",callback:r})},Index.prototype.partialUpdateObjects=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=!0);if(!r("YuqC")(e))throw new Error("Usage: index.partialUpdateObjects(arrayOfObjects[, callback])");for(var i={requests:[]},o=0;o<e.length;++o){var a={action:!0===t?"partialUpdateObject":"partialUpdateObjectNoCreate",objectID:e[o].objectID,body:e[o]};i.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:i,hostType:"write",callback:n})},Index.prototype.saveObject=function(e,t){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},Index.prototype.saveObjects=function(e,t){if(!r("YuqC")(e))throw new Error("Usage: index.saveObjects(arrayOfObjects[, callback])");for(var n={requests:[]},i=0;i<e.length;++i){var o={action:"updateObject",objectID:e[i].objectID,body:e[i]};n.requests.push(o)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:n,hostType:"write",callback:t})},Index.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var r=new u.AlgoliaSearchError("Cannot delete an object without an objectID");return"function"==typeof(t=e)?t(r):this.as._promise.reject(r)}return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},Index.prototype.deleteObjects=function(e,t){var n=r("YuqC"),i=r("BDy2");if(!n(e))throw new Error("Usage: index.deleteObjects(arrayOfObjectIDs[, callback])");var o={requests:i(e,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:o,hostType:"write",callback:t})},Index.prototype.deleteByQuery=o(function(e,t,n){var i=r("S7SM"),o=r("BDy2"),a=this,u=a.as;1===arguments.length||"function"==typeof t?(n=t,t={}):t=i(t),t.attributesToRetrieve="objectID",t.hitsPerPage=1e3,t.distinct=!1,this.clearCache();var l=this.search(e,t).then(function(e){if(0===e.nbHits)return e;var t=o(e.hits,function(e){return e.objectID});return a.deleteObjects(t).then(waitTask).then(doDeleteByQuery)});function waitTask(e){return a.waitTask(e.taskID)}function doDeleteByQuery(){return a.deleteByQuery(e,t)}if(!n)return l;l.then(function(){s(function(){n(null)},u._setTimeout||setTimeout)},function(e){s(function(){n(e)},u._setTimeout||setTimeout)})},a("index.deleteByQuery()","index.deleteBy()")),Index.prototype.deleteBy=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/deleteByQuery",body:{params:this.as._getSearchParams(e,"")},hostType:"write",callback:t})},Index.prototype.browseAll=function(e,t){"object"==typeof e&&(t=e,e=void 0);var n=r("MuiK"),i=new(r("704E")),o=this.as,a=this,s=o._getSearchParams(n({},t||{},{query:e}),"");function browseLoop(e){var t;i._stopped||(t=void 0!==e?{cursor:e}:{params:s},o._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/browse",hostType:"read",body:t,callback:browseCallback}))}function browseCallback(e,t){i._stopped||(e?i._error(e):(i._result(t),void 0!==t.cursor?browseLoop(t.cursor):i._end()))}return browseLoop(),i},Index.prototype.ttAdapter=o(function(e){var t=this;return function(r,n,i){var o;o="function"==typeof i?i:n,t.search(r,e,function(e,t){o(e||t.hits)})}},"ttAdapter is not necessary anymore and will be removed in the next version,\nhave a look at autocomplete.js (https://github.com/algolia/autocomplete.js)"),Index.prototype.waitTask=function(e,t){var r=100,n=5e3,i=0,o=this,a=o.as,u=function retryLoop(){return a._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/task/"+e}).then(function(e){var t=r*++i*i;return t>n&&(t=n),"published"!==e.status?a._promise.delay(t).then(retryLoop):e})}();if(!t)return u;u.then(function(e){s(function(){t(null,e)},a._setTimeout||setTimeout)},function(e){s(function(){t(e)},a._setTimeout||setTimeout)})},Index.prototype.clearIndex=function(e){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/clear",hostType:"write",callback:e})},Index.prototype.getSettings=function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e={}),e=e||{};var r=encodeURIComponent(this.indexName);return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+r+"/settings?getVersion=2"+(e.advanced?"&advanced="+e.advanced:""),hostType:"read",callback:t})},Index.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},Index.prototype.exportSynonyms=function(e,t){return exportData(this.searchSynonyms.bind(this),e,t)},Index.prototype.saveSynonym=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&l();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+n,body:e,hostType:"write",callback:r})},Index.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},Index.prototype.deleteSynonym=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&l();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToReplicas="+n,hostType:"write",callback:r})},Index.prototype.clearSynonyms=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&l();var r=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToReplicas="+r,hostType:"write",callback:t})},Index.prototype.batchSynonyms=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&l();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToReplicas="+n+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:r})},Index.prototype.searchRules=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/search",body:e,hostType:"read",callback:t})},Index.prototype.exportRules=function(e,t){return exportData(this.searchRules.bind(this),e,t)},Index.prototype.saveRule=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={});var n=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+n,body:e,hostType:"write",callback:r})},Index.prototype.getRule=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e),hostType:"read",callback:t})},Index.prototype.deleteRule=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={});var n=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e)+"?forwardToReplicas="+n,hostType:"write",callback:r})},Index.prototype.clearRules=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={});var r=!0===e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/clear?forwardToReplicas="+r,hostType:"write",callback:t})},Index.prototype.batchRules=function(e,t,r){"function"==typeof t?(r=t,t={}):void 0===t&&(t={});var n=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/batch?forwardToReplicas="+n+"&clearExistingRules="+(!0===t.clearExistingRules?"true":"false"),hostType:"write",body:e,callback:r})},Index.prototype.setSettings=function(e,t,r){1!==arguments.length&&"function"!=typeof t||(r=t,t={}),void 0!==t.forwardToSlaves&&l();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings?forwardToReplicas="+n,hostType:"write",body:e,callback:r})},Index.prototype.listUserKeys=o(function(e){return this.listApiKeys(e)},a("index.listUserKeys()","index.listApiKeys()")),Index.prototype.listApiKeys=function(e){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",hostType:"read",callback:e})},Index.prototype.getUserKeyACL=o(function(e,t){return this.getApiKey(e,t)},a("index.getUserKeyACL()","index.getApiKey()")),Index.prototype.getApiKey=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,hostType:"read",callback:t})},Index.prototype.deleteUserKey=o(function(e,t){return this.deleteApiKey(e,t)},a("index.deleteUserKey()","index.deleteApiKey()")),Index.prototype.deleteApiKey=function(e,t){return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,hostType:"write",callback:t})},Index.prototype.addUserKey=o(function(e,t,r){return this.addApiKey(e,t,r)},a("index.addUserKey()","index.addApiKey()")),Index.prototype.addApiKey=function(e,t,n){if(!r("YuqC")(e))throw new Error("Usage: index.addApiKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof t||(n=t,t=null);var i={acl:e};return t&&(i.validity=t.validity,i.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,i.maxHitsPerQuery=t.maxHitsPerQuery,i.description=t.description,t.queryParameters&&(i.queryParameters=this.as._getSearchParams(t.queryParameters,"")),i.referers=t.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:i,hostType:"write",callback:n})},Index.prototype.addUserKeyWithValidity=o(function(e,t,r){return this.addApiKey(e,t,r)},a("index.addUserKeyWithValidity()","index.addApiKey()")),Index.prototype.updateUserKey=o(function(e,t,r,n){return this.updateApiKey(e,t,r,n)},a("index.updateUserKey()","index.updateApiKey()")),Index.prototype.updateApiKey=function(e,t,n,i){if(!r("YuqC")(t))throw new Error("Usage: index.updateApiKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof n||(i=n,n=null);var o={acl:t};return n&&(o.validity=n.validity,o.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,o.maxHitsPerQuery=n.maxHitsPerQuery,o.description=n.description,n.queryParameters&&(o.queryParameters=this.as._getSearchParams(n.queryParameters,"")),o.referers=n.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,body:o,hostType:"write",callback:i})}},"4ixW":function(e,t,r){"use strict";var n=r("gNkM");t.elementAt=function(e,t){return n.elementAt(e,t)(this)}},"4izX":function(e,t,r){e.exports=AlgoliaSearch;var n=r("4hKF"),i=r("F888"),o=r("8OXg"),a=r("daUR"),s=r("4Bm0"),u=r("QKhG");function AlgoliaSearch(){a.apply(this,arguments)}function notImplemented(){throw new u.AlgoliaSearchError("Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com")}s(AlgoliaSearch,a),AlgoliaSearch.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},AlgoliaSearch.prototype.moveIndex=function(e,t,r){var n={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:r})},AlgoliaSearch.prototype.copyIndex=function(e,t,r,n){var i={operation:"copy",destination:t},o=n;if("function"==typeof r)o=r;else if(Array.isArray(r)&&r.length>0)i.scope=r;else if(void 0!==r)throw new Error("the scope given to `copyIndex` was not an array with settings, synonyms or rules");return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:i,hostType:"write",callback:o})},AlgoliaSearch.prototype.getLogs=function(e,t,n){var i=r("S7SM"),o={};return"object"==typeof e?(o=i(e),n=t):0===arguments.length||"function"==typeof e?n=e:1===arguments.length||"function"==typeof t?(n=t,o.offset=e):(o.offset=e,o.length=t),void 0===o.offset&&(o.offset=0),void 0===o.length&&(o.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(o,""),hostType:"read",callback:n})},AlgoliaSearch.prototype.listIndexes=function(e,t){var r="";return void 0===e||"function"==typeof e?t=e:r="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+r,hostType:"read",callback:t})},AlgoliaSearch.prototype.initIndex=function(e){return new n(this,e)},AlgoliaSearch.prototype.listUserKeys=i(function(e){return this.listApiKeys(e)},o("client.listUserKeys()","client.listApiKeys()")),AlgoliaSearch.prototype.listApiKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},AlgoliaSearch.prototype.getUserKeyACL=i(function(e,t){return this.getApiKey(e,t)},o("client.getUserKeyACL()","client.getApiKey()")),AlgoliaSearch.prototype.getApiKey=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},AlgoliaSearch.prototype.deleteUserKey=i(function(e,t){return this.deleteApiKey(e,t)},o("client.deleteUserKey()","client.deleteApiKey()")),AlgoliaSearch.prototype.deleteApiKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},AlgoliaSearch.prototype.addUserKey=i(function(e,t,r){return this.addApiKey(e,t,r)},o("client.addUserKey()","client.addApiKey()")),AlgoliaSearch.prototype.addApiKey=function(e,t,n){if(!r("YuqC")(e))throw new Error("Usage: client.addApiKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof t||(n=t,t=null);var i={acl:e};return t&&(i.validity=t.validity,i.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,i.maxHitsPerQuery=t.maxHitsPerQuery,i.indexes=t.indexes,i.description=t.description,t.queryParameters&&(i.queryParameters=this._getSearchParams(t.queryParameters,"")),i.referers=t.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:i,hostType:"write",callback:n})},AlgoliaSearch.prototype.addUserKeyWithValidity=i(function(e,t,r){return this.addApiKey(e,t,r)},o("client.addUserKeyWithValidity()","client.addApiKey()")),AlgoliaSearch.prototype.updateUserKey=i(function(e,t,r,n){return this.updateApiKey(e,t,r,n)},o("client.updateUserKey()","client.updateApiKey()")),AlgoliaSearch.prototype.updateApiKey=function(e,t,n,i){if(!r("YuqC")(t))throw new Error("Usage: client.updateApiKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof n||(i=n,n=null);var o={acl:t};return n&&(o.validity=n.validity,o.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,o.maxHitsPerQuery=n.maxHitsPerQuery,o.indexes=n.indexes,o.description=n.description,n.queryParameters&&(o.queryParameters=this._getSearchParams(n.queryParameters,"")),o.referers=n.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+e,body:o,hostType:"write",callback:i})},AlgoliaSearch.prototype.startQueriesBatch=i(function(){this._batch=[]},o("client.startQueriesBatch()","client.search()")),AlgoliaSearch.prototype.addQueryInBatch=i(function(e,t,r){this._batch.push({indexName:e,query:t,params:r})},o("client.addQueryInBatch()","client.search()")),AlgoliaSearch.prototype.sendQueriesBatch=i(function(e){return this.search(this._batch,e)},o("client.sendQueriesBatch()","client.search()")),AlgoliaSearch.prototype.batch=function(e,t){if(!r("YuqC")(e))throw new Error("Usage: client.batch(operations[, callback])");return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:e},hostType:"write",callback:t})},AlgoliaSearch.prototype.assignUserID=function(e,t){if(!e.userID||!e.cluster)throw new u.AlgoliaSearchError("You have to provide both a userID and cluster",e);return this._jsonRequest({method:"POST",url:"/1/clusters/mapping",hostType:"write",body:{cluster:e.cluster},callback:t,headers:{"X-Algolia-User-ID":e.userID}})},AlgoliaSearch.prototype.getTopUserID=function(e){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/top",hostType:"read",callback:e})},AlgoliaSearch.prototype.getUserID=function(e,t){if(!e.userID)throw new u.AlgoliaSearchError("You have to provide a userID",{debugData:e});return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/"+e.userID,hostType:"read",callback:t})},AlgoliaSearch.prototype.listClusters=function(e){return this._jsonRequest({method:"GET",url:"/1/clusters",hostType:"read",callback:e})},AlgoliaSearch.prototype.listUserIDs=function(e,t){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping",body:e,hostType:"read",callback:t})},AlgoliaSearch.prototype.removeUserID=function(e,t){if(!e.userID)throw new u.AlgoliaSearchError("You have to provide a userID",{debugData:e});return this._jsonRequest({method:"DELETE",url:"/1/clusters/mapping",hostType:"write",callback:t,headers:{"X-Algolia-User-ID":e.userID}})},AlgoliaSearch.prototype.searchUserIDs=function(e,t){return this._jsonRequest({method:"POST",url:"/1/clusters/mapping/search",body:e,hostType:"read",callback:t})},AlgoliaSearch.prototype.destroy=notImplemented,AlgoliaSearch.prototype.enableRateLimitForward=notImplemented,AlgoliaSearch.prototype.disableRateLimitForward=notImplemented,AlgoliaSearch.prototype.useSecuredAPIKey=notImplemented,AlgoliaSearch.prototype.disableSecuredAPIKey=notImplemented,AlgoliaSearch.prototype.generateSecuredApiKey=notImplemented},"4o5c":function(e,t,r){"use strict";var n=r("qXvT");t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.pluck.apply(void 0,e)(this)}},"4qVc":function(e,t,r){"use strict";var n=r("LGJh"),i=r("GsTu"),o=r("cp1M");t.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(o.empty)}},"51Jn":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("xS0M"),i=function(){function FieldSort(e,t,r,n){this._field=e,this._order=n,this._byField=t,this._byFilters=r||[]}return Object.defineProperty(FieldSort.prototype,"type",{get:function(){return n.SortType.FIELD},enumerable:!0,configurable:!0}),Object.defineProperty(FieldSort.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(FieldSort.prototype,"order",{get:function(){return this._order},enumerable:!0,configurable:!0}),Object.defineProperty(FieldSort.prototype,"byField",{get:function(){return this._byField},enumerable:!0,configurable:!0}),Object.defineProperty(FieldSort.prototype,"byFilters",{get:function(){return this._byFilters},enumerable:!0,configurable:!0}),FieldSort}();t.FieldSort=i},"543X":function(e,t,r){var n=r("9R9K"),i=/^([A-Za-z]+:)?\/\//,o="file://";function load(e,t){return load.loader(e,t)}function xhrHasResponse(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function startsWith(e,t){return null!=e&&0===e.lastIndexOf(t,0)}load.loader=function(e,t){var r,n=t||function(e){throw e};try{r=load.sanitizeUrl(e)}catch(e){return void n(e)}if(r)return load.useXHR?load.xhr(r,e,t):startsWith(r,o)?load.file(r.slice(o.length),e,t):r.indexOf("://")<0?load.file(r,e,t):load.http(r,e,t);n("Invalid URL: "+e.url)},load.sanitizeUrl=function(e){var t=e.url;if(!t&&e.file)return o+e.file;if(e.baseURL&&!i.test(t)&&(startsWith(t,"/")||"/"===e.baseURL[e.baseURL.length-1]||(t="/"+t),t=e.baseURL+t),!load.useXHR&&startsWith(t,"//")&&(t=(e.defaultProtocol||"http")+":"+t),e.domainWhiteList){var n,a;if(load.useXHR){var s=document.createElement("a");s.href=t,""===s.host&&(s.href=s.href),n=s.hostname.toLowerCase(),a=window.location.hostname}else{var u=r(0).parse(t);n=u.hostname,a=null}if(a!==n&&!e.domainWhiteList.some(function(e){var t=n.length-e.length;return e===n||t>1&&"."===n[t-1]&&n.lastIndexOf(e)===t}))throw"URL is not whitelisted: "+t}return t},load.xhr=function(e,t,r){var i=!!r,o=new XMLHttpRequest;function respond(){var e=o.status;!e&&xhrHasResponse(o)||e>=200&&e<300||304===e?r(null,o.responseText):r(o,null)}if("undefined"==typeof XDomainRequest||"withCredentials"in o||!/^(http(s)?:)?\/\//.test(e)||(o=new XDomainRequest),i&&("onload"in o?o.onload=o.onerror=respond:o.onreadystatechange=function(){o.readyState>3&&respond()}),o.open("GET",e,i),o.setRequestHeader){var a=n.extend({},load.headers,t.headers);for(var s in a)o.setRequestHeader(s,a[s])}if(o.send(),!i&&xhrHasResponse(o))return o.responseText},load.file=function(e,t,n){var i=r(1);if(!n)return i.readFileSync(e,"utf8");i.readFile(e,n)},load.http=function(e,t,i){var o={url:e,encoding:null,gzip:!0,headers:n.extend({},load.headers,t.headers)};if(!i)return r(2)("GET",e,o).getBody();r(3)(o,function(e,t,r){e||200!==t.statusCode?(e=e||"Load failed with response code "+t.statusCode+".",i(e,null)):i(null,r)})},load.useXHR="undefined"!=typeof XMLHttpRequest,load.headers={},e.exports=load},"5FP+":function(e,t,r){"use strict";var n=r("ITh/"),i=r("m90P");t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return 1===e.length&&n.isArray(e[0])&&(e=e[0]),t.lift.call(i.race.apply(void 0,[t].concat(e)))}}},"5GPd":function(e,t,r){"use strict";var n=r("C/wd");t.bufferToggle=function(e,t){return n.bufferToggle(e,t)(this)}},"5UgM":function(e,t,r){"use strict";t.errorObject={e:{}}},"5X2t":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("Gf6Z"),o=r("DRWY"),a=r("CsEb"),s=r("P23m"),u=r("UT3o"),l=function(e){function TimerObservable(t,r,n){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1?1:Number(r):s.isScheduler(r)&&(n=r),s.isScheduler(n)||(n=a.async),this.scheduler=n,this.dueTime=u.isDate(t)?+t-this.scheduler.now():t}return n(TimerObservable,e),TimerObservable.create=function(e,t,r){return void 0===e&&(e=0),new TimerObservable(e,t,r)},TimerObservable.dispatch=function(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}},TimerObservable.prototype._subscribe=function(e){var t=this.period,r=this.dueTime;return this.scheduler.schedule(TimerObservable.dispatch,r,{index:0,period:t,subscriber:e})},TimerObservable}(o.Observable);t.TimerObservable=l},"5bZP":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;!function(e){e.Range="RANGE",e.Selection="SELECTION",e.ByAttr="BY_FIELD",e.ByFormula="BY_FORMULA",e.TopByAttr="TOP_BY_ATTR",e.TopByFormula="TOP_BY_FORMULA",e.RelativeDate="RELATIVE_DATE"}(t=e.Type||(e.Type={})),function(e){e.Equals="=",e.NotEquals="<>",e.LessThan="<",e.LessThanOrEqual="<=",e.GreaterThan=">",e.GreaterThanOrEqual=">="}(e.Operator||(e.Operator={})),function(e){e.Top="TOP",e.Bottom="BOTTOM"}(e.TopOperator||(e.TopOperator={})),function(e){!function(e){e.All="ALL",e.Include="INCLUDE",e.Exclude="EXCLUDE"}(e.Mode||(e.Mode={})),e.make=function(e,r){return{mode:e,selected:r,type:t.Selection}}}(e.Selection||(e.Selection={})),function(e){e.make=function(e,r,n){return{field:e,operator:r,operand:n,type:t.ByAttr}}}(e.ByField||(e.ByField={})),function(e){e.make=function(e,r,n){return{field:e,operator:r,limit:n,type:t.TopByAttr}}}(e.TopByField||(e.TopByField={})),function(e){var r;!function(e){e.make=function(e){return void 0===e&&(e={}),{min:!0===e.min,max:!0===e.max,nulls:!0===e.nulls}}}(r=e.Options||(e.Options={})),e.make=function(e,n,i){return{min:e,max:n,opts:i||r.make(),type:t.Range}}}(e.Range||(e.Range={}))}(t.Cond||(t.Cond={}))},"5esv":function(e,t,r){"use strict";var n=r("veqC");function pipeFromArray(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:n.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return pipeFromArray(e)},t.pipeFromArray=pipeFromArray},"5gRZ":function(e,t,r){"use strict";var n=r("1m4I"),i=r("S27b");t.asap=new i.AsapScheduler(n.AsapAction)},"5jKL":function(e,t,r){var n=r("9R9K"),i={version:r("oDNE").version,load:r("543X"),read:r("Qs2N"),type:r("DENg"),Aggregator:r("JcJc"),groupby:r("wUhU"),bins:r("fyM1"),$bin:r("llOj").$bin,histogram:r("llOj").histogram,format:r("FILO"),template:r("p05M"),time:r("B51+")};n.extend(i,n),n.extend(i,r("9Syc")),n.extend(i,r("ZrAa")),n.extend(i,r("TvGQ")),n.extend(i,r("UUrY")),n.extend(i.format,r("YcrN")),i.print={table:i.format.table,summary:i.format.summary},e.exports=i},"5jfQ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("uylR"),i=function(){function RowFormat(){this._alignment=new n.Rows}return Object.defineProperty(RowFormat.prototype,"alignment",{get:function(){return this._alignment},enumerable:!0,configurable:!0}),RowFormat}();t.RowFormat=i},"5n8f":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function HSquare(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"square"},n}return i(HSquare,e),HSquare}(r("ciYN").HSymbol);t.HSquare=o},"64my":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;!function(e){e.Names="NAMES",e.Values="VALUES",e.DatePart="DATE_PART",e.DateTrunc="DATE_TRUNC",e.GeoLatitude="GEO_LATITUDE",e.GeoLongitude="GEO_LONGITUDE"}(t=e.Name||(e.Name={})),function(e){e.make=function(){return{name:t.Names}}}(e.Names||(e.Names={})),function(e){e.make=function(){return{name:t.Values}}}(e.Values||(e.Values={})),function(e){e.make=function(e){return{unit:e,name:t.DatePart}}}(e.DatePart||(e.DatePart={})),function(e){e.make=function(e){return{unit:e,name:t.DateTrunc}}}(e.DateTrunc||(e.DateTrunc={})),function(e){e.make=function(){return{name:t.GeoLatitude}}}(e.GeoLatitude||(e.GeoLatitude={})),function(e){e.make=function(){return{name:t.GeoLongitude}}}(e.GeoLongitude||(e.GeoLongitude={}))}(t.DataRole||(t.DataRole={}))},"69cc":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Cross(t,r,n){var i=e.call(this)||this;return i._with=t,i._left=r||"left",i._right=n||"right",i}return i(Cross,e),Object.defineProperty(Cross.prototype,"with",{get:function(){return this._with},enumerable:!0,configurable:!0}),Object.defineProperty(Cross.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(Cross.prototype,"right",{get:function(){return this._right},enumerable:!0,configurable:!0}),Cross.prototype.compile=function(){return{type:"cross",with:this.with.name,output:{left:this.left,right:this.right}}},Cross}(r("3Txa").Transform);t.Cross=o},"6IAg":function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,a=365.25*o;function plural(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var s,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?plural(s=e,o,"day")||plural(s,i,"hour")||plural(s,n,"minute")||plural(s,r,"second")||s+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"6O7z":function(e,t,r){"use strict";e.exports="3.27.0"},"6Tub":function(e,t,r){"use strict";var n=r("Z7hs");t.shareReplay=function(e,t,r){return function(i){return i.lift(function(e,t,r){var i,o,a=0,s=!1,u=!1;return function(l){a++,i&&!s||(s=!1,i=new n.ReplaySubject(e,t,r),o=l.subscribe({next:function(e){i.next(e)},error:function(e){s=!0,i.error(e)},complete:function(){u=!0,i.complete()}}));var c=i.subscribe(this);return function(){a--,c.unsubscribe(),o&&0===a&&u&&o.unsubscribe()}}}(e,t,r))}}},"6X6e":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pxn2"),a=r("E4ND"),s=r("kdBv"),u=r("w06A"),l=function(e){function DataField(t,r,n,i,o){var a=e.call(this)||this;return a._column=t,a._varType=i,a._dataType=r,a._roleType=n,a._name=o||t.name,a}return i(DataField,e),Object.defineProperty(DataField.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(DataField.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(DataField.prototype,"columnType",{get:function(){return this.column.type},enumerable:!0,configurable:!0}),Object.defineProperty(DataField.prototype,"type",{get:function(){return s.FieldType.DATA},enumerable:!0,configurable:!0}),Object.defineProperty(DataField.prototype,"dataType",{get:function(){switch(this.columnType){case o.ColumnType.BOOLEAN:return a.DataType.BOOLEAN;case o.ColumnType.DATE:return a.DataType.DATE;case o.ColumnType.DATETIME:return a.DataType.DATETIME;case o.ColumnType.FLOAT:return a.DataType.FLOAT;case o.ColumnType.INTEGER:return a.DataType.INTEGER;case o.ColumnType.STRING:return a.DataType.STRING;default:return a.DataType.UNDEFINED}},enumerable:!0,configurable:!0}),Object.defineProperty(DataField.prototype,"roleType",{get:function(){return this._roleType},enumerable:!0,configurable:!0}),Object.defineProperty(DataField.prototype,"varType",{get:function(){return this._varType},enumerable:!0,configurable:!0}),Object.defineProperty(DataField.prototype,"defaultAggregate",{get:function(){return u.AggregateFunction.SUM},enumerable:!0,configurable:!0}),DataField}(s.BField);t.DataField=l},"6XOr":function(e,t,r){!function(r){"use strict";if(r){var n,i,o,a=(o=r.document.createTextNode("")).ownerDocument!==r.document&&"function"==typeof r.wrap&&r.wrap(o)===o?r.wrap(r):r,s=a.document,u=a.DocumentFragment||blank,l=a.SVGElement||blank,c=a.SVGSVGElement||blank,f=a.SVGElementInstance||blank,h=a.HTMLElement||a.Element,p=a.PointerEvent||a.MSPointerEvent,d=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},y={},g=[],m=[],v=[],b=!1,_={},w={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:s,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},S={interaction:null,i:null,x:0,y:0,scroll:function(){var e,t,r,n,i=S.interaction.target.options[S.interaction.prepared.name].autoScroll,o=i.container||getWindow(S.interaction.element),a=(new Date).getTime(),s=(a-S.prevTimeX)/1e3,u=(a-S.prevTimeY)/1e3;i.velocity?(e=i.velocity.x,t=i.velocity.y):e=t=i.speed,n=t*u,((r=e*s)>=1||n>=1)&&(isWindow(o)?o.scrollBy(S.x*r,S.y*n):o&&(o.scrollLeft+=S.x*r,o.scrollTop+=S.y*n),r>=1&&(S.prevTimeX=a),n>=1&&(S.prevTimeY=a)),S.isScrolling&&(L(S.i),S.i=j(S.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){S.isScrolling=!0,L(S.i),S.interaction=e,S.prevTimeX=(new Date).getTime(),S.prevTimeY=(new Date).getTime(),S.i=j(S.scroll)},stop:function(){S.isScrolling=!1,L(S.i)}},E="ontouchstart"in a||a.DocumentTouch&&s instanceof a.DocumentTouch,C=p&&!/Chrome/.test(navigator.userAgent),O=E||C?20:10,T=1,A=0,x=1/0,k=s.all&&!a.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},R={drag:!0,resize:!0,gesture:!0},P="onmousewheel"in s?"mousewheel":"wheel",D=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],M={},F="Opera"==navigator.appName&&E&&navigator.userAgent.match("Presto"),N=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),I="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",j=r.requestAnimationFrame,L=r.cancelAnimationFrame,B=function(){var e="attachEvent"in a&&!("addEventListener"in a),t=e?"attachEvent":"addEventListener",r=e?"detachEvent":"removeEventListener",n=e?"on":"",i=[],o=[],s=[];function preventDef(){this.returnValue=!1}function stopProp(){this.cancelBubble=!0}function stopImmProp(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}return{add:function(r,a,u,l){var c=indexOf(i,r),f=o[c];if(f||(f={events:{},typeCount:0},c=i.push(r)-1,o.push(f),s.push(e?{supplied:[],wrapped:[],useCount:[]}:null)),f.events[a]||(f.events[a]=[],f.typeCount++),!contains(f.events[a],u)){var h;if(e){var p=s[c],d=indexOf(p.supplied,u),y=p.wrapped[d]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=r,e.preventDefault=e.preventDefault||preventDef,e.stopPropagation=e.stopPropagation||stopProp,e.stopImmediatePropagation=e.stopImmediatePropagation||stopImmProp,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+getWindow(r).document.documentElement.scrollLeft,e.pageY=e.clientY+getWindow(r).document.documentElement.scrollTop),u(e))};h=r[t](n+a,y,Boolean(l)),-1===d?(p.supplied.push(u),p.wrapped.push(y),p.useCount.push(1)):p.useCount[d]++}else h=r[t](a,u,l||!1);return f.events[a].push(u),h}},remove:function remove(t,a,u,l){var c,f,h,p=indexOf(i,t),d=o[p],y=u;if(d&&d.events)if(e&&(h=indexOf((f=s[p]).supplied,u),y=f.wrapped[h]),"all"!==a){if(d.events[a]){var g=d.events[a].length;if("all"===u){for(c=0;c<g;c++)remove(t,a,d.events[a][c],Boolean(l));return}for(c=0;c<g;c++)if(d.events[a][c]===u){t[r](n+a,y,l||!1),d.events[a].splice(c,1),e&&f&&(f.useCount[h]--,0===f.useCount[h]&&(f.supplied.splice(h,1),f.wrapped.splice(h,1),f.useCount.splice(h,1)));break}d.events[a]&&0===d.events[a].length&&(d.events[a]=null,d.typeCount--)}d.typeCount||(o.splice(p,1),i.splice(p,1),s.splice(p,1))}else for(a in d.events)d.events.hasOwnProperty(a)&&remove(t,a,"all")},useAttachEvent:e,_elements:i,_targets:o,_attachedListeners:s}}(),H={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};Interaction.prototype={getPageXY:function(e,t){return getPageXY(e,t)},getClientXY:function(e,t){return getClientXY(e,t)},setEventXY:function(e,t){return r=e,getPageXY(i=(n=t).length>1?pointerAverage(n):n[0],y),r.page.x=y.x,r.page.y=y.y,getClientXY(i,y),r.client.x=y.x,r.client.y=y.y,void(r.timeStamp=(new Date).getTime());var r,n,i},pointerOver:function(e,t,r){if(!this.prepared.name&&this.mouse){var i=[],o=[],a=this.element;this.addPointer(e),!this.target||!testIgnore(this.target,this.element,r)&&testAllow(this.target,this.element,r)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var s=m.get(r),u=s&&!testIgnore(s,r,r)&&testAllow(s,r,r)&&validateAction(s.getAction(e,t,this,r),s);u&&!withinInteractionLimit(s,r,u)&&(u=null),u?(this.target=s,this.element=r,this.matches=[],this.matchElements=[]):(m.forEachSelector(function(e,t){e&&isElement(r)&&inContext(e,r)&&!testIgnore(e,r,r)&&testAllow(e,r,r)&&matchesSelector(r,t)&&(i.push(e),o.push(r))}),this.validateSelector(e,t,i,o)?(this.matches=i,this.matchElements=o,this.pointerHover(e,t,this.matches,this.matchElements),B.add(r,C?n.move:"mousemove",U.pointerHover)):this.target&&(nodeContains(a,r)?(this.pointerHover(e,t,this.matches,this.matchElements),B.add(this.element,C?n.move:"mousemove",U.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,r,n,i,o){var a,s=this.target;!this.prepared.name&&this.mouse?(this.setEventXY(this.curCoords,[e]),i?a=this.validateSelector(e,t,i,o):s&&(a=validateAction(s.getAction(this.pointers[0],t,this,this.element),this.target)),s&&s.options.styleCursor&&(s._doc.documentElement.style.cursor=a?getActionCursor(a):"")):this.prepared.name&&this.checkAndPreventDefault(t,s,this.element)},pointerOut:function(e,t,r){this.prepared.name||(m.get(r)||B.remove(r,C?n.move:"mousemove",U.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,r,n){var o,a=this,s=B.useAttachEvent?extend({},t):t,u=r,l=this.addPointer(e);if(this.holdTimers[l]=setTimeout(function(){a.pointerHold(B.useAttachEvent?s:e,s,r,n)},w._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;isElement(u);){if(u===this.element&&validateAction(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name)return L(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,r,"down");u=parentElement(u)}if(this.interacting())this.collectEventTargets(e,t,r,"down");else{for(this.setEventXY(this.curCoords,[e]),this.downEvent=t;isElement(u)&&!o;)this.matches=[],this.matchElements=[],m.forEachSelector(pushMatches),o=this.validateSelector(e,t,this.matches,this.matchElements),u=parentElement(u);if(o)return this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.collectEventTargets(e,t,r,"down"),this.pointerDown(e,t,r,n,o);this.downTimes[l]=(new Date).getTime(),this.downTargets[l]=r,pointerExtend(this.downPointer,e),copyCoords(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,this.collectEventTargets(e,t,r,"down")}function pushMatches(e,t,n){var o=i?n.querySelectorAll(t):void 0;inContext(e,u)&&!testIgnore(e,u,r)&&testAllow(e,u,r)&&matchesSelector(u,t,o)&&(a.matches.push(e),a.matchElements.push(u))}},pointerDown:function(e,t,r,n,i){if(i||this.inertiaStatus.active||!this.pointerWasMoved||!this.prepared.name){this.pointerIsDown=!0,this.downEvent=t;var o,a=this.addPointer(e);if(this.pointerIds.length>1&&this.target._element===this.element){var s=validateAction(i||this.target.getAction(e,t,this,this.element),this.target);withinInteractionLimit(this.target,this.element,s)&&(o=s),this.prepared.name=null}else if(!this.prepared.name){var u=m.get(n);u&&!testIgnore(u,n,r)&&testAllow(u,n,r)&&(o=validateAction(i||u.getAction(e,t,this,n),u))&&withinInteractionLimit(u,n,o)&&(this.target=u,this.element=n)}var l=this.target,c=l&&l.options;if(!l||!i&&this.prepared.name)this.inertiaStatus.active&&n===this.element&&validateAction(l.getAction(e,t,this,this.element),l).name===this.prepared.name&&(L(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,l,this.element));else{if(o=o||validateAction(i||l.getAction(e,t,this,n),l,this.element),this.setEventXY(this.startCoords,this.pointers),!o)return;c.styleCursor&&(l._doc.documentElement.style.cursor=getActionCursor(o)),this.resizeAxes="resize"===o.name?o.axis:null,"gesture"===o&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[a]=(new Date).getTime(),this.downTargets[a]=r,pointerExtend(this.downPointer,e),copyCoords(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,l,this.element)}}else this.checkAndPreventDefault(t,this.target,this.element)},setModifications:function(e,t){var r=this.target,n=!0,i=checkSnap(r,this.prepared.name)&&(!r.options[this.prepared.name].snap.endOnly||t),o=checkRestrict(r,this.prepared.name)&&(!r.options[this.prepared.name].restrict.endOnly||t);return i?this.setSnapping(e):this.snapStatus.locked=!1,o?this.setRestriction(e):this.restrictStatus.restricted=!1,i&&this.snapStatus.locked&&!this.snapStatus.changed?n=o&&this.restrictStatus.restricted&&this.restrictStatus.changed:o&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(n=!1),n},setStartOffsets:function(e,t,r){var n,i,o=t.getRect(r),a=getOriginXY(t,r),s=t.options[this.prepared.name].snap,u=t.options[this.prepared.name].restrict;o?(this.startOffset.left=this.startCoords.page.x-o.left,this.startOffset.top=this.startCoords.page.y-o.top,this.startOffset.right=o.right-this.startCoords.page.x,this.startOffset.bottom=o.bottom-this.startCoords.page.y,n="width"in o?o.width:o.right-o.left,i="height"in o?o.height:o.bottom-o.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var l=s&&"startCoords"===s.offset?{x:this.startCoords.page.x-a.x,y:this.startCoords.page.y-a.y}:s&&s.offset||{x:0,y:0};if(o&&s&&s.relativePoints&&s.relativePoints.length)for(var c=0;c<s.relativePoints.length;c++)this.snapOffsets.push({x:this.startOffset.left-n*s.relativePoints[c].x+l.x,y:this.startOffset.top-i*s.relativePoints[c].y+l.y});else this.snapOffsets.push(l);o&&u.elementRect?(this.restrictOffset.left=this.startOffset.left-n*u.elementRect.left,this.restrictOffset.top=this.startOffset.top-i*u.elementRect.top,this.restrictOffset.right=this.startOffset.right-n*(1-u.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-i*(1-u.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,r){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(-1===indexOf(v,this)&&v.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=r,this.setStartOffsets(e.name,t,r),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,r,n,o){if(this.inertiaStatus.active){var a=this.inertiaStatus.upCoords.page,s=this.inertiaStatus.upCoords.client,u={pageX:a.x+this.inertiaStatus.sx,pageY:a.y+this.inertiaStatus.sy,clientX:s.x+this.inertiaStatus.sx,clientY:s.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[u])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var l,c,f=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,h=this.mouse?0:indexOf(this.pointerIds,getPointerId(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(l=this.curCoords.client.x-this.startCoords.client.x,c=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=d(l,c)>T),f||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[h]),this.collectEventTargets(e,t,r,"move")),this.pointerIsDown)if(f&&this.pointerWasMoved&&!o)this.checkAndPreventDefault(t,this.target,this.element);else if(setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof InteractEvent&&/inertiastart/.test(e.type))){if(!this.interacting()&&(setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var p=Math.abs(l),y=Math.abs(c),g=this.target.options.drag.axis,v=p>y?"x":p<y?"y":"xy";if("xy"!==v&&"xy"!==g&&g!==v){this.prepared.name=null;for(var b=r;isElement(b);){var _=m.get(b);if(_&&_!==this.target&&!_.options.drag.manualStart&&"drag"===_.getAction(this.downPointer,this.downEvent,this,b).name&&checkAxis(v,_)){this.prepared.name="drag",this.target=_,this.element=b;break}b=parentElement(b)}if(!this.prepared.name){var w=this,S=function(e,t,n){var o=i?n.querySelectorAll(t):void 0;if(e!==w.target)return inContext(e,r)&&!e.options.drag.manualStart&&!testIgnore(e,b,r)&&testAllow(e,b,r)&&matchesSelector(b,t,o)&&"drag"===e.getAction(w.downPointer,w.downEvent,w,b).name&&checkAxis(v,e)&&withinInteractionLimit(e,b,"drag")?e:void 0};for(b=r;isElement(b);){var E=m.forEachSelector(S);if(E){this.prepared.name="drag",this.target=E,this.element=b;break}b=parentElement(b)}}}}var C=!!this.prepared.name&&!this.interacting();if(C&&(this.target.options[this.prepared.name].manualStart||!withinInteractionLimit(this.target,this.element,this.prepared)))return void this.stop(t);if(this.prepared.name&&this.target)C&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,o)||C)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element)}copyCoords(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)}},dragStart:function(e){var t=new InteractEvent(this,e,"drag","start",this.element);this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var r=this.getDropEvents(e,t);return r.activate&&this.fireActiveDrops(r.activate),t},dragMove:function(e){var t=this.target,r=new InteractEvent(this,e,"drag","move",this.element),n=this.element,i=this.getDrop(r,e,n);this.dropTarget=i.dropzone,this.dropElement=i.element;var o=this.getDropEvents(e,r);return t.fire(r),o.leave&&this.prevDropTarget.fire(o.leave),o.enter&&this.dropTarget.fire(o.enter),o.move&&this.dropTarget.fire(o.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,r},resizeStart:function(e){var t=new InteractEvent(this,e,"resize","start",this.element);if(this.prepared.edges){var r=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var n=extend({},this.prepared.edges);n.top=n.top||n.left&&!n.bottom,n.left=n.left||n.top&&!n.right,n.bottom=n.bottom||n.right&&!n.top,n.right=n.right||n.bottom&&!n.left,this.prepared._linkedEdges=n}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=r.width/r.height),this.resizeRects={start:r,current:extend({},r),restricted:extend({},r),previous:extend({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new InteractEvent(this,e,"resize","move",this.element),r=this.prepared.edges,n=this.target.options.resize.invert,i="reposition"===n||"negate"===n;if(r){var o,a=t.dx,s=t.dy,u=this.resizeRects.start,l=this.resizeRects.current,c=this.resizeRects.restricted,f=this.resizeRects.delta,h=extend(this.resizeRects.previous,c),p=r;if(this.target.options.resize.preserveAspectRatio){var d=this.resizeStartAspectRatio;r=this.prepared._linkedEdges,p.left&&p.bottom||p.right&&p.top?s=-a/d:p.left||p.right?s=a/d:(p.top||p.bottom)&&(a=s*d)}else this.target.options.resize.square&&(r=this.prepared._linkedEdges,p.left&&p.bottom||p.right&&p.top?s=-a:p.left||p.right?s=a:(p.top||p.bottom)&&(a=s));if(r.top&&(l.top+=s),r.bottom&&(l.bottom+=s),r.left&&(l.left+=a),r.right&&(l.right+=a),i){if(extend(c,l),"reposition"===n)c.top>c.bottom&&(o=c.top,c.top=c.bottom,c.bottom=o),c.left>c.right&&(o=c.left,c.left=c.right,c.right=o)}else c.top=Math.min(l.top,u.bottom),c.bottom=Math.max(l.bottom,u.top),c.left=Math.min(l.left,u.right),c.right=Math.max(l.right,u.left);for(var y in c.width=c.right-c.left,c.height=c.bottom-c.top,c)f[y]=c[y]-h[y];t.edges=this.prepared.edges,t.rect=c,t.deltaRect=f}return this.target.fire(t),t},gestureStart:function(e){var t=new InteractEvent(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){return this.pointerIds.length?((t=new InteractEvent(this,e,"gesture","move",this.element)).ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===1/0||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t):this.prevEvent;var t},pointerHold:function(e,t,r){this.collectEventTargets(e,t,r,"hold")},pointerUp:function(e,t,r,n){var i=this.mouse?0:indexOf(this.pointerIds,getPointerId(e));clearTimeout(this.holdTimers[i]),this.collectEventTargets(e,t,r,"up"),this.collectEventTargets(e,t,r,"tap"),this.pointerEnd(e,t,r,n),this.removePointer(e)},pointerCancel:function(e,t,r,n){var i=this.mouse?0:indexOf(this.pointerIds,getPointerId(e));clearTimeout(this.holdTimers[i]),this.collectEventTargets(e,t,r,"cancel"),this.pointerEnd(e,t,r,n),this.removePointer(e)},ie8Dblclick:function(e,t,r){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&r===this.prevTap.target&&(this.downTargets[0]=r,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,r,"tap"))},pointerEnd:function(e,t,r,n){var i,o=this.target,a=o&&o.options,s=a&&this.prepared.name&&a[this.prepared.name].inertia,u=this.inertiaStatus;if(this.interacting()){if(u.active&&!u.ending)return;var l,c,f,h=(new Date).getTime(),p=!1,d=checkSnap(o,this.prepared.name)&&a[this.prepared.name].snap.endOnly,y=checkRestrict(o,this.prepared.name)&&a[this.prepared.name].restrict.endOnly,g=0,m=0;if(l=this.dragging?"x"===a.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===a.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,f=(c=s&&s.enabled&&"gesture"!==this.prepared.name&&t!==u.startEvent)&&h-this.curCoords.timeStamp<50&&l>s.minSpeed&&l>s.endSpeed,c&&!f&&(d||y)){var v={};v.snap=v.restrict=v,d&&(this.setSnapping(this.curCoords.page,v),v.locked&&(g+=v.dx,m+=v.dy)),y&&(this.setRestriction(this.curCoords.page,v),v.restricted&&(g+=v.dx,m+=v.dy)),(g||m)&&(p=!0)}if(f||p){if(copyCoords(u.upCoords,this.curCoords),this.pointers[0]=u.startEvent=new InteractEvent(this,t,this.prepared.name,"inertiastart",this.element),u.t0=h,o.fire(u.startEvent),f){u.vx0=this.pointerDelta.client.vx,u.vy0=this.pointerDelta.client.vy,u.v0=l,this.calcInertia(u);var b,_=extend({},this.curCoords.page),w=getOriginXY(o,this.element);if(_.x=_.x+u.xe-w.x,_.y=_.y+u.ye-w.y,(b={useStatusXY:!0,x:_.x,y:_.y,dx:0,dy:0,snap:null}).snap=b,g=m=0,d){var S=this.setSnapping(this.curCoords.page,b);S.locked&&(g+=S.dx,m+=S.dy)}if(y){var E=this.setRestriction(this.curCoords.page,b);E.restricted&&(g+=E.dx,m+=E.dy)}u.modifiedXe+=g,u.modifiedYe+=m,u.i=j(this.boundInertiaFrame)}else u.smoothEnd=!0,u.xe=g,u.ye=m,u.sx=u.sy=0,u.i=j(this.boundSmoothEndFrame);return void(u.active=!0)}(d||y)&&this.pointerMove(e,t,r,n,!0)}if(this.dragging){i=new InteractEvent(this,t,"drag","end",this.element);var C=this.element,O=this.getDrop(i,t,C);this.dropTarget=O.dropzone,this.dropElement=O.element;var T=this.getDropEvents(t,i);T.leave&&this.prevDropTarget.fire(T.leave),T.enter&&this.dropTarget.fire(T.enter),T.drop&&this.dropTarget.fire(T.drop),T.deactivate&&this.fireActiveDrops(T.deactivate),o.fire(i)}else this.resizing?(i=new InteractEvent(this,t,"resize","end",this.element),o.fire(i)):this.gesturing&&(i=new InteractEvent(this,t,"gesture","end",this.element),o.fire(i));this.stop(t)},collectDrops:function(e){var t,r=[],n=[];for(e=e||this.element,t=0;t<m.length;t++)if(m[t].options.drop.enabled){var i=m[t],o=i.options.drop.accept;if(!(isElement(o)&&o!==e||isString(o)&&!matchesSelector(e,o)))for(var a=i.selector?i._context.querySelectorAll(i.selector):[i._element],s=0,u=a.length;s<u;s++){var l=a[s];l!==e&&(r.push(i),n.push(l))}}return{dropzones:r,elements:n}},fireActiveDrops:function(e){var t,r,n,i;for(t=0;t<this.activeDrops.dropzones.length;t++)r=this.activeDrops.dropzones[t],(n=this.activeDrops.elements[t])!==i&&(e.target=n,r.fire(e)),i=n},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var r=0;r<this.activeDrops.dropzones.length;r++)this.activeDrops.rects[r]=this.activeDrops.dropzones[r].getRect(this.activeDrops.elements[r])},getDrop:function(e,t,r){var n=[];b&&this.setActiveDrops(r);for(var i=0;i<this.activeDrops.dropzones.length;i++){var o=this.activeDrops.dropzones[i],a=this.activeDrops.elements[i],s=this.activeDrops.rects[i];n.push(o.dropCheck(e,t,this.target,r,a,s)?a:null)}var u=function(e){var t,r,n,i,o,a=e[0],s=a?0:-1,u=[],f=[];for(i=1;i<e.length;i++)if((t=e[i])&&t!==a)if(a){if(t.parentNode!==t.ownerDocument)if(a.parentNode!==t.ownerDocument){if(!u.length)for(r=a;r.parentNode&&r.parentNode!==r.ownerDocument;)u.unshift(r),r=r.parentNode;if(a instanceof h&&t instanceof l&&!(t instanceof c)){if(t===a.parentNode)continue;r=t.ownerSVGElement}else r=t;for(f=[];r.parentNode!==r.ownerDocument;)f.unshift(r),r=r.parentNode;for(o=0;f[o]&&f[o]===u[o];)o++;var p=[f[o-1],f[o],u[o]];for(n=p[0].lastChild;n;){if(n===p[1]){a=t,s=i,u=[];break}if(n===p[2])break;n=n.previousSibling}}else a=t,s=i}else a=t,s=i;return s}(n);return{dropzone:this.activeDrops.dropzones[u]||null,element:this.activeDrops.elements[u]||null}},getDropEvents:function(e,t){var r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(r.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(r.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(r.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(r.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(r.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(r.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),r},currentAction:function(){return(this.dragging?"drag":this.resizing&&"resize")||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){S.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&isFunction(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var r=0;r<this.pointers.length;r++)-1===indexOf(this.pointerIds,getPointerId(this.pointers[r]))&&this.pointers.splice(r,1)},inertiaFrame:function(){var e,t,r,n,i,o,a,s=this.inertiaStatus,u=this.target.options[this.prepared.name].inertia.resistance,l=(new Date).getTime()/1e3-s.t0;if(l<s.te){var c=1-(Math.exp(-u*l)-s.lambda_v0)/s.one_ve_v0;if(s.modifiedXe===s.xe&&s.modifiedYe===s.ye)s.sx=s.xe*c,s.sy=s.ye*c;else{var f=(e=0,t=0,r=s.xe,n=s.ye,i=s.modifiedXe,o=s.modifiedYe,{x:_getQBezierValue(a=c,e,r,i),y:_getQBezierValue(a,t,n,o)});s.sx=f.x,s.sy=f.y}this.pointerMove(s.startEvent,s.startEvent),s.i=j(this.boundInertiaFrame)}else s.ending=!0,s.sx=s.modifiedXe,s.sy=s.modifiedYe,this.pointerMove(s.startEvent,s.startEvent),this.pointerEnd(s.startEvent,s.startEvent),s.active=s.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,r=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<r?(e.sx=easeOutQuad(t,0,e.xe,r),e.sy=easeOutQuad(t,0,e.ye,r),this.pointerMove(e.startEvent,e.startEvent),e.i=j(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=getPointerId(e),r=this.mouse?0:indexOf(this.pointerIds,t);return-1===r&&(r=this.pointerIds.length),this.pointerIds[r]=t,this.pointers[r]=e,r},removePointer:function(e){var t=getPointerId(e),r=this.mouse?0:indexOf(this.pointerIds,t);-1!==r&&(this.pointers.splice(r,1),this.pointerIds.splice(r,1),this.downTargets.splice(r,1),this.downTimes.splice(r,1),this.holdTimers.splice(r,1))},recordPointer:function(e){var t=this.mouse?0:indexOf(this.pointerIds,getPointerId(e));-1!==t&&(this.pointers[t]=e)},collectEventTargets:function(e,t,r,n){var o=this.mouse?0:indexOf(this.pointerIds,getPointerId(e));if("tap"!==n||!this.pointerWasMoved&&this.downTargets[o]&&this.downTargets[o]===r){for(var a=[],s=[],u=r;u;)interact.isSet(u)&&interact(u)._iEvents[n]&&(a.push(interact(u)),s.push(u)),m.forEachSelector(collectSelectors),u=parentElement(u);(a.length||"tap"===n)&&this.firePointers(e,t,r,a,s,n)}function collectSelectors(e,t,o){var l=i?o.querySelectorAll(t):void 0;e._iEvents[n]&&isElement(u)&&inContext(e,u)&&!testIgnore(e,u,r)&&testAllow(e,u,r)&&matchesSelector(u,t,l)&&(a.push(e),s.push(u))}},firePointers:function(e,t,r,n,i,o){var a,s,u,l=this.mouse?0:indexOf(this.pointerIds,getPointerId(e)),c={};for("doubletap"===o?c=e:(pointerExtend(c,t),t!==e&&pointerExtend(c,e),c.preventDefault=preventOriginalDefault,c.stopPropagation=InteractEvent.prototype.stopPropagation,c.stopImmediatePropagation=InteractEvent.prototype.stopImmediatePropagation,c.interaction=this,c.timeStamp=(new Date).getTime(),c.originalEvent=t,c.originalPointer=e,c.type=o,c.pointerId=getPointerId(e),c.pointerType=this.mouse?"mouse":C?isString(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===o&&(c.dt=c.timeStamp-this.downTimes[l],s=c.timeStamp-this.tapTime,u=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===c.target&&s<500),c.double=u,this.tapTime=c.timeStamp),a=0;a<n.length&&(c.currentTarget=i[a],c.interactable=n[a],n[a].fire(c),!(c.immediatePropagationStopped||c.propagationStopped&&i[a+1]!==c.currentTarget));a++);if(u){var f={};extend(f,c),f.dt=s,f.type="doubletap",this.collectEventTargets(f,t,r,"doubletap"),this.prevTap=f}else"tap"===o&&(this.prevTap=c)},validateSelector:function(e,t,r,n){for(var i=0,o=r.length;i<o;i++){var a=r[i],s=n[i],u=validateAction(a.getAction(e,t,this,s),a);if(u&&withinInteractionLimit(a,s,u))return this.target=a,this.element=s,u}},setSnapping:function(e,t){var r,n,i,o=this.target.options[this.prepared.name].snap,a=[];if((t=t||this.snapStatus).useStatusXY)n={x:t.x,y:t.y};else{var s=getOriginXY(this.target,this.element);(n=extend({},e)).x-=s.x,n.y-=s.y}t.realX=n.x,t.realY=n.y,n.x=n.x-this.inertiaStatus.resumeDx,n.y=n.y-this.inertiaStatus.resumeDy;for(var u=o.targets?o.targets.length:0,l=0;l<this.snapOffsets.length;l++){var c={x:n.x-this.snapOffsets[l].x,y:n.y-this.snapOffsets[l].y};for(i=0;i<u;i++)(r=isFunction(o.targets[i])?o.targets[i](c.x,c.y,this):o.targets[i])&&a.push({x:isNumber(r.x)?r.x+this.snapOffsets[l].x:c.x,y:isNumber(r.y)?r.y+this.snapOffsets[l].y:c.y,range:isNumber(r.range)?r.range:o.range})}var f,h={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(i=0,u=a.length;i<u;i++){var p=(r=a[i]).range,y=r.x-n.x,g=r.y-n.y,m=d(y,g),v=m<=p;p===1/0&&h.inRange&&h.range!==1/0&&(v=!1),h.target&&!(v?h.inRange&&p!==1/0?m/p<h.distance/h.range:p===1/0&&h.range!==1/0||m<h.distance:!h.inRange&&m<h.distance)||(p===1/0&&(v=!0),h.target=r,h.distance=m,h.range=p,h.inRange=v,h.dx=y,h.dy=g,t.range=p)}return h.target?(f=t.snappedX!==h.target.x||t.snappedY!==h.target.y,t.snappedX=h.target.x,t.snappedY=h.target.y):(f=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=h.dx,t.dy=h.dy,t.changed=f||h.inRange&&!t.locked,t.locked=h.inRange,t},setRestriction:function(e,t){var r,n,i,o,a=this.target,s=a&&a.options[this.prepared.name].restrict,u=s&&s.restriction;return u?(r=r=(t=t||this.restrictStatus).useStatusXY?{x:t.x,y:t.y}:extend({},e),t.snap&&t.snap.locked&&(r.x+=t.snap.dx||0,r.y+=t.snap.dy||0),r.x-=this.inertiaStatus.resumeDx,r.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1,isString(u)&&!(u="parent"===u?parentElement(this.element):"self"===u?a.getRect(this.element):closest(this.element,u))?t:(isFunction(u)&&(u=u(r.x,r.y,this.element)),isElement(u)&&(u=getElementRect(u)),n=u,u?"x"in u&&"y"in u?(i=Math.max(Math.min(n.x+n.width-this.restrictOffset.right,r.x),n.x+this.restrictOffset.left),o=Math.max(Math.min(n.y+n.height-this.restrictOffset.bottom,r.y),n.y+this.restrictOffset.top)):(i=Math.max(Math.min(n.right-this.restrictOffset.right,r.x),n.left+this.restrictOffset.left),o=Math.max(Math.min(n.bottom-this.restrictOffset.bottom,r.y),n.top+this.restrictOffset.top)):(i=r.x,o=r.y),t.dx=i-r.x,t.dy=o-r.y,t.changed=t.restrictedX!==i||t.restrictedY!==o,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=i,t.restrictedY=o,t)):t},checkAndPreventDefault:function(e,t,r){if(t=t||this.target){var n=t.options,i=n.preventDefault;if("auto"!==i||!r||/^(input|select|textarea)$/i.test(e.target.nodeName))"always"!==i||e.preventDefault();else{if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==n.drag.axis)return;if(n[this.prepared.name]&&n[this.prepared.name].manualStart&&!this.interacting())return;e.preventDefault()}}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,r=t.resistance,n=-Math.log(t.endSpeed/e.v0)/r;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-n)/r,e.modifiedYe=e.ye=(e.vy0-n)/r,e.te=n,e.lambda_v0=r/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(this.interacting()&&function(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].autoScroll&&r[t].autoScroll.enabled}(this.target,this.prepared.name))if(this.inertiaStatus.active)S.x=S.y=0;else{var t,r,n,i,o=this.target.options[this.prepared.name].autoScroll,a=o.container||getWindow(this.element);if(isWindow(a))i=e.clientX<S.margin,t=e.clientY<S.margin,r=e.clientX>a.innerWidth-S.margin,n=e.clientY>a.innerHeight-S.margin;else{var s=getElementClientRect(a);i=e.clientX<s.left+S.margin,t=e.clientY<s.top+S.margin,r=e.clientX>s.right-S.margin,n=e.clientY>s.bottom-S.margin}S.x=r?1:i?-1:0,S.y=n?1:t?-1:0,S.isScrolling||(S.margin=o.margin,S.speed=o.speed,S.start(this))}},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},InteractEvent.prototype={preventDefault:blank,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var U={},q=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],V=0,W=q.length;V<W;V++){var z=q[V];U[z]=doOnInteractions(z)}m.indexOfElement=function(e,t){t=t||s;for(var r=0;r<this.length;r++){var n=this[r];if(n.selector===e&&n._context===t||!n.selector&&n._element===e)return r}return-1},m.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},m.forEachSelector=function(e){for(var t=0;t<this.length;t++){var r=this[t];if(r.selector){var n=e(r,r.selector,r._context,t,this);if(void 0!==n)return n}}},Interactable.prototype={setOnEvents:function(e,t){return"drop"===e?(isFunction(t.ondrop)&&(this.ondrop=t.ondrop),isFunction(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),isFunction(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),isFunction(t.ondragenter)&&(this.ondragenter=t.ondragenter),isFunction(t.ondragleave)&&(this.ondragleave=t.ondragleave),isFunction(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,isFunction(t.onstart)&&(this[e+"start"]=t.onstart),isFunction(t.onmove)&&(this[e+"move"]=t.onmove),isFunction(t.onend)&&(this[e+"end"]=t.onend),isFunction(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return isObject(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):isBool(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var r in t)r in w[e]&&(isObject(t[r])?(this.options[e][r]=extend(this.options[e][r]||{},t[r]),isObject(w.perAction[r])&&"enabled"in w.perAction[r]&&(this.options[e][r].enabled=!1!==t[r].enabled)):isBool(t[r])&&isObject(w.perAction[r])?this.options[e][r].enabled=t[r]:void 0!==t[r]&&(this.options[e][r]=t[r]))},dropzone:function(e){return isObject(e)?(this.options.drop.enabled=!1!==e.enabled,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:isNumber(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):isBool(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,r,n,i,o){var a=!1;if(!(o=o||this.getRect(i)))return!!this.options.drop.checker&&this.options.drop.checker(e,t,a,this,i,r,n);var s=this.options.drop.overlap;if("pointer"===s){var u,l,c=getPageXY(e),f=getOriginXY(r,n);c.x+=f.x,c.y+=f.y,u=c.x>o.left&&c.x<o.right,l=c.y>o.top&&c.y<o.bottom,a=u&&l}var h=r.getRect(n);if("center"===s){var p=h.left+h.width/2,d=h.top+h.height/2;a=p>=o.left&&p<=o.right&&d>=o.top&&d<=o.bottom}isNumber(s)&&(a=Math.max(0,Math.min(o.right,h.right)-Math.max(o.left,h.left))*Math.max(0,Math.min(o.bottom,h.bottom)-Math.max(o.top,h.top))/(h.width*h.height)>=s);return this.options.drop.checker&&(a=this.options.drop.checker(e,t,a,this,i,r,n)),a},dropChecker:function(e){return isFunction(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return isElement(e)?(this.options.drop.accept=e,this):trySelector(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return isObject(e)?(this.options.resize.enabled=!1!==e.enabled,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=w.resize.axis),isBool(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:isBool(e.square)&&(this.options.resize.square=e.square),this):isBool(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return isBool(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return isObject(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):isBool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return isObject(e)?e=extend({actions:["drag","resize"]},e):isBool(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var r,n=t&&isArray(t.actions)?t.actions:["drag"];if(isObject(t)||isBool(t)){for(r=0;r<n.length;r++){var i=/resize/.test(n[r])?"resize":n[r];if(isObject(this.options[i])){var o=this.options[i][e];isObject(t)?(extend(o,t),o.enabled=!1!==t.enabled,"snap"===e&&("grid"===o.mode?o.targets=[interact.createSnapGrid(extend({offset:o.gridOffset||{x:0,y:0}},o.grid||{}))]:"anchor"===o.mode?o.targets=o.anchors:"path"===o.mode&&(o.targets=o.paths),"elementOrigin"in t&&(o.relativePoints=[t.elementOrigin]))):isBool(t)&&(o.enabled=t)}}return this}var a={},s=["drag","resize","gesture"];for(r=0;r<s.length;r++)e in w[s[r]]&&(a[s[r]]=this.options[s[r]][e]);return a},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,r,n){var i=this.defaultActionChecker(e,r,n);return this.options.actionChecker?this.options.actionChecker(e,t,i,this,n,r):i},defaultActionChecker:defaultActionChecker,actionChecker:function(e){return isFunction(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!isElement(e)&&(e=this._context.querySelector(this.selector)),getElementRect(e)},rectChecker:function(e){return isFunction(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return isBool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):isBool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return trySelector(e)?(this.options.origin=e,this):isObject(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!isObject(e))return this.setOptions("restrict",e);for(var t,r=["drag","resize","gesture"],n=0;n<r.length;n++){var i=r[n];if(i in e){var o=extend({actions:[i],restriction:e[i]},e);t=this.setOptions("restrict",o)}}return t},context:function(){return this._context},_context:s,ignoreFrom:function(e){return trySelector(e)?(this.options.ignoreFrom=e,this):isElement(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return trySelector(e)?(this.options.allowFrom=e,this):isElement(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!contains(D,e.type))return this;var t,r,n,i="on"+e.type;if(e.type in this._iEvents)for(r=0,n=(t=this._iEvents[e.type]).length;r<n&&!e.immediatePropagationStopped;r++)t[r].name,t[r](e);if(isFunction(this[i])&&(this[i].name,this[i](e)),e.type in M&&(t=M[e.type]))for(r=0,n=t.length;r<n&&!e.immediatePropagationStopped;r++)t[r].name,t[r](e);return this},on:function(e,t,r){var n;if(isString(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),isArray(e)){for(n=0;n<e.length;n++)this.on(e[n],t,r);return this}if(isObject(e)){for(var i in e)this.on(i,e[i],t);return this}if("wheel"===e&&(e=P),r=!!r,contains(D,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!_[e])for(_[e]={selectors:[],contexts:[],listeners:[]},n=0;n<g.length;n++)B.add(g[n],e,delegateListener),B.add(g[n],e,delegateUseCapture,!0);var o,a=_[e];for(o=a.selectors.length-1;o>=0&&(a.selectors[o]!==this.selector||a.contexts[o]!==this._context);o--);-1===o&&(o=a.selectors.length,a.selectors.push(this.selector),a.contexts.push(this._context),a.listeners.push([])),a.listeners[o].push([t,r])}else B.add(this._element,e,t,r);return this},off:function(e,t,r){var n;if(isString(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),isArray(e)){for(n=0;n<e.length;n++)this.off(e[n],t,r);return this}if(isObject(e)){for(var i in e)this.off(i,e[i],t);return this}var o,a=-1;if(r=!!r,"wheel"===e&&(e=P),contains(D,e))(o=this._iEvents[e])&&-1!==(a=indexOf(o,t))&&this._iEvents[e].splice(a,1);else if(this.selector){var s=_[e],u=!1;if(!s)return this;for(a=s.selectors.length-1;a>=0;a--)if(s.selectors[a]===this.selector&&s.contexts[a]===this._context){var l=s.listeners[a];for(n=l.length-1;n>=0;n--){var c=l[n][0],f=l[n][1];if(c===t&&f===r){l.splice(n,1),l.length||(s.selectors.splice(a,1),s.contexts.splice(a,1),s.listeners.splice(a,1),B.remove(this._context,e,delegateListener),B.remove(this._context,e,delegateUseCapture,!0),s.selectors.length||(_[e]=null)),u=!0;break}}if(u)break}}else B.remove(this._element,e,t,r);return this},set:function(e){isObject(e)||(e={}),this.options=extend({},w.base);var t,r=["drag","drop","resize","gesture"],n=["draggable","dropzone","resizable","gesturable"],i=extend(extend({},w.perAction),e[o]||{});for(t=0;t<r.length;t++){var o=r[t];this.options[o]=extend({},w[o]),this.setPerAction(o,i),this[n[t]](e[o])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(t=0,W=a.length;t<W;t++){var s=a[t];this.options[s]=w.base[s],s in e&&this[s](e[s])}return this},unset:function(){if(B.remove(this._element,"all"),isString(this.selector))for(var e in _)for(var t=_[e],r=0;r<t.selectors.length;r++){t.selectors[r]===this.selector&&t.contexts[r]===this._context&&(t.selectors.splice(r,1),t.contexts.splice(r,1),t.listeners.splice(r,1),t.selectors.length||(_[e]=null)),B.remove(this._context,e,delegateListener),B.remove(this._context,e,delegateUseCapture,!0);break}else B.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),m.splice(indexOf(m,this),1),interact}},Interactable.prototype.snap=warnOnce(Interactable.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),Interactable.prototype.restrict=warnOnce(Interactable.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),Interactable.prototype.inertia=warnOnce(Interactable.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),Interactable.prototype.autoScroll=warnOnce(Interactable.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),Interactable.prototype.squareResize=warnOnce(Interactable.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),Interactable.prototype.accept=warnOnce(Interactable.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),Interactable.prototype.dropChecker=warnOnce(Interactable.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),Interactable.prototype.context=warnOnce(Interactable.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),interact.isSet=function(e,t){return-1!==m.indexOfElement(e,t&&t.context)},interact.on=function(e,t,r){if(isString(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),isArray(e)){for(var n=0;n<e.length;n++)interact.on(e[n],t,r);return interact}if(isObject(e)){for(var i in e)interact.on(i,e[i],t);return interact}return contains(D,e)?M[e]?M[e].push(t):M[e]=[t]:B.add(s,e,t,r),interact},interact.off=function(e,t,r){if(isString(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),isArray(e)){for(var n=0;n<e.length;n++)interact.off(e[n],t,r);return interact}if(isObject(e)){for(var i in e)interact.off(i,e[i],t);return interact}var o;contains(D,e)?e in M&&-1!==(o=indexOf(M[e],t))&&M[e].splice(o,1):B.remove(s,e,t,r);return interact},interact.enableDragging=warnOnce(function(e){return null!==e&&void 0!==e?(R.drag=e,interact):R.drag},"interact.enableDragging is deprecated and will soon be removed."),interact.enableResizing=warnOnce(function(e){return null!==e&&void 0!==e?(R.resize=e,interact):R.resize},"interact.enableResizing is deprecated and will soon be removed."),interact.enableGesturing=warnOnce(function(e){return null!==e&&void 0!==e?(R.gesture=e,interact):R.gesture},"interact.enableGesturing is deprecated and will soon be removed."),interact.eventTypes=D,interact.debug=function(){var e=v[0]||new Interaction;return{interactions:v,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:U.addPointer,removePointer:U.removePointer,recordPointer:U.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:Interactable,interactables:m,pointerIsDown:e.pointerIsDown,defaultOptions:w,defaultActionChecker:defaultActionChecker,actionCursors:k,dragMove:U.dragMove,resizeMove:U.resizeMove,gestureMove:U.gestureMove,pointerUp:U.pointerUp,pointerDown:U.pointerDown,pointerMove:U.pointerMove,pointerHover:U.pointerHover,eventTypes:D,events:B,globalEvents:M,delegatedEvents:_,prefixedPropREs:H}},interact.getPointerAverage=pointerAverage,interact.getTouchBBox=touchBBox,interact.getTouchDistance=touchDistance,interact.getTouchAngle=touchAngle,interact.getElementRect=getElementRect,interact.getElementClientRect=getElementClientRect,interact.matchesSelector=matchesSelector,interact.closest=closest,interact.margin=warnOnce(function(e){return isNumber(e)?(O=e,interact):O},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),interact.supportsTouch=function(){return E},interact.supportsPointerEvent=function(){return C},interact.stop=function(e){for(var t=v.length-1;t>=0;t--)v[t].stop(e);return interact},interact.dynamicDrop=function(e){return isBool(e)?(b=e,interact):b},interact.pointerMoveTolerance=function(e){return isNumber(e)?(T=e,this):T},interact.maxInteractions=function(e){return isNumber(e)?(x=e,this):x},interact.createSnapGrid=function(e){return function(t,r){var n=0,i=0;isObject(e.offset)&&(n=e.offset.x,i=e.offset.y);var o=Math.round((t-n)/e.x),a=Math.round((r-i)/e.y);return{x:o*e.x+n,y:a*e.y+i,range:e.range}}},listenToDocument(s),I in Element.prototype&&isFunction(Element.prototype[I])||(i=function(e,t,r){for(var n=0,i=(r=r||e.parentNode.querySelectorAll(t)).length;n<i;n++)if(r[n]===e)return!0;return!1}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!r.requestAnimationFrame;++n)j=r[t[n]+"RequestAnimationFrame"],L=r[t[n]+"CancelAnimationFrame"]||r[t[n]+"CancelRequestAnimationFrame"];j||(j=function(t){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),i=setTimeout(function(){t(r+n)},n);return e=r+n,i}),L||(L=function(e){clearTimeout(e)})}(),void 0!==e&&e.exports&&(t=e.exports=interact),t.interact=interact}function blank(){}function isElement(e){if(!e||"object"!=typeof e)return!1;var t=getWindow(e)||a;return/object|function/.test(typeof t.Element)?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName}function isWindow(e){return e===a||!(!e||!e.Window)&&e instanceof e.Window}function isDocFrag(e){return!!e&&e instanceof u}function isArray(e){return isObject(e)&&void 0!==typeof e.length&&isFunction(e.splice)}function isObject(e){return!!e&&"object"==typeof e}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isBool(e){return"boolean"==typeof e}function isString(e){return"string"==typeof e}function trySelector(e){return!!isString(e)&&(s.querySelector(e),!0)}function extend(e,t){for(var r in t)e[r]=t[r];return e}function pointerExtend(e,t){for(var r in t){var n=!1;for(var i in H)if(0===r.indexOf(i)&&H[i].test(r)){n=!0;break}n||(e[r]=t[r])}return e}function copyCoords(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function setEventDeltas(e,t,r){e.page.x=r.page.x-t.page.x,e.page.y=r.page.y-t.page.y,e.client.x=r.client.x-t.client.x,e.client.y=r.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var n=Math.max(e.timeStamp/1e3,.001);e.page.speed=d(e.page.x,e.page.y)/n,e.page.vx=e.page.x/n,e.page.vy=e.page.y/n,e.client.speed=d(e.client.x,e.page.y)/n,e.client.vx=e.client.x/n,e.client.vy=e.client.y/n}function isNativePointer(e){return e instanceof a.Event||E&&a.Touch&&e instanceof a.Touch}function getXY(e,t,r){return r=r||{},e=e||"page",r.x=t[e+"X"],r.y=t[e+"Y"],r}function getPageXY(e,t){return t=t||{},F&&isNativePointer(e)?(getXY("screen",e,t),t.x+=a.scrollX,t.y+=a.scrollY):getXY("page",e,t),t}function getClientXY(e,t){return t=t||{},F&&isNativePointer(e)?getXY("screen",e,t):getXY("client",e,t),t}function getPointerId(e){return isNumber(e.pointerId)?e.pointerId:e.identifier}function getActualElement(e){return e instanceof f?e.correspondingUseElement:e}function getWindow(e){if(isWindow(e))return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||a}function getElementClientRect(e){var t=e instanceof l?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function getElementRect(e){var t,r=getElementClientRect(e);if(!N&&r){var n={x:(t=(t=getWindow(e))||a).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};r.left+=n.x,r.right+=n.x,r.top+=n.y,r.bottom+=n.y}return r}function getTouchPair(e){var t=[];return isArray(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function pointerAverage(e){for(var t,r={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++)for(t in r)r[t]+=e[n][t];for(t in r)r[t]/=e.length;return r}function touchBBox(e){if(e.length||e.touches&&e.touches.length>1){var t=getTouchPair(e),r=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY);return{x:r,y:n,left:r,top:n,width:Math.max(t[0].pageX,t[1].pageX)-r,height:Math.max(t[0].pageY,t[1].pageY)-n}}}function touchDistance(e,t){var r=(t=t||w.deltaSource)+"X",n=t+"Y",i=getTouchPair(e),o=i[0][r]-i[1][r],a=i[0][n]-i[1][n];return d(o,a)}function touchAngle(e,t,r){var n=(r=r||w.deltaSource)+"X",i=r+"Y",o=getTouchPair(e),a=o[0][n]-o[1][n],s=o[0][i]-o[1][i],u=180*Math.atan(s/a)/Math.PI;if(isNumber(t)){var l=(u-t)%360;l>315?u-=360+u/360|0:l>135?u-=180+u/360|0:l<-315?u+=360+u/360|0:l<-135&&(u+=180+u/360|0)}return u}function getOriginXY(e,t){var r=e?e.options.origin:w.origin;return"parent"===r?r=parentElement(t):"self"===r?r=e.getRect(t):trySelector(r)&&(r=closest(t,r)||{x:0,y:0}),isFunction(r)&&(r=r(e&&t)),isElement(r)&&(r=getElementRect(r)),r.x="x"in r?r.x:r.left,r.y="y"in r?r.y:r.top,r}function _getQBezierValue(e,t,r,n){var i=1-e;return i*i*t+2*i*e*r+e*e*n}function easeOutQuad(e,t,r,n){return-r*(e/=n)*(e-2)+t}function nodeContains(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function closest(e,t){for(var r=parentElement(e);isElement(r);){if(matchesSelector(r,t))return r;r=parentElement(r)}return null}function parentElement(e){var t=e.parentNode;if(isDocFrag(t)){for(;(t=t.host)&&isDocFrag(t););return t}return t}function inContext(e,t){return e._context===t.ownerDocument||nodeContains(e._context,t)}function testIgnore(e,t,r){var n=e.options.ignoreFrom;return!(!n||!isElement(r))&&(isString(n)?matchesUpTo(r,n,t):!!isElement(n)&&nodeContains(n,r))}function testAllow(e,t,r){var n=e.options.allowFrom;return!n||!!isElement(r)&&(isString(n)?matchesUpTo(r,n,t):!!isElement(n)&&nodeContains(n,r))}function checkAxis(e,t){if(!t)return!1;var r=t.options.drag.axis;return"xy"===e||"xy"===r||r===e}function checkSnap(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].snap&&r[t].snap.enabled}function checkRestrict(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].restrict&&r[t].restrict.enabled}function withinInteractionLimit(e,t,r){for(var n=e.options,i=n[r.name].max,o=n[r.name].maxPerElement,a=0,s=0,u=0,l=0,c=v.length;l<c;l++){var f=v[l],h=f.prepared.name;if(f.interacting()){if(++a>=x)return!1;if(f.target===e){if((s+=h===r.name|0)>=i)return!1;if(f.element===t&&(u++,h!==r.name||u>=o))return!1}}}return x>0}function Interaction(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},isFunction(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,v.push(this)}function getInteractionFromPointer(e,t,r){var n,i=0,o=v.length,a=/mouse/i.test(e.pointerType||t)||4===e.pointerType,s=getPointerId(e);if(/down|start/i.test(t))for(i=0;i<o;i++){var u=r;if((n=v[i]).inertiaStatus.active&&n.target.options[n.prepared.name].inertia.allowResume&&n.mouse===a)for(;u;){if(u===n.element)return n;u=parentElement(u)}}if(a||!E&&!C){for(i=0;i<o;i++)if(v[i].mouse&&!v[i].inertiaStatus.active)return v[i];for(i=0;i<o;i++)if(v[i].mouse&&(!/down/.test(t)||!v[i].inertiaStatus.active))return n;return(n=new Interaction).mouse=!0,n}for(i=0;i<o;i++)if(contains(v[i].pointerIds,s))return v[i];if(/up|end|out/i.test(t))return null;for(i=0;i<o;i++)if((!(n=v[i]).prepared.name||n.target.options.gesture.enabled)&&!n.interacting()&&(a||!n.mouse))return n;return new Interaction}function doOnInteractions(e){return function(t){var r,n,i=getActualElement(t.path?t.path[0]:t.target),o=getActualElement(t.currentTarget);if(E&&/touch/.test(t.type))for(A=(new Date).getTime(),n=0;n<t.changedTouches.length;n++){var a=t.changedTouches[n];(r=getInteractionFromPointer(a,t.type,i))&&(r._updateEventTargets(i,o),r[e](a,t,i,o))}else{if(!C&&/mouse/.test(t.type)){for(n=0;n<v.length;n++)if(!v[n].mouse&&v[n].pointerIsDown)return;if((new Date).getTime()-A<500)return}if(!(r=getInteractionFromPointer(t,t.type,i)))return;r._updateEventTargets(i,o),r[e](t,t,i,o)}}}function InteractEvent(e,t,r,n,i,o){var a,s,u=e.target,l=e.snapStatus,c=e.restrictStatus,f=e.pointers,h=(u&&u.options||w).deltaSource,p=h+"X",y=h+"Y",g=u?u.options:w,m=getOriginXY(u,i),v="start"===n,b="end"===n,_=v?e.startCoords:e.curCoords;i=i||e.element,s=extend({},_.page),a=extend({},_.client),s.x-=m.x,s.y-=m.y,a.x-=m.x,a.y-=m.y;var S=g[r].snap&&g[r].snap.relativePoints;!checkSnap(u,r)||v&&S&&S.length||(this.snap={range:l.range,locked:l.locked,x:l.snappedX,y:l.snappedY,realX:l.realX,realY:l.realY,dx:l.dx,dy:l.dy},l.locked&&(s.x+=l.dx,s.y+=l.dy,a.x+=l.dx,a.y+=l.dy)),!checkRestrict(u,r)||v&&g[r].restrict.elementRect||!c.restricted||(s.x+=c.dx,s.y+=c.dy,a.x+=c.dx,a.y+=c.dy,this.restrict={dx:c.dx,dy:c.dy}),this.pageX=s.x,this.pageY=s.y,this.clientX=a.x,this.clientY=a.y,this.x0=e.startCoords.page.x-m.x,this.y0=e.startCoords.page.y-m.y,this.clientX0=e.startCoords.client.x-m.x,this.clientY0=e.startCoords.client.y-m.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=i,this.t0=e.downTimes[0],this.type=r+(n||""),this.interaction=e,this.interactable=u;var E=e.inertiaStatus;if(E.active&&(this.detail="inertia"),o&&(this.relatedTarget=o),b?"client"===h?(this.dx=a.x-e.startCoords.client.x,this.dy=a.y-e.startCoords.client.y):(this.dx=s.x-e.startCoords.page.x,this.dy=s.y-e.startCoords.page.y):v?(this.dx=0,this.dy=0):"inertiastart"===n?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===h?(this.dx=a.x-e.prevEvent.clientX,this.dy=a.y-e.prevEvent.clientY):(this.dx=s.x-e.prevEvent.pageX,this.dy=s.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!E.active&&g[r].inertia&&g[r].inertia.zeroResumeDelta&&(E.resumeDx+=this.dx,E.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===r&&e.resizeAxes?g.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===r&&(this.touches=[f[0],f[1]],v?(this.distance=touchDistance(f,h),this.box=touchBBox(f),this.scale=1,this.ds=0,this.angle=touchAngle(f,void 0,h),this.da=0):b||t instanceof InteractEvent?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=touchDistance(f,h),this.box=touchBBox(f),this.scale=this.distance/e.gesture.startDistance,this.angle=touchAngle(f,e.gesture.prevAngle,h),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),v)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===n)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof InteractEvent){var C=this[p]-e.prevEvent[p],O=this[y]-e.prevEvent[y],T=this.dt/1e3;this.speed=d(C,O)/T,this.velocityX=C/T,this.velocityY=O/T}else this.speed=e.pointerDelta[h].speed,this.velocityX=e.pointerDelta[h].vx,this.velocityY=e.pointerDelta[h].vy;if((b||"inertiastart"===n)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var A=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;A<0&&(A+=360);var x=112.5<=A&&A<247.5,k=202.5<=A&&A<337.5,R=!x&&(292.5<=A||A<67.5),P=!k&&22.5<=A&&A<157.5;this.swipe={up:k,down:P,left:x,right:R,angle:A,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function preventOriginalDefault(){this.originalEvent.preventDefault()}function getActionCursor(e){var t="";if("drag"===e.name&&(t=k.drag),"resize"===e.name)if(e.axis)t=k[e.name+e.axis];else if(e.edges){for(var r="resize",n=["top","bottom","left","right"],i=0;i<4;i++)e.edges[n[i]]&&(r+=n[i]);t=k[r]}return t}function checkResizeEdge(e,t,r,n,i,o,a){if(!t)return!1;if(!0===t){var s=isNumber(o.width)?o.width:o.right-o.left,u=isNumber(o.height)?o.height:o.bottom-o.top;if(s<0&&("left"===e?e="right":"right"===e&&(e="left")),u<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return r.x<(s>=0?o.left:o.right)+a;if("top"===e)return r.y<(u>=0?o.top:o.bottom)+a;if("right"===e)return r.x>(s>=0?o.right:o.left)-a;if("bottom"===e)return r.y>(u>=0?o.bottom:o.top)-a}return!!isElement(n)&&(isElement(t)?t===n:matchesUpTo(n,t,i))}function defaultActionChecker(e,t,r){var n,i=this.getRect(r),o=!1,a=null,s=null,u=extend({},t.curCoords.page),l=this.options;if(!i)return null;if(R.resize&&l.resize.enabled){var c=l.resize;if(n={left:!1,right:!1,top:!1,bottom:!1},isObject(c.edges)){for(var f in n)n[f]=checkResizeEdge(f,c.edges[f],u,t._eventTarget,r,i,c.margin||O);n.left=n.left&&!n.right,n.top=n.top&&!n.bottom,o=n.left||n.right||n.top||n.bottom}else{var h="y"!==l.resize.axis&&u.x>i.right-O,p="x"!==l.resize.axis&&u.y>i.bottom-O;o=h||p,s=(h?"x":"")+(p?"y":"")}}return a=o?"resize":R.drag&&l.drag.enabled?"drag":null,R.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(a="gesture"),a?{name:a,axis:s,edges:n}:null}function validateAction(e,t){if(!isObject(e))return null;var r=e.name,n=t.options;return("resize"===r&&n.resize.enabled||"drag"===r&&n.drag.enabled||"gesture"===r&&n.gesture.enabled)&&R[r]?("resize"!==r&&"resizeyx"!==r||(r="resizexy"),e):null}function delegateListener(e,t){var r={},n=_[e.type],i=getActualElement(e.path?e.path[0]:e.target),o=i;for(var a in t=!!t,e)r[a]=e[a];for(r.originalEvent=e,r.preventDefault=preventOriginalDefault;isElement(o);){for(var s=0;s<n.selectors.length;s++){var u=n.selectors[s],l=n.contexts[s];if(matchesSelector(o,u)&&nodeContains(l,i)&&nodeContains(l,o)){var c=n.listeners[s];r.currentTarget=o;for(var f=0;f<c.length;f++)c[f][1]===t&&c[f][0](r)}}o=parentElement(o)}}function delegateUseCapture(e){return delegateListener.call(this,e,!0)}function interact(e,t){return m.get(e,t)||new Interactable(e,t)}function Interactable(e,t){var r;if(this._element=e,this._iEvents=this._iEvents||{},trySelector(e)){this.selector=e;var i=t&&t.context;r=i?getWindow(i):a,i&&(r.Node?i instanceof r.Node:isElement(i)||i===r.document)&&(this._context=i)}else r=getWindow(e),isElement(e)&&(C?(B.add(this._element,n.down,U.pointerDown),B.add(this._element,n.move,U.pointerHover)):(B.add(this._element,"mousedown",U.pointerDown),B.add(this._element,"mousemove",U.pointerHover),B.add(this._element,"touchstart",U.pointerDown),B.add(this._element,"touchmove",U.pointerHover)));this._doc=r.document,contains(g,this._doc)||listenToDocument(this._doc),m.push(this),this.set(t)}function warnOnce(e,t){var r=!1;return function(){return r||(a.console.warn(t),r=!0),e.apply(this,arguments)}}function endAllInteractions(e){for(var t=0;t<v.length;t++)v[t].pointerEnd(e,e)}function listenToDocument(e){if(!contains(g,e)){var t=e.defaultView||e.parentWindow;for(var r in _)B.add(e,r,delegateListener),B.add(e,r,delegateUseCapture,!0);C?(n=p===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},B.add(e,n.down,U.selectorDown),B.add(e,n.move,U.pointerMove),B.add(e,n.over,U.pointerOver),B.add(e,n.out,U.pointerOut),B.add(e,n.up,U.pointerUp),B.add(e,n.cancel,U.pointerCancel),B.add(e,n.move,U.autoScrollMove)):(B.add(e,"mousedown",U.selectorDown),B.add(e,"mousemove",U.pointerMove),B.add(e,"mouseup",U.pointerUp),B.add(e,"mouseover",U.pointerOver),B.add(e,"mouseout",U.pointerOut),B.add(e,"touchstart",U.selectorDown),B.add(e,"touchmove",U.pointerMove),B.add(e,"touchend",U.pointerUp),B.add(e,"touchcancel",U.pointerCancel),B.add(e,"mousemove",U.autoScrollMove),B.add(e,"touchmove",U.autoScrollMove)),B.add(t,"blur",endAllInteractions);try{if(t.frameElement){var i=t.frameElement.ownerDocument,o=i.defaultView;B.add(i,"mouseup",U.pointerEnd),B.add(i,"touchend",U.pointerEnd),B.add(i,"touchcancel",U.pointerEnd),B.add(i,"pointerup",U.pointerEnd),B.add(i,"MSPointerUp",U.pointerEnd),B.add(o,"blur",endAllInteractions)}}catch(e){interact.windowParentError=e}B.add(e,"dragstart",function(e){for(var t=0;t<v.length;t++){var r=v[t];if(r.element&&(r.element===e.target||nodeContains(r.element,e.target)))return void r.checkAndPreventDefault(e,r.target,r.element)}}),B.useAttachEvent&&(B.add(e,"selectstart",function(e){var t=v[0];t.currentAction()&&t.checkAndPreventDefault(e)}),B.add(e,"dblclick",doOnInteractions("ie8Dblclick"))),g.push(e)}}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function contains(e,t){return-1!==indexOf(e,t)}function matchesSelector(e,t,n){return i?i(e,t,n):(a!==r&&(t=t.replace(/\/deep\//g," ")),e[I](t))}function matchesUpTo(e,t,r){for(;isElement(e);){if(matchesSelector(e,t))return!0;if((e=parentElement(e))===r)return matchesSelector(e,t)}return!1}}("undefined"==typeof window?void 0:window)},"6Znk":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("VcYS"),i=function(){function SheetFormat(){this._alignment=new n.Sheet}return Object.defineProperty(SheetFormat.prototype,"alignment",{get:function(){return this._alignment},enumerable:!0,configurable:!0}),SheetFormat}();t.SheetFormat=i},"6n5O":function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("7cqj"),o=r("IyCH");!function(e){var t;e.make=function(e,t){var r=t.views,n=t.relations;return{name:e,views:r||[],relations:n||[]}},e.extend=function(e,t){return n({},e,{views:e.views.concat([t])})},function(t){t.add=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var i=new Map,o=0,a=e.views;o<a.length;o++){var s=a[o];i.set(s.name,s)}for(var u=0,l=t;u<l.length;u++)s=l[u],i.set(s.name,s);return n({},e,{views:Array.from(i.values())})},t.find=function(e,t){return e.views.find(function(e){return e.name===t})||null},t.findInRelation=function(t,r,n){if(r.from===n)return e.Views.find(t,r.from);for(var i=0,o=r.joins;i<o.length;i++){var a=o[i];if(a.target.alias===n)return e.Views.find(t,a.target.view)}return null}}(t=e.Views||(e.Views={})),function(e){e.add=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var i=new Map,o=0,a=e.relations;o<a.length;o++){var s=a[o];i.set(s.name,s)}for(var u=0,l=t;u<l.length;u++)s=l[u],i.set(s.name,s);return n({},e,{relations:Array.from(i.values())})},e.first=function(e){return e.relations[0]||null},e.find=function(e,t){return e.relations.find(function(e){return e.name===t})||null}}(e.Relations||(e.Relations={})),function(e){function allInRelation(e,r){var n=new Array,i=t.find(e,r.from);return i&&i.attrs.forEach(function(e){return n.push(e)}),r.joins.forEach(function(r){var i=t.find(e,r.target.view);i&&i.attrs.forEach(function(e){return n.push(e)})}),n}e.findInRelation=function(e,r,n,i){var a;return(a=null==i?t.findInRelation(e,r,r.from):t.findInRelation(e,r,i))&&(o.View.Attrs.find(a,n)||null)},e.allInRelation=allInRelation,e.dimensions=function(e,t){return allInRelation(e,t).filter(function(e){return e.role===i.Attr.Role.Dimension})},e.measures=function(e,t){return allInRelation(e,t).filter(function(e){return e.role===i.Attr.Role.Measure})}}(e.Attrs||(e.Attrs={}))}(t.Model||(t.Model={}))},"6nSx":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Value(){this._fields=new Array}return Object.defineProperty(Value.prototype,"names",{get:function(){return this.fields.map(function(e){return e.alias})},enumerable:!0,configurable:!0}),Object.defineProperty(Value.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Value.prototype.addField=function(e){this._fields=this.fields.concat(e)},Value}();t.Value=n},"6orE":function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new Timeout(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r("qrAv"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,r("h6ac"))},"6pZQ":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("Wvrh"),o=function(e){function VirtualTimeScheduler(t,r){var n=this;void 0===t&&(t=a),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this,t,function(){return n.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return n(VirtualTimeScheduler,e),VirtualTimeScheduler.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=n&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},VirtualTimeScheduler.frameTimeFactor=10,VirtualTimeScheduler}(r("h5qz").AsyncScheduler);t.VirtualTimeScheduler=o;var a=function(e){function VirtualAction(t,r,n){void 0===n&&(n=t.index+=1),e.call(this,t,r),this.scheduler=t,this.work=r,this.index=n,this.active=!0,this.index=t.index=n}return n(VirtualAction,e),VirtualAction.prototype.schedule=function(t,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,t,r);this.active=!1;var n=new VirtualAction(this.scheduler,this.work);return this.add(n),n.schedule(t,r)},VirtualAction.prototype.requestAsyncId=function(e,t,r){void 0===r&&(r=0),this.delay=e.frame+r;var n=e.actions;return n.push(this),n.sort(VirtualAction.sortActions),!0},VirtualAction.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},VirtualAction.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},VirtualAction.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},VirtualAction}(i.AsyncAction);t.VirtualAction=a},"6qEb":function(e,t,r){"use strict";var n=r("R5wN");t.publishBehavior=function(e){return n.publishBehavior(e)(this)}},"6yQc":function(e,t,r){"use strict";var n=r("SgnA");function assignImpl(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t.length,i=0;i<n;i++){var o=t[i];for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])}return e}function getAssign(e){return e.Object.assign||assignImpl}t.assignImpl=assignImpl,t.getAssign=getAssign,t.assign=getAssign(n.root)},"6ysq":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("zdYa"),a=r("sgHH"),s=r("DazJ"),u=r("d5em"),l=r("7CrX"),c=r("obqO"),f=r("obqO"),h=r("obqO"),p=r("obqO"),d=r("obqO"),y=r("obqO"),g=r("obqO"),m=function(e){function TTable(t){var r=e.call(this,t)||this;return r._marks=r.buildMarks(),r._top=new l.TTop(r),r._left=new u.TLeft(r),r._body=new s.TBody(r),r}return i(TTable,e),Object.defineProperty(TTable.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"topHeight",{get:function(){for(var e=0,t=0,r=this.columnFields;t<r.length;t++){r[t];e+=this.fit.getTopHeaderHeight()}return this.xAxisCount>0&&(e+=this.fit.getTopHeaderHeight()),e},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"bottomHeight",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"leftWidth",{get:function(){for(var e=0,t=0,r=this.rowFields;t<r.length;t++){r[t];e+=this.fit.getLeftHeaderWidth()}return this.yAxisCount>0&&(e+=this.fit.getLeftHeaderWidth()),e},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"rightWidth",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"cellWidth",{get:function(){return this.fit.getCellWidth(100)},enumerable:!0,configurable:!0}),Object.defineProperty(TTable.prototype,"cellHeight",{get:function(){return this.fit.getCellHeight(20)},enumerable:!0,configurable:!0}),TTable.prototype.compute=function(){e.prototype.compute.call(this);for(var t=0,r=this.marks;t<r.length;t++){var n=r[t];this.sheet.addData(n.query),this.sheet.addData(n.cells)}for(var i=0,o=this.body.gData;i<o.length;i++){var a=o[i];this.sheet.addData(a)}for(var s=0,u=this.body.mData;s<u.length;s++){a=u[s];this.sheet.addData(a)}for(var l=0,c=this.left.stacks;l<c.length;l++){var f=c[l];this.sheet.addData(f)}for(var h=0,p=this.top.stacks;h<p.length;h++){f=p[h];this.sheet.addData(f)}this.addFixedSignals(),this.addTopSignals(),this.addLeftSignals(),this.addBottomSignals(),this.addBodySignals()},TTable.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.body.compile()),this.xAxisCount>0&&t.push(this.top.compile()),this.yAxisCount>0&&t.push(this.left.compile()),t},TTable.prototype.buildMarks=function(){var e=this,t=new Array,r=function(t,r){switch(r.type){case"bar":return new f.TMBars(e,t,r);case"line":return new p.TMLine(e,t,r);case"area":return new c.TMArea(e,t,r);case"circle":return new h.TMCircle(e,t,r);case"square":return new y.TMSquare(e,t,r);case"shape":return new d.TMShape(e,t,r);case"text":return new g.TMText(e,t,r)}};if(0===this.yAxisCount){var n=this.encoding.getStarMark();t.push(r(this.xAxisFields[0],n))}else for(var i=0,o=this.yAxisFields;i<o.length;i++){var a=o[i];n=this.encoding.getStarMark();t.push(r(a,n))}return t},TTable.prototype.addFixedSignals=function(){this.sheet.addSignal(new o.Signal("CellWidth",this.cellWidth)),this.sheet.addSignal(new o.Signal("CellHeight",this.cellHeight)),this.sheet.addSignal(new o.Signal("TopHeight",this.top.getHeight())),this.sheet.addSignal(new o.Signal("LeftWidth",this.left.getWidth()))},TTable.prototype.addTopSignals=function(){this.sheet.addSignal(new o.Signal("TopX",{expr:"LeftWidth"})),this.sheet.addSignal(new o.Signal("TopY",{expr:"0.5"})),this.sheet.addSignal(new o.Signal("TopWidth",{expr:"CellWidth * CCellCount"}))},TTable.prototype.addLeftSignals=function(){this.sheet.addSignal(new o.Signal("LeftY",{expr:"TopHeight"})),this.sheet.addSignal(new o.Signal("LeftX",{expr:"0.5"})),this.sheet.addSignal(new o.Signal("LeftHeight",{expr:"CellHeight * RCellCount"}))},TTable.prototype.addBottomSignals=function(){this.sheet.addSignal(new o.Signal("BottomX",{expr:"LeftWidth"})),this.sheet.addSignal(new o.Signal("BottomY",{expr:"TopHeight + LeftHeight"})),this.sheet.addSignal(new o.Signal("BottomWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new o.Signal("BottomHeight",{expr:"0"}))},TTable.prototype.addBodySignals=function(){this.sheet.addSignal(new o.Signal("BodyX",{expr:"LeftWidth + 0.5"})),this.sheet.addSignal(new o.Signal("BodyY",{expr:"TopHeight + 0.5"})),this.sheet.addSignal(new o.Signal("BodyWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new o.Signal("BodyHeight",{expr:"CellHeight * RCellCount"}))},TTable}(a.Table);t.TTable=m},"704E":function(e,t,r){"use strict";function IndexBrowser(){}e.exports=IndexBrowser,r("4Bm0")(IndexBrowser,r("FRpO").EventEmitter),IndexBrowser.prototype.stop=function(){this._stopped=!0,this._clean()},IndexBrowser.prototype._end=function(){this.emit("end"),this._clean()},IndexBrowser.prototype._error=function(e){this.emit("error",e),this._clean()},IndexBrowser.prototype._result=function(e){this.emit("result",e)},IndexBrowser.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},"724K":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.takeUntil=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function TakeUntilOperator(e){this.notifier=e}return TakeUntilOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.notifier))},TakeUntilOperator}(),s=function(e){function TakeUntilSubscriber(t,r){e.call(this,t),this.notifier=r,this.add(o.subscribeToResult(this,r))}return n(TakeUntilSubscriber,e),TakeUntilSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.complete()},TakeUntilSubscriber.prototype.notifyComplete=function(){},TakeUntilSubscriber}(i.OuterSubscriber)},"7CrX":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("TSV6"),a=r("kRjW"),s=function(e){function TTop(t){var r=e.call(this,t)||this;return r.table.xAxisCount>0&&(r._stacks=r.buildStacks(),r._headers=r.buildHeaders()),r}return i(TTop,e),Object.defineProperty(TTop.prototype,"xAxisStack",{get:function(){return this.stacks[0]},enumerable:!0,configurable:!0}),Object.defineProperty(TTop.prototype,"xAxisField",{get:function(){return this.table.xAxisFields[0]},enumerable:!0,configurable:!0}),TTop.prototype.getHeight=function(){for(var e=0,t=0,r=this.headers;t<r.length;t++){e+=r[t].getHeight()}return e},TTop.prototype.buildStacks=function(){var e=this,t=new Array,r=this.getPaths(this.rfPath),n=this.buildXStack(r[0]||[]);t.push(n);var i=n;return this.rfPath.forEach(function(n,a){var s=new o.CStack(e.table,r[a],n.alias,i);t.push(s),i=s}),t},TTop.prototype.buildHeaders=function(){var e,t=this,r=new Array;return this.fPath.forEach(function(n,i){var o=t.rStacks[i],s=new a.CHeader(t.table,n,o,e);r.push(s),e=s}),r.push(this.buildXHeader(e)),r},TTop.prototype.buildXStack=function(e){var t=this.xAxisField,r=e.concat(t.alias);return new o.CStack(this.table,r,t.alias)},TTop.prototype.buildXHeader=function(e){var t=this.rStacks[this.rStacks.length-1],r=new a.CHeader(this.table,this.xAxisField,t,e);return r.rotate=!1,r},TTop}(r("scSy").Top);t.TTop=s},"7CtO":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("TSV6"),a=r("kRjW"),s=r("scSy"),u=r("GM28"),l=function(e){function HTop(t){var r=e.call(this,t)||this;return r.table.xAxisCount>0&&(r._stacks=r.buildStacks(),r._headers=r.buildHeaders(),r._bottom=new u.HBottom(t,r,r.xAxisStack)),r}return i(HTop,e),Object.defineProperty(HTop.prototype,"bottom",{get:function(){return this._bottom},enumerable:!0,configurable:!0}),Object.defineProperty(HTop.prototype,"xAxisStack",{get:function(){return this.stacks[0]},enumerable:!0,configurable:!0}),Object.defineProperty(HTop.prototype,"xAxisField",{get:function(){return this.table.xAxisFields[0]},enumerable:!0,configurable:!0}),HTop.prototype.buildStacks=function(){var e=this,t=new Array,r=this.getPaths(this.rfPath),n=this.buildXStack(r[0]||[]);t.push(n);var i=n;return this.rfPath.forEach(function(n,a){var s=new o.CStack(e.table,r[a],n.alias,i);t.push(s),i=s}),t},HTop.prototype.buildHeaders=function(){var e,t=this,r=new Array;return this.fPath.forEach(function(n,i){var o=t.rStacks[i],s=new a.CHeader(t.table,n,o,e);r.push(s),e=s}),r},HTop.prototype.buildXStack=function(e){var t=e.concat("xAlias");return new o.CStack(this.table,t,"xAlias")},HTop}(s.Top);t.HTop=l},"7Osy":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("BFbo"),i=function(){function Mark(e,t){this._name=t,this._type=e}return Object.defineProperty(Mark.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(Mark.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Mark.prototype.compile=function(){var e=new Object,t=this.getType();null!=t&&(e.type=t);var r=this.getName();null!=r&&(e.name=r);var n=this.getProperties();return null!=n&&Object.keys(n).length>0&&(e.properties=n),e},Mark.prototype.getName=function(){return this.name},Mark.prototype.getProperties=function(){return new Object},Mark.prototype.getType=function(){switch(this.type){case n.MarkType.ARC:return"arc";case n.MarkType.AREA:return"area";case n.MarkType.GROUP:return"group";case n.MarkType.IMAGE:return"image";case n.MarkType.LINE:return"line";case n.MarkType.PATH:return"path";case n.MarkType.RECT:return"rect";case n.MarkType.RULE:return"rule";case n.MarkType.SYMBOL:return"symbol";case n.MarkType.TEXT:return"text"}},Mark}();t.Mark=i},"7PCL":function(e,t,r){(function(t){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=326)}([function(e,t,r){"use strict";t.__esModule=!0,t.HTML_CHARACTERS=void 0,t.getParent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1,n=null;for(;null!=e;){if(r===t){n=e;break}e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e=e.host:(r++,e=e.parentNode)}return n},t.closest=closest,t.closestDown=function(e,t,r){var n=[];for(;e&&(e=closest(e,t,r))&&(!r||r.contains(e));)n.push(e),e=e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.host:e.parentNode;var i=n.length;return i?n[i-1]:null},t.isChildOf=function(e,t){var r=e.parentNode,n=[];"string"==typeof t?n=Array.prototype.slice.call(document.querySelectorAll(t),0):n.push(t);for(;null!=r;){if(n.indexOf(r)>-1)return!0;r=r.parentNode}return!1},t.isChildOfWebComponentTable=function(e){var t,r="hot-table",n=!1;function isHotTable(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName===r.toUpperCase()}t=polymerWrap(e);for(;null!=t;){if(isHotTable(t)){n=!0;break}if(t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n=isHotTable(t.host))break;t=t.host}t=t.parentNode}return n},t.polymerWrap=polymerWrap,t.polymerUnwrap=polymerUnwrap,t.index=function(e){var t=0;if(e.previousSibling)for(;e=e.previousSibling;)++t;return t},t.overlayContainsElement=function(e,t){var r=document.querySelector(".ht_clone_"+e);return r?r.contains(t):null},t.hasClass=function(e,t){return n(e,t)},t.addClass=function(e,t){return i(e,t)},t.removeClass=function(e,t){return o(e,t)},t.removeTextNodes=function removeTextNodes(e,t){if(3===e.nodeType)t.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1)for(var r=e.childNodes,n=r.length-1;n>=0;n--)removeTextNodes(r[n],e)},t.empty=empty,t.fastInnerHTML=function(e,t){f.test(t)?e.innerHTML=t:fastInnerText(e,t)},t.fastInnerText=fastInnerText,t.isVisible=function isVisible(e){var t=e;for(;polymerUnwrap(t)!==document.documentElement;){if(null===t)return!1;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(t.host){if(t.host.impl)return isVisible(t.host.impl);if(t.host)return isVisible(t.host);throw new Error("Lost in Web Components world")}return!1}if("none"===t.style.display)return!1;t=t.parentNode}return!0},t.offset=function(e){var t,r,n,i,o;if(i=document.documentElement,(0,u.hasCaptionProblem)()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName)return{top:(o=e.getBoundingClientRect()).top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)};t=e.offsetLeft,r=e.offsetTop,n=e;for(;(e=e.offsetParent)&&e!==document.body;)t+=e.offsetLeft,r+=e.offsetTop,n=e;n&&"fixed"===n.style.position&&(t+=window.pageXOffset||i.scrollLeft,r+=window.pageYOffset||i.scrollTop);return{left:t,top:r}},t.getWindowScrollTop=getWindowScrollTop,t.getWindowScrollLeft=getWindowScrollLeft,t.getScrollTop=function(e){if(e===window)return getWindowScrollTop();return e.scrollTop},t.getScrollLeft=function(e){if(e===window)return getWindowScrollLeft();return e.scrollLeft},t.getScrollableElement=function(e){var t,r,n,i=e.parentNode,o=["auto","scroll"],a="",s="",u="",l="";for(;i&&i.style&&document.body!==i;){if(t=i.style.overflow,r=i.style.overflowX,n=i.style.overflowY,"scroll"==t||"scroll"==r||"scroll"==n)return i;if(window.getComputedStyle&&(a=window.getComputedStyle(i),s=a.getPropertyValue("overflow"),u=a.getPropertyValue("overflow-y"),l=a.getPropertyValue("overflow-x"),"scroll"===s||"scroll"===l||"scroll"===u))return i;if(i.clientHeight<=i.scrollHeight+1&&(-1!==o.indexOf(n)||-1!==o.indexOf(t)||-1!==o.indexOf(s)||-1!==o.indexOf(u)))return i;if(i.clientWidth<=i.scrollWidth+1&&(-1!==o.indexOf(r)||-1!==o.indexOf(t)||-1!==o.indexOf(s)||-1!==o.indexOf(l)))return i;i=i.parentNode}return window},t.getTrimmingContainer=function(e){var t=e.parentNode;for(;t&&t.style&&document.body!==t;){if("visible"!==t.style.overflow&&""!==t.style.overflow)return t;if(window.getComputedStyle){var r=window.getComputedStyle(t);if("visible"!==r.getPropertyValue("overflow")&&""!==r.getPropertyValue("overflow"))return t}t=t.parentNode}return window},t.getStyle=function(e,t){if(!e)return;if(e===window)return"width"===t?window.innerWidth+"px":"height"===t?window.innerHeight+"px":void 0;var r,n=e.style[t];if(""!==n&&void 0!==n)return n;if(""!==(r=getComputedStyle(e))[t]&&void 0!==r[t])return r[t]},t.getComputedStyle=getComputedStyle,t.outerWidth=function(e){return e.offsetWidth},t.outerHeight=function(e){if((0,u.hasCaptionProblem)()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName)return e.offsetHeight+e.firstChild.offsetHeight;return e.offsetHeight},t.innerHeight=function(e){return e.clientHeight||e.innerHeight},t.innerWidth=function(e){return e.clientWidth||e.innerWidth},t.addEvent=function(e,t,r){window.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},t.removeEvent=function(e,t,r){window.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},t.getCaretPosition=function(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var r=e.createTextRange(),n=r.duplicate();return r.moveToBookmark(t.getBookmark()),n.setEndPoint("EndToStart",r),n.text.length}return 0},t.getSelectionEndPosition=function(e){if(e.selectionEnd)return e.selectionEnd;if(document.selection){var t=document.selection.createRange();if(null==t)return 0;var r=e.createTextRange();return r.text.indexOf(t.text)+t.text.length}return 0},t.getSelectionText=function(){var e="";window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text);return e},t.setCaretPosition=function(e,t,r){void 0===r&&(r=t);if(e.setSelectionRange){e.focus();try{e.setSelectionRange(t,r)}catch(o){var n=e.parentNode,i=n.style.display;n.style.display="block",e.setSelectionRange(t,r),n.style.display=i}}else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",r),o.moveStart("character",t),o.select()}},t.getScrollbarWidth=function(){void 0===h&&(h=function(){var e=document.createElement("div");e.style.height="200px",e.style.width="100%";var t=document.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(e),(document.body||document.documentElement).appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;r==n&&(n=t.clientWidth);return(document.body||document.documentElement).removeChild(t),r-n}());return h},t.hasVerticalScrollbar=function(e){return e.offsetWidth!==e.clientWidth},t.hasHorizontalScrollbar=function(e){return e.offsetHeight!==e.clientHeight},t.setOverlayPosition=function(e,t,r){(0,s.isIE8)()||(0,s.isIE9)()?(e.style.top=r,e.style.left=t):(0,s.isSafari)()?e.style["-webkit-transform"]="translate3d("+t+","+r+",0)":e.style.transform="translate3d("+t+","+r+",0)"},t.getCssTransform=function(e){var t;if(e.style.transform&&""!==(t=e.style.transform))return["transform",t];if(e.style["-webkit-transform"]&&""!==(t=e.style["-webkit-transform"]))return["-webkit-transform",t];return-1},t.resetCssTransform=function(e){e.style.transform&&""!==e.style.transform?e.style.transform="":e.style["-webkit-transform"]&&""!==e.style["-webkit-transform"]&&(e.style["-webkit-transform"]="")},t.isInput=isInput,t.isOutsideInput=function(e){return isInput(e)&&-1==e.className.indexOf("handsontableInput")&&-1==e.className.indexOf("copyPaste")};var n,i,o,a,s=r(27),u=r(40);function closest(e,t,r){for(;null!=e&&e!==r;){if(e.nodeType===Node.ELEMENT_NODE&&(t.indexOf(e.nodeName)>-1||t.indexOf(e)>-1))return e;e=e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.host:e.parentNode}return null}function polymerWrap(e){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(e):e}function polymerUnwrap(e){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(e):e}function filterEmptyClassNames(e){var t=[];if(!e||!e.length)return t;for(var r=0;e[r];)t.push(e[r]),r++;return t}if(!!document.documentElement.classList){var l=((a=document.createElement("div")).classList.add("test","test2"),a.classList.contains("test2"));n=function(e,t){return void 0!==e.classList&&"string"==typeof t&&""!==t&&e.classList.contains(t)},i=function(e,t){if("string"==typeof t&&(t=t.split(" ")),(t=filterEmptyClassNames(t)).length>0)if(l)e.classList.add.apply(e.classList,t);else for(var r=0;t&&t[r];)e.classList.add(t[r]),r++},o=function(e,t){if("string"==typeof t&&(t=t.split(" ")),(t=filterEmptyClassNames(t)).length>0)if(l)e.classList.remove.apply(e.classList,t);else for(var r=0;t&&t[r];)e.classList.remove(t[r]),r++}}else{var c=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")};n=function(e,t){return void 0!==e.className&&c(t).test(e.className)},i=function(e,t){var r=0,n=e.className;if("string"==typeof t&&(t=t.split(" ")),""===n)n=t.join(" ");else for(;t&&t[r];)c(t[r]).test(n)||(n+=" "+t[r]),r++;e.className=n},o=function(e,t){var r=0,n=e.className;for("string"==typeof t&&(t=t.split(" "));t&&t[r];)n=n.replace(c(t[r])," ").trim(),r++;e.className!==n&&(e.className=n)}}function empty(e){for(var t;t=e.lastChild;)e.removeChild(t)}var f=t.HTML_CHARACTERS=/(<(.*)>|&(.*);)/;var h,p=!!document.createTextNode("test").textContent;function fastInnerText(e,t){var r=e.firstChild;r&&3===r.nodeType&&null===r.nextSibling?p?r.textContent=t:r.data=t:(empty(e),e.appendChild(document.createTextNode(t)))}function getWindowScrollTop(){var e=window.scrollY;return void 0===e&&(e=document.documentElement.scrollTop),e}function getWindowScrollLeft(){var e=window.scrollX;return void 0===e&&(e=document.documentElement.scrollLeft),e}function getComputedStyle(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}function isInput(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.nodeName)>-1||"true"===e.contentEditable)}},function(e,t,r){"use strict";function arrayReduce(e,t,r,n){var i=-1,o=e;Array.isArray(e)||(o=Array.from(e));var a=o.length;for(n&&a&&(r=o[++i]);++i<a;)r=t(r,o[i],i,o);return r}function arrayEach(e,t){var r=-1,n=e;Array.isArray(e)||(n=Array.from(e));for(var i=n.length;++r<i&&!1!==t(n[r],r,n););return e}function arraySum(e){return arrayReduce(e,function(e,t){return e+t},0)}t.__esModule=!0,t.to2dArray=function(e){var t=0,r=e.length;for(;t<r;)e[t]=[e[t]],t++},t.extendArray=function(e,t){var r=0,n=t.length;for(;r<n;)e.push(t[r]),r++},t.pivot=function(e){var t=[];if(!e||0===e.length||!e[0]||0===e[0].length)return t;for(var r=e.length,n=e[0].length,i=0;i<r;i++)for(var o=0;o<n;o++)t[o]||(t[o]=[]),t[o][i]=e[i][o];return t},t.arrayReduce=arrayReduce,t.arrayFilter=function(e,t){var r=-1,n=e;Array.isArray(e)||(n=Array.from(e));var i=n.length,o=[],a=-1;for(;++r<i;){var s=n[r];t(s,r,n)&&(o[++a]=s)}return o},t.arrayMap=function(e,t){var r=-1,n=e;Array.isArray(e)||(n=Array.from(e));var i=n.length,o=[],a=-1;for(;++r<i;){var s=n[r];o[++a]=t(s,r,n)}return o},t.arrayEach=arrayEach,t.arraySum=arraySum,t.arrayMax=function(e){return arrayReduce(e,function(e,t){return e>t?e:t},Array.isArray(e)?e[0]:void 0)},t.arrayMin=function(e){return arrayReduce(e,function(e,t){return e<t?e:t},Array.isArray(e)?e[0]:void 0)},t.arrayAvg=function(e){if(!e.length)return 0;return arraySum(e)/e.length},t.arrayFlatten=function arrayFlatten(e){return arrayReduce(e,function(e,t){return e.concat(Array.isArray(t)?arrayFlatten(t):t)},[])},t.arrayUnique=function(e){var t=[];return arrayEach(e,function(e){-1===t.indexOf(e)&&t.push(e)}),t}},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.duckSchema=function duckSchema(e){var t;Array.isArray(e)?t=[]:(t={},objectEach(e,function(e,r){"__children"!==r&&(e&&"object"===(void 0===e?"undefined":n(e))&&!Array.isArray(e)?t[r]=duckSchema(e):Array.isArray(e)?e.length&&"object"===n(e[0])&&!Array.isArray(e[0])?t[r]=[duckSchema(e[0])]:t[r]=[]:t[r]=null)}));return t},t.inherit=function(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e},t.extend=function(e,t){return objectEach(t,function(t,r){e[r]=t}),e},t.deepExtend=function deepExtend(e,t){objectEach(t,function(r,i){t[i]&&"object"===n(t[i])?(e[i]||(Array.isArray(t[i])?e[i]=[]:"[object Date]"===Object.prototype.toString.call(t[i])?e[i]=t[i]:e[i]={}),deepExtend(e[i],t[i])):e[i]=t[i]})},t.deepClone=deepClone,t.clone=function(e){var t={};return objectEach(e,function(e,r){t[r]=e}),t},t.mixin=function(e){e.MIXINS||(e.MIXINS=[]);for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(0,i.arrayEach)(r,function(t){e.MIXINS.push(t.MIXIN_NAME),objectEach(t,function(t,r){if(void 0!==e.prototype[r])throw new Error("Mixin conflict. Property '"+r+"' already exist and cannot be overwritten.");var n;"function"==typeof t?e.prototype[r]=t:Object.defineProperty(e.prototype,r,{get:function(e,t){return e="_"+e,function(){var r;return void 0===this[e]&&(this[e]=(r=t,(Array.isArray(r)||isObject(r))&&(r=deepClone(r)),r)),this[e]}}(r,t),set:(n=r,n="_"+n,function(e){this[n]=e}),configurable:!0})})}),e},t.isObjectEqual=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},t.isObject=isObject,t.defineGetter=function(e,t,r,n){n.value=r,n.writable=!1!==n.writable,n.enumerable=!1!==n.enumerable,n.configurable=!1!==n.configurable,Object.defineProperty(e,t,n)},t.objectEach=objectEach,t.getProperty=function(e,t){var r=t.split("."),n=e;return objectEach(r,function(e){if(void 0===(n=n[e]))return n=void 0,!1}),n},t.deepObjectSize=function(e){if(!isObject(e))return 0;return function recursObjLen(e){var t=0;return isObject(e)?objectEach(e,function(e){t+=recursObjLen(e)}):t++,t}(e)},t.createObjectPropListener=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",n="_"+r,i=(_defineProperty(t={_touched:!1},n,e),_defineProperty(t,"isTouched",function(){return this._touched}),t);return Object.defineProperty(i,r,{get:function(){return this[n]},set:function(e){this._touched=!0,this[n]=e},enumerable:!0,configurable:!0}),i},t.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var i=r(1);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function deepClone(e){return"object"===(void 0===e?"undefined":n(e))?JSON.parse(JSON.stringify(e)):e}function isObject(e){return"[object Object]"==Object.prototype.toString.call(e)}function objectEach(e,t){for(var r in e)if((!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,r))&&!1===t(e[r],r,e))break;return e}},function(e,t,r){var n=r(14),i=r(45),o=r(31),a=r(30),s=r(32),u=function(e,t,r){var l,c,f,h,p=e&u.F,d=e&u.G,y=e&u.S,g=e&u.P,m=e&u.B,v=d?n:y?n[t]||(n[t]={}):(n[t]||{}).prototype,b=d?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(l in d&&(r=t),r)f=((c=!p&&v&&void 0!==v[l])?v:r)[l],h=m&&c?s(f,n):g&&"function"==typeof f?s(Function.call,f):f,v&&a(v,l,f,e&u.U),b[l]!=f&&o(b,l,h),g&&_[l]!=f&&(_[l]=f)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){"use strict";t.__esModule=!0,t.Viewport=t.TableRenderer=t.Table=t.Settings=t.Selection=t.Scroll=t.Overlays=t.Event=t.Core=t.default=t.Border=t.TopLeftCornerOverlay=t.TopOverlay=t.LeftOverlay=t.DebugOverlay=t.RowFilter=t.ColumnFilter=t.CellRange=t.CellCoords=t.ViewportRowsCalculator=t.ViewportColumnsCalculator=void 0,r(96),r(111),r(112),r(116),r(117),r(119),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(141),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(85),r(156),r(157),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(167),r(168),r(169),r(172),r(173),r(174);var n=_interopRequireDefault(r(175)),i=_interopRequireDefault(r(176)),o=_interopRequireDefault(r(55)),a=_interopRequireDefault(r(86)),s=_interopRequireDefault(r(177)),u=_interopRequireDefault(r(178)),l=_interopRequireDefault(r(348)),c=_interopRequireDefault(r(351)),f=_interopRequireDefault(r(352)),h=_interopRequireDefault(r(353)),p=_interopRequireDefault(r(306)),d=_interopRequireDefault(r(179)),y=_interopRequireDefault(r(299)),g=_interopRequireDefault(r(300)),m=_interopRequireDefault(r(301)),v=_interopRequireDefault(r(354)),b=_interopRequireDefault(r(302)),_=_interopRequireDefault(r(303)),w=_interopRequireDefault(r(304)),S=_interopRequireDefault(r(305));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.ViewportColumnsCalculator=n.default,t.ViewportRowsCalculator=i.default,t.CellCoords=o.default,t.CellRange=a.default,t.ColumnFilter=s.default,t.RowFilter=u.default,t.DebugOverlay=l.default,t.LeftOverlay=c.default,t.TopOverlay=f.default,t.TopLeftCornerOverlay=h.default,t.Border=p.default,t.default=d.default,t.Core=d.default,t.Event=y.default,t.Overlays=g.default,t.Scroll=m.default,t.Selection=v.default,t.Settings=b.default,t.Table=_.default,t.TableRenderer=w.default,t.Viewport=S.default},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isNumeric=function(e){var t=void 0===e?"undefined":n(e);return"number"==t?!isNaN(e)&&isFinite(e):"string"==t?!!e.length&&(1==e.length?/\d/.test(e):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(e)):"object"==t&&!(!e||"number"!=typeof e.valueOf()||e instanceof Date)},t.rangeEach=function(e,t,r){var n=-1;"function"==typeof t?(r=t,t=e):n=e-1;for(;++n<=t&&!1!==r(n););},t.rangeEachReverse=function(e,t,r){var n=e+1;"function"==typeof t&&(r=t,t=0);for(;--n>=t&&!1!==r(n););},t.valueAccordingPercent=function(e,t){return t=parseInt(t.toString().replace("%",""),10),t=parseInt(e*t/100,10)}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.getListenersCounter=function(){return u};var i=r(0),o=r(2),a=r(40),s=r(12);var u=0,l=function(){function EventManager(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EventManager),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}return n(EventManager,[{key:"addEventListener",value:function(e,t,r){var n=this,i=this.context;function callbackProxy(e){e=extendEvent(i,e),r.call(this,e)}return this.context.eventListeners.push({element:e,event:t,callback:r,callbackProxy:callbackProxy}),window.addEventListener?e.addEventListener(t,callbackProxy,!1):e.attachEvent("on"+t,callbackProxy),u++,function(){n.removeEventListener(e,t,r)}}},{key:"removeEventListener",value:function(e,t,r){for(var n=this.context.eventListeners.length,i=void 0;n--;)if((i=this.context.eventListeners[n]).event==t&&i.element==e){if(r&&r!=i.callback)continue;this.context.eventListeners.splice(n,1),i.element.removeEventListener?i.element.removeEventListener(i.event,i.callbackProxy,!1):i.element.detachEvent("on"+i.event,i.callbackProxy),u--}}},{key:"clearEvents",value:function(){if(this.context)for(var e=this.context.eventListeners.length;e--;){var t=this.context.eventListeners[e];t&&this.removeEventListener(t.element,t.event,t.callback)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"fireEvent",value:function(e,t){var r,n={bubbles:!0,cancelable:"mousemove"!==t,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(r=document.createEvent("MouseEvents")).initMouseEvent(t,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget||document.body.parentNode):r=document.createEventObject(),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}}]),EventManager}();function extendEvent(e,t){var r=void 0,n=void 0,u=void 0,c=void 0,f=void 0,h=void 0;if(t.isTargetWebComponent=!1,t.realTarget=t.target,h=t.stopImmediatePropagation,t.stopImmediatePropagation=function(){h.apply(this),(0,s.stopImmediatePropagation)(this)},!l.isHotTableEnv)return t;for(f=(t=(0,i.polymerWrap)(t)).path?t.path.length:0;f--;){if("HOT-TABLE"===t.path[f].nodeName)r=!0;else if(r&&t.path[f].shadowRoot){c=t.path[f];break}0!==f||c||(c=t.path[f])}return c||(c=t.target),t.isTargetWebComponent=!0,(0,a.isWebComponentSupportedNatively)()?t.realTarget=t.srcElement||t.toElement:((0,o.hasOwnProperty)(e,"hot")||e.isHotTableEnv||e.wtTable)&&((0,o.hasOwnProperty)(e,"hot")?n=e.hot?e.hot.view.wt.wtTable.TABLE:null:e.isHotTableEnv?n=e.view.activeWt.wtTable.TABLE.parentNode.parentNode:e.wtTable&&(n=e.wtTable.TABLE.parentNode.parentNode),u=(0,i.closest)(t.target,["HOT-TABLE"],n),t.realTarget=u&&n.querySelector("HOT-TABLE")||t.target),Object.defineProperty(t,"target",{get:function(){return(0,i.polymerWrap)(c)},enumerable:!0,configurable:!0}),t}t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=t.CONTEXT_MENU_ITEMS_NAMESPACE="ContextMenu:items",i=(t.CONTEXTMENU_ITEMS_ROW_ABOVE=n+".insertRowAbove",t.CONTEXTMENU_ITEMS_ROW_BELOW=n+".insertRowBelow",t.CONTEXTMENU_ITEMS_INSERT_LEFT=n+".insertColumnOnTheLeft",t.CONTEXTMENU_ITEMS_INSERT_RIGHT=n+".insertColumnOnTheRight",t.CONTEXTMENU_ITEMS_REMOVE_ROW=n+".removeRow",t.CONTEXTMENU_ITEMS_REMOVE_COLUMN=n+".removeColumn",t.CONTEXTMENU_ITEMS_UNDO=n+".undo",t.CONTEXTMENU_ITEMS_REDO=n+".redo",t.CONTEXTMENU_ITEMS_READ_ONLY=n+".readOnly",t.CONTEXTMENU_ITEMS_CLEAR_COLUMN=n+".clearColumn",t.CONTEXTMENU_ITEMS_COPY=n+".copy",t.CONTEXTMENU_ITEMS_CUT=n+".cut",t.CONTEXTMENU_ITEMS_FREEZE_COLUMN=n+".freezeColumn",t.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN=n+".unfreezeColumn",t.CONTEXTMENU_ITEMS_MERGE_CELLS=n+".mergeCells",t.CONTEXTMENU_ITEMS_UNMERGE_CELLS=n+".unmergeCells",t.CONTEXTMENU_ITEMS_ADD_COMMENT=n+".addComment",t.CONTEXTMENU_ITEMS_EDIT_COMMENT=n+".editComment",t.CONTEXTMENU_ITEMS_REMOVE_COMMENT=n+".removeComment",t.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT=n+".readOnlyComment",t.CONTEXTMENU_ITEMS_ALIGNMENT=n+".align",t.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT=n+".align.left",t.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER=n+".align.center",t.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT=n+".align.right",t.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY=n+".align.justify",t.CONTEXTMENU_ITEMS_ALIGNMENT_TOP=n+".align.top",t.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE=n+".align.middle",t.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM=n+".align.bottom",t.CONTEXTMENU_ITEMS_BORDERS=n+".borders",t.CONTEXTMENU_ITEMS_BORDERS_TOP=n+".borders.top",t.CONTEXTMENU_ITEMS_BORDERS_RIGHT=n+".borders.right",t.CONTEXTMENU_ITEMS_BORDERS_BOTTOM=n+".borders.bottom",t.CONTEXTMENU_ITEMS_BORDERS_LEFT=n+".borders.left",t.CONTEXTMENU_ITEMS_REMOVE_BORDERS=n+".borders.remove",t.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD=n+".nestedHeaders.insertChildRow",t.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD=n+".nestedHeaders.detachFromParent",t.CONTEXTMENU_ITEMS_HIDE_COLUMN=n+".hideColumn",t.CONTEXTMENU_ITEMS_SHOW_COLUMN=n+".showColumn",t.CONTEXTMENU_ITEMS_HIDE_ROW=n+".hideRow",t.CONTEXTMENU_ITEMS_SHOW_ROW=n+".showRow",t.FILTERS_NAMESPACE="Filters:"),o=t.FILTERS_CONDITIONS_NAMESPACE=i+"conditions";t.FILTERS_CONDITIONS_NONE=o+".none",t.FILTERS_CONDITIONS_EMPTY=o+".isEmpty",t.FILTERS_CONDITIONS_NOT_EMPTY=o+".isNotEmpty",t.FILTERS_CONDITIONS_EQUAL=o+".isEqualTo",t.FILTERS_CONDITIONS_NOT_EQUAL=o+".isNotEqualTo",t.FILTERS_CONDITIONS_BEGINS_WITH=o+".beginsWith",t.FILTERS_CONDITIONS_ENDS_WITH=o+".endsWith",t.FILTERS_CONDITIONS_CONTAINS=o+".contains",t.FILTERS_CONDITIONS_NOT_CONTAIN=o+".doesNotContain",t.FILTERS_CONDITIONS_BY_VALUE=o+".byValue",t.FILTERS_CONDITIONS_GREATER_THAN=o+".greaterThan",t.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL=o+".greaterThanOrEqualTo",t.FILTERS_CONDITIONS_LESS_THAN=o+".lessThan",t.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL=o+".lessThanOrEqualTo",t.FILTERS_CONDITIONS_BETWEEN=o+".isBetween",t.FILTERS_CONDITIONS_NOT_BETWEEN=o+".isNotBetween",t.FILTERS_CONDITIONS_AFTER=o+".after",t.FILTERS_CONDITIONS_BEFORE=o+".before",t.FILTERS_CONDITIONS_TODAY=o+".today",t.FILTERS_CONDITIONS_TOMORROW=o+".tomorrow",t.FILTERS_CONDITIONS_YESTERDAY=o+".yesterday",t.FILTERS_DIVS_FILTER_BY_CONDITION=i+"labels.filterByCondition",t.FILTERS_DIVS_FILTER_BY_VALUE=i+"labels.filterByValue",t.FILTERS_LABELS_CONJUNCTION=i+"labels.conjunction",t.FILTERS_LABELS_DISJUNCTION=i+"labels.disjunction",t.FILTERS_VALUES_BLANK_CELLS=i+"values.blankCells",t.FILTERS_BUTTONS_SELECT_ALL=i+"buttons.selectAll",t.FILTERS_BUTTONS_CLEAR=i+"buttons.clear",t.FILTERS_BUTTONS_OK=i+"buttons.ok",t.FILTERS_BUTTONS_CANCEL=i+"buttons.cancel",t.FILTERS_BUTTONS_PLACEHOLDER_SEARCH=i+"buttons.placeholder.search",t.FILTERS_BUTTONS_PLACEHOLDER_VALUE=i+"buttons.placeholder.value",t.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE=i+"buttons.placeholder.secondValue"},function(e,t,r){"use strict";t.__esModule=!0,t.getPluginName=t.getRegistredPluginNames=t.getPlugin=t.registerPlugin=void 0;var n,i=r(15),o=(n=i)&&n.__esModule?n:{default:n},a=r(2),s=r(36);var u=new WeakMap;t.registerPlugin=function(e,t){e=(0,s.toUpperCaseFirst)(e),o.default.getSingleton().add("construct",function(){var r=void 0;u.has(this)||u.set(this,{}),(r=u.get(this))[e]||(r[e]=new t(this))}),o.default.getSingleton().add("afterDestroy",function(){if(u.has(this)){var e=u.get(this);(0,a.objectEach)(e,function(e){return e.destroy()}),u.delete(this)}})},t.getPlugin=function(e,t){if("string"!=typeof t)throw Error('Only strings can be passed as "plugin" parameter');var r=(0,s.toUpperCaseFirst)(t);if(u.has(e)&&u.get(e)[r])return u.get(e)[r]},t.getRegistredPluginNames=function(e){return u.has(e)?Object.keys(u.get(e)):[]},t.getPluginName=function(e,t){var r=null;return u.has(e)&&(0,a.objectEach)(u.get(e),function(e,n){e===t&&(r=n)}),r}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(2),o=r(1),a=r(313),s=r(8);var u=new WeakMap,l=null,c=function(){function BasePlugin(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BasePlugin),(0,i.defineGetter)(this,"hot",e,{writable:!1}),(0,i.defineGetter)(this,"t",(0,a.getTranslator)(e),{writable:!1}),u.set(this,{hooks:{}}),l=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return t.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return t.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return t.init()})}return n(BasePlugin,[{key:"init",value:function(){this.pluginName=(0,s.getPluginName)(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),l||(l=(0,s.getRegistredPluginNames)(this.hot)),l.indexOf(this.pluginName)>=0&&l.splice(l.indexOf(this.pluginName),1),l.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(e,t){u.get(this).hooks[e]=u.get(this).hooks[e]||[];var r=u.get(this).hooks[e];this.hot.addHook(e,t),r.push(t),u.get(this).hooks[e]=r}},{key:"removeHooks",value:function(e){var t=this;(0,o.arrayEach)(u.get(this).hooks[e]||[],function(r){t.hot.removeHook(e,r)})}},{key:"clearHooks",value:function(){var e=this,t=u.get(this).hooks;(0,i.objectEach)(t,function(t,r){return e.removeHooks(r)}),t.length=0}},{key:"callOnPluginsReady",value:function(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}},{key:"onAfterPluginsInitialized",value:function(){(0,o.arrayEach)(this.pluginsInitializedCallbacks,function(e){return e()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var e=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),(0,i.objectEach)(this,function(t,r){"hot"!==r&&"t"!==r&&(e[r]=null)}),delete this.t,delete this.hot}}]),BasePlugin}();t.default=c},function(e,t,r){var n=r(77)("wks"),i=r(49),o=r(14).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){"use strict";t.__esModule=!0,t.stopImmediatePropagation=function(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0},t.isImmediatePropagationStopped=function(e){return!1===e.isImmediatePropagationEnabled},t.stopPropagation=function(e){"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.pageX=function(e){if(e.pageX)return e.pageX;return e.clientX+(0,n.getWindowScrollLeft)()},t.pageY=function(e){if(e.pageY)return e.pageY;return e.clientY+(0,n.getWindowScrollTop)()},t.isRightClick=function(e){return 2===e.button},t.isLeftClick=function(e){return 0===e.button};var n=r(0)},function(e,t,r){"use strict";t.__esModule=!0,t.getRegisteredRenderers=t.getRegisteredRendererNames=t.hasRenderer=t.getRenderer=t.registerRenderer=void 0;var n=_interopRequireDefault(r(39)),i=_interopRequireDefault(r(364)),o=_interopRequireDefault(r(365)),a=_interopRequireDefault(r(366)),s=_interopRequireDefault(r(367)),u=_interopRequireDefault(r(368)),l=_interopRequireDefault(r(370)),c=_interopRequireDefault(r(371));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var f=(0,n.default)("renderers"),h=f.register,p=f.getItem,d=f.hasItem,y=f.getNames,g=f.getValues;h("base",i.default),h("autocomplete",o.default),h("checkbox",a.default),h("html",s.default),h("numeric",u.default),h("password",l.default),h("text",c.default),t.registerRenderer=h,t.getRenderer=function(e){if("function"==typeof e)return e;if(!d(e))throw Error('No registered renderer found under "'+e+'" name');return p(e)},t.hasRenderer=d,t.getRegisteredRendererNames=y,t.getRegisteredRenderers=g},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=r(2);var a=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyCol","unmodifyCol","unmodifyRow","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","modifyData","modifyRowData","modifyGetCellCoords","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight","beforeUndo","afterUndo","beforeRedo","afterRedo","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","manualRowHeights","skipLengthCache","afterTrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","hiddenRow","hiddenColumn","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten"],s=function(){function Hooks(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Hooks),this.globalBucket=this.createEmptyBucket()}return n(Hooks,null,[{key:"getSingleton",value:function(){return u}}]),n(Hooks,[{key:"createEmptyBucket",value:function(){var e=Object.create(null);return(0,i.arrayEach)(a,function(t){return e[t]=[]}),e}},{key:"getBucket",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}},{key:"add",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(t))(0,i.arrayEach)(t,function(t){return r.add(e,t,n)});else{var o=this.getBucket(n);if(void 0===o[e]&&(this.register(e),o[e]=[]),t.skip=!1,-1===o[e].indexOf(t)){var a=!1;t.initialHook&&(0,i.arrayEach)(o[e],function(r,n){if(r.initialHook)return o[e][n]=t,a=!0,!1}),a||o[e].push(t)}}return this}},{key:"once",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(t)?(0,i.arrayEach)(t,function(t){return r.once(e,t,n)}):(t.runOnce=!0,this.add(e,t,n))}},{key:"remove",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.getBucket(r);return void 0!==n[e]&&n[e].indexOf(t)>=0&&(t.skip=!0,!0)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getBucket(t);return!(void 0===r[e]||!r[e].length)}},{key:"run",value:function(e,t,r,n,i,o,a,s){var u=this.globalBucket[t],l=-1,c=u?u.length:0;if(c)for(;++l<c;)if(u[l]&&!u[l].skip){var f=u[l].call(e,r,n,i,o,a,s);void 0!==f&&(r=f),u[l]&&u[l].runOnce&&this.remove(t,u[l])}var h=this.getBucket(e)[t],p=-1,d=h?h.length:0;if(d)for(;++p<d;)if(h[p]&&!h[p].skip){var y=h[p].call(e,r,n,i,o,a,s);void 0!==y&&(r=y),h[p]&&h[p].runOnce&&this.remove(t,h[p],e)}return r}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,o.objectEach)(this.getBucket(e),function(e,t,r){return r[t].length=0})}},{key:"register",value:function(e){this.isRegistered(e)||a.push(e)}},{key:"deregister",value:function(e){this.isRegistered(e)&&a.splice(a.indexOf(e),1)}},{key:"isRegistered",value:function(e){return a.indexOf(e)>=0}},{key:"getRegistered",value:function(){return a}}]),Hooks}(),u=new s;t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(n=["\n          Your license key of Handsontable Pro has expired.\u200c\u200c\u200c\u200c \n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "],i=["\n          Your license key of Handsontable Pro has expired.\u200c\u200c\u200c\u200c\\x20\n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}})));t.stringify=function(e){var t=void 0;switch(void 0===e?"undefined":o(e)){case"string":case"number":t=""+e;break;case"object":t=null===e?"":e.toString();break;case"undefined":t="";break;default:t=e.toString()}return t},t.isDefined=function(e){return void 0!==e},t.isUndefined=isUndefined,t.isEmpty=isEmpty,t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t._injectProductInfo=function(e,t){var r="",n=!0,i=function(e){var t=[][f],r=t;if(e[f]!==y("Z"))return!1;for(var n="",i="B<H4P+".split(""),o=y(i.shift());o;o=y(i.shift()||"A"))--o<""[f]?r|=(p(""+p(h(n)+(h(d(e,Math.abs(o),2))+[]).padStart(2,"0")))%97||2)>>1:n=d(e,o,o?1===i[f]?9:8:6);return r===t}(e=g(e||"")),o=v(),s=isEmpty(e)||"trial"===e;if(s||i)if(i){var u=Math.floor((0,l.default)("11/04/2018","DD/MM/YYYY").toDate().getTime()/864e5),_=m(e);(_>45e3||_!==parseInt(_,10))&&(r="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly."),r||(u>_+1&&(r=(0,c.toSingleLine)(a)),n=u>_+15)}else r="Evaluation version of Handsontable Pro. Not licensed for use in a production environment.";else r="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly.";o&&(r=!1,n=!1);r&&!b&&(console[s?"info":"warn"](r),b=!0);if(n&&t.parentNode){var w=document.createElement("div");w.id="hot-display-license-info",w.appendChild(document.createTextNode("Evaluation version of Handsontable Pro.")),w.appendChild(document.createElement("br")),w.appendChild(document.createTextNode("Not licensed for production use.")),t.parentNode.insertBefore(w,t.nextSibling)}};var s,u=r(41),l=(s=u)&&s.__esModule?s:{default:s},c=r(42);function isUndefined(e){return void 0===e}function isEmpty(e){return null===e||""===e||isUndefined(e)}var f="length",h=function(e){return parseInt(e,16)},p=function(e){return parseInt(e,10)},d=function(e,t,r){return e.substr(t,r)},y=function(e){return e.codePointAt(0)-65},g=function(e){return(""+e).replace(/\-/g,"")},m=function(e){return h(d(g(e),h("12"),y("F")))/(h(d(g(e),y("B"),~~![][f]))||9)},v=function(){return"undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)},b=!1},function(e,t,r){"use strict";t.__esModule=!0,t.getRegisteredEditors=t.getRegisteredEditorNames=t.hasEditor=t.getEditorInstance=t.getEditor=t.registerEditor=void 0,t.RegisteredEditor=RegisteredEditor,t._getEditorInstance=_getEditorInstance;var n=_interopRequireDefault(r(39)),i=_interopRequireDefault(r(15)),o=_interopRequireDefault(r(54)),a=_interopRequireDefault(r(307)),s=_interopRequireDefault(r(356)),u=_interopRequireDefault(r(357)),l=_interopRequireDefault(r(360)),c=_interopRequireDefault(r(308)),f=_interopRequireDefault(r(361)),h=_interopRequireDefault(r(362)),p=_interopRequireDefault(r(363)),d=_interopRequireDefault(r(57));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var y=new WeakMap,g=(0,n.default)("editors"),m=g.register,v=g.getItem,b=g.hasItem,_=g.getNames,w=g.getValues;function RegisteredEditor(e){var t={},r=e;this.getConstructor=function(){return e},this.getInstance=function(e){return e.guid in t||(t[e.guid]=new r(e)),t[e.guid]},i.default.getSingleton().add("afterDestroy",function(){t={}})}function _getEditorInstance(e,t){var r=void 0;if("function"==typeof e)y.get(e)||_register(null,e),r=y.get(e);else{if("string"!=typeof e)throw Error('Only strings and functions can be passed as "editor" parameter');r=v(e)}if(!r)throw Error('No editor registered under name "'+e+'"');return r.getInstance(t)}function _register(e,t){var r=new RegisteredEditor(t);"string"==typeof e&&m(e,r),y.set(t,r)}_register("base",o.default),_register("autocomplete",a.default),_register("checkbox",s.default),_register("date",u.default),_register("dropdown",l.default),_register("handsontable",c.default),_register("numeric",f.default),_register("password",h.default),_register("select",p.default),_register("text",d.default),t.registerEditor=_register,t.getEditor=function(e){if(!b(e))throw Error('No registered editor found under "'+e+'" name');return v(e).getConstructor()},t.getEditorInstance=_getEditorInstance,t.hasEditor=b,t.getRegisteredEditorNames=_,t.getRegisteredEditors=w},function(e,t,r){var n=r(9);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";t.__esModule=!0,t.normalizeSelection=function(e){return(0,n.arrayMap)(e,function(e){return{start:e.getTopLeftCorner(),end:e.getBottomRightCorner()}})},t.isSeparator=function(e){return(0,i.hasClass)(e,"htSeparator")},t.hasSubMenu=function(e){return(0,i.hasClass)(e,"htSubmenu")},t.isDisabled=function(e){return(0,i.hasClass)(e,"htDisabled")},t.isSelectionDisabled=function(e){return(0,i.hasClass)(e,"htSelectionDisabled")},t.getValidSelection=function(e){var t=e.getSelected();if(!t)return null;if(t[0]<0)return null;return t},t.prepareVerticalAlignClass=prepareVerticalAlignClass,t.prepareHorizontalAlignClass=prepareHorizontalAlignClass,t.getAlignmentClasses=function(e,t){var r={};return(0,n.arrayEach)(e,function(e){for(var n=e.from,i=e.to,o=n.row;o<=i.row;o++)for(var a=n.col;a<=i.col;a++)r[o]||(r[o]=[]),r[o][a]=t(o,a)}),r},t.align=function(e,t,r,i,o){(0,n.arrayEach)(e,function(e){var n=e.from,a=e.to;if(n.row==a.row&&n.col==a.col)applyAlignClassName(n.row,n.col,t,r,i,o);else for(var s=n.row;s<=a.row;s++)for(var u=n.col;u<=a.col;u++)applyAlignClassName(s,u,t,r,i,o)})},t.checkSelectionConsistency=function(e,t){var r=!1;Array.isArray(e)&&(0,n.arrayEach)(e,function(e){return e.forAll(function(e,n){if(t(e,n))return r=!0,!1}),r});return r},t.markLabelAsSelected=function(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e},t.isItemHidden=function(e,t){return!e.hidden||!("function"==typeof e.hidden&&e.hidden.call(t))},t.filterSeparators=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.KEY,r=e.slice(0);return r=function(e){var t=[];return(0,n.arrayEach)(e,function(e,r){r>0?t[t.length-1].name!==e.name&&t.push(e):t.push(e)}),t}(r=function(e,t){var r=e.slice(0);return r.reverse(),(r=shiftSeparators(r,t)).reverse(),r}(r=shiftSeparators(r,t),t))};var n=r(1),i=(r(5),r(0)),o=r(93);function prepareVerticalAlignClass(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),e+=" "+t)}function prepareHorizontalAlignClass(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),e+=" "+t)}function applyAlignClassName(e,t,r,n,i,o){var a=i(e,t),s=n;a.className&&(s="vertical"===r?prepareVerticalAlignClass(a.className,n):prepareHorizontalAlignClass(a.className,n)),o(e,t,"className",s)}function shiftSeparators(e,t){for(var r=e.slice(0);0<r.length&&r[0].name===t;)r.shift();return r}},function(e,t,r){var n=r(18),i=r(98),o=r(73),a=Object.defineProperty;t.f=r(22)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";t.__esModule=!0,t.KEY_CODES=void 0,t.isPrintableChar=function(e){return 32==e||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90},t.isMetaKey=function(e){return-1!==[i.ARROW_DOWN,i.ARROW_UP,i.ARROW_LEFT,i.ARROW_RIGHT,i.HOME,i.END,i.DELETE,i.BACKSPACE,i.F1,i.F2,i.F3,i.F4,i.F5,i.F6,i.F7,i.F8,i.F9,i.F10,i.F11,i.F12,i.TAB,i.PAGE_DOWN,i.PAGE_UP,i.ENTER,i.ESCAPE,i.SHIFT,i.CAPS_LOCK,i.ALT].indexOf(e)},t.isCtrlKey=function(e){var t=[];window.navigator.platform.includes("Mac")?t.push(i.COMMAND_LEFT,i.COMMAND_RIGHT,i.COMMAND_FIREFOX):t.push(i.CONTROL);return t.includes(e)},t.isCtrlMetaKey=function(e){return[i.CONTROL,i.COMMAND_LEFT,i.COMMAND_RIGHT,i.COMMAND_FIREFOX].includes(e)},t.isKey=function(e,t){var r=t.split("|"),o=!1;return(0,n.arrayEach)(r,function(t){if(e===i[t])return o=!0,!1}),o};var n=r(1),i=t.KEY_CODES={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL:17,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},function(e,t,r){e.exports=!r(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(75),i=r(38);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(59),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(3),i=r(45),o=r(23);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(e,t,r){"use strict";t.__esModule=!0,t.isIE8=function(){return n},t.isIE9=function(){return i},t.isSafari=function(){return o},t.isChrome=function(){return a},t.isMobileBrowser=function(e){e||(e=navigator.userAgent);return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)};var n=!document.createTextNode("test").textContent;var i=!!document.documentMode;var o=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);var a=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},function(e,t,r){"use strict";t.__esModule=!0,t.getRegisteredValidators=t.getRegisteredValidatorNames=t.hasValidator=t.getValidator=t.registerValidator=void 0;var n=_interopRequireDefault(r(39)),i=_interopRequireDefault(r(372)),o=_interopRequireDefault(r(373)),a=_interopRequireDefault(r(374)),s=_interopRequireDefault(r(375));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=(0,n.default)("validators"),l=u.register,c=u.getItem,f=u.hasItem,h=u.getNames,p=u.getValues;l("autocomplete",i.default),l("date",o.default),l("numeric",a.default),l("time",s.default),t.registerValidator=l,t.getValidator=function(e){if("function"==typeof e)return e;if(!f(e))throw Error('No registered validator found under "'+e+'" name');return c(e)},t.hasValidator=f,t.getRegisteredValidatorNames=h,t.getRegisteredValidators=p},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(14),i=r(31),o=r(29),a=r(49)("src"),s=Function.toString,u=(""+s).split("toString");r(45).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var l="function"==typeof r;l&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(l&&(o(r,a)||i(r,a,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,r){var n=r(20),i=r(50);e.exports=r(22)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(62);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(38);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(49)("meta"),i=r(9),o=r(29),a=r(20).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(23)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!o(e,n)&&c(e),e}}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(2),a=r(1),s=_interopRequireDefault(r(6)),u=_interopRequireDefault(r(179));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l={},c=function(){function Overlay(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Overlay),(0,o.defineGetter)(this,"wot",e,{writable:!1}),this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=(0,i.getTrimmingContainer)(this.hider.parentNode.parentNode),this.areElementSizesAdjusted=!1,this.updateStateOfRendering()}return n(Overlay,null,[{key:"registerOverlay",value:function(e,t){if(-1===Overlay.CLONE_TYPES.indexOf(e))throw new Error("Unsupported overlay ("+e+").");l[e]=t}},{key:"createOverlay",value:function(e,t){return new l[e](t)}},{key:"hasOverlay",value:function(e){return void 0!==l[e]}},{key:"isOverlayTypeOf",value:function(e,t){return!(!e||!l[t])&&e instanceof l[t]}},{key:"CLONE_TOP",get:function(){return"top"}},{key:"CLONE_BOTTOM",get:function(){return"bottom"}},{key:"CLONE_LEFT",get:function(){return"left"}},{key:"CLONE_TOP_LEFT_CORNER",get:function(){return"top_left_corner"}},{key:"CLONE_BOTTOM_LEFT_CORNER",get:function(){return"bottom_left_corner"}},{key:"CLONE_DEBUG",get:function(){return"debug"}},{key:"CLONE_TYPES",get:function(){return[Overlay.CLONE_TOP,Overlay.CLONE_BOTTOM,Overlay.CLONE_LEFT,Overlay.CLONE_TOP_LEFT_CORNER,Overlay.CLONE_BOTTOM_LEFT_CORNER,Overlay.CLONE_DEBUG]}}]),n(Overlay,[{key:"updateStateOfRendering",value:function(){var e=this.needFullRender;this.needFullRender=this.shouldBeRendered();var t=e!==this.needFullRender;return t&&!this.needFullRender&&this.reset(),t}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=(0,i.getTrimmingContainer)(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){this.mainTableScrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE)}},{key:"makeClone",value:function(e){if(-1===Overlay.CLONE_TYPES.indexOf(e))throw new Error('Clone type "'+e+'" is not supported.');var t=document.createElement("DIV"),r=document.createElement("TABLE");t.className="ht_clone_"+e+" handsontable",t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.overflow="hidden",r.className=this.wot.wtTable.TABLE.className,t.appendChild(r),this.type=e,this.wot.wtTable.wtRootElement.parentNode.appendChild(t);var n=this.wot.getSetting("preventOverflow");return!0===n||"horizontal"===n&&this.type===Overlay.CLONE_TOP||"vertical"===n&&this.type===Overlay.CLONE_LEFT?this.mainTableScrollableElement=window:this.mainTableScrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE),new u.default({cloneSource:this.wot,cloneOverlay:this,table:r})}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.shouldBeRendered();this.clone&&(this.needFullRender||t)&&this.clone.draw(e),this.needFullRender=t}},{key:"reset",value:function(){if(this.clone){var e=this.clone.wtTable.holder,t=this.clone.wtTable.hider,r=e.style,n=t.style,i=e.parentNode.style;(0,a.arrayEach)([r,n,i],function(e){e.width="",e.height=""})}}},{key:"destroy",value:function(){new s.default(this.clone).destroy()}}]),Overlay}();t.default=c},function(e,t,r){"use strict";t.__esModule=!0,t.toUpperCaseFirst=function(e){return e[0].toUpperCase()+e.substr(1)},t.equalsIgnoreCase=function(){for(var e=[],t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=r.length;for(;o--;){var a=(0,n.stringify)(r[o]).toLowerCase();-1===e.indexOf(a)&&e.push(a)}return 1===e.length},t.randomString=function(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+s4()+s4()},t.isPercentValue=function(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)},t.substitute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(""+e).replace(/(?:\\)?\[([^[\]]+)]/g,function(e,r){return"\\"===e.charAt(0)?e.substr(1,e.length-1):void 0===t[r]?"":t[r]})},t.stripTags=function(e){return(e+="").replace(i,"")};var n=r(16);r(5);var i=/<\/?\w+\/?>|<\w+[\s|/][^>]*>/gi},function(e,t,r){var n=r(99),i=r(78);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.__esModule=!0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";n.has(e)||n.set(e,new Map);var t=n.get(e);return{register:function(e,r){t.set(e,r)},getItem:function(e){return t.get(e)},hasItem:function(e){return t.has(e)},getNames:function(){return[].concat(_toConsumableArray(t.keys()))},getValues:function(){return[].concat(_toConsumableArray(t.values()))}}};var n=t.collection=new Map},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.requestAnimationFrame=function(e){return s.call(window,e)},t.cancelAnimationFrame=function(e){u.call(window,e)},t.isTouchSupported=function(){return"ontouchstart"in window},t.isWebComponentSupportedNatively=function(){var e=document.createElement("div");return!(!e.createShadowRoot||!e.createShadowRoot.toString().match(/\[native code\]/))},t.hasCaptionProblem=function(){void 0===i&&function(){var e=document.createElement("TABLE");e.style.borderSpacing=0,e.style.borderWidth=0,e.style.padding=0;var t=document.createElement("TBODY");e.appendChild(t),t.appendChild(document.createElement("TR")),t.firstChild.appendChild(document.createElement("TD")),t.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var r=document.createElement("CAPTION");r.innerHTML="c<br>c<br>c<br>c",r.style.padding=0,r.style.margin=0,e.insertBefore(r,t),document.body.appendChild(e),i=e.offsetHeight<2*e.lastChild.offsetHeight,document.body.removeChild(e)}();return i},t.getComparisonFunction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c)return c;c="object"===("undefined"==typeof Intl?"undefined":n(Intl))?new Intl.Collator(e,t).compare:"function"==typeof String.prototype.localeCompare?function(e,t){return(""+e).localeCompare(t)}:function(e,t){return e===t?0:e>t?-1:1};return c};for(var i,o=0,a=["ms","moz","webkit","o"],s=window.requestAnimationFrame,u=window.cancelAnimationFrame,l=0;l<a.length&&!s;++l)s=window[a[l]+"RequestAnimationFrame"],u=window[a[l]+"CancelAnimationFrame"]||window[a[l]+"CancelRequestAnimationFrame"];s||(s=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-o)),n=window.setTimeout(function(){e(t+r)},r);return o=t+r,n}),u||(u=function(e){clearTimeout(e)});var c=void 0},function(e,t,r){(function(e){var t;t=function(){"use strict";var t,n;function hooks(){return t.apply(null,arguments)}function isArray(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function isUndefined(e){return void 0===e}function isNumber(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function isDate(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend(e,t){for(var r in t)hasOwnProp(t,r)&&(e[r]=t[r]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,r,n){return createLocalOrUTC(e,t,r,n,!0).utc()}function getParsingFlags(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function isValid(e){if(null==e._isValid){var t=getParsingFlags(e),r=n.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function createInvalid(e){var t=createUTC(NaN);return null!=e?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var i=hooks.momentProperties=[];function copyConfig(e,t){var r,n,o;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),i.length>0)for(r=0;r<i.length;r++)isUndefined(o=t[n=i[r]])||(e[n]=o);return e}var o=!1;function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===o&&(o=!0,hooks.updateOffset(this),o=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=absFloor(t)),r}function compareArrays(e,t,r){var n,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&toInt(e[n])!==toInt(t[n]))&&a++;return a+o}function warn(e){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var r=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,e),r){for(var n,i=[],o=0;o<arguments.length;o++){if(n="","object"==typeof arguments[o]){for(var a in n+="\n["+o+"] ",arguments[0])n+=a+": "+arguments[0][a]+", ";n=n.slice(0,-2)}else n=arguments[o];i.push(n)}warn(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}var a,s={};function deprecateSimple(e,t){null!=hooks.deprecationHandler&&hooks.deprecationHandler(e,t),s[e]||(warn(t),s[e]=!0)}function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function mergeConfigs(e,t){var r,n=extend({},e);for(r in t)hasOwnProp(t,r)&&(isObject(e[r])&&isObject(t[r])?(n[r]={},extend(n[r],e[r]),extend(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)hasOwnProp(e,r)&&!hasOwnProp(t,r)&&isObject(e[r])&&(n[r]=extend({},n[r]));return n}function Locale(e){null!=e&&this.set(e)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,a=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)hasOwnProp(e,t)&&r.push(t);return r};var u={};function addUnitAlias(e,t){var r=e.toLowerCase();u[r]=u[r+"s"]=u[t]=e}function normalizeUnits(e){return"string"==typeof e?u[e]||u[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,r,n={};for(r in e)hasOwnProp(e,r)&&(t=normalizeUnits(r))&&(n[t]=e[r]);return n}var l={};function addUnitPriority(e,t){l[e]=t}function zeroFill(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var c=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,h={},p={};function addFormatToken(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(p[e]=i),t&&(p[t[0]]=function(){return zeroFill(i.apply(this,arguments),t[1],t[2])}),r&&(p[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),h[t]=h[t]||function(e){var t,r,n,i=e.match(c);for(t=0,r=i.length;t<r;t++)p[i[t]]?i[t]=p[i[t]]:i[t]=(n=i[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,o="";for(n=0;n<r;n++)o+=isFunction(i[n])?i[n].call(t,e):i[n];return o}}(t),h[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){var r=5;function replaceLongDateFormatTokens(e){return t.longDateFormat(e)||e}for(f.lastIndex=0;r>=0&&f.test(e);)e=e.replace(f,replaceLongDateFormatTokens),f.lastIndex=0,r-=1;return e}var d=/\d/,y=/\d\d/,g=/\d{3}/,m=/\d{4}/,v=/[+-]?\d{6}/,b=/\d\d?/,_=/\d\d\d\d?/,w=/\d\d\d\d\d\d?/,S=/\d{1,3}/,E=/\d{1,4}/,C=/[+-]?\d{1,6}/,O=/\d+/,T=/[+-]?\d+/,A=/Z|[+-]\d\d:?\d\d/gi,x=/Z|[+-]\d\d(?::?\d\d)?/gi,k=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,R={};function addRegexToken(e,t,r){R[e]=isFunction(t)?t:function(e,n){return e&&r?r:t}}function getParseRegexForToken(e,t){return hasOwnProp(R,e)?R[e](t._strict,t._locale):new RegExp(regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,n,i){return t||r||n||i})))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var P={};function addParseToken(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),isNumber(t)&&(n=function(e,r){r[t]=toInt(e)}),r=0;r<e.length;r++)P[e[r]]=n}function addWeekParseToken(e,t){addParseToken(e,function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)})}function addTimeToArrayFromToken(e,t,r){null!=t&&hasOwnProp(P,e)&&P[e](t,r._a,r,e)}var D=0,M=1,F=2,N=3,I=4,j=5,L=6,B=7,H=8;function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",T),addRegexToken("YY",b,y),addRegexToken("YYYY",E,m),addRegexToken("YYYYY",C,v),addRegexToken("YYYYYY",C,v),addParseToken(["YYYYY","YYYYYY"],D),addParseToken("YYYY",function(e,t){t[D]=2===e.length?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[D]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[D]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var U,q=makeGetSet("FullYear",!0);function makeGetSet(e,t){return function(r){return null!=r?(set$1(this,e,r),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&isLeapYear(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),daysInMonth(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function daysInMonth(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,n=(t%(r=12)+r)%r;return e+=(t-n)/12,1===n?isLeapYear(e)?29:28:31-n%7%2}U=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",b),addRegexToken("MM",b,y),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[M]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[M]=i:getParsingFlags(r).invalidMonth=e});var V=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,W="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var z="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function setMonth(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(!isNumber(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function getSetMonth(e){return null!=e?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}var Y=k;var $=k;function computeMonthsParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,r=[],n=[],i=[];for(e=0;e<12;e++)t=createUTC([2e3,e]),r.push(this.monthsShort(t,"")),n.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(r.sort(cmpLenRev),n.sort(cmpLenRev),i.sort(cmpLenRev),e=0;e<12;e++)r[e]=regexEscape(r[e]),n[e]=regexEscape(n[e]);for(e=0;e<24;e++)i[e]=regexEscape(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function createUTCDate(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function firstWeekOffset(e,t,r){var n=7+t-r;return-((7+createUTCDate(e,0,n).getUTCDay()-t)%7)+n-1}function dayOfYearFromWeeks(e,t,r,n,i){var o,a,s=1+7*(t-1)+(7+r-n)%7+firstWeekOffset(e,n,i);return s<=0?a=daysInYear(o=e-1)+s:s>daysInYear(e)?(o=e+1,a=s-daysInYear(e)):(o=e,a=s),{year:o,dayOfYear:a}}function weekOfYear(e,t,r){var n,i,o=firstWeekOffset(e.year(),t,r),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?n=a+weeksInYear(i=e.year()-1,t,r):a>weeksInYear(e.year(),t,r)?(n=a-weeksInYear(e.year(),t,r),i=e.year()+1):(i=e.year(),n=a),{week:n,year:i}}function weeksInYear(e,t,r){var n=firstWeekOffset(e,t,r),i=firstWeekOffset(e+1,t,r);return(daysInYear(e)-n+i)/7}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",b),addRegexToken("ww",b,y),addRegexToken("W",b),addRegexToken("WW",b,y),addWeekParseToken(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=toInt(e)});addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",b),addRegexToken("e",b),addRegexToken("E",b),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:getParsingFlags(r).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,r,n){t[n]=toInt(e)});var G="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var K="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var X="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var J=k;var Q=k;var Z=k;function computeWeekdaysParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,r,n,i,o=[],a=[],s=[],u=[];for(e=0;e<7;e++)t=createUTC([2e3,1]).day(e),r=this.weekdaysMin(t,""),n=this.weekdaysShort(t,""),i=this.weekdays(t,""),o.push(r),a.push(n),s.push(i),u.push(r),u.push(n),u.push(i);for(o.sort(cmpLenRev),a.sort(cmpLenRev),s.sort(cmpLenRev),u.sort(cmpLenRev),e=0;e<7;e++)a[e]=regexEscape(a[e]),s[e]=regexEscape(s[e]),u[e]=regexEscape(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,function(){return this.hours()||24}),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",b),addRegexToken("h",b),addRegexToken("k",b),addRegexToken("HH",b,y),addRegexToken("hh",b,y),addRegexToken("kk",b,y),addRegexToken("hmm",_),addRegexToken("hmmss",w),addRegexToken("Hmm",_),addRegexToken("Hmmss",w),addParseToken(["H","HH"],N),addParseToken(["k","kk"],function(e,t,r){var n=toInt(e);t[N]=24===n?0:n}),addParseToken(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),addParseToken(["h","hh"],function(e,t,r){t[N]=toInt(e),getParsingFlags(r).bigHour=!0}),addParseToken("hmm",function(e,t,r){var n=e.length-2;t[N]=toInt(e.substr(0,n)),t[I]=toInt(e.substr(n)),getParsingFlags(r).bigHour=!0}),addParseToken("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[N]=toInt(e.substr(0,n)),t[I]=toInt(e.substr(n,2)),t[j]=toInt(e.substr(i)),getParsingFlags(r).bigHour=!0}),addParseToken("Hmm",function(e,t,r){var n=e.length-2;t[N]=toInt(e.substr(0,n)),t[I]=toInt(e.substr(n))}),addParseToken("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[N]=toInt(e.substr(0,n)),t[I]=toInt(e.substr(n,2)),t[j]=toInt(e.substr(i))});var ee,te=makeGetSet("Hours",!0),re={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:W,monthsShort:z,week:{dow:0,doy:6},weekdays:G,weekdaysMin:X,weekdaysShort:K,meridiemParse:/[ap]\.?m?\.?/i},ne={},ie={};function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function loadLocale(t){var n=null;if(!ne[t]&&void 0!==e&&e&&e.exports)try{n=ee._abbr;r(350)("./"+t),getSetGlobalLocale(n)}catch(e){}return ne[t]}function getSetGlobalLocale(e,t){var r;return e&&(r=isUndefined(t)?getLocale(e):defineLocale(e,t))&&(ee=r),ee._abbr}function defineLocale(e,t){if(null!==t){var r=re;if(t.abbr=e,null!=ne[e])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ne[e]._config;else if(null!=t.parentLocale){if(null==ne[t.parentLocale])return ie[t.parentLocale]||(ie[t.parentLocale]=[]),ie[t.parentLocale].push({name:e,config:t}),null;r=ne[t.parentLocale]._config}return ne[e]=new Locale(mergeConfigs(r,t)),ie[e]&&ie[e].forEach(function(e){defineLocale(e.name,e.config)}),getSetGlobalLocale(e),ne[e]}return delete ne[e],null}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ee;if(!isArray(e)){if(t=loadLocale(e))return t;e=[e]}return function(e){for(var t,r,n,i,o=0;o<e.length;){for(t=(i=normalizeLocale(e[o]).split("-")).length,r=(r=normalizeLocale(e[o+1]))?r.split("-"):null;t>0;){if(n=loadLocale(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&compareArrays(i,r,!0)>=t-1)break;t--}o++}return null}(e)}function checkOverflow(e){var t,r=e._a;return r&&-2===getParsingFlags(e).overflow&&(t=r[M]<0||r[M]>11?M:r[F]<1||r[F]>daysInMonth(r[D],r[M])?F:r[N]<0||r[N]>24||24===r[N]&&(0!==r[I]||0!==r[j]||0!==r[L])?N:r[I]<0||r[I]>59?I:r[j]<0||r[j]>59?j:r[L]<0||r[L]>999?L:-1,getParsingFlags(e)._overflowDayOfYear&&(t<D||t>F)&&(t=F),getParsingFlags(e)._overflowWeeks&&-1===t&&(t=B),getParsingFlags(e)._overflowWeekday&&-1===t&&(t=H),getParsingFlags(e).overflow=t),e}function defaults(e,t,r){return null!=e?e:null!=t?t:r}function configFromArray(e){var t,r,n,i,o,a=[];if(!e._d){for(n=function(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[F]&&null==e._a[M]&&function(e){var t,r,n,i,o,a,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,r=defaults(t.GG,e._a[D],weekOfYear(createLocal(),1,4).year),n=defaults(t.W,1),((i=defaults(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var l=weekOfYear(createLocal(),o,a);r=defaults(t.gg,e._a[D],l.year),n=defaults(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}n<1||n>weeksInYear(r,o,a)?getParsingFlags(e)._overflowWeeks=!0:null!=u?getParsingFlags(e)._overflowWeekday=!0:(s=dayOfYearFromWeeks(r,n,i,o,a),e._a[D]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=defaults(e._a[D],n[D]),(e._dayOfYear>daysInYear(o)||0===e._dayOfYear)&&(getParsingFlags(e)._overflowDayOfYear=!0),r=createUTCDate(o,0,e._dayOfYear),e._a[M]=r.getUTCMonth(),e._a[F]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[N]&&0===e._a[I]&&0===e._a[j]&&0===e._a[L]&&(e._nextDay=!0,e._a[N]=0),e._d=(e._useUTC?createUTCDate:function(e,t,r,n,i,o,a){var s=new Date(e,t,r,n,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[N]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(getParsingFlags(e).weekdayMismatch=!0)}}var oe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ae=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,se=/Z|[+-]\d\d(?::?\d\d)?/,ue=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ce=/^\/?Date\((\-?\d+)/i;function configFromISO(e){var t,r,n,i,o,a,s=e._i,u=oe.exec(s)||ae.exec(s);if(u){for(getParsingFlags(e).iso=!0,t=0,r=ue.length;t<r;t++)if(ue[t][1].exec(u[1])){i=ue[t][0],n=!1!==ue[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,r=le.length;t<r;t++)if(le[t][1].exec(u[3])){o=(u[2]||" ")+le[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(u[4]){if(!se.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),configFromStringAndFormat(e)}else e._isValid=!1}var fe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(e,t,r,n,i,o){var a=[function(e){var t=parseInt(e,10);if(t<=49)return 2e3+t;if(t<=999)return 1900+t;return t}(e),z.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}var he={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromRFC2822(e){var t=fe.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(t){var r=extractFromRFC2822Strings(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,r){return!e||K.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(getParsingFlags(r).weekdayMismatch=!0,r._isValid=!1,!1)}(t[1],r,e))return;e._a=r,e._tzm=function(e,t,r){if(e)return he[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(t[8],t[9],t[10]),e._d=createUTCDate.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromStringAndFormat(e){if(e._f!==hooks.ISO_8601)if(e._f!==hooks.RFC_2822){e._a=[],getParsingFlags(e).empty=!0;var t,r,n,i,o,a=""+e._i,s=a.length,u=0;for(n=expandFormat(e._f,e._locale).match(c)||[],t=0;t<n.length;t++)i=n[t],(r=(a.match(getParseRegexForToken(i,e))||[])[0])&&((o=a.substr(0,a.indexOf(r))).length>0&&getParsingFlags(e).unusedInput.push(o),a=a.slice(a.indexOf(r)+r.length),u+=r.length),p[i]?(r?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(i),addTimeToArrayFromToken(i,r,e)):e._strict&&!r&&getParsingFlags(e).unusedTokens.push(i);getParsingFlags(e).charsLeftOver=s-u,a.length>0&&getParsingFlags(e).unusedInput.push(a),e._a[N]<=12&&!0===getParsingFlags(e).bigHour&&e._a[N]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[N]=function(e,t,r){var n;if(null==r)return t;return null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[N],e._meridiem),configFromArray(e),checkOverflow(e)}else configFromRFC2822(e);else configFromISO(e)}function prepareConfig(e){var t=e._i,r=e._f;return e._locale=e._locale||getLocale(e._l),null===t||void 0===r&&""===t?createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate(t)?e._d=t:isArray(r)?function(e){var t,r,n,i,o;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],configFromStringAndFormat(t),isValid(t)&&(o+=getParsingFlags(t).charsLeftOver,o+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=o,(null==n||o<n)&&(n=o,r=t));extend(e,r||t)}(e):r?configFromStringAndFormat(e):function(e){var t=e._i;isUndefined(t)?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ce.exec(e._i);null===t?(configFromISO(e),!1===e._isValid&&(delete e._isValid,configFromRFC2822(e),!1===e._isValid&&(delete e._isValid,hooks.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):isArray(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):isObject(t)?function(e){if(!e._d){var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}(e):isNumber(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}(e),isValid(e)||(e._d=null),e))}function createLocalOrUTC(e,t,r,n,i){var o,a={};return!0!==r&&!1!==r||(n=r,r=void 0),(isObject(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||isArray(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=e,a._f=t,a._strict=n,(o=new Moment(checkOverflow(prepareConfig(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function createLocal(e,t,r,n){return createLocalOrUTC(e,t,r,n,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var pe=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),de=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()});function pickBy(e,t){var r,n;if(1===t.length&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var ye=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Duration(e){var t=normalizeObjectUnits(e),r=t.year||0,n=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===U.call(ye,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,n=0;n<ye.length;++n)if(e[ye[n]]){if(r)return!1;parseFloat(e[ye[n]])!==toInt(e[ye[n]])&&(r=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*n+12*r,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",x),addRegexToken("ZZ",x),addParseToken(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=offsetFromString(x,e)});var ge=/([\+\-]|\d\d)/gi;function offsetFromString(e,t){var r=(t||"").match(e);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(ge)||["-",0,0],i=60*n[1]+toInt(n[2]);return 0===i?0:"+"===n[0]?i:-i}function cloneWithOffset(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),hooks.updateOffset(r,!1),r):createLocal(e).local()}function getDateOffset(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}hooks.updateOffset=function(){};var me=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(e,t){var r,n,i,o=e,a=null;return isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:isNumber(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=me.exec(e))?(r="-"===a[1]?-1:1,o={y:0,d:toInt(a[F])*r,h:toInt(a[N])*r,m:toInt(a[I])*r,s:toInt(a[j])*r,ms:toInt(absRound(1e3*a[L]))*r}):(a=ve.exec(e))?(r="-"===a[1]?-1:(a[1],1),o={y:parseIso(a[2],r),M:parseIso(a[3],r),w:parseIso(a[4],r),d:parseIso(a[5],r),h:parseIso(a[6],r),m:parseIso(a[7],r),s:parseIso(a[8],r)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var r;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=cloneWithOffset(t,e),e.isBefore(t)?r=positiveMomentsDifference(e,t):((r=positiveMomentsDifference(t,e)).milliseconds=-r.milliseconds,r.months=-r.months);return r}(createLocal(o.from),createLocal(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),n=new Duration(o),isDuration(e)&&hasOwnProp(e,"_locale")&&(n._locale=e._locale),n}function parseIso(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function positiveMomentsDifference(e,t){var r={milliseconds:0,months:0};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function createAdder(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),addSubtract(this,createDuration(r="string"==typeof r?+r:r,n),e),this}}function addSubtract(e,t,r,n){var i=t._milliseconds,o=absRound(t._days),a=absRound(t._months);e.isValid()&&(n=null==n||n,a&&setMonth(e,get(e,"Month")+a*r),o&&set$1(e,"Date",get(e,"Date")+o*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&hooks.updateOffset(e,o||a))}createDuration.fn=Duration.prototype,createDuration.invalid=function(){return createDuration(NaN)};var be=createAdder(1,"add"),_e=createAdder(-1,"subtract");function monthDiff(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function locale(e){var t;return void 0===e?this._locale._abbr:(null!=(t=getLocale(e))&&(this._locale=t),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var we=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function localeData(){return this._locale}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYearHelper(e,t,r,n,i){var o;return null==e?weekOfYear(this,n,i).year:(t>(o=weeksInYear(e,n,i))&&(t=o),(function(e,t,r,n,i){var o=dayOfYearFromWeeks(e,t,r,n,i),a=createUTCDate(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}).call(this,e,t,r,n,i))}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",T),addRegexToken("g",T),addRegexToken("GG",b,y),addRegexToken("gg",b,y),addRegexToken("GGGG",E,m),addRegexToken("gggg",E,m),addRegexToken("GGGGG",C,v),addRegexToken("ggggg",C,v),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,r,n){t[n]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",d),addParseToken("Q",function(e,t){t[M]=3*(toInt(e)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",b),addRegexToken("DD",b,y),addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],F),addParseToken("Do",function(e,t){t[F]=toInt(e.match(b)[0])});var Se=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",S),addRegexToken("DDDD",g),addParseToken(["DDD","DDDD"],function(e,t,r){r._dayOfYear=toInt(e)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",b),addRegexToken("mm",b,y),addParseToken(["m","mm"],I);var Ee=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",b),addRegexToken("ss",b,y),addParseToken(["s","ss"],j);var Ce,Oe=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",S,d),addRegexToken("SS",S,y),addRegexToken("SSS",S,g),Ce="SSSS";Ce.length<=9;Ce+="S")addRegexToken(Ce,O);function parseMs(e,t){t[L]=toInt(1e3*("0."+e))}for(Ce="S";Ce.length<=9;Ce+="S")addParseToken(Ce,parseMs);var Te=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var Ae=Moment.prototype;function preParsePostFormat(e){return e}Ae.add=be,Ae.calendar=function(e,t){var r=e||createLocal(),n=cloneWithOffset(r,this).startOf("day"),i=hooks.calendarFormat(this,n)||"sameElse",o=t&&(isFunction(t[i])?t[i].call(this,r):t[i]);return this.format(o||this.localeData().calendar(i,this,createLocal(r)))},Ae.clone=function(){return new Moment(this)},Ae.diff=function(e,t,r){var n,i,o;if(!this.isValid())return NaN;if(!(n=cloneWithOffset(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=normalizeUnits(t)){case"year":o=monthDiff(this,n)/12;break;case"month":o=monthDiff(this,n);break;case"quarter":o=monthDiff(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-i)/864e5;break;case"week":o=(this-n-i)/6048e5;break;default:o=this-n}return r?o:absFloor(o)},Ae.endOf=function(e){return void 0===(e=normalizeUnits(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Ae.format=function(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)},Ae.from=function(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Ae.fromNow=function(e){return this.from(createLocal(),e)},Ae.to=function(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Ae.toNow=function(e){return this.to(createLocal(),e)},Ae.get=function(e){return isFunction(this[e=normalizeUnits(e)])?this[e]():this},Ae.invalidAt=function(){return getParsingFlags(this).overflow},Ae.isAfter=function(e,t){var r=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=normalizeUnits(isUndefined(t)?"millisecond":t))?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},Ae.isBefore=function(e,t){var r=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=normalizeUnits(isUndefined(t)?"millisecond":t))?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},Ae.isBetween=function(e,t,r,n){return("("===(n=n||"()")[0]?this.isAfter(e,r):!this.isBefore(e,r))&&(")"===n[1]?this.isBefore(t,r):!this.isAfter(t,r))},Ae.isSame=function(e,t){var r,n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=normalizeUnits(t||"millisecond"))?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},Ae.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Ae.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Ae.isValid=function(){return isValid(this)},Ae.lang=we,Ae.locale=locale,Ae.localeData=localeData,Ae.max=de,Ae.min=pe,Ae.parsingFlags=function(){return extend({},getParsingFlags(this))},Ae.set=function(e,t){if("object"==typeof e)for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:l[r]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=normalizeObjectUnits(e)),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit]);else if(isFunction(this[e=normalizeUnits(e)]))return this[e](t);return this},Ae.startOf=function(e){switch(e=normalizeUnits(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Ae.subtract=_e,Ae.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Ae.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Ae.toDate=function(){return new Date(this.valueOf())},Ae.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?formatMoment(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",formatMoment(r,"Z")):formatMoment(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ae.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+i)},Ae.toJSON=function(){return this.isValid()?this.toISOString():null},Ae.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ae.unix=function(){return Math.floor(this.valueOf()/1e3)},Ae.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ae.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ae.year=q,Ae.isLeapYear=function(){return isLeapYear(this.year())},Ae.weekYear=function(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ae.isoWeekYear=function(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Ae.quarter=Ae.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Ae.month=getSetMonth,Ae.daysInMonth=function(){return daysInMonth(this.year(),this.month())},Ae.week=Ae.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Ae.isoWeek=Ae.isoWeeks=function(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Ae.weeksInYear=function(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)},Ae.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},Ae.date=Se,Ae.day=Ae.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Ae.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Ae.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Ae.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Ae.hour=Ae.hours=te,Ae.minute=Ae.minutes=Ee,Ae.second=Ae.seconds=Oe,Ae.millisecond=Ae.milliseconds=Te,Ae.utcOffset=function(e,t,r){var n,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=offsetFromString(x,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:getDateOffset(this)},Ae.utc=function(e){return this.utcOffset(0,e)},Ae.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this},Ae.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=offsetFromString(A,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Ae.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Ae.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ae.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ae.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ae.isUtc=isUtc,Ae.isUTC=isUtc,Ae.zoneAbbr=function(){return this._isUTC?"UTC":""},Ae.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ae.dates=deprecate("dates accessor is deprecated. Use date instead.",Se),Ae.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),Ae.years=deprecate("years accessor is deprecated. Use year instead",q),Ae.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Ae.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={};if(copyConfig(e,this),(e=prepareConfig(e))._a){var t=e._isUTC?createUTC(e._a):createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var xe=Locale.prototype;function get$1(e,t,r,n){var i=getLocale(),o=createUTC().set(n,t);return i[r](o,e)}function listMonthsImpl(e,t,r){if(isNumber(e)&&(t=e,e=void 0),e=e||"",null!=t)return get$1(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=get$1(e,n,r,"month");return i}function listWeekdaysImpl(e,t,r,n){"boolean"==typeof e?(isNumber(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,isNumber(t)&&(r=t,t=void 0),t=t||"");var i,o=getLocale(),a=e?o._week.dow:0;if(null!=r)return get$1(t,(r+a)%7,n,"day");var s=[];for(i=0;i<7;i++)s[i]=get$1(t,(i+a)%7,n,"day");return s}xe.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return isFunction(n)?n.call(t,r):n},xe.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},xe.invalidDate=function(){return this._invalidDate},xe.ordinal=function(e){return this._ordinal.replace("%d",e)},xe.preparse=preParsePostFormat,xe.postformat=preParsePostFormat,xe.relativeTime=function(e,t,r,n){var i=this._relativeTime[r];return isFunction(i)?i(e,t,r,n):i.replace(/%d/i,e)},xe.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return isFunction(r)?r(t):r.replace(/%s/i,t)},xe.set=function(e){var t,r;for(r in e)isFunction(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},xe.months=function(e,t){return e?isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||V).test(t)?"format":"standalone"][e.month()]:isArray(this._months)?this._months:this._months.standalone},xe.monthsShort=function(e,t){return e?isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[V.test(t)?"format":"standalone"][e.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},xe.monthsParse=function(e,t,r){var n,i,o;if(this._monthsParseExact)return(function(e,t,r){var n,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=createUTC([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=U.call(this._shortMonthsParse,a))?i:null:-1!==(i=U.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=U.call(this._shortMonthsParse,a))?i:-1!==(i=U.call(this._longMonthsParse,a))?i:null:-1!==(i=U.call(this._longMonthsParse,a))?i:-1!==(i=U.call(this._shortMonthsParse,a))?i:null}).call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=createUTC([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},xe.monthsRegex=function(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=$),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},xe.monthsShortRegex=function(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=Y),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},xe.week=function(e){return weekOfYear(e,this._week.dow,this._week.doy).week},xe.firstDayOfYear=function(){return this._week.doy},xe.firstDayOfWeek=function(){return this._week.dow},xe.weekdays=function(e,t){return e?isArray(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone},xe.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},xe.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},xe.weekdaysParse=function(e,t,r){var n,i,o;if(this._weekdaysParseExact)return(function(e,t,r){var n,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=createUTC([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=U.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=U.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=U.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=U.call(this._weekdaysParse,a))?i:-1!==(i=U.call(this._shortWeekdaysParse,a))?i:-1!==(i=U.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=U.call(this._shortWeekdaysParse,a))?i:-1!==(i=U.call(this._weekdaysParse,a))?i:-1!==(i=U.call(this._minWeekdaysParse,a))?i:null:-1!==(i=U.call(this._minWeekdaysParse,a))?i:-1!==(i=U.call(this._weekdaysParse,a))?i:-1!==(i=U.call(this._shortWeekdaysParse,a))?i:null}).call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=createUTC([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},xe.weekdaysRegex=function(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=J),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},xe.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Q),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},xe.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Z),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},xe.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},xe.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var ke=Math.abs;function addSubtract$1(e,t,r,n){var i=createDuration(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function makeAs(e){return function(){return this.as(e)}}var Re=makeAs("ms"),Pe=makeAs("s"),De=makeAs("m"),Me=makeAs("h"),Fe=makeAs("d"),Ne=makeAs("w"),Ie=makeAs("M"),je=makeAs("y");function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}var Le=makeGetter("milliseconds"),Be=makeGetter("seconds"),He=makeGetter("minutes"),Ue=makeGetter("hours"),qe=makeGetter("days"),Ve=makeGetter("months"),We=makeGetter("years");var ze=Math.round,Ye={ss:44,s:45,m:45,h:22,d:26,M:11};var $e=Math.abs;function sign(e){return(e>0)-(e<0)||+e}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=$e(this._milliseconds)/1e3,n=$e(this._days),i=$e(this._months);t=absFloor((e=absFloor(r/60))/60),r%=60,e%=60;var o=absFloor(i/12),a=i%=12,s=n,u=t,l=e,c=r?r.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var h=f<0?"-":"",p=sign(this._months)!==sign(f)?"-":"",d=sign(this._days)!==sign(f)?"-":"",y=sign(this._milliseconds)!==sign(f)?"-":"";return h+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?d+s+"D":"")+(u||l||c?"T":"")+(u?y+u+"H":"")+(l?y+l+"M":"")+(c?y+c+"S":"")}var Ge=Duration.prototype;return Ge.isValid=function(){return this._isValid},Ge.abs=function(){var e=this._data;return this._milliseconds=ke(this._milliseconds),this._days=ke(this._days),this._months=ke(this._months),e.milliseconds=ke(e.milliseconds),e.seconds=ke(e.seconds),e.minutes=ke(e.minutes),e.hours=ke(e.hours),e.months=ke(e.months),e.years=ke(e.years),this},Ge.add=function(e,t){return addSubtract$1(this,e,t,1)},Ge.subtract=function(e,t){return addSubtract$1(this,e,t,-1)},Ge.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=normalizeUnits(e))||"year"===e)return t=this._days+n/864e5,r=this._months+daysToMonths(t),"month"===e?r:r/12;switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Ge.asMilliseconds=Re,Ge.asSeconds=Pe,Ge.asMinutes=De,Ge.asHours=Me,Ge.asDays=Fe,Ge.asWeeks=Ne,Ge.asMonths=Ie,Ge.asYears=je,Ge.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},Ge._bubble=function(){var e,t,r,n,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*absCeil(monthsToDays(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=absFloor(o/1e3),u.seconds=e%60,t=absFloor(e/60),u.minutes=t%60,r=absFloor(t/60),u.hours=r%24,s+=i=absFloor(daysToMonths(a+=absFloor(r/24))),a-=absCeil(monthsToDays(i)),n=absFloor(s/12),s%=12,u.days=a,u.months=s,u.years=n,this},Ge.clone=function(){return createDuration(this)},Ge.get=function(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN},Ge.milliseconds=Le,Ge.seconds=Be,Ge.minutes=He,Ge.hours=Ue,Ge.days=qe,Ge.weeks=function(){return absFloor(this.days()/7)},Ge.months=Ve,Ge.years=We,Ge.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),r=function(e,t,r){var n=createDuration(e).abs(),i=ze(n.as("s")),o=ze(n.as("m")),a=ze(n.as("h")),s=ze(n.as("d")),u=ze(n.as("M")),l=ze(n.as("y")),c=i<=Ye.ss&&["s",i]||i<Ye.s&&["ss",i]||o<=1&&["m"]||o<Ye.m&&["mm",o]||a<=1&&["h"]||a<Ye.h&&["hh",a]||s<=1&&["d"]||s<Ye.d&&["dd",s]||u<=1&&["M"]||u<Ye.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=r,(function(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}).apply(null,c)}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)},Ge.toISOString=toISOString$1,Ge.toString=toISOString$1,Ge.toJSON=toISOString$1,Ge.locale=locale,Ge.localeData=localeData,Ge.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),Ge.lang=we,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",T),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,r){r._d=new Date(toInt(e))}),hooks.version="2.20.1",t=createLocal,hooks.fn=Ae,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(e){return createLocal(1e3*e)},hooks.months=function(e,t){return listMonthsImpl(e,t,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(e,t,r){return listWeekdaysImpl(e,t,r,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(e,t){return listMonthsImpl(e,t,"monthsShort")},hooks.weekdaysMin=function(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(e,t){if(null!=t){var r,n,i=re;null!=(n=loadLocale(e))&&(i=n._config),(r=new Locale(t=mergeConfigs(i,t))).parentLocale=ne[e],ne[e]=r,getSetGlobalLocale(e)}else null!=ne[e]&&(null!=ne[e].parentLocale?ne[e]=ne[e].parentLocale:null!=ne[e]&&delete ne[e]);return ne[e]},hooks.locales=function(){return a(ne)},hooks.weekdaysShort=function(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(e){return void 0===e?ze:"function"==typeof e&&(ze=e,!0)},hooks.relativeTimeThreshold=function(e,t){return void 0!==Ye[e]&&(void 0===t?Ye[e]:(Ye[e]=t,"s"===e&&(Ye.ss=t-1),!0))},hooks.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},hooks.prototype=Ae,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},hooks},e.exports=t(),window.moment=r(41)}).call(t,r(349)(e))},function(e,t,r){"use strict";t.__esModule=!0,t.toSingleLine=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(0,n.arrayReduce)(e,function(e,t,n){var i=t.replace(/(?:\r?\n\s+)/g,""),o=r[n]?r[n]:"";return e+i+o},"").trim()};var n=r(1)},function(e,t,r){"use strict";t.__esModule=!0,t.isFunction=function(e){return"function"==typeof e},t.throttle=throttle,t.throttleAfterHits=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=throttle(e,t),i=r;function _throttleAfterHits(){return i?(i--,e.apply(this,arguments)):n.apply(this,arguments)}return _throttleAfterHits.clearHits=function(){i=r},_throttleAfterHits},t.debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=null,n=void 0;return function(){var i=this,o=arguments;r&&clearTimeout(r);return r=setTimeout(function(){n=e.apply(i,o)},t),n}},t.pipe=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t.slice(1);return function(){return(0,n.arrayReduce)(o,function(e,t){return t(e)},i.apply(this,arguments))}},t.partial=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(this,r.concat(n))}},t.curry=function(e){var t=e.length;return function given(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.concat(i);return a.length>=t?e.apply(this,a):given(a)}}([])},t.curryRight=function(e){var t=e.length;return function given(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.concat(i.reverse());return a.length>=t?e.apply(this,a):given(a)}}([])};var n=r(1);function throttle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=0,n={lastCallThrottled:!0},i=null;return function(){var o=this,a=arguments,s=Date.now(),u=!1;n.lastCallThrottled=!0,r||(r=s,u=!0);var l=t-(s-r);return u?(n.lastCallThrottled=!1,e.apply(this,a)):(i&&clearTimeout(i),i=setTimeout(function(){n.lastCallThrottled=!1,e.apply(o,a),r=0,i=void 0},l)),n}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(9);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){var n=r(11)("unscopables"),i=Array.prototype;void 0==i[n]&&r(31)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){"use strict";t.__esModule=!0,t.createClassName=createClassName,t.createDefaultCustomBorder=function(){return{width:1,color:"#000"}},t.createSingleEmptyBorder=createSingleEmptyBorder,t.createDefaultHtBorder=createDefaultHtBorder,t.createEmptyBorders=function(e,t){return{className:createClassName(e,t),border:{width:1,color:"#000",cornerVisible:!1},row:e,col:t,top:{hide:!0},right:{hide:!0},bottom:{hide:!0},left:{hide:!0}}},t.extendDefaultBorder=function(e,t){(0,n.hasOwnProperty)(t,"border")&&(e.border=t.border);(0,n.hasOwnProperty)(t,"top")&&(e.top=t.top);(0,n.hasOwnProperty)(t,"right")&&(e.right=t.right);(0,n.hasOwnProperty)(t,"bottom")&&(e.bottom=t.bottom);(0,n.hasOwnProperty)(t,"left")&&(e.left=t.left);return e},t.checkSelectionBorders=function(e,t){var r=!1;return(0,i.arrayEach)(e.getSelectedRange(),function(i){i.forAll(function(i,o){var a=e.getCellMeta(i,o).borders;if(a){if(!t)return r=!0,!1;if(!(0,n.hasOwnProperty)(a[t],"hide"))return r=!0,!1}})}),r},t.markSelected=function(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e};var n=r(2),i=r(1);function createClassName(e,t){return"border_row"+e+"col"+t}function createSingleEmptyBorder(){return{hide:!0}}function createDefaultHtBorder(){return{width:1,color:"#000",cornerVisible:!1}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t,r){var n=r(20).f,i=r(29),o=r(11)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";t.__esModule=!0,t.EditorState=void 0;var n=r(4),i=r(16),o=t.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"};function BaseEditor(e){this.instance=e,this.state=o.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}BaseEditor.prototype._fireCallbacks=function(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)},BaseEditor.prototype.init=function(){},BaseEditor.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},BaseEditor.prototype.setValue=function(e){throw Error("Editor setValue() method unimplemented")},BaseEditor.prototype.open=function(){throw Error("Editor open() method unimplemented")},BaseEditor.prototype.close=function(){throw Error("Editor close() method unimplemented")},BaseEditor.prototype.prepare=function(e,t,r,n,i,a){this.TD=n,this.row=e,this.col=t,this.prop=r,this.originalValue=i,this.cellProperties=a,this.state=o.VIRGIN},BaseEditor.prototype.extend=function(){var e=this.constructor;return function(e,t){function Bridge(){}return Bridge.prototype=t.prototype,e.prototype=new Bridge,e.prototype.constructor=e,e}(function(){e.apply(this,arguments)},e)},BaseEditor.prototype.saveValue=function(e,t){var r=void 0,n=void 0;t?((r=this.instance.getSelectedLast())[0]>r[2]&&(n=r[0],r[0]=r[2],r[2]=n),r[1]>r[3]&&(n=r[1],r[1]=r[3],r[3]=n)):r=[this.row,this.col,null,null],this.instance.populateFromArray(r[0],r[1],e,r[2],r[3],"edit")},BaseEditor.prototype.beginEditing=function(e,t){this.state===o.VIRGIN&&(this.instance.view.scrollViewport(new n.CellCoords(this.row,this.col)),this.instance.view.render(),this.state=o.EDITING,e="string"==typeof e?e:this.originalValue,this.setValue((0,i.stringify)(e)),this.open(t),this._opened=!0,this.focus(),this.instance.view.render(),this.instance.runHooks("afterBeginEditing",this.row,this.col))},BaseEditor.prototype.finishEditing=function(e,t,r){var n,i=this;if(r){var a=this._closeCallback;this._closeCallback=function(e){a&&a(e),r(e),i.instance.view.render()}}if(!this.isWaiting())if(this.state!=o.VIRGIN){if(this.state==o.EDITING){if(e)return this.cancelChanges(),void this.instance.view.render();var s=this.getValue();n=this.instance.getSettings().trimWhitespace?[["string"==typeof s?String.prototype.trim.call(s||""):s]]:[[s]],this.state=o.WAITING,this.saveValue(n,t),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(e){i.state=o.FINISHED,i.discardEditor(e)}):(this.state=o.FINISHED,this.discardEditor(!0))}}else this.instance._registerTimeout(setTimeout(function(){i._fireCallbacks(!0)},0))},BaseEditor.prototype.cancelChanges=function(){this.state=o.FINISHED,this.discardEditor()},BaseEditor.prototype.discardEditor=function(e){this.state===o.FINISHED&&(!1===e&&!0!==this.cellProperties.allowInvalid?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=o.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=o.VIRGIN,this._fireCallbacks(!0)))},BaseEditor.prototype.enableFullEditMode=function(){this._fullEditMode=!0},BaseEditor.prototype.isInFullEditMode=function(){return this._fullEditMode},BaseEditor.prototype.isOpened=function(){return this._opened},BaseEditor.prototype.isWaiting=function(){return this.state===o.WAITING},BaseEditor.prototype.checkEditorSection=function(){var e=this.instance.countRows(),t="";return this.row<this.instance.getSettings().fixedRowsTop?t=this.col<this.instance.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.instance.getSettings().fixedRowsBottom&&this.row>=e-this.instance.getSettings().fixedRowsBottom?t=this.col<this.instance.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(t="left"),t},t.default=BaseEditor},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function CellCoords(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CellCoords),void 0!==e&&void 0!==t?(this.row=e,this.col=t):(this.row=null,this.col=null)}return n(CellCoords,[{key:"isValid",value:function(e){return!(this.row<0||this.col<0)&&!(this.row>=e.getSetting("totalRows")||this.col>=e.getSetting("totalColumns"))}},{key:"isEqual",value:function(e){return e===this||this.row===e.row&&this.col===e.col}},{key:"isSouthEastOf",value:function(e){return this.row>=e.row&&this.col>=e.col}},{key:"isNorthWestOf",value:function(e){return this.row<=e.row&&this.col<=e.col}},{key:"isSouthWestOf",value:function(e){return this.row>=e.row&&this.col<=e.col}},{key:"isNorthEastOf",value:function(e){return this.row<=e.row&&this.col>=e.col}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),CellCoords}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0,t.log=function(){var e;(0,n.isDefined)(console)&&(e=console).log.apply(e,arguments)},t.warn=function(){var e;(0,n.isDefined)(console)&&(e=console).warn.apply(e,arguments)},t.info=function(){var e;(0,n.isDefined)(console)&&(e=console).info.apply(e,arguments)},t.error=function(){var e;(0,n.isDefined)(console)&&(e=console).error.apply(e,arguments)};var n=r(16)},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=_interopRequireDefault(r(355)),o=r(54),a=_interopRequireDefault(o),s=_interopRequireDefault(r(6)),u=r(21),l=r(12);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=a.default.prototype.extend();c.prototype.init=function(){var e=this;this.createElements(),this.eventManager=new s.default(this),this.bindEvents(),this.autoResize=(0,i.default)(),this.instance.addHook("afterDestroy",function(){e.destroy()})},c.prototype.getValue=function(){return this.TEXTAREA.value},c.prototype.setValue=function(e){this.TEXTAREA.value=e};var f=function(e){var t,r=this.getActiveEditor();if(t=(e.ctrlKey||e.metaKey)&&!e.altKey,e.target===r.TEXTAREA&&!(0,l.isImmediatePropagationStopped)(e))if(17!==e.keyCode&&224!==e.keyCode&&91!==e.keyCode&&93!==e.keyCode){switch(e.keyCode){case u.KEY_CODES.ARROW_RIGHT:case u.KEY_CODES.ARROW_LEFT:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(e.keyCode))&&(0,l.stopImmediatePropagation)(e);break;case u.KEY_CODES.ARROW_UP:case u.KEY_CODES.ARROW_DOWN:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(e.keyCode))&&(0,l.stopImmediatePropagation)(e);break;case u.KEY_CODES.ENTER:var i=this.selection.isMultiple();if(t&&!i||e.altKey){if(r.isOpened()){var o=(0,n.getCaretPosition)(r.TEXTAREA),a=r.getValue(),s=a.slice(0,o)+"\n"+a.slice(o);r.setValue(s),(0,n.setCaretPosition)(r.TEXTAREA,o+1)}else r.beginEditing(r.originalValue+"\n");(0,l.stopImmediatePropagation)(e)}e.preventDefault();break;case u.KEY_CODES.A:case u.KEY_CODES.X:case u.KEY_CODES.C:case u.KEY_CODES.V:t&&(0,l.stopImmediatePropagation)(e);break;case u.KEY_CODES.BACKSPACE:case u.KEY_CODES.DELETE:case u.KEY_CODES.HOME:case u.KEY_CODES.END:(0,l.stopImmediatePropagation)(e)}-1===[u.KEY_CODES.ARROW_UP,u.KEY_CODES.ARROW_RIGHT,u.KEY_CODES.ARROW_DOWN,u.KEY_CODES.ARROW_LEFT].indexOf(e.keyCode)&&r.autoResize.resize(String.fromCharCode(e.keyCode))}else(0,l.stopImmediatePropagation)(e)};c.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",f)},c.prototype.close=function(e){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",f)},c.prototype.focus=function(){this.TEXTAREA.focus(),(0,n.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length)},c.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),(0,n.addClass)(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),(0,n.addClass)(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var e=this;this.instance._registerTimeout(setTimeout(function(){e.refreshDimensions()},0))},c.prototype.getEditedCell=function(){var e;switch(this.checkEditorSection()){case"top":e=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"top-left-corner":e=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"bottom-left-corner":e=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":e=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;case"bottom":e=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:e=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=e&&-2!=e?e:void 0},c.prototype.refreshValue=function(){var e=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()},c.prototype.refreshDimensions=function(){if(this.state===o.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var e=(0,n.offset)(this.TD),t=(0,n.offset)(this.instance.rootElement),r=this.instance.view.wt.wtOverlays.topOverlay.mainTableScrollableElement,i=this.instance.countRows(),a=r!==window?r.scrollTop:0,s=r!==window?r.scrollLeft:0,u=this.checkEditorSection(),l=["","left"].includes(u)?a:0,c=["","top","bottom"].includes(u)?s:0,f=e.top===t.top?0:1,h=this.instance.getSettings(),p=(this.instance.hasRowHeaders(),this.instance.hasColHeaders()),d=this.TD.style.backgroundColor,y=e.top-t.top-f-l,g=e.left-t.left-1-c,m=void 0;switch(u){case"top":m=(0,n.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":m=(0,n.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":m=(0,n.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":m=(0,n.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":m=(0,n.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}(p&&0===this.instance.getSelectedLast()[0]||h.fixedRowsBottom&&this.instance.getSelectedLast()[0]===i-h.fixedRowsBottom)&&(y+=1),0===this.instance.getSelectedLast()[1]&&(g+=1),m&&-1!=m?this.textareaParentStyle[m[0]]=m[1]:(0,n.resetCssTransform)(this.TEXTAREA_PARENT),this.textareaParentStyle.top=y+"px",this.textareaParentStyle.left=g+"px";var v=this.instance.view.wt.wtViewport.rowsRenderCalculator.startPosition,b=this.instance.view.wt.wtViewport.columnsRenderCalculator.startPosition,_=this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),w=this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),S=(0,n.getScrollbarWidth)(),E=this.TD.offsetTop+v-w,C=this.TD.offsetLeft+b-_,O=(0,n.innerWidth)(this.TD)-8,T=(0,n.hasVerticalScrollbar)(r)?S:0,A=(0,n.hasHorizontalScrollbar)(r)?S:0,x=this.instance.view.maximumVisibleElementWidth(C)-9-T,k=this.TD.scrollHeight+1,R=Math.max(this.instance.view.maximumVisibleElementHeight(E)-A,23),P=(0,n.getComputedStyle)(this.TD);this.TEXTAREA.style.fontSize=P.fontSize,this.TEXTAREA.style.fontFamily=P.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=d||(0,n.getComputedStyle)(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(k,R),maxHeight:R,minWidth:Math.min(O,x),maxWidth:x},!0),this.textareaParentStyle.display="block"}else this.close(!0)},c.prototype.bindEvents=function(){var e=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(e){(0,l.stopPropagation)(e)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(e){(0,l.stopPropagation)(e)}),this.instance.addHook("afterScrollHorizontally",function(){e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterRowResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterDestroy",function(){e.eventManager.destroy()})},c.prototype.destroy=function(){this.eventManager.destroy()},t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),i=r(2),o={_localHooks:Object.create(null),addLocalHook:function(e,t){this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t)},runLocalHooks:function(e){for(var t=this,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this._localHooks[e]&&(0,n.arrayEach)(this._localHooks[e],function(e){return e.apply(t,i)})},clearLocalHooks:function(){this._localHooks={}}};(0,i.defineGetter)(o,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1}),t.default=o},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(59),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(30);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(32),i=r(102),o=r(103),a=r(18),s=r(25),u=r(104),l={},c={};(t=e.exports=function(e,t,r,f,h){var p,d,y,g,m=h?function(){return e}:u(e),v=n(r,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=s(e.length);p>b;b++)if((g=t?v(a(d=e[b])[0],d[1]):v(e[b]))===l||g===c)return g}else for(y=m.call(e);!(d=y.next()).done;)if((g=i(y,v,d.value,t))===l||g===c)return g}).BREAK=l,t.RETURN=c},function(e,t){e.exports=!1},function(e,t,r){"use strict";var n=r(14),i=r(3),o=r(30),a=r(61),s=r(34),u=r(64),l=r(63),c=r(9),f=r(23),h=r(79),p=r(52),d=r(329);e.exports=function(e,t,r,y,g,m){var v=n[e],b=v,_=g?"set":"add",w=b&&b.prototype,S={},E=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(m||w.forEach&&!f(function(){(new b).entries().next()}))){var C=new b,O=C[_](m?{}:-0,1)!=C,T=f(function(){C.has(1)}),A=h(function(e){new b(e)}),x=!m&&f(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});A||((b=t(function(t,r){l(t,b,e);var n=d(new v,t,b);return void 0!=r&&u(r,g,n[_],n),n})).prototype=w,w.constructor=b),(T||x)&&(E("delete"),E("has"),g&&E("get")),(x||O)&&E(_),m&&w.clear&&delete w.clear}else b=y.getConstructor(t,e,g,_),a(b.prototype,r),s.NEED=!0;return p(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=v),S),m||y.setStrong(b,e,g),b}},function(e,t,r){var n=r(53),i=r(50),o=r(24),a=r(73),s=r(29),u=r(98),l=Object.getOwnPropertyDescriptor;t.f=r(22)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(32),i=r(75),o=r(33),a=r(25),s=r(330);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,c=4==e,f=6==e,h=5==e||f,p=t||s;return function(t,s,d){for(var y,g,m=o(t),v=i(m),b=n(s,d,3),_=a(v.length),w=0,S=r?p(t,_):u?p(t,0):void 0;_>w;w++)if((h||w in v)&&(g=b(y=v[w],w,m),e))if(r)S[w]=g;else if(g)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:S.push(y)}else if(c)return!1;return f?-1:l||c?c:S}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n=r(31),i=r(30),o=r(23),a=r(38),s=r(11);e.exports=function(e,t,r){var u=s(e),l=r(a,u,""[e]),c=l[0],f=l[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,c),n(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,r){"use strict";t.__esModule=!0,t.DEFAULT_LANGUAGE_CODE=t.getLanguagesDictionaries=t.getDefaultLanguageDictionary=t.hasLanguageDictionary=t.getLanguageDictionary=t.registerLanguageDictionary=void 0;var n=r(2),i=r(317),o=_interopRequireDefault(r(39)),a=_interopRequireDefault(r(391));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=a.default.languageCode,u=(0,o.default)("languagesDictionaries"),l=u.register,c=u.getItem,f=u.hasItem,h=u.getValues;function registerLanguage(e,t){var r=e;return(0,n.isObject)(e)&&(r=(t=e).languageCode),function(e,t){e!==s&&(0,i.extendNotExistingKeys)(t,c(s))}(r,t),l(r,(0,n.deepClone)(t)),(0,n.deepClone)(t)}function hasLanguage(e){return f(e)}t.registerLanguageDictionary=registerLanguage,t.getLanguageDictionary=function(e){return hasLanguage(e)?(0,n.deepClone)(c(e)):null},t.hasLanguageDictionary=hasLanguage,t.getDefaultLanguageDictionary=function(){return a.default},t.getLanguagesDictionaries=function(){return h()},t.DEFAULT_LANGUAGE_CODE=s,registerLanguage(a.default)},function(e,t,r){var n=r(9),i=r(14).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(9);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(18),i=r(327),o=r(78),a=r(76)("IE_PROTO"),s=function(){},u=function(){var e,t=r(72)("iframe"),n=o.length;for(t.style.display="none",r(101).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(44);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(77)("keys"),i=r(49);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(14),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(11)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t,r){var n,i,o,a=r(32),s=r(333),u=r(101),l=r(72),c=r(14),f=c.process,h=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,y=c.Dispatch,g=0,m={},v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){v.call(e.data)};h&&p||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete m[e]},"process"==r(44)(f)?n=function(e){f.nextTick(a(v,e,1))}:y&&y.now?n=function(e){y.now(a(v,e,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:h,clear:p}},function(e,t,r){var n=r(99),i=r(78).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(142),i=r(38);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(11)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){"use strict";var n=r(20),i=r(50);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){"use strict";var n=r(47),i=r(108),o=r(51),a=r(24);e.exports=r(106)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(55),a=(n=o)&&n.__esModule?n:{default:n};var s=function(){function CellRange(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CellRange),this.highlight=e,this.from=t,this.to=r}return i(CellRange,[{key:"setHighlight",value:function(e){return this.highlight=e,this}},{key:"setFrom",value:function(e){return this.from=e,this}},{key:"setTo",value:function(e){return this.to=e,this}},{key:"isValid",value:function(e){return this.from.isValid(e)&&this.to.isValid(e)}},{key:"isSingle",value:function(){return this.from.row===this.to.row&&this.from.col===this.to.col}},{key:"getHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"includes",value:function(e){var t=e.row,r=e.col,n=this.getTopLeftCorner(),i=this.getBottomRightCorner();return n.row<=t&&i.row>=t&&n.col<=r&&i.col>=r}},{key:"includesRange",value:function(e){return this.includes(e.getTopLeftCorner())&&this.includes(e.getBottomRightCorner())}},{key:"isEqual",value:function(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}},{key:"overlaps",value:function(e){return e.isSouthEastOf(this.getTopLeftCorner())&&e.isNorthWestOf(this.getBottomRightCorner())}},{key:"isSouthEastOf",value:function(e){return this.getTopLeftCorner().isSouthEastOf(e)||this.getBottomRightCorner().isSouthEastOf(e)}},{key:"isNorthWestOf",value:function(e){return this.getTopLeftCorner().isNorthWestOf(e)||this.getBottomRightCorner().isNorthWestOf(e)}},{key:"isOverlappingHorizontally",value:function(e){return this.getTopRightCorner().col>=e.getTopLeftCorner().col&&this.getTopRightCorner().col<=e.getTopRightCorner().col||this.getTopLeftCorner().col<=e.getTopRightCorner().col&&this.getTopLeftCorner().col>=e.getTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(e){return this.getBottomRightCorner().row>=e.getTopRightCorner().row&&this.getBottomRightCorner().row<=e.getBottomRightCorner().row||this.getTopRightCorner().row<=e.getBottomRightCorner().row&&this.getTopRightCorner().row>=e.getTopRightCorner().row}},{key:"expand",value:function(e){var t=this.getTopLeftCorner(),r=this.getBottomRightCorner();return(e.row<t.row||e.col<t.col||e.row>r.row||e.col>r.col)&&(this.from=new a.default(Math.min(t.row,e.row),Math.min(t.col,e.col)),this.to=new a.default(Math.max(r.row,e.row),Math.max(r.col,e.col)),!0)}},{key:"expandByRange",value:function(e){if(this.includesRange(e)||!this.overlaps(e))return!1;var t=this.getTopLeftCorner(),r=this.getBottomRightCorner(),n=this.getDirection(),i=e.getTopLeftCorner(),o=e.getBottomRightCorner(),s=Math.min(t.row,i.row),u=Math.min(t.col,i.col),l=Math.max(r.row,o.row),c=Math.max(r.col,o.col),f=new a.default(s,u),h=new a.default(l,c);return this.from=f,this.to=h,this.setDirection(n),this.highlight.row===this.getBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"setDirection",value:function(e){switch(e){case"NW-SE":var t=[this.getTopLeftCorner(),this.getBottomRightCorner()];this.from=t[0],this.to=t[1];break;case"NE-SW":var r=[this.getTopRightCorner(),this.getBottomLeftCorner()];this.from=r[0],this.to=r[1];break;case"SE-NW":var n=[this.getBottomRightCorner(),this.getTopLeftCorner()];this.from=n[0],this.to=n[1];break;case"SW-NE":var i=[this.getBottomLeftCorner(),this.getTopRightCorner()];this.from=i[0],this.to=i[1]}}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopLeftCorner",value:function(){return new a.default(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getBottomRightCorner",value:function(){return new a.default(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getTopRightCorner",value:function(){return new a.default(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getBottomLeftCorner",value:function(){return new a.default(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"isCorner",value:function(e,t){return!!(t&&t.includes(e)&&(this.getTopLeftCorner().isEqual(new a.default(t.from.row,t.from.col))||this.getTopRightCorner().isEqual(new a.default(t.from.row,t.to.col))||this.getBottomLeftCorner().isEqual(new a.default(t.to.row,t.from.col))||this.getBottomRightCorner().isEqual(new a.default(t.to.row,t.to.col))))||(e.isEqual(this.getTopLeftCorner())||e.isEqual(this.getTopRightCorner())||e.isEqual(this.getBottomLeftCorner())||e.isEqual(this.getBottomRightCorner()))}},{key:"getOppositeCorner",value:function(e,t){if(!(e instanceof a.default))return!1;if(t&&t.includes(e)){if(this.getTopLeftCorner().isEqual(new a.default(t.from.row,t.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new a.default(t.from.row,t.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new a.default(t.to.row,t.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new a.default(t.to.row,t.to.col)))return this.getTopLeftCorner()}return e.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():e.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():e.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():e.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0}},{key:"getBordersSharedWith",value:function(e){if(!this.includesRange(e))return[];var t=Math.min(this.from.row,this.to.row),r=Math.max(this.from.row,this.to.row),n=Math.min(this.from.col,this.to.col),i=Math.max(this.from.col,this.to.col),o=Math.min(e.from.row,e.to.row),a=Math.max(e.from.row,e.to.row),s=Math.min(e.from.col,e.to.col),u=Math.max(e.from.col,e.to.col),l=[];return t==o&&l.push("top"),i==u&&l.push("right"),r==a&&l.push("bottom"),n==s&&l.push("left"),l}},{key:"getInner",value:function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),r=[],n=e.row;n<=t.row;n++)for(var i=e.col;i<=t.col;i++)this.from.row===n&&this.from.col===i||this.to.row===n&&this.to.col===i||r.push(new a.default(n,i));return r}},{key:"getAll",value:function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),r=[],n=e.row;n<=t.row;n++)for(var i=e.col;i<=t.col;i++)e.row===n&&e.col===i?r.push(e):t.row===n&&t.col===i?r.push(t):r.push(new a.default(n,i));return r}},{key:"forAll",value:function(e){for(var t=this.getTopLeftCorner(),r=this.getBottomRightCorner(),n=t.row;n<=r.row;n++)for(var i=t.col;i<=r.col;i++){if(!1===e(n,i))return}}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}}]),CellRange}();t.default=s},function(e,t,r){"use strict";t.__esModule=!0,t.getRegisteredCellTypes=t.getRegisteredCellTypeNames=t.hasCellType=t.getCellType=t.registerCellType=void 0;var n=_interopRequireDefault(r(39)),i=r(17),o=r(13),a=r(28),s=_interopRequireDefault(r(376)),u=_interopRequireDefault(r(377)),l=_interopRequireDefault(r(378)),c=_interopRequireDefault(r(379)),f=_interopRequireDefault(r(380)),h=_interopRequireDefault(r(381)),p=_interopRequireDefault(r(382)),d=_interopRequireDefault(r(383)),y=_interopRequireDefault(r(384));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var g=(0,n.default)("cellTypes"),m=g.register,v=g.getItem,b=g.hasItem,_=g.getNames,w=g.getValues;function _register(e,t){var r=t.editor,n=t.renderer,s=t.validator;r&&(0,i.registerEditor)(e,r),n&&(0,o.registerRenderer)(e,n),s&&(0,a.registerValidator)(e,s),m(e,t)}_register("autocomplete",s.default),_register("checkbox",u.default),_register("date",l.default),_register("dropdown",c.default),_register("handsontable",f.default),_register("numeric",h.default),_register("password",p.default),_register("text",d.default),_register("time",y.default),t.registerCellType=_register,t.getCellType=function(e){if(!b(e))throw Error('You declared cell type "'+e+'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by "Handsontable.cellTypes.registerCellType" method');return v(e)},t.hasCellType=b,t.getRegisteredCellTypeNames=_,t.getRegisteredCellTypes=w},function(e,t,r){"use strict";t.__esModule=!0;var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=(n=["Deprecation warning: This method is going to be removed in the next release. \n      If you want to select a cell using props, please use the `selectCell` method."],i=["Deprecation warning: This method is going to be removed in the next release.\\x20\n      If you want to select a cell using props, please use the \\`selectCell\\` method."],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}})));t.default=function(e,t){var r,n,i,H,U,q=this,V=arguments.length>2&&void 0!==arguments[2]&&arguments[2],W=!1,z=this,Y=function(){},$=new g.default(z);(0,m.extend)(Y.prototype,D.default.prototype),(0,m.extend)(Y.prototype,t),(0,m.extend)(Y.prototype,expandType(t)),(0,I.applyLanguageSetting)(Y.prototype,t.language),(0,k.hasValidParameter)(V)&&(0,k.registerAsRootInstance)(this);(0,j.startObserving)(),this.rootElement=e,this.isHotTableEnv=(0,u.isChildOfWebComponentTable)(this.rootElement),g.default.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),0;this.guid="ht_"+(0,E.randomString)();var G=(0,x.getTranslator)(z);i=new T.default(z),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid);r={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width","language"],settings:new Y,selRange:null,isPopulated:null,scrollable:null,firstRun:!0};var K=new L.Selection(r.settings,{countCols:function(){return z.countCols()},countRows:function(){return z.countRows()},propToCol:function(e){return n.propToCol(e)},isEditorOpened:function(){return!!z.getActiveEditor()&&z.getActiveEditor().isOpened()}});function setLanguage(e){var t=(0,I.normalizeLanguageCode)(e);(0,N.hasLanguageDictionary)(t)?(z.runHooks("beforeLanguageChange",t),Y.prototype.language=t,z.runHooks("afterLanguageChange",t)):(0,I.warnUserAboutLanguageRegistration)(e)}function ValidatorsQueue(){var e=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,e=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(e){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==e&&(e=!0,this.onQueueEmpty(this.valid))}}}function getParsedNumber(e){var t=e.replace(",",".");return!1===isNaN(parseFloat(t))?parseFloat(t):e}function validateChanges(e,t,r){var i=new ValidatorsQueue,o=function(e){return e.length>0&&/^-?[\d\s]*(\.|,)?\d*$/.test(e)};i.onQueueEmpty=function(){var n;e.length&&(n=z.runHooks("beforeChange",e,t||"edit"),(0,c.isFunction)(n)?(0,f.warn)("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):!1===n&&e.splice(0,e.length));r()};for(var s=e.length-1;s>=0;s--)if(null===e[s])e.splice(s,1);else{var l=a(e[s],4),h=l[0],p=l[1],d=l[3],y=n.propToCol(p),g=z.getCellMeta(h,y);"numeric"===g.type&&"string"==typeof d&&o(d)&&(e[s][3]=getParsedNumber(d)),z.getCellValidator(g)&&(i.addValidatorToQueue(),z.validateCell(e[s][3],g,function(t,r){return function(n){if("boolean"!=typeof n)throw new Error("Validation error: result is not boolean");if(!1===n&&!1===r.allowInvalid){e.splice(t,1),r.valid=!0;var o=z.getCell(r.visualRow,r.visualCol);(0,u.removeClass)(o,z.getSettings().invalidCellClassName),--t}i.removeValidatorFormQueue()}}(s,g),t))}i.checkIfQueueIsEmpty()}function applyChanges(e,t){var i=e.length-1;if(!(i<0)){for(;i>=0;i--){var o=!1;if(null!==e[i]){if(null!=e[i][2]||null!=e[i][3]){if(r.settings.allowInsertRow)for(;e[i][0]>z.countRows()-1;){var a=n.createRow(void 0,void 0,t);if(0===a){o=!0;break}}if(!o){if("array"===z.dataType&&(!r.settings.columns||0===r.settings.columns.length)&&r.settings.allowInsertColumn)for(;n.propToCol(e[i][1])>z.countCols()-1;)n.createCol(void 0,void 0,t);n.set(e[i][0],e[i][1],e[i][3])}}}else e.splice(i,1)}z.forceFullRender=!0,H.adjustRowsAndCols(),z.runHooks("beforeChangeRender",e,t),U.lockEditor(),z._refreshBorders(null),U.unlockEditor(),z.view.wt.wtOverlays.adjustElementsSize(),z.runHooks("afterChange",e,t||"edit");var s=z.getActiveEditor();s&&(0,h.isDefined)(s.refreshValue)&&s.refreshValue()}}function setDataInputToArray(e,t,r){return"object"===(void 0===e?"undefined":o(e))?e:[[e,t,r]]}function expandType(e){if((0,m.hasOwnProperty)(e,"type")){var t,r={};for(var n in"object"===o(e.type)?t=e.type:"string"==typeof e.type&&(t=(0,M.getCellType)(e.type)),t)(0,m.hasOwnProperty)(t,n)&&!(0,m.hasOwnProperty)(e,n)&&(r[n]=t[n]);return r}}this.selection=K,this.selection.addLocalHook("beforeSetRangeStart",function(e){q.runHooks("beforeSetRangeStart",e)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(e){q.runHooks("beforeSetRangeStartOnly",e)}),this.selection.addLocalHook("beforeSetRangeEnd",function(e){q.runHooks("beforeSetRangeEnd",e),e.row<0&&(e.row=q.view.wt.wtTable.getFirstVisibleRow()),e.col<0&&(e.col=q.view.wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(e){var t=(0,m.createObjectPropListener)(!1),r=q.selection.getSelectedRange(),n=r.current(),i=n.from,o=n.to,a=r.size()-1;q.runHooks("afterSelection",i.row,i.col,o.row,o.col,t,a),q.runHooks("afterSelectionByProp",i.row,z.colToProp(i.col),o.row,z.colToProp(o.col),t,a);var s=q.selection.isSelectedByAnyHeader(),l=q.selection.selectedRange.current(),c=!0;W&&(c=!1),t.isTouched()&&(c=!t.value),!1===c||s||(l&&!q.selection.isMultiple()?q.view.scrollViewport(l.from):q.view.scrollViewport(e));var f=q.selection.isSelectedByRowHeader(),h=q.selection.isSelectedByColumnHeader();f&&h?(0,u.addClass)(q.rootElement,["ht__selection--rows","ht__selection--columns"]):f?((0,u.removeClass)(q.rootElement,"ht__selection--columns"),(0,u.addClass)(q.rootElement,"ht__selection--rows")):h?((0,u.removeClass)(q.rootElement,"ht__selection--rows"),(0,u.addClass)(q.rootElement,"ht__selection--columns")):(0,u.removeClass)(q.rootElement,["ht__selection--rows","ht__selection--columns"]),q._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(e){var t=e.length-1,r=e[t],n=r.from,i=r.to;q.runHooks("afterSelectionEnd",n.row,n.col,i.row,i.col,t),q.runHooks("afterSelectionEndByProp",n.row,z.colToProp(n.col),i.row,z.colToProp(i.col),t)}),this.selection.addLocalHook("afterIsMultipleSelection",function(e){var t=q.runHooks("afterIsMultipleSelection",e.value);e.value&&(e.value=t)}),this.selection.addLocalHook("beforeModifyTransformStart",function(e){q.runHooks("modifyTransformStart",e)}),this.selection.addLocalHook("afterModifyTransformStart",function(e,t,r){q.runHooks("afterModifyTransformStart",e,t,r)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(e){q.runHooks("modifyTransformEnd",e)}),this.selection.addLocalHook("afterModifyTransformEnd",function(e,t,r){q.runHooks("afterModifyTransformEnd",e,t,r)}),this.selection.addLocalHook("afterDeselect",function(){U.destroyEditor(),q._refreshBorders(),(0,u.removeClass)(q.rootElement,["ht__selection--rows","ht__selection--columns"]),q.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(e){q.alter("insert_row",e,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(e){q.alter("insert_col",e,1,"auto")}),H={alter:function(e,t,i,o,s){var u;function spliceWith(e,t,r,n){var i=(0,v.arrayMap)(new Array(r),function(){return function(){var e=void 0;"array"===n?e=[]:"object"===n&&(e={});return e}()});i.unshift(t,0),e.splice.apply(e,_toConsumableArray(i))}i=i||1;var l=function(e){if(0===e.length)return[];var t=[].concat(_toConsumableArray(e));t.sort(function(e,t){var r=a(e,1),n=r[0],i=a(t,1),o=i[0];return n===o?0:n>o?1:-1});var r=(0,v.arrayReduce)(t,function(e,t){var r=a(t,2),n=r[0],i=r[1],o=e[e.length-1],s=a(o,2),u=s[0],l=s[1],c=u+l;if(n<=c){var f=Math.max(i-(c-n),0);o[1]+=f}else e.push([n,i]);return e},[t[0]]);return r};switch(e){case"insert_row":var c=z.countSourceRows();if(z.getSettings().maxRows===c)return;t=(0,h.isDefined)(t)?t:c,u=n.createRow(t,i,o),spliceWith(r.cellSettings,t,i,"array"),u&&(K.isSelected()&&K.selectedRange.current().from.row>=t?(K.selectedRange.current().from.row+=u,K.transformEnd(u,0)):z._refreshBorders());break;case"insert_col":u=n.createCol(t,i,o);for(var f=0,p=z.countSourceRows();f<p;f++)r.cellSettings[f]&&spliceWith(r.cellSettings[f],t,i);if(u){if(Array.isArray(z.getSettings().colHeaders)){var d=[t,0];d.length+=u,Array.prototype.splice.apply(z.getSettings().colHeaders,d)}K.isSelected()&&K.selectedRange.current().from.col>=t?(K.selectedRange.current().from.col+=u,K.transformEnd(0,u)):z._refreshBorders()}break;case"remove_row":var y=function(e){var t=0;(0,v.arrayEach)(e,function(e){var i=a(e,2),s=i[0],u=i[1],l=(0,h.isEmpty)(s)?z.countRows()-1:Math.max(s-t,0);Number.isInteger(s)&&(s=Math.max(s-t,0)),n.removeRow(s,u,o),r.cellSettings.splice(l,u);var c=z.countRows(),f=z.getSettings().fixedRowsTop;f>=l+1&&(z.getSettings().fixedRowsTop-=Math.min(u,f-l));var p=z.getSettings().fixedRowsBottom;p&&l>=c-p&&(z.getSettings().fixedRowsBottom-=Math.min(u,p)),t+=u})};Array.isArray(t)?y(l(t)):y([[t,i]]),H.adjustRowsAndCols(),z._refreshBorders();break;case"remove_col":var g=function(e){var t=0;(0,v.arrayEach)(e,function(e){var i=a(e,2),s=i[0],u=i[1],l=(0,h.isEmpty)(s)?z.countCols()-1:Math.max(s-t,0),c=G.toPhysicalColumn(l);Number.isInteger(s)&&(s=Math.max(s-t,0)),n.removeCol(s,u,o);for(var f=0,p=z.countSourceRows();f<p;f++)r.cellSettings[f]&&r.cellSettings[f].splice(c,u);var d=z.getSettings().fixedColumnsLeft;d>=l+1&&(z.getSettings().fixedColumnsLeft-=Math.min(u,d-l)),Array.isArray(z.getSettings().colHeaders)&&(void 0===c&&(c=-1),z.getSettings().colHeaders.splice(c,u)),t+=u})};Array.isArray(t)?g(l(t)):g([[t,i]]),H.adjustRowsAndCols(),z._refreshBorders();break;default:throw new Error('There is no such action "'+e+'"')}s||H.adjustRowsAndCols()},adjustRowsAndCols:function(){if(r.settings.minRows){var e=z.countRows();if(e<r.settings.minRows)for(var t=0,i=r.settings.minRows;t<i-e;t++)n.createRow(z.countRows(),1,"auto")}if(r.settings.minSpareRows){var o=z.countEmptyRows(!0);if(o<r.settings.minSpareRows)for(;o<r.settings.minSpareRows&&z.countSourceRows()<r.settings.maxRows;o++)n.createRow(z.countRows(),1,"auto")}var a=void 0;if((r.settings.minCols||r.settings.minSpareCols)&&(a=z.countEmptyCols(!0)),r.settings.minCols&&!r.settings.columns&&z.countCols()<r.settings.minCols)for(;z.countCols()<r.settings.minCols;a++)n.createCol(z.countCols(),1,"auto");if(r.settings.minSpareCols&&!r.settings.columns&&"array"===z.dataType&&a<r.settings.minSpareCols)for(;a<r.settings.minSpareCols&&z.countCols()<r.settings.maxCols;a++)n.createCol(z.countCols(),1,"auto");var s=z.countRows(),u=z.countCols();0!==s&&0!==u||K.deselect(),K.isSelected()&&(0,v.arrayEach)(K.selectedRange,function(e){var t=!1,r=e.from.row,n=e.from.col,i=e.to.row,o=e.to.col;r>s-1?(t=!0,i>(r=s-1)&&(i=r)):i>s-1&&(t=!0,r>(i=s-1)&&(r=i)),n>u-1?(t=!0,o>(n=u-1)&&(o=n)):o>u-1&&(t=!0,n>(o=u-1)&&(n=o)),t&&z.selectCell(r,n,i,o)}),z.view&&z.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(e,t,n,i,a,s,u){var l,c,f,p,d=[],y={};if(0===(c=t.length))return!1;var g,v,b,_;null===n||n.row,null===n||n.col;switch(a){case"shift_down":for(g=n?n.col-e.col+1:0,v=n?n.row-e.row+1:0,t=(0,A.translateRowsToColumns)(t),f=0,p=t.length,b=Math.max(p,g);f<b;f++)if(f<p){var w;for(l=0,c=t[f].length;l<v-c;l++)t[f].push(t[f][l%c]);t[f].unshift(e.col+f,e.row,0),(w=z).spliceCol.apply(w,_toConsumableArray(t[f]))}else{var S;t[f%p][0]=e.col+f,(S=z).spliceCol.apply(S,_toConsumableArray(t[f%p]))}break;case"shift_right":for(g=n?n.col-e.col+1:0,v=n?n.row-e.row+1:0,l=0,c=t.length,_=Math.max(c,v);l<_;l++)if(l<c){var E;for(f=0,p=t[l].length;f<g-p;f++)t[l].push(t[l][f%p]);t[l].unshift(e.row+l,e.col,0),(E=z).spliceRow.apply(E,_toConsumableArray(t[l]))}else{var C;t[l%c][0]=e.row+l,(C=z).spliceRow.apply(C,_toConsumableArray(t[l%c]))}break;case"overwrite":default:y.row=e.row,y.col=e.col;var O={row:n&&e?n.row-e.row+1:1,col:n&&e?n.col-e.col+1:1},T=0,x=0,k=!0,R=void 0,P=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t[e%t.length];return null!==r?n[r%n.length]:n},D=t.length,M=n?n.row-e.row+1:0;for(c=n?M:Math.max(D,M),l=0;l<c&&!(n&&y.row>n.row&&M>D||!r.settings.allowInsertRow&&y.row>z.countRows()-1||y.row>=r.settings.maxRows);l++){var F=l-T,N=P(F).length,I=n?n.col-e.col+1:0;if(p=n?I:Math.max(N,I),y.col=e.col,R=z.getCellMeta(y.row,y.col),"CopyPaste.paste"!==i&&"Autofill.autofill"!==i||!R.skipRowOnPaste){for(x=0,f=0;f<p&&!(n&&y.col>n.col&&I>N||!r.settings.allowInsertColumn&&y.col>z.countCols()-1||y.col>=r.settings.maxCols);f++)if(R=z.getCellMeta(y.row,y.col),"CopyPaste.paste"!==i&&"Autofill.fill"!==i||!R.skipColumnOnPaste)if(R.readOnly)y.col++;else{var j=f-x,L=P(F,j),B=z.getDataAtCell(y.row,y.col),H={row:F,col:j};if("Autofill.fill"===i){var U=z.runHooks("beforeAutofillInsidePopulate",H,s,t,u,{},O);U&&(L=(0,h.isUndefined)(U.value)?L:U.value)}if(null!==L&&"object"===(void 0===L?"undefined":o(L)))if(null===B||"object"!==(void 0===B?"undefined":o(B)))k=!1;else{var q=(0,m.duckSchema)(B[0]||B),V=(0,m.duckSchema)(L[0]||L);(0,m.isObjectEqual)(q,V)?L=(0,m.deepClone)(L):k=!1}else null!==B&&"object"===(void 0===B?"undefined":o(B))&&(k=!1);k&&d.push([y.row,y.col,L]),k=!0,y.col++}else x++,y.col++,p++;y.row++}else T++,y.row++,c++}z.setDataAtCell(d,null,null,i||"populateFromArray")}}},this.init=function(){i.setData(r.settings.data),z.runHooks("beforeInit"),(0,p.isMobileBrowser)()&&(0,u.addClass)(z.rootElement,"mobile"),this.updateSettings(r.settings,!0),this.view=new O.default(this),U=y.default.getInstance(z,r,K,n),this.forceFullRender=!0,z.runHooks("init"),this.view.render(),"object"===o(r.firstRun)&&(z.runHooks("afterChange",r.firstRun[0],r.firstRun[1]),r.firstRun=!1),z.runHooks("afterInit")},this.validateCell=function(e,t,r,n){var i=z.getCellValidator(t);function done(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(n&&!0!==t.hidden){var i=t.visualCol,o=t.visualRow,a=z.getCell(o,i,!0);a&&"TH"!=a.nodeName&&z.view.wt.wtSettings.settings.cellRenderer(o,i,a),r(e)}else r(e)}(0,h.isRegExp)(i)&&(i=function(e){return function(t,r){r(e.test(t))}}(i)),(0,c.isFunction)(i)?(e=z.runHooks("beforeValidate",e,t.visualRow,t.prop,n),z._registerTimeout(setTimeout(function(){i.call(t,e,function(r){r=z.runHooks("afterValidate",r,e,t.visualRow,t.prop,n),t.valid=r,done(r),z.runHooks("postAfterValidate",r,e,t.visualRow,t.prop,n)})},0))):z._registerTimeout(setTimeout(function(){t.valid=!0,done(t.valid,!1)},0))},this.setDataAtCell=function(e,t,r,a){var s,u,l,c=setDataInputToArray(e,t,r),f=[];for(s=0,u=c.length;s<u;s++){if("object"!==o(c[s]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[s][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");l=n.colToProp(c[s][1]),f.push([c[s][0],l,i.getAtCell(G.toPhysicalRow(c[s][0]),c[s][1]),c[s][2]])}a||"object"!==(void 0===e?"undefined":o(e))||(a=t),z.runHooks("afterSetDataAtCell",f,a),validateChanges(f,a,function(){applyChanges(f,a)})},this.setDataAtRowProp=function(e,t,r,n){var a,s,u=setDataInputToArray(e,t,r),l=[];for(a=0,s=u.length;a<s;a++)l.push([u[a][0],u[a][1],i.getAtCell(G.toPhysicalRow(u[a][0]),u[a][1]),u[a][2]]);n||"object"!==(void 0===e?"undefined":o(e))||(n=t),z.runHooks("afterSetDataAtRowProp",l,n),validateChanges(l,n,function(){applyChanges(l,n)})},this.listen=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var t=!document.activeElement||document.activeElement&&void 0===document.activeElement.nodeName;document.activeElement&&document.activeElement!==document.body&&!t?document.activeElement.blur():t&&document.body.focus()}z&&!z.isListening()&&(B=z.guid,z.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(B=null,z.runHooks("afterUnlisten"))},this.isListening=function(){return B===z.guid},this.destroyEditor=function(e){z._refreshBorders(e)},this.populateFromArray=function(e,t,r,n,i,a,s,u,l){var c;if("object"!==(void 0===r?"undefined":o(r))||"object"!==o(r[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");return c="number"==typeof n?new R.CellCoords(n,i):null,H.populateFromArray(new R.CellCoords(e,t),r,c,a,s,u,l)},this.spliceCol=function(e,t,r){var i;return(i=n).spliceCol.apply(i,arguments)},this.spliceRow=function(e,t,r){var i;return(i=n).spliceRow.apply(i,arguments)},this.getSelected=function(){if(K.isSelected())return(0,v.arrayMap)(K.getSelectedRange(),function(e){var t=e.from,r=e.to;return[t.row,t.col,r.row,r.col]})},this.getSelectedLast=function(){var e=this.getSelected(),t=void 0;return e&&e.length>0&&(t=e[e.length-1]),t},this.getSelectedRange=function(){if(K.isSelected())return Array.from(K.getSelectedRange())},this.getSelectedRangeLast=function(){var e=this.getSelectedRange(),t=void 0;return e&&e.length>0&&(t=e[e.length-1]),t},this.emptySelectedCells=function(){var e=this;if(K.isSelected()){var t=[];(0,v.arrayEach)(K.getSelectedRange(),function(r){var n=r.getTopLeftCorner(),i=r.getBottomRightCorner();(0,C.rangeEach)(n.row,i.row,function(r){(0,C.rangeEach)(n.col,i.col,function(n){e.getCellMeta(r,n).readOnly||t.push([r,n,""])})})}),t.length>0&&this.setDataAtCell(t)}},this.render=function(){z.view&&(z.renderCall=!0,z.forceFullRender=!0,U.lockEditor(),z._refreshBorders(null),U.unlockEditor())},this.loadData=function(e){if(Array.isArray(r.settings.dataSchema)?z.dataType="array":(0,c.isFunction)(r.settings.dataSchema)?z.dataType="function":z.dataType="object",n&&n.destroy(),n=new d.default(z,r,Y),"object"===(void 0===e?"undefined":o(e))&&null!==e)e.push&&e.splice||(e=[e]);else{if(null!==e)throw new Error("loadData only accepts array of objects or array of arrays ("+(void 0===e?"undefined":o(e))+" given)");var t;e=[];var a=0,s=0,u=n.getSchema();for(a=0,s=r.settings.startRows;a<s;a++)if("object"!==z.dataType&&"function"!==z.dataType||!r.settings.dataSchema)if("array"===z.dataType)t=(0,m.deepClone)(u[0]),e.push(t);else{t=[];for(var l=0,f=r.settings.startCols;l<f;l++)t.push(null);e.push(t)}else t=(0,m.deepClone)(u),e.push(t)}r.isPopulated=!1,Y.prototype.data=e,Array.isArray(e[0])&&(z.dataType="array"),n.dataSource=e,i.data=e,i.dataType=z.dataType,i.colToProp=n.colToProp.bind(n),i.propToCol=n.propToCol.bind(n),r.cellSettings.length=0,H.adjustRowsAndCols(),z.runHooks("afterLoadData",r.firstRun),r.firstRun?r.firstRun=[null,"loadData"]:(z.runHooks("afterChange",null,"loadData"),z.render()),r.isPopulated=!0},this.getData=function(e,t,r,i){return(0,h.isUndefined)(e)?n.getAll():n.getRange(new R.CellCoords(e,t),new R.CellCoords(r,i),n.DESTINATION_RENDERER)},this.getCopyableText=function(e,t,r,i){return n.getCopyableText(new R.CellCoords(e,t),new R.CellCoords(r,i))},this.getCopyableData=function(e,t){return n.getCopyable(e,n.colToProp(t))},this.getSchema=function(){return n.getSchema()},this.updateSettings=function(e,t){var i=!1,o=void 0,a=void 0,s=void 0;if((0,h.isDefined)(e.rows))throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if((0,h.isDefined)(e.cols))throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(o in e)"data"!==o&&("language"!==o?P.default.getSingleton().getRegistered().indexOf(o)>-1?((0,c.isFunction)(e[o])||Array.isArray(e[o]))&&(e[o].initialHook=!0,z.addHook(o,e[o])):!t&&(0,m.hasOwnProperty)(e,o)&&(Y.prototype[o]=e[o]):setLanguage(e.language));void 0===e.data&&void 0===r.settings.data?z.loadData(null):void 0!==e.data?z.loadData(e.data):void 0!==e.columns&&n.createMap(),s=z.countCols();var f=e.columns||Y.prototype.columns;if(f&&(0,c.isFunction)(f)&&(s=z.countSourceCols(),i=!0),void 0===e.cell&&void 0===e.cells&&void 0===e.columns||(r.cellSettings.length=0),s>0){var p=void 0,d=void 0;for(o=0,a=0;o<s;o++)i&&!f(o)||(r.columnSettings[a]=(0,l.columnFactory)(Y,r.columnsSettingConflicts),p=r.columnSettings[a].prototype,f&&(d=i?f(o):f[a])&&((0,m.extend)(p,d),(0,m.extend)(p,expandType(d))),a++)}if((0,h.isDefined)(e.cell))for(var y in e.cell)if((0,m.hasOwnProperty)(e.cell,y)){var g=e.cell[y];z.setCellMetaObject(g.row,g.col,g)}z.runHooks("afterCellMetaReset"),(0,h.isDefined)(e.className)&&(Y.prototype.className&&(0,u.removeClass)(z.rootElement,Y.prototype.className),e.className&&(0,u.addClass)(z.rootElement,e.className));var v=z.rootElement.style.height;""!==v&&(v=parseInt(z.rootElement.style.height,10));var b=e.height;if((0,c.isFunction)(b)&&(b=b()),t){var _=z.rootElement.getAttribute("style");_&&z.rootElement.setAttribute("data-initialstyle",z.rootElement.getAttribute("style"))}if(null===b){var w=z.rootElement.getAttribute("data-initialstyle");w&&(w.indexOf("height")>-1||w.indexOf("overflow")>-1)?z.rootElement.setAttribute("style",w):(z.rootElement.style.height="",z.rootElement.style.overflow="")}else void 0!==b&&(z.rootElement.style.height=b+"px",z.rootElement.style.overflow="hidden");if(void 0!==e.width){var S=e.width;(0,c.isFunction)(S)&&(S=S()),z.rootElement.style.width=S+"px"}t||(n.clearLengthCache(),z.view&&z.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),z.runHooks("afterUpdateSettings",e)),H.adjustRowsAndCols(),z.view&&!r.firstRun&&(z.forceFullRender=!0,U.lockEditor(),z._refreshBorders(null),U.unlockEditor()),t||!z.view||""!==v&&""!==b&&void 0!==b||v===b||z.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var e=z.getSelectedLast();if(Y.prototype.getValue){if((0,c.isFunction)(Y.prototype.getValue))return Y.prototype.getValue.call(z);if(e)return z.getData()[e[0][0]][Y.prototype.getValue]}else if(e)return z.getDataAtCell(e[0],e[1])},this.getSettings=function(){return r.settings},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(e,t,r,n,i){H.alter(e,t,r,n,i)},this.getCell=function(e,t,r){return z.view.getCellAtCoords(new R.CellCoords(e,t),r)},this.getCoords=function(e){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,e)},this.colToProp=function(e){return n.colToProp(e)},this.propToCol=function(e){return n.propToCol(e)},this.toVisualRow=function(e){return G.toVisualRow(e)},this.toVisualColumn=function(e){return G.toVisualColumn(e)},this.toPhysicalRow=function(e){return G.toPhysicalRow(e)},this.toPhysicalColumn=function(e){return G.toPhysicalColumn(e)},this.getDataAtCell=function(e,t){return n.get(e,n.colToProp(t))},this.getDataAtRowProp=function(e,t){return n.get(e,t)},this.getDataAtCol=function(e){var t=[];return t.concat.apply(t,_toConsumableArray(n.getRange(new R.CellCoords(0,e),new R.CellCoords(r.settings.data.length-1,e),n.DESTINATION_RENDERER)))},this.getDataAtProp=function(e){var t,i=[];return t=n.getRange(new R.CellCoords(0,n.propToCol(e)),new R.CellCoords(r.settings.data.length-1,n.propToCol(e)),n.DESTINATION_RENDERER),i.concat.apply(i,_toConsumableArray(t))},this.getSourceData=function(e,t,r,n){return void 0===e?i.getData():i.getByRange(new R.CellCoords(e,t),new R.CellCoords(r,n))},this.getSourceDataArray=function(e,t,r,n){return void 0===e?i.getData(!0):i.getByRange(new R.CellCoords(e,t),new R.CellCoords(r,n),!0)},this.getSourceDataAtCol=function(e){return i.getAtColumn(e)},this.getSourceDataAtRow=function(e){return i.getAtRow(e)},this.getSourceDataAtCell=function(e,t){return i.getAtCell(e,t)},this.getDataAtRow=function(e){var t=n.getRange(new R.CellCoords(e,0),new R.CellCoords(e,this.countCols()-1),n.DESTINATION_RENDERER);return t[0]||[]},this.getDataType=function(e,t,r,n){var i=this,o=null,a=null;void 0===e&&(e=0,r=this.countRows(),t=0,n=this.countCols()),void 0===r&&(r=e),void 0===n&&(n=t);var s="mixed";return(0,C.rangeEach)(Math.min(e,r),Math.max(e,r),function(e){var r=!0;return(0,C.rangeEach)(Math.min(t,n),Math.max(t,n),function(t){var n=i.getCellMeta(e,t);return a=n.type,o?r=o===a:o=a,r}),s=r?a:"mixed",r}),s},this.removeCellMeta=function(e,t,n){var i=G.toPhysical(e,t),o=a(i,2),s=o[0],u=o[1],l=r.cellSettings[s][u][n],c=z.runHooks("beforeRemoveCellMeta",e,t,n,l);!1!==c&&(delete r.cellSettings[s][u][n],z.runHooks("afterRemoveCellMeta",e,t,n,l)),l=null},this.spliceCellsMeta=function(e,t){for(var n,i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];(n=r.cellSettings).splice.apply(n,[e,t].concat(o))},this.setCellMetaObject=function(e,t,r){if("object"===(void 0===r?"undefined":o(r)))for(var n in r)if((0,m.hasOwnProperty)(r,n)){var i=r[n];this.setCellMeta(e,t,n,i)}},this.setCellMeta=function(e,t,n,i){var o=G.toPhysical(e,t),s=a(o,2),u=s[0],c=s[1];r.columnSettings[c]||(r.columnSettings[c]=(0,l.columnFactory)(Y,r.columnsSettingConflicts)),r.cellSettings[u]||(r.cellSettings[u]=[]),r.cellSettings[u][c]||(r.cellSettings[u][c]=new r.columnSettings[c]),r.cellSettings[u][c][n]=i,z.runHooks("afterSetCellMeta",e,t,n,i)},this.getCellsMeta=function(){return(0,v.arrayFlatten)(r.cellSettings)},this.getCellMeta=function(e,t){var i=n.colToProp(t),o=void 0,s=G.toPhysical(e,t),u=a(s,2),c=u[0],f=u[1];if(null===c&&(c=e),r.columnSettings[f]||(r.columnSettings[f]=(0,l.columnFactory)(Y,r.columnsSettingConflicts)),r.cellSettings[c]||(r.cellSettings[c]=[]),r.cellSettings[c][f]||(r.cellSettings[c][f]=new r.columnSettings[f]),(o=r.cellSettings[c][f]).row=c,o.col=f,o.visualRow=e,o.visualCol=t,o.prop=i,o.instance=z,z.runHooks("beforeGetCellMeta",e,t,o),(0,m.extend)(o,expandType(o)),o.cells){var h=o.cells.call(o,c,f,i);h&&((0,m.extend)(o,h),(0,m.extend)(o,expandType(h)))}return z.runHooks("afterGetCellMeta",e,t,o),o},this.getCellMetaAtRow=function(e){return r.cellSettings[e]},this.isColumnModificationAllowed=function(){return!("object"===z.dataType||z.getSettings().columns)};var X=(0,A.cellMethodLookupFactory)("renderer");this.getCellRenderer=function(e,t){return(0,w.getRenderer)(X.call(this,e,t))},this.getCellEditor=(0,A.cellMethodLookupFactory)("editor");var J=(0,A.cellMethodLookupFactory)("validator");function postMortem(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}this.getCellValidator=function(e,t){var r=J.call(this,e,t);return"string"==typeof r&&(r=(0,S.getValidator)(r)),r},this.validateCells=function(e){this._validateCells(e)},this.validateRows=function(e,t){if(!Array.isArray(e))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(t,e)},this.validateColumns=function(e,t){if(!Array.isArray(e))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(t,void 0,e)},this._validateCells=function(e,t,r){var n=new ValidatorsQueue;e&&(n.onQueueEmpty=e);for(var i=z.countRows()-1;i>=0;)if(void 0===t||-1!==t.indexOf(i)){for(var o=z.countCols()-1;o>=0;)void 0===r||-1!==r.indexOf(o)?(n.addValidatorToQueue(),z.validateCell(z.getDataAtCell(i,o),z.getCellMeta(i,o),function(e){if("boolean"!=typeof e)throw new Error("Validation error: result is not boolean");!1===e&&(n.valid=!1),n.removeValidatorFormQueue()},"validateCells"),o--):o--;i--}else i--;n.checkIfQueueIsEmpty()},this.getRowHeader=function(e){var t=r.settings.rowHeaders;return void 0!==e&&(e=z.runHooks("modifyRowHeader",e)),void 0===e?(t=[],(0,C.rangeEach)(z.countRows()-1,function(e){t.push(z.getRowHeader(e))})):Array.isArray(t)&&void 0!==t[e]?t=t[e]:(0,c.isFunction)(t)?t=t(e):t&&"string"!=typeof t&&"number"!=typeof t&&(t=e+1),t},this.hasRowHeaders=function(){return!!r.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==r.settings.colHeaders&&null!==r.settings.colHeaders)return!!r.settings.colHeaders;for(var e=0,t=z.countCols();e<t;e++)if(z.getColHeader(e))return!0;return!1},this.getColHeader=function(e){var t=r.settings.columns&&(0,c.isFunction)(r.settings.columns),n=r.settings.colHeaders;if(void 0===(e=z.runHooks("modifyColHeader",e))){for(var i=[],o=t?z.countSourceCols():z.countCols(),a=0;a<o;a++)i.push(z.getColHeader(a));n=i}else{var s=e,u=function(e){for(var t=[],r=z.countSourceCols(),n=0;n<r;n++)(0,c.isFunction)(z.getSettings().columns)&&z.getSettings().columns(n)&&t.push(n);return t[e]}(e=z.runHooks("modifyCol",e));r.settings.columns&&(0,c.isFunction)(r.settings.columns)&&r.settings.columns(u)&&r.settings.columns(u).title?n=r.settings.columns(u).title:r.settings.columns&&r.settings.columns[e]&&r.settings.columns[e].title?n=r.settings.columns[e].title:Array.isArray(r.settings.colHeaders)&&void 0!==r.settings.colHeaders[e]?n=r.settings.colHeaders[e]:(0,c.isFunction)(r.settings.colHeaders)?n=r.settings.colHeaders(e):r.settings.colHeaders&&"string"!=typeof r.settings.colHeaders&&"number"!=typeof r.settings.colHeaders&&(n=(0,A.spreadsheetColumnLabel)(s))}return n},this._getColWidthFromSettings=function(e){var t=z.getCellMeta(0,e),n=t.width;if(void 0!==n&&n!==r.settings.width||(n=t.colWidths),void 0!==n&&null!==n){switch(void 0===n?"undefined":o(n)){case"object":n=n[e];break;case"function":n=n(e)}"string"==typeof n&&(n=parseInt(n,10))}return n},this.getColWidth=function(e){var t=z._getColWidthFromSettings(e);return void 0===(t=z.runHooks("modifyColWidth",t,e))&&(t=R.ViewportColumnsCalculator.DEFAULT_WIDTH),t},this._getRowHeightFromSettings=function(e){var t=r.settings.rowHeights;if(void 0!==t&&null!==t){switch(void 0===t?"undefined":o(t)){case"object":t=t[e];break;case"function":t=t(e)}"string"==typeof t&&(t=parseInt(t,10))}return t},this.getRowHeight=function(e){var t=z._getRowHeightFromSettings(e);return t=z.runHooks("modifyRowHeight",t,e)},this.countSourceRows=function(){var e=z.runHooks("modifySourceLength");return e||(z.getSourceData()?z.getSourceData().length:0)},this.countSourceCols=function(){var e=z.getSourceData()&&z.getSourceData()[0]?z.getSourceData()[0]:[];return(0,m.isObject)(e)?(0,m.deepObjectSize)(e):e.length||0},this.countRows=function(){return n.getLength()},this.countCols=function(){var e=this.getSettings().maxCols,t=!1,i=0;if("array"===z.dataType&&(t=r.settings.data&&r.settings.data[0]&&r.settings.data[0].length),t&&(i=r.settings.data[0].length),r.settings.columns){var o=(0,c.isFunction)(r.settings.columns);if(o)if("array"===z.dataType){for(var a=0,s=0;s<i;s++)r.settings.columns(s)&&a++;i=a}else"object"!==z.dataType&&"function"!==z.dataType||(i=n.colToPropCache.length);else i=r.settings.columns.length}else"object"!==z.dataType&&"function"!==z.dataType||(i=n.colToPropCache.length);return Math.min(e,i)},this.rowOffset=function(){return z.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return z.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return z.view.wt.drawn?z.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return z.view.wt.drawn?z.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return z.view.wt.drawn?z.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return z.view.wt.drawn?z.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(e){var t=0;return(0,C.rangeEachReverse)(z.countRows()-1,function(r){if(z.isEmptyRow(r))t+=1;else if(!0===e)return!1}),t},this.countEmptyCols=function(e){if(z.countRows()<1)return 0;var t=0;return(0,C.rangeEachReverse)(z.countCols()-1,function(r){if(z.isEmptyCol(r))t+=1;else if(!0===e)return!1}),t},this.isEmptyRow=function(e){return r.settings.isEmptyRow.call(z,e)},this.isEmptyCol=function(e){return r.settings.isEmptyCol.call(z,e)},this.selectCell=function(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!(0,h.isUndefined)(e)&&!(0,h.isUndefined)(t)&&this.selectCells([[e,t,r,n]],i,o)},this.selectCells=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===t&&(W=!0);var n=K.selectCells(e);return n&&r&&z.listen(),W=!1,n},this.selectCellByProp=function(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return(0,f.warn)((0,b.toSingleLine)(s)),this.selectCells([[e,t,r,n]],i,o)},this.selectColumns=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return K.selectColumns(e,t)},this.selectRows=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return K.selectRows(e,t)},this.deselectCell=function(){K.deselect()},this.selectAll=function(){W=!0,K.selectAll(),W=!1},this.scrollViewportTo=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e&&(e<0||e>=z.countRows()))return!1;if(void 0!==t&&(t<0||t>=z.countCols()))return!1;var i=!1;return void 0!==e&&void 0!==t&&(z.view.wt.wtOverlays.topOverlay.scrollTo(e,r),z.view.wt.wtOverlays.leftOverlay.scrollTo(t,n),i=!0),"number"==typeof e&&"number"!=typeof t&&(z.view.wt.wtOverlays.topOverlay.scrollTo(e,r),i=!0),"number"==typeof t&&"number"!=typeof e&&(z.view.wt.wtOverlays.leftOverlay.scrollTo(t,n),i=!0),i},this.destroy=function(){for(var e in z._clearTimeouts(),z.view&&z.view.destroy(),i&&i.destroy(),i=null,(0,j.stopObserving)(),(0,u.empty)(z.rootElement),$.destroy(),U&&U.destroy(),z.runHooks("afterDestroy"),P.default.getSingleton().destroy(z),z)(0,m.hasOwnProperty)(z,e)&&((0,c.isFunction)(z[e])?z[e]=postMortem:"guid"!==e&&(z[e]=null));n&&n.destroy(),n=null,r=null,H=null,K=null,U=null,z=null,Y=null},this.getActiveEditor=function(){return U.getActiveEditor()},this.getPlugin=function(e){return(0,_.getPlugin)(this,e)},this.getInstance=function(){return z},this.addHook=function(e,t){P.default.getSingleton().add(e,t,z)},this.hasHook=function(e){return P.default.getSingleton().has(e,z)},this.addHookOnce=function(e,t){P.default.getSingleton().once(e,t,z)},this.removeHook=function(e,t){P.default.getSingleton().remove(e,t,z)},this.runHooks=function(e,t,r,n,i,o,a){return P.default.getSingleton().run(z,e,t,r,n,i,o,a)},this.getTranslatedPhrase=function(e,t){return(0,F.getTranslatedPhrase)(r.settings.language,e,t)},this.timeouts=[],this._registerTimeout=function(e){this.timeouts.push(e)},this._clearTimeouts=function(){for(var e=0,t=this.timeouts.length;e<t;e++)clearTimeout(this.timeouts[e])},this._refreshBorders=function(e){U.destroyEditor(e),z.view.render(),K.isSelected()&&U.prepareEditor()},P.default.getSingleton().run(z,"construct")};var u=r(0),l=r(89),c=r(43),f=r(56),h=r(16),p=r(27),d=_interopRequireDefault(r(385)),y=_interopRequireDefault(r(388)),g=_interopRequireDefault(r(6)),m=r(2),v=r(1),b=r(42),_=r(8),w=r(13),S=r(28),E=r(36),C=r(5),O=_interopRequireDefault(r(389)),T=_interopRequireDefault(r(390)),A=r(90),x=r(313),k=r(314),R=r(4),P=_interopRequireDefault(r(15)),D=_interopRequireDefault(r(315)),M=r(87),F=r(316),N=r(71),I=r(317),j=r(318),L=r(394);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var B=null},function(e,t,r){"use strict";t.__esModule=!0,t.columnFactory=function(e,t){function ColumnSettings(){}(0,n.inherit)(ColumnSettings,e);for(var r=0,i=t.length;r<i;r++)ColumnSettings.prototype[t[r]]=void 0;return ColumnSettings};var n=r(2)},function(e,t,r){"use strict";t.__esModule=!0,t.spreadsheetColumnLabel=spreadsheetColumnLabel,t.spreadsheetColumnIndex=function(e){var t=0;if(e)for(var r=0,n=e.length-1;r<e.length;r+=1,n-=1)t+=Math.pow(a,n)*(o.indexOf(e[r])+1);return--t},t.createSpreadsheetData=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=[];for(e=0;e<r;e++){var o=[];for(t=0;t<n;t++)o.push(spreadsheetColumnLabel(t)+(e+1));i.push(o)}return i},t.createSpreadsheetObjectData=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=[];for(e=0;e<r;e++){var o={};for(t=0;t<n;t++)o["prop"+t]=spreadsheetColumnLabel(t)+(e+1);i.push(o)}return i},t.createEmptySpreadsheetData=function(e,t){for(var r=[],n=void 0,i=0;i<e;i++){n=[];for(var o=0;o<t;o++)n.push("");r.push(n)}return r},t.translateRowsToColumns=function(e){var t,r,n,i,o=[],a=0;for(t=0,r=e.length;t<r;t++)for(n=0,i=e[t].length;n<i;n++)n==a&&(o.push([]),a++),o[n].push(e[t][n]);return o},t.cellMethodLookupFactory=function(e,t){return t=void 0===t||t,function(r,o){return function getMethodFromProperties(r){if(r){if((0,i.hasOwnProperty)(r,e)&&void 0!==r[e])return r[e];if((0,i.hasOwnProperty)(r,"type")&&r.type){var o;if("string"!=typeof r.type)throw new Error("Cell type must be a string ");if(o=(0,n.getCellType)(r.type),(0,i.hasOwnProperty)(o,e))return o[e];if(t)return}return getMethodFromProperties(Object.getPrototypeOf(r))}}("number"==typeof r?this.getCellMeta(r,o):r)}};var n=r(87),i=r(2),o="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=o.length;function spreadsheetColumnLabel(e){for(var t=e+1,r="",n=void 0;t>0;)n=(t-1)%a,r=String.fromCharCode(65+n)+r,t=parseInt((t-n)/a,10);return r}},function(e,t,r){"use strict";t.__esModule=!0,t.SELECTION_TYPES=t.SELECTION_TYPE_OBJECT=t.SELECTION_TYPE_ARRAY=t.SELECTION_TYPE_EMPTY=t.SELECTION_TYPE_UNRECOGNIZED=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.detectSelectionType=detectSelectionType,t.normalizeSelectionFactory=normalizeSelectionFactory,t.transformSelectionToColumnDistance=function(e){var t=detectSelectionType(e);if(t===u||t===l)return[];var r=normalizeSelectionFactory(t),i=new Set;(0,a.arrayEach)(e,function(e){var t=r(e),o=n(t,4),s=o[1],u=o[3],l=u-s+1;(0,a.arrayEach)(Array.from(new Array(l),function(e,t){return s+t}),function(e){i.has(e)||i.add(e)})});var o=Array.from(i).sort(function(e,t){return e-t});return(0,a.arrayReduce)(o,function(e,t,r,n){return 0!==r&&t===n[r-1]+1?e[e.length-1][1]++:e.push([t,1]),e},[])},t.transformSelectionToRowDistance=function(e){var t=detectSelectionType(e);if(t===u||t===l)return[];var r=normalizeSelectionFactory(t),i=new Set;(0,a.arrayEach)(e,function(e){var t=r(e),o=n(t,3),s=o[0],u=o[2],l=u-s+1;(0,a.arrayEach)(Array.from(new Array(l),function(e,t){return s+t}),function(e){i.has(e)||i.add(e)})});var o=Array.from(i).sort(function(e,t){return e-t});return(0,a.arrayReduce)(o,function(e,t,r,n){return 0!==r&&t===n[r-1]+1?e[e.length-1][1]++:e.push([t,1]),e},[])},t.isValidCoord=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"==typeof e&&e>=0&&e<t};var o=r(4),a=r(1),s=r(16),u=t.SELECTION_TYPE_UNRECOGNIZED=0,l=t.SELECTION_TYPE_EMPTY=1,c=t.SELECTION_TYPE_ARRAY=2,f=t.SELECTION_TYPE_OBJECT=3,h=t.SELECTION_TYPES=[f,c],p=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],d=Symbol("root"),y=Symbol("child");function detectSelectionType(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;if(t!==d&&t!==y)throw new Error("The second argument is used internally only and cannot be overwritten.");var r=Array.isArray(e),n=t===d,a=u;if(r){var s=e[0];if(0===e.length)a=l;else if(n&&s instanceof o.CellRange)a=f;else if(n&&Array.isArray(s))a=detectSelectionType(s,y);else if(e.length>=2&&e.length<=4){!e.some(function(e,t){return!p[t].includes(void 0===e?"undefined":i(e))})&&(a=c)}}return a}function normalizeSelectionFactory(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.keepDirection,n=void 0!==r&&r,i=t.propToCol;if(!h.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(t){var r=e===f,o=r?t.from.row:t[0],a=r?t.from.col:t[1],u=r?t.to.row:t[2],l=r?t.to.col:t[3];if("function"==typeof i&&("string"==typeof a&&(a=i(a)),"string"==typeof l&&(l=i(l))),(0,s.isUndefined)(u)&&(u=o),(0,s.isUndefined)(l)&&(l=a),!n){var c=o,h=a,p=u,d=l;o=Math.min(c,p),a=Math.min(h,d),u=Math.max(c,p),l=Math.max(h,d)}return[o,a,u,l]}}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(1);var a=function(){function GhostTable(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GhostTable),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return n(GhostTable,[{key:"addRow",value:function(e,t){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var r={row:e};this.rows.push(r),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}},{key:"addColumnHeadersRow",value:function(e){if(null!=this.hot.getColHeader(0)){var t={row:-1};this.rows.push(t),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),t.table=this.table.table}}},{key:"addColumn",value:function(e,t){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var r={col:e};this.columns.push(r),this.samples=t,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(e)&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}},{key:"getHeights",value:function(e){this.injected||this.injectTable(),(0,o.arrayEach)(this.rows,function(t){e(t.row,(0,i.outerHeight)(t.table)-1)})}},{key:"getWidths",value:function(e){this.injected||this.injectTable(),(0,o.arrayEach)(this.columns,function(t){e(t.col,(0,i.outerWidth)(t.table))})}},{key:"setSettings",value:function(e){this.settings=e}},{key:"setSetting",value:function(e,t){this.settings||(this.settings={}),this.settings[e]=t}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(e){return this.settings?this.settings[e]:null}},{key:"createColGroupsCol",value:function(){var e=this,t=document.createDocumentFragment();return this.hot.hasRowHeaders()&&t.appendChild(this.createColElement(-1)),this.samples.forEach(function(r){(0,o.arrayEach)(r.strings,function(r){t.appendChild(e.createColElement(r.col))})}),t}},{key:"createRow",value:function(e){var t=this,r=document,n=r.createDocumentFragment(),i=r.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,i),n.appendChild(i)),this.samples.forEach(function(i){(0,o.arrayEach)(i.strings,function(i){var o=i.col,a=t.hot.getCellMeta(e,o);a.col=o,a.row=e;var s=t.hot.getCellRenderer(a),u=r.createElement("td");s(t.hot,u,e,o,t.hot.colToProp(o),i.value,a),n.appendChild(u)})}),n}},{key:"createColumnHeadersRow",value:function(){var e=this,t=document,r=t.createDocumentFragment();if(this.hot.hasRowHeaders()){var n=t.createElement("th");this.hot.view.appendColHeader(-1,n),r.appendChild(n)}return this.samples.forEach(function(n){(0,o.arrayEach)(n.strings,function(n){var i=n.col,o=t.createElement("th");e.hot.view.appendColHeader(i,o),r.appendChild(o)})}),r}},{key:"createCol",value:function(e){var t=this,r=document,n=r.createDocumentFragment();return this.samples.forEach(function(i){(0,o.arrayEach)(i.strings,function(i){var o=i.row,a=t.hot.getCellMeta(o,e);a.col=e,a.row=o;var s=t.hot.getCellRenderer(a),u=r.createElement("td"),l=r.createElement("tr");s(t.hot,u,o,e,t.hot.colToProp(e),i.value,a),l.appendChild(u),n.appendChild(l)})}),n}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(e){var t=document.createElement("col");return t.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(e)+"px",t}},{key:"createTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document,r=t.createDocumentFragment(),n=t.createElement("table"),o=t.createElement("thead"),a=t.createElement("tbody"),s=t.createElement("colgroup"),u=t.createElement("tr"),l=t.createElement("th");return this.isVertical()&&n.appendChild(s),this.isHorizontal()&&(u.appendChild(l),o.appendChild(u),n.style.tableLayout="auto",n.style.width="auto"),n.appendChild(o),this.isVertical()&&a.appendChild(u),n.appendChild(a),(0,i.addClass)(n,e),r.appendChild(n),{fragment:r,table:n,tHead:o,tBody:a,colGroup:s,tr:u,th:l}}},{key:"createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document,r=t.createDocumentFragment(),n=t.createElement("div");return e="htGhostTable htAutoSize "+e.trim(),(0,i.addClass)(n,e),r.appendChild(n),{fragment:r,container:n}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),GhostTable}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){return{name:n}};var n=t.KEY="---------"},function(e,t,r){"use strict";var n;t.__esModule=!0,t.ITEMS=t.UNDO=t.SEPARATOR=t.ROW_BELOW=t.ROW_ABOVE=t.REMOVE_ROW=t.REMOVE_COLUMN=t.REDO=t.READ_ONLY=t.COLUMN_RIGHT=t.COLUMN_LEFT=t.CLEAR_COLUMN=t.ALIGNMENT=void 0;var i=r(422);Object.defineProperty(t,"ALIGNMENT",{enumerable:!0,get:function(){return i.KEY}});var o=r(423);Object.defineProperty(t,"CLEAR_COLUMN",{enumerable:!0,get:function(){return o.KEY}});var a=r(424);Object.defineProperty(t,"COLUMN_LEFT",{enumerable:!0,get:function(){return a.KEY}});var s=r(425);Object.defineProperty(t,"COLUMN_RIGHT",{enumerable:!0,get:function(){return s.KEY}});var u=r(426);Object.defineProperty(t,"READ_ONLY",{enumerable:!0,get:function(){return u.KEY}});var l=r(427);Object.defineProperty(t,"REDO",{enumerable:!0,get:function(){return l.KEY}});var c=r(428);Object.defineProperty(t,"REMOVE_COLUMN",{enumerable:!0,get:function(){return c.KEY}});var f=r(429);Object.defineProperty(t,"REMOVE_ROW",{enumerable:!0,get:function(){return f.KEY}});var h=r(430);Object.defineProperty(t,"ROW_ABOVE",{enumerable:!0,get:function(){return h.KEY}});var p=r(431);Object.defineProperty(t,"ROW_BELOW",{enumerable:!0,get:function(){return p.KEY}});var d=r(93);Object.defineProperty(t,"SEPARATOR",{enumerable:!0,get:function(){return d.KEY}});var y=r(432);Object.defineProperty(t,"UNDO",{enumerable:!0,get:function(){return y.KEY}}),t.predefinedItems=function(){var e={};return(0,g.objectEach)(R,function(t,r){e[r]=t()}),e},t.addItem=function(e,t){-1===k.indexOf(e)&&(R[e]=t)};var g=r(2),m=_interopRequireDefault(i),v=_interopRequireDefault(o),b=_interopRequireDefault(a),_=_interopRequireDefault(s),w=_interopRequireDefault(u),S=_interopRequireDefault(l),E=_interopRequireDefault(c),C=_interopRequireDefault(f),O=_interopRequireDefault(h),T=_interopRequireDefault(p),A=_interopRequireDefault(d),x=_interopRequireDefault(y);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=t.ITEMS=[h.KEY,p.KEY,a.KEY,s.KEY,o.KEY,f.KEY,c.KEY,y.KEY,l.KEY,u.KEY,i.KEY,d.KEY],R=(_defineProperty(n={},d.KEY,A.default),_defineProperty(n,h.KEY,O.default),_defineProperty(n,p.KEY,T.default),_defineProperty(n,a.KEY,b.default),_defineProperty(n,s.KEY,_.default),_defineProperty(n,o.KEY,v.default),_defineProperty(n,f.KEY,C.default),_defineProperty(n,c.KEY,E.default),_defineProperty(n,y.KEY,x.default),_defineProperty(n,l.KEY,S.default),_defineProperty(n,u.KEY,w.default),_defineProperty(n,i.KEY,m.default),n)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_taggedTemplateLiteral(["The merged cell declared with {row: ",", col: ",", rowspan: \n    ",", colspan: ","} contains negative values, which is not supported. It \n    will not be added to the collection."],["The merged cell declared with {row: ",", col: ",", rowspan: \n    ",", colspan: ","} contains negative values, which is not supported. It \n    will not be added to the collection."]),o=_taggedTemplateLiteral(["The merged cell declared at [",", ","] is positioned (or positioned partially) \n       outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned (or positioned partially) \n       outside of the table range. It was not added to the table, please fix your setup."]),a=_taggedTemplateLiteral(["The merged cell declared at [",", ",'] has both "rowspan" \n     and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan" \n     and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.']),s=_taggedTemplateLiteral(["The merged cell declared at [",", ",'] has "rowspan" or "colspan" declared as \n      "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan" or "colspan" declared as \n      "0", which is not supported. It cannot be added to the collection.']),u=r(4),l=r(42);function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=function(){function MergedCellCoords(e,t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MergedCellCoords),this.row=e,this.col=t,this.rowspan=r,this.colspan=n,this.removed=!1}return n(MergedCellCoords,[{key:"normalize",value:function(e){var t=e.countRows(),r=e.countCols();this.row<0?this.row=0:this.row>t-1&&(this.row=t-1),this.col<0?this.col=0:this.col>r-1&&(this.col=r-1),this.row+this.rowspan>t-1&&(this.rowspan=t-this.row),this.col+this.colspan>r-1&&(this.colspan=r-this.col)}},{key:"includes",value:function(e,t){return this.row<=e&&this.col<=t&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=t}},{key:"includesHorizontally",value:function(e){return this.col<=e&&this.col+this.colspan-1>=e}},{key:"includesVertically",value:function(e){return this.row<=e&&this.row+this.rowspan-1>=e}},{key:"shift",value:function(e,t){var r=e[0]||e[1],n=t+Math.abs(e[0]||e[1])-1,i=e[0]?"colspan":"rowspan",o=e[0]?"col":"row",a=Math.min(t,n),s=Math.max(t,n),u=this[o],l=this[o]+this[i]-1;if(u>=t&&(this[o]+=r),r>0)t<=l&&t>u&&(this[i]+=r);else if(r<0){if(a<=u&&s>=l)return this.removed=!0,!1;if(u>=a&&u<=s){var c=s-u+1,f=Math.abs(r)-c;this[o]-=f+r,this[i]-=c}else if(u<=a&&l>=s)this[i]+=r;else if(u<=a&&l>=a&&l<s){var h=l-a+1;this[i]-=h}}return!0}},{key:"isFarther",value:function(e,t){return!e||("down"===t?e.row+e.rowspan-1<this.row+this.rowspan-1:"up"===t?e.row>this.row:"right"===t?e.col+e.colspan-1<this.col+this.colspan-1:"left"===t?e.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return new u.CellRange(new u.CellCoords(this.row,this.col),new u.CellCoords(this.row,this.col),new u.CellCoords(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(e){return(0,l.toSingleLine)(i,e.row,e.col,e.rowspan,e.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(e){return(0,l.toSingleLine)(o,e.row,e.col)}},{key:"IS_SINGLE_CELL",value:function(e){return(0,l.toSingleLine)(a,e.row,e.col)}},{key:"ZERO_SPAN_WARNING",value:function(e){return(0,l.toSingleLine)(s,e.row,e.col)}},{key:"containsNegativeValues",value:function(e){return e.row<0||e.col<0||e.rowspan<0||e.colspan<0}},{key:"isSingleCell",value:function(e){return 1===e.colspan&&1===e.rowspan}},{key:"containsZeroSpan",value:function(e){return 0===e.colspan||0===e.rowspan}},{key:"isOutOfBounds",value:function(e,t,r){return e.row<0||e.col<0||e.row>=t||e.row+e.rowspan-1>=t||e.col>=r||e.col+e.colspan-1>=r}}]),MergedCellCoords}();t.default=c},function(e,t,r){"use strict";var n=r(97),i=r(46);e.exports=r(66)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(20).f,i=r(74),o=r(61),a=r(32),s=r(63),u=r(64),l=r(106),c=r(108),f=r(109),h=r(22),p=r(34).fastKey,d=r(46),y=h?"_s":"size",g=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,l){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=n&&u(n,r,e[l],e)});return o(c.prototype,{clear:function(){for(var e=d(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var r=d(this,t),n=g(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[y]--}return!!n},forEach:function(e){d(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!g(d(this,t),e)}}),h&&n(c.prototype,"size",{get:function(){return d(this,t)[y]}}),c},def:function(e,t,r){var n,i,o=g(e,t);return o?o.v=r:(e._l=o={i:i=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[y]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,r){l(e,t,function(e,r){this._t=d(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},r?"entries":"values",!r,!0),f(t)}}},function(e,t,r){e.exports=!r(22)&&!r(23)(function(){return 7!=Object.defineProperty(r(72)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(29),i=r(24),o=r(100)(!1),a=r(76)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(24),i=r(25),o=r(60);e.exports=function(e){return function(t,r,a){var s,u=n(t),l=i(u.length),c=o(a,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(14).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(18);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(51),i=r(11)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){var n=r(105),i=r(11)("iterator"),o=r(51);e.exports=r(45).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(44),i=r(11)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){"use strict";var n=r(65),i=r(3),o=r(30),a=r(31),s=r(51),u=r(328),l=r(52),c=r(107),f=r(11)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,d,y,g,m){u(r,t,d);var v,b,_,w=function(e){if(!h&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",E="values"==y,C=!1,O=e.prototype,T=O[f]||O["@@iterator"]||y&&O[y],A=T||w(y),x=y?E?w("entries"):A:void 0,k="Array"==t&&O.entries||T;if(k&&(_=c(k.call(new e)))!==Object.prototype&&_.next&&(l(_,S,!0),n||"function"==typeof _[f]||a(_,f,p)),E&&T&&"values"!==T.name&&(C=!0,A=function(){return T.call(this)}),n&&!m||!h&&!C&&O[f]||a(O,f,A),s[t]=A,s[S]=p,y)if(v={values:E?A:w("values"),keys:g?A:w("keys"),entries:x},m)for(b in v)b in O||o(O,b,v[b]);else i(i.P+i.F*(h||C),t,v);return v}},function(e,t,r){var n=r(29),i=r(33),o=r(76)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(14),i=r(20),o=r(22),a=r(11)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(9),i=r(18),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(32)(Function.call,r(67).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){"use strict";var n=r(97),i=r(46);e.exports=r(66)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,i=r(68)(0),o=r(30),a=r(34),s=r(114),u=r(115),l=r(9),c=r(23),f=r(46),h=a.getWeak,p=Object.isExtensible,d=u.ufstore,y={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(l(e)){var t=h(e);return!0===t?d(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},v=e.exports=r(66)("WeakMap",g,m,u,!0,!0);c(function(){return 7!=(new v).set((Object.freeze||Object)(y),7).get(y)})&&(s((n=u.getConstructor(g,"WeakMap")).prototype,m),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=v.prototype,r=t[e];o(t,e,function(t,i){if(l(t)&&!p(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)})}))},function(e,t,r){var n=r(44);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(37),i=r(69),o=r(53),a=r(33),s=r(75),u=Object.assign;e.exports=!u||r(23)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var h,p=s(arguments[l++]),d=c?n(p).concat(c(p)):n(p),y=d.length,g=0;y>g;)f.call(p,h=d[g++])&&(r[h]=p[h]);return r}:u},function(e,t,r){"use strict";var n=r(61),i=r(34).getWeak,o=r(18),a=r(9),s=r(63),u=r(64),l=r(68),c=r(29),f=r(46),h=l(5),p=l(6),d=0,y=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},m=function(e,t){return h(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var l=e(function(e,n){s(e,l,t,"_i"),e._t=t,e._i=d++,e._l=void 0,void 0!=n&&u(n,r,e[o],e)});return n(l.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?y(f(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?y(f(this,t)).has(e):r&&c(r,this._i)}}),l},def:function(e,t,r){var n=i(o(t),!0);return!0===n?y(e).set(t,r):n[e._i]=r,e},ufstore:y}},function(e,t,r){"use strict";var n=r(115),i=r(46);r(66)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){"use strict";var n,i,o,a,s=r(65),u=r(14),l=r(32),c=r(105),f=r(3),h=r(9),p=r(62),d=r(63),y=r(64),g=r(332),m=r(80).set,v=r(334)(),b=r(118),_=r(335),w=r(336),S=u.TypeError,E=u.process,C=u.Promise,O="process"==c(E),T=function(){},A=i=b.f,x=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(11)("species")]=function(e){e(T,T)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),k=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;v(function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,s=i?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(i||(2==e._h&&M(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),a=!0)),r===t.promise?l(S("Promise-chain cycle")):(o=k(r))?o.call(r,u,l):u(r)):l(n)}catch(e){c&&!a&&c.exit(),l(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){m.call(u,function(){var t,r,n,i=e._v,o=D(e);if(o&&(t=_(function(){O?E.emit("unhandledRejection",i,e):(r=u.onunhandledrejection)?r({promise:e,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=O||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){m.call(u,function(){var t;O?E.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},N=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw S("Promise can't be resolved itself");(t=k(e))?v(function(){var n={_w:r,_d:!1};try{t.call(e,l(N,n,1),l(F,n,1))}catch(e){F.call(n,e)}}):(r._v=e,r._s=1,R(r,!1))}catch(e){F.call({_w:r,_d:!1},e)}}};x||(C=function(e){d(this,C,"Promise","_h"),p(e),n.call(this);try{e(l(N,this,1),l(F,this,1))}catch(e){F.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(61)(C.prototype,{then:function(e,t){var r=A(g(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=O?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=l(N,e,1),this.reject=l(F,e,1)},b.f=A=function(e){return e===C||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!x,{Promise:C}),r(52)(C,"Promise"),r(109)("Promise"),a=r(45).Promise,f(f.S+f.F*!x,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!x),"Promise",{resolve:function(e){return w(s&&this===a?C:this,e)}}),f(f.S+f.F*!(x&&r(79)(function(e){C.all(e).catch(T)})),"Promise",{all:function(e){var t=this,r=A(t),n=r.resolve,i=r.reject,o=_(function(){var r=[],o=0,a=1;y(e,!1,function(e){var s=o++,u=!1;r.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=A(t),n=r.reject,i=_(function(){y(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t,r){"use strict";var n=r(62);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},function(e,t,r){"use strict";var n=r(14),i=r(29),o=r(22),a=r(3),s=r(30),u=r(34).KEY,l=r(23),c=r(77),f=r(52),h=r(49),p=r(11),d=r(120),y=r(337),g=r(338),m=r(113),v=r(18),b=r(9),_=r(24),w=r(73),S=r(50),E=r(74),C=r(121),O=r(67),T=r(20),A=r(37),x=O.f,k=T.f,R=C.f,P=n.Symbol,D=n.JSON,M=D&&D.stringify,F=p("_hidden"),N=p("toPrimitive"),I={}.propertyIsEnumerable,j=c("symbol-registry"),L=c("symbols"),B=c("op-symbols"),H=Object.prototype,U="function"==typeof P,q=n.QObject,V=!q||!q.prototype||!q.prototype.findChild,W=o&&l(function(){return 7!=E(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=x(H,t);n&&delete H[t],k(e,t,r),n&&e!==H&&k(H,t,n)}:k,z=function(e){var t=L[e]=E(P.prototype);return t._k=e,t},Y=U&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},$=function(e,t,r){return e===H&&$(B,t,r),v(e),t=w(t,!0),v(r),i(L,t)?(r.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),r=E(r,{enumerable:S(0,!1)})):(i(e,F)||k(e,F,S(1,{})),e[F][t]=!0),W(e,t,r)):k(e,t,r)},G=function(e,t){v(e);for(var r,n=g(t=_(t)),i=0,o=n.length;o>i;)$(e,r=n[i++],t[r]);return e},K=function(e){var t=I.call(this,e=w(e,!0));return!(this===H&&i(L,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(L,e)||i(this,F)&&this[F][e])||t)},X=function(e,t){if(e=_(e),t=w(t,!0),e!==H||!i(L,t)||i(B,t)){var r=x(e,t);return!r||!i(L,t)||i(e,F)&&e[F][t]||(r.enumerable=!0),r}},J=function(e){for(var t,r=R(_(e)),n=[],o=0;r.length>o;)i(L,t=r[o++])||t==F||t==u||n.push(t);return n},Q=function(e){for(var t,r=e===H,n=R(r?B:_(e)),o=[],a=0;n.length>a;)!i(L,t=n[a++])||r&&!i(H,t)||o.push(L[t]);return o};U||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(r){this===H&&t.call(B,r),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),W(this,e,S(1,r))};return o&&V&&W(H,e,{configurable:!0,set:t}),z(e)}).prototype,"toString",function(){return this._k}),O.f=X,T.f=$,r(81).f=C.f=J,r(53).f=K,r(69).f=Q,o&&!r(65)&&s(H,"propertyIsEnumerable",K,!0),d.f=function(e){return z(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=A(p.store),re=0;te.length>re;)y(te[re++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=P(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?E(e):G(E(e),t)},defineProperty:$,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),D&&a(a.S+a.F*(!U||l(function(){var e=P();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!Y(e))return m(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Y(t))return t}),n[1]=t,M.apply(D,n)}}),P.prototype[N]||r(31)(P.prototype,N,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(e,t,r){t.f=r(11)},function(e,t,r){var n=r(24),i=r(81).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){var n=r(9),i=r(34).onFreeze;r(26)("freeze",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(9),i=r(34).onFreeze;r(26)("seal",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(9),i=r(34).onFreeze;r(26)("preventExtensions",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(9);r(26)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(9);r(26)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(9);r(26)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,t,r){var n=r(24),i=r(67).f;r(26)("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},function(e,t,r){var n=r(33),i=r(107);r(26)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(33),i=r(37);r(26)("keys",function(){return function(e){return i(n(e))}})},function(e,t,r){r(26)("getOwnPropertyNames",function(){return r(121).f})},function(e,t,r){var n=r(3);n(n.S+n.F,"Object",{assign:r(114)})},function(e,t,r){var n=r(3);n(n.S,"Object",{is:r(339)})},function(e,t,r){var n=r(3);n(n.S,"Object",{setPrototypeOf:r(110).set})},function(e,t,r){var n=r(20).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(22)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,r){var n=r(3),i=r(24),o=r(25);n(n.S,"String",{raw:function(e){for(var t=i(e.raw),r=o(t.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(t[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,r){var n=r(3),i=r(60),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){"use strict";var n=r(3),i=r(340)(!1);n(n.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,r){var n=r(3);n(n.P,"String",{repeat:r(140)})},function(e,t,r){"use strict";var n=r(59),i=r(38);e.exports=function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t,r){"use strict";var n=r(3),i=r(25),o=r(82),a="".startsWith;n(n.P+n.F*r(83)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){var n=r(9),i=r(44),o=r(11)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){"use strict";var n=r(3),i=r(25),o=r(82),a="".endsWith;n(n.P+n.F*r(83)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),s=void 0===r?n:Math.min(i(r),n),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,r){"use strict";var n=r(3),i=r(82);n(n.P+n.F*r(83)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){r(22)&&"g"!=/./g.flags&&r(20).f(RegExp.prototype,"flags",{configurable:!0,get:r(341)})},function(e,t,r){r(70)("match",1,function(e,t,r){return[function(r){"use strict";var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]})},function(e,t,r){r(70)("replace",2,function(e,t,r){return[function(n,i){"use strict";var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,r){r(70)("split",2,function(e,t,n){"use strict";var i=r(142),o=n,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(r,e,t);var n,u,l,c,f,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,y=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,p+"g");for(s||(n=new RegExp("^"+g.source+"$(?!\\s)",p));(u=g.exec(r))&&!((l=u.index+u[0].length)>d&&(h.push(r.slice(d,u.index)),!s&&u.length>1&&u[0].replace(n,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)}),u.length>1&&u.index<r.length&&a.apply(h,u.slice(1)),c=u[0].length,d=l,h.length>=y));)g.lastIndex===u.index&&g.lastIndex++;return d===r.length?!c&&g.test("")||h.push(""):h.push(r.slice(d)),h.length>y?h.slice(0,y):h}}else"0".split(void 0,0).length&&(n=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,r){r(70)("search",1,function(e,t,r){return[function(r){"use strict";var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]})},function(e,t,r){"use strict";var n=r(32),i=r(3),o=r(33),a=r(102),s=r(103),u=r(25),l=r(84),c=r(104);i(i.S+i.F*!r(79)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,h=o(e),p="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,g=void 0!==y,m=0,v=c(h);if(g&&(y=n(y,d>2?arguments[2]:void 0,2)),void 0==v||p==Array&&s(v))for(r=new p(t=u(h.length));t>m;m++)l(r,m,g?y(h[m],m):h[m]);else for(f=v.call(h),r=new p;!(i=f.next()).done;m++)l(r,m,g?a(f,y,[i.value,m],!0):i.value);return r.length=m,r}})},function(e,t,r){"use strict";var n=r(3),i=r(84);n(n.S+n.F*r(23)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){var n=r(3);n(n.P,"Array",{copyWithin:r(342)}),r(47)("copyWithin")},function(e,t,r){"use strict";var n=r(3),i=r(68)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(47)("find")},function(e,t,r){"use strict";var n=r(3),i=r(68)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(47)(o)},function(e,t,r){var n=r(3);n(n.P,"Array",{fill:r(343)}),r(47)("fill")},function(e,t,r){var n=r(3),i=r(14).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,r){var n=r(3);n(n.S,"Number",{isInteger:r(158)})},function(e,t,r){var n=r(9),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t,r){var n=r(3),i=r(158),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,r){var n=r(3);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(3);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(3);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(3);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){"use strict";var n=r(3),i=r(100)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(47)("includes")},function(e,t,r){var n=r(3),i=r(166)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},function(e,t,r){var n=r(37),i=r(24),o=r(53).f;e.exports=function(e){return function(t){for(var r,a=i(t),s=n(a),u=s.length,l=0,c=[];u>l;)o.call(a,r=s[l++])&&c.push(e?[r,a[r]]:a[r]);return c}}},function(e,t,r){var n=r(3),i=r(166)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},function(e,t,r){var n=r(3),i=r(344),o=r(24),a=r(67),s=r(84);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),u=a.f,l=i(n),c={},f=0;l.length>f;)void 0!==(r=u(n,t=l[f++]))&&s(c,t,r);return c}})},function(e,t,r){"use strict";var n=r(3),i=r(170),o=r(171);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){var n=r(25),i=r(140),o=r(38);e.exports=function(e,t,r,a){var s=String(o(e)),u=s.length,l=void 0===r?" ":String(r),c=n(t);if(c<=u||""==l)return s;var f=c-u,h=i.call(l,Math.ceil(f/l.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(e,t,r){var n=r(14).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(3),i=r(170),o=r(171);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){var n=r(3),i=r(80);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){for(var n=r(85),i=r(37),o=r(30),a=r(14),s=r(31),u=r(51),l=r(11),c=l("iterator"),f=l("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),y=0;y<d.length;y++){var g,m=d[y],v=p[m],b=a[m],_=b&&b.prototype;if(_&&(_[c]||s(_,c,h),_[f]||s(_,f,m),u[m]=h,v))for(g in n)_[g]||o(_,g,n[g],!0)}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=new WeakMap,o=function(){function ViewportColumnsCalculator(e,t,r,n,o,a,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(e){return e};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ViewportColumnsCalculator),i.set(this,{viewportWidth:e,scrollOffset:t,totalColumns:r,columnWidthFn:n,overrideFn:o,onlyFullyVisible:a,stretchingColumnWidthFn:u}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=s,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return n(ViewportColumnsCalculator,null,[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),n(ViewportColumnsCalculator,[{key:"calculate",value:function(){for(var e=0,t=!0,r=[],n=void 0,o=i.get(this),a=o.onlyFullyVisible,s=o.overrideFn,u=o.scrollOffset,l=o.totalColumns,c=o.viewportWidth,f=0;f<l;f++){if(n=this._getColumnWidth(f),e<=u&&!a&&(this.startColumn=f),e>=u&&e+n<=u+(u>0?c+1:c)&&(null==this.startColumn&&(this.startColumn=f),this.endColumn=f),r.push(e),e+=n,a||(this.endColumn=f),e>=u+c){t=!1;break}}if(this.endColumn===l-1&&t)for(this.startColumn=this.endColumn;this.startColumn>0;){var h=r[this.endColumn]+n-r[this.startColumn-1];if((h<=c||!a)&&this.startColumn--,h>c)break}null!==this.startColumn&&s&&s(this),this.startPosition=r[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(e){if("none"!==this.stretch){this.totalTargetWidth=e;for(var t=i.get(this),r=t.totalColumns,n=0,o=0;o<r;o++){var a=this._getColumnWidth(o),s=t.stretchingColumnWidthFn(void 0,o);"number"==typeof s?e-=s:n+=a}var u=e-n;if("all"===this.stretch&&u>0)this.stretchAllRatio=e/n,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&e!==1/0){var l=this._getColumnWidth(r-1),c=u+l;this.stretchLastWidth=c>=0?c:l}}}},{key:"getStretchedColumnWidth",value:function(e,t){var r=null;return"all"===this.stretch&&0!==this.stretchAllRatio?r=this._getStretchedAllColumnWidth(e,t):"last"===this.stretch&&0!==this.stretchLastWidth&&(r=this._getStretchedLastColumnWidth(e)),r}},{key:"_getStretchedAllColumnWidth",value:function(e,t){var r=0,n=i.get(this),o=n.totalColumns;if(!this.stretchAllColumnsWidth[e]){var a=Math.round(t*this.stretchAllRatio),s=n.stretchingColumnWidthFn(a,e);this.stretchAllColumnsWidth[e]=void 0===s?a:isNaN(s)?this._getColumnWidth(e):s}if(this.stretchAllColumnsWidth.length===o&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var u=0;u<this.stretchAllColumnsWidth.length;u++)r+=this.stretchAllColumnsWidth[u];r!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-r)}return this.stretchAllColumnsWidth[e]}},{key:"_getStretchedLastColumnWidth",value:function(e){return e===i.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(e){var t=i.get(this).columnWidthFn(e);return void 0===t&&(t=ViewportColumnsCalculator.DEFAULT_WIDTH),t}}]),ViewportColumnsCalculator}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=new WeakMap,o=function(){function ViewportRowsCalculator(e,t,r,n,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ViewportRowsCalculator),i.set(this,{viewportHeight:e,scrollOffset:t,totalRows:r,rowHeightFn:n,overrideFn:o,onlyFullyVisible:a,horizontalScrollbarHeight:s}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return n(ViewportRowsCalculator,null,[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),n(ViewportRowsCalculator,[{key:"calculate",value:function(){for(var e=0,t=!0,r=[],n=i.get(this),o=n.onlyFullyVisible,a=n.overrideFn,s=n.rowHeightFn,u=n.scrollOffset,l=n.totalRows,c=n.viewportHeight,f=n.horizontalScrollbarHeight||0,h=void 0,p=0;p<l;p++)if(void 0===(h=s(p))&&(h=ViewportRowsCalculator.DEFAULT_HEIGHT),e<=u&&!o&&(this.startRow=p),e>=u&&e+h<=u+c-f&&(null===this.startRow&&(this.startRow=p),this.endRow=p),r.push(e),e+=h,o||(this.endRow=p),e>=u+c-f){t=!1;break}if(this.endRow===l-1&&t)for(this.startRow=this.endRow;this.startRow>0;){var d=r[this.endRow]+h-r[this.startRow-1];if((d<=c-f||!o)&&this.startRow--,d>=c-f)break}null!==this.startRow&&a&&a(this),this.startPosition=r[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}]),ViewportRowsCalculator}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function ColumnFilter(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColumnFilter),this.offset=e,this.total=t,this.countTH=r}return n(ColumnFilter,[{key:"offsetted",value:function(e){return e+this.offset}},{key:"unOffsetted",value:function(e){return e-this.offset}},{key:"renderedToSource",value:function(e){return this.offsetted(e)}},{key:"sourceToRendered",value:function(e){return this.unOffsetted(e)}},{key:"offsettedTH",value:function(e){return e-this.countTH}},{key:"unOffsettedTH",value:function(e){return e+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(e){return this.renderedToSource(this.offsettedTH(e))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}}]),ColumnFilter}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function RowFilter(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RowFilter),this.offset=e,this.total=t,this.countTH=r}return n(RowFilter,[{key:"offsetted",value:function(e){return e+this.offset}},{key:"unOffsetted",value:function(e){return e-this.offset}},{key:"renderedToSource",value:function(e){return this.offsetted(e)}},{key:"sourceToRendered",value:function(e){return this.unOffsetted(e)}},{key:"offsettedTH",value:function(e){return e-this.countTH}},{key:"unOffsettedTH",value:function(e){return e+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(e){return this.renderedToSource(this.offsettedTH(e))}},{key:"sourceRowToVisibleColHeadedRow",value:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}}]),RowFilter}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(2),a=r(36),s=_interopRequireDefault(r(299)),u=_interopRequireDefault(r(300)),l=_interopRequireDefault(r(301)),c=_interopRequireDefault(r(302)),f=_interopRequireDefault(r(303)),h=_interopRequireDefault(r(305));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var p=function(){function Walkontable(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Walkontable);var t=[];if(this.guid="wt_"+(0,a.randomString)(),e.cloneSource?(this.cloneSource=e.cloneSource,this.cloneOverlay=e.cloneOverlay,this.wtSettings=e.cloneSource.wtSettings,this.wtTable=new f.default(this,e.table,e.wtRootElement),this.wtScroll=new l.default(this),this.wtViewport=e.cloneSource.wtViewport,this.wtEvent=new s.default(this),this.selections=this.cloneSource.selections):(this.wtSettings=new c.default(this,e),this.wtTable=new f.default(this,e.table),this.wtScroll=new l.default(this),this.wtViewport=new h.default(this),this.wtEvent=new s.default(this),this.selections=this.getSetting("selections"),this.wtOverlays=new u.default(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,n=this.wtTable.THEAD.childNodes[0].childNodes.length;r<n;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(e,r){(0,i.fastInnerText)(r,t[e])}])}this.drawn=!1,this.drawInterrupted=!1}return n(Walkontable,[{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,e||(0,i.isVisible)(this.wtTable.TABLE)?this.wtTable.draw(e):this.drawInterrupted=!0,this}},{key:"getCell",value:function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return this.wtTable.getCell(e);var t=this.wtSettings.getSetting("totalRows"),r=this.wtSettings.getSetting("fixedRowsTop"),n=this.wtSettings.getSetting("fixedRowsBottom"),i=this.wtSettings.getSetting("fixedColumnsLeft");if(e.row<r&&e.col<i)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(e);if(e.row<r)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<i&&e.row>=t-n){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<i)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(e);if(e.row<t&&e.row>t-n&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}},{key:"update",value:function(e,t){return this.wtSettings.update(e,t)}},{key:"scrollVertical",value:function(e){return this.wtOverlays.topOverlay.scrollTo(e),this.getSetting("onScrollVertically"),this}},{key:"scrollHorizontal",value:function(e){return this.wtOverlays.leftOverlay.scrollTo(e),this.getSetting("onScrollHorizontally"),this}},{key:"scrollViewport",value:function(e){return this.wtScroll.scrollViewport(e),this}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"getOverlayName",value:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"}},{key:"isOverlayName",value:function(e){return!!this.cloneOverlay&&this.cloneOverlay.type===e}},{key:"exportSettingsAsClassNames",value:function(){var e=this,t=[],r=[];(0,o.objectEach)({rowHeaders:["array"],columnHeaders:["array"]},function(n,i){n.indexOf("array")>-1&&e.getSetting(i).length&&r.push("ht"+(0,a.toUpperCaseFirst)(i)),t.push("ht"+(0,a.toUpperCaseFirst)(i))}),(0,i.removeClass)(this.wtTable.wtRootElement.parentNode,t),(0,i.addClass)(this.wtTable.wtRootElement.parentNode,r)}},{key:"getSetting",value:function(e,t,r,n,i){return this.wtSettings.getSetting(e,t,r,n,i)}},{key:"hasSetting",value:function(e){return this.wtSettings.has(e)}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}}]),Walkontable}();t.default=p},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(0),o=r(43),a=r(27),s=r(6),u=(n=s)&&n.__esModule?n:{default:n};function Event(e){var t=this,r=new u.default(e),n=void 0;this.instance=e;var s=[null,null];this.dblClickTimeout=[null,null];var l=function(e){var r=document.activeElement,n=(0,o.partial)(i.getParent,e.realTarget),a=e.realTarget;if(a!==r&&n(0)!==r&&n(1)!==r){var u=t.parentCell(a);(0,i.hasClass)(a,"corner")?t.instance.getSetting("onCellCornerMouseDown",e,a):u.TD&&t.instance.hasSetting("onCellMouseDown")&&t.instance.getSetting("onCellMouseDown",e,u.coords,u.TD,t.instance),2!==e.button&&u.TD&&(s[0]=u.TD,clearTimeout(t.dblClickTimeout[0]),t.dblClickTimeout[0]=setTimeout(function(){s[0]=null},1e3))}},c=function(e){t.instance.touchMoving=!0},f=function(e){if(2!==e.button){var r=t.parentCell(e.realTarget);r.TD===s[0]&&r.TD===s[1]?((0,i.hasClass)(e.realTarget,"corner")?t.instance.getSetting("onCellCornerDblClick",e,r.coords,r.TD,t.instance):t.instance.getSetting("onCellDblClick",e,r.coords,r.TD,t.instance),s[0]=null,s[1]=null):r.TD===s[0]?(t.instance.getSetting("onCellMouseUp",e,r.coords,r.TD,t.instance),s[1]=r.TD,clearTimeout(t.dblClickTimeout[1]),t.dblClickTimeout[1]=setTimeout(function(){s[1]=null},500)):r.TD&&t.instance.hasSetting("onCellMouseUp")&&t.instance.getSetting("onCellMouseUp",e,r.coords,r.TD,t.instance)}},h=function(e){var r=e.target;!1!==function(e){var r=t.parentCell(e).coords;if(n&&r){var i=[r.row,n.from.row],o=i[0],a=i[1],s=[r.col,n.from.col];return o===a&&s[0]===s[1]}return!1}(r)&&!1!==["A","BUTTON","INPUT"].includes(r.tagName)||(e.preventDefault(),f(e))};if(r.addEventListener(this.instance.wtTable.holder,"mousedown",l),r.addEventListener(this.instance.wtTable.TABLE,"mouseover",function(e){var r,n,o;t.instance.hasSetting("onCellMouseOver")&&(r=t.instance.wtTable.TABLE,n=(0,i.closestDown)(e.realTarget,["TD","TH"],r),o=t.instance.cloneSource||t.instance,n&&n!==o.lastMouseOver&&(0,i.isChildOf)(n,r)&&(o.lastMouseOver=n,t.instance.getSetting("onCellMouseOver",e,t.instance.wtTable.getCoords(n),n,t.instance)))}),r.addEventListener(this.instance.wtTable.TABLE,"mouseout",function(e){var r=void 0,n=void 0,o=void 0;t.instance.hasSetting("onCellMouseOut")&&(r=t.instance.wtTable.TABLE,n=(0,i.closestDown)(e.realTarget,["TD","TH"],r),o=(0,i.closestDown)(e.relatedTarget,["TD","TH"],r),n&&n!==o&&(0,i.isChildOf)(n,r)&&t.instance.getSetting("onCellMouseOut",e,t.instance.wtTable.getCoords(n),n,t.instance))}),r.addEventListener(this.instance.wtTable.holder,"mouseup",f),this.instance.wtTable.holder.parentNode.parentNode&&(0,a.isMobileBrowser)()&&!t.instance.wtTable.isWorkingOnClone()){var p="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");r.addEventListener(this.instance.wtTable.holder,"touchstart",function(o){n=e.selections.getCell().cellRange,t.instance.touchApplied=!0,(0,i.isChildOf)(o.target,p)&&(function(e){r.addEventListener(this,"touchmove",c),t.checkIfTouchMove=setTimeout(function(){!0===t.instance.touchMoving&&(t.instance.touchMoving=void 0,r.removeEventListener("touchmove",c,!1)),l(e)},30)}).call(o.target,o)}),r.addEventListener(this.instance.wtTable.holder,"touchend",function(e){t.instance.touchApplied=!1,(0,i.isChildOf)(e.target,p)&&h.call(e.target,e)}),t.instance.momentumScrolling||(t.instance.momentumScrolling={}),r.addEventListener(this.instance.wtTable.holder,"scroll",function(e){clearTimeout(t.instance.momentumScrolling._timeout),t.instance.momentumScrolling.ongoing||t.instance.getSetting("onBeforeTouchScroll"),t.instance.momentumScrolling.ongoing=!0,t.instance.momentumScrolling._timeout=setTimeout(function(){t.instance.touchApplied||(t.instance.momentumScrolling.ongoing=!1,t.instance.getSetting("onAfterMomentumScroll"))},200)})}r.addEventListener(window,"resize",function(){"none"!==t.instance.getSetting("stretchH")&&t.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),r.destroy()}}Event.prototype.parentCell=function(e){var t={},r=this.instance.wtTable.TABLE,n=(0,i.closestDown)(e,["TD","TH"],r);return n?(t.coords=this.instance.wtTable.getCoords(n),t.TD=n):(0,i.hasClass)(e,"wtBorder")&&(0,i.hasClass)(e,"current")?(t.coords=this.instance.selections.getCell().cellRange.highlight,t.TD=this.instance.wtTable.getCell(t.coords)):(0,i.hasClass)(e,"wtBorder")&&(0,i.hasClass)(e,"area")&&this.instance.selections.createOrGetArea().cellRange&&(t.coords=this.instance.selections.createOrGetArea().cellRange.to,t.TD=this.instance.wtTable.getCell(t.coords)),t},t.default=Event},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(1),a=r(21),s=r(27),u=_interopRequireDefault(r(6)),l=_interopRequireDefault(r(35));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=function(){function Overlays(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Overlays);var t=parseInt(getComputedStyle(document.body).lineHeight,10),r=1.2*parseInt(getComputedStyle(document.body).fontSize,10);this.wot=e,this.instance=this.wot,this.eventManager=new u.default(this.wot),this.wot.update("scrollbarWidth",(0,i.getScrollbarWidth)()),this.wot.update("scrollbarHeight",(0,i.getScrollbarWidth)()),this.scrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE),this.prepareOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.browserLineHeight=t||r,this.registerListeners()}return n(Overlays,[{key:"prepareOverlays",value:function(){var e=!1;return this.topOverlay?e=this.topOverlay.updateStateOfRendering()||e:this.topOverlay=l.default.createOverlay(l.default.CLONE_TOP,this.wot),l.default.hasOverlay(l.default.CLONE_BOTTOM)||(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),l.default.hasOverlay(l.default.CLONE_BOTTOM_LEFT_CORNER)||(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?e=this.bottomOverlay.updateStateOfRendering()||e:this.bottomOverlay=l.default.createOverlay(l.default.CLONE_BOTTOM,this.wot),this.leftOverlay?e=this.leftOverlay.updateStateOfRendering()||e:this.leftOverlay=l.default.createOverlay(l.default.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?e=this.topLeftCornerOverlay.updateStateOfRendering()||e:this.topLeftCornerOverlay=l.default.createOverlay(l.default.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?e=this.bottomLeftCornerOverlay.updateStateOfRendering()||e:this.bottomLeftCornerOverlay=l.default.createOverlay(l.default.CLONE_BOTTOM_LEFT_CORNER,this.wot)),this.wot.getSetting("debug")&&!this.debug&&(this.debug=l.default.createOverlay(l.default.CLONE_DEBUG,this.wot)),e}},{key:"refreshAll",value:function(){this.wot.drawn&&(this.wot.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}},{key:"registerListeners",value:function(){var e=this,t=this.topOverlay.mainTableScrollableElement,r=this.leftOverlay.mainTableScrollableElement,n=[];for(n.push([document.documentElement,"keydown",function(t){return e.onKeyDown(t)}]),n.push([document.documentElement,"keyup",function(){return e.onKeyUp()}]),n.push([document,"visibilitychange",function(){return e.onKeyUp()}]),n.push([t,"scroll",function(t){return e.onTableScroll(t)}]),t!==r&&n.push([r,"scroll",function(t){return e.onTableScroll(t)}]),window.devicePixelRatio&&window.devicePixelRatio>1||!(0,s.isChrome)()?n.push([this.instance.wtTable.wtRootElement.parentNode,"wheel",function(t){return e.onCloneWheel(t)}]):(this.topOverlay.needFullRender&&n.push([this.topOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.bottomOverlay.needFullRender&&n.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.leftOverlay.needFullRender&&n.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.needFullRender&&n.push([this.topLeftCornerOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.needFullRender&&n.push([this.bottomLeftCornerOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}])),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&n.push([window,"wheel",function(t){var r=void 0,n=t.wheelDeltaY||t.deltaY,i=t.wheelDeltaX||t.deltaX;e.topOverlay.clone.wtTable.holder.contains(t.realTarget)?r="top":e.bottomOverlay.clone&&e.bottomOverlay.clone.wtTable.holder.contains(t.realTarget)?r="bottom":e.leftOverlay.clone.wtTable.holder.contains(t.realTarget)?r="left":e.topLeftCornerOverlay&&e.topLeftCornerOverlay.clone&&e.topLeftCornerOverlay.clone.wtTable.holder.contains(t.realTarget)?r="topLeft":e.bottomLeftCornerOverlay&&e.bottomLeftCornerOverlay.clone&&e.bottomLeftCornerOverlay.clone.wtTable.holder.contains(t.realTarget)&&(r="bottomLeft"),("top"===r&&0!==n||"left"===r&&0!==i||"bottom"===r&&0!==n||("topLeft"===r||"bottomLeft"===r)&&(0!==n||0!==i))&&t.preventDefault()}]);n.length;){var i=n.pop();this.eventManager.addEventListener(i[0],i[1],i[2]),this.registeredListeners.push(i)}}},{key:"deregisterListeners",value:function(){for(;this.registeredListeners.length;){var e=this.registeredListeners.pop();this.eventManager.removeEventListener(e[0],e[1],e[2])}}},{key:"onTableScroll",value:function(e){var t=this.leftOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,n=e.target;this.keyPressed&&(r!==window&&n!==window&&!e.target.contains(r)||t!==window&&n!==window&&!e.target.contains(t))||this.syncScrollPositions(e)}},{key:"onCloneWheel",value:function(e){this.scrollableElement!==window&&e.preventDefault();var t=this.leftOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,n=e.target,i=r!==window&&n!==window&&!e.target.contains(r),o=t!==window&&n!==window&&!e.target.contains(t);this.keyPressed&&(i||o)||this.translateMouseWheelToScroll(e)}},{key:"onKeyDown",value:function(e){this.keyPressed=(0,a.isKey)(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(e){var t=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,r=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;return 1===e.deltaMode&&(r+=r*this.browserLineHeight,t+=t*this.browserLineHeight),this.scrollVertically(t),this.scrollHorizontally(r),!1}},{key:"scrollVertically",value:function(e){if(0===e)return 0;this.scrollableElement.scrollTop+=e}},{key:"scrollHorizontally",value:function(e){if(0===e)return 0;this.scrollableElement.scrollLeft+=e}},{key:"syncScrollPositions",value:function(e){if(!this.destroyed){var t=this.topOverlay.clone.wtTable.holder,r=this.leftOverlay.clone.wtTable.holder,n=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],i=n[0],o=n[1];this.horizontalScrolling=t.scrollLeft!==i,this.verticalScrolling=r.scrollTop!==o,this.horizontalScrolling&&(t.scrollLeft=i),this.verticalScrolling&&(r.scrollTop=o,this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=i)),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var e=this.topOverlay.mainTableScrollableElement,t=e.scrollLeft,r=e.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=t),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=r)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement(),this.scrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var t=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,r=t.clientWidth,n=t.clientHeight;r===this.spreaderLastSize.width&&n===this.spreaderLastSize.height||(this.spreaderLastSize.width=r,this.spreaderLastSize.height=n,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.leftOverlay.refresh(e),this.topOverlay.refresh(e),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(e),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(e),this.debug&&this.debug.refresh(e)}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.wot.getSetting("totalColumns"),r=this.wot.getSetting("totalRows"),n=this.wot.wtViewport.getRowHeaderWidth(),i=this.wot.wtViewport.getColumnHeaderHeight(),o=this.wot.wtTable.hider.style;o.width=n+this.leftOverlay.sumCellSizes(0,t)+"px",o.height=i+this.topOverlay.sumCellSizes(0,r)+1+"px",this.topOverlay.adjustElementsSize(e),this.leftOverlay.adjustElementsSize(e),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(e)}},{key:"applyToDOM",value:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{key:"getParentOverlay",value:function(e){if(!e)return null;var t=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],r=null;return(0,o.arrayEach)(t,function(t,n){t&&t.clone&&t.clone.wtTable.TABLE.contains(e)&&(r=t.clone)}),r}}]),Overlays}();t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(5);var a=function(){function Scroll(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Scroll),this.wot=e,this.instance=e}return n(Scroll,[{key:"scrollViewport",value:function(e){if(this.wot.drawn){var t=this._getVariables(),r=t.topOverlay,n=t.leftOverlay,i=t.totalRows,o=t.totalColumns,a=t.fixedRowsTop,s=t.fixedRowsBottom,u=t.fixedColumnsLeft;if(e.row<0||e.row>Math.max(i-1,0))throw new Error("row "+e.row+" does not exist");if(e.col<0||e.col>Math.max(o-1,0))throw new Error("column "+e.col+" does not exist");e.row>=a&&e.row<this.getFirstVisibleRow()?r.scrollTo(e.row):e.row>this.getLastVisibleRow()&&e.row<i-s&&r.scrollTo(e.row,!0),e.col>=u&&e.col<this.getFirstVisibleColumn()?n.scrollTo(e.col):e.col>this.getLastVisibleColumn()&&n.scrollTo(e.col,!0)}}},{key:"getFirstVisibleRow",value:function(){var e=this._getVariables(),t=e.topOverlay,r=e.wtTable,n=e.wtViewport,a=e.totalRows,s=e.fixedRowsTop,u=r.getFirstVisibleRow();if(t.mainTableScrollableElement===window){var l=(0,i.offset)(r.wtRootElement),c=(0,i.innerHeight)(r.hider),f=(0,i.innerHeight)(window),h=(0,i.getScrollTop)(window);if(l.top+c-f<=h){var p=n.getColumnHeaderHeight();p+=t.sumCellSizes(0,s),(0,o.rangeEachReverse)(a,1,function(e){if(p+=t.sumCellSizes(e-1,e),l.top+c-p<=h)return u=e,!1})}}return u}},{key:"getLastVisibleRow",value:function(){var e=this._getVariables(),t=e.topOverlay,r=e.wtTable,n=e.wtViewport,a=e.totalRows,s=r.getLastVisibleRow();if(t.mainTableScrollableElement===window){var u=(0,i.offset)(r.wtRootElement),l=(0,i.innerHeight)(window),c=(0,i.getScrollTop)(window);if(u.top>c){var f=n.getColumnHeaderHeight();(0,o.rangeEach)(1,a,function(e){if(f+=t.sumCellSizes(e-1,e),u.top+f-c>=l)return s=e-2,!1})}}return s}},{key:"getFirstVisibleColumn",value:function(){var e=this._getVariables(),t=e.leftOverlay,r=e.wtTable,n=e.wtViewport,a=e.totalColumns,s=(e.fixedColumnsLeft,r.getFirstVisibleColumn());if(t.mainTableScrollableElement===window){var u=(0,i.offset)(r.wtRootElement),l=(0,i.innerWidth)(r.hider),c=(0,i.innerWidth)(window),f=(0,i.getScrollLeft)(window);if(u.left+l-c<=f){var h=n.getRowHeaderWidth();(0,o.rangeEachReverse)(a,1,function(e){if(h+=t.sumCellSizes(e-1,e),u.left+l-h<=f)return s=e,!1})}}return s}},{key:"getLastVisibleColumn",value:function(){var e=this._getVariables(),t=e.leftOverlay,r=e.wtTable,n=e.wtViewport,a=e.totalColumns,s=r.getLastVisibleColumn();if(t.mainTableScrollableElement===window){var u=(0,i.offset)(r.wtRootElement),l=(0,i.innerWidth)(window),c=(0,i.getScrollLeft)(window);if(u.left>c){var f=n.getRowHeaderWidth();(0,o.rangeEach)(1,a,function(e){if(f+=t.sumCellSizes(e-1,e),u.left+f-c>=l)return s=e-2,!1})}}return s}},{key:"_getVariables",value:function(){var e=this.wot;return{topOverlay:e.wtOverlays.topOverlay,leftOverlay:e.wtOverlays.leftOverlay,wtTable:e.wtTable,wtViewport:e.wtViewport,totalRows:e.getSetting("totalRows"),totalColumns:e.getSetting("totalColumns"),fixedRowsTop:e.getSetting("fixedRowsTop"),fixedRowsBottom:e.getSetting("fixedRowsBottom"),fixedColumnsLeft:e.getSetting("fixedColumnsLeft")}}}]),Scroll}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(2);var a=function(){function Settings(e,t){var r=this;for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Settings),this.wot=e,this.instance=e,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,freezeOverlays:!1,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(e,t,n){var o=r.getSetting("data",e,t);(0,i.fastInnerText)(n,void 0===o||null===o?"":o)},columnWidth:function(e){},rowHeight:function(e){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(e){return e},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={},this.defaults)if((0,o.hasOwnProperty)(this.defaults,n))if(void 0!==t[n])this.settings[n]=t[n];else{if(void 0===this.defaults[n])throw new Error('A required setting "'+n+'" was not provided');this.settings[n]=this.defaults[n]}}return n(Settings,[{key:"update",value:function(e,t){if(void 0===t)for(var r in e)(0,o.hasOwnProperty)(e,r)&&(this.settings[r]=e[r]);else this.settings[e]=t;return this.wot}},{key:"getSetting",value:function(e,t,r,n,i){return"function"==typeof this.settings[e]?this.settings[e](t,r,n,i):void 0!==t&&Array.isArray(this.settings[e])?this.settings[e][t]:this.settings[e]}},{key:"has",value:function(e){return!!this.settings[e]}}]),Settings}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=r(0),s=r(43),u=_interopRequireDefault(r(55)),l=(_interopRequireDefault(r(86)),_interopRequireDefault(r(177))),c=_interopRequireDefault(r(178)),f=_interopRequireDefault(r(304)),h=_interopRequireDefault(r(35));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var p=function(){function Table(e,t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Table),this.wot=e,this.instance=this.wot,this.TABLE=t,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,(0,a.removeTextNodes)(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var n=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return r._modifyRowHeaderWidth(n)}}return o(Table,[{key:"fixTableDomTree",value:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))}},{key:"createSpreader",value:function(e){var t=e.parentNode,r=void 0;return t&&1===t.nodeType&&(0,a.hasClass)(t,"wtHolder")||((r=document.createElement("div")).className="wtSpreader",t&&t.insertBefore(r,e),r.appendChild(e)),r.style.position="relative",r}},{key:"createHider",value:function(e){var t=e.parentNode,r=void 0;return t&&1===t.nodeType&&(0,a.hasClass)(t,"wtHolder")||((r=document.createElement("div")).className="wtHider",t&&t.insertBefore(r,e),r.appendChild(e)),r}},{key:"createHolder",value:function(e){var t=e.parentNode,r=void 0;return t&&1===t.nodeType&&(0,a.hasClass)(t,"wtHolder")||((r=document.createElement("div")).style.position="relative",r.className="wtHolder",t&&t.insertBefore(r,e),this.isWorkingOnClone()||(r.parentNode.className+="ht_master handsontable"),r.appendChild(e)),r}},{key:"alignOverlaysWithTrimmingContainer",value:function(){var e=(0,a.getTrimmingContainer)(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",e===window?this.wot.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"):(this.holder.style.width=(0,a.getStyle)(e,"width"),this.holder.style.height=(0,a.getStyle)(e,"height"),this.holder.style.overflow=""))}},{key:"isWorkingOnClone",value:function(){return!!this.wot.cloneSource}},{key:"draw",value:function(e){var t=this.wot,r=t.wtOverlays,n=t.wtViewport,i=this.instance.getSetting("totalRows"),o=this.wot.getSetting("rowHeaders").length,s=this.wot.getSetting("columnHeaders").length,u=!1;if(!this.isWorkingOnClone()&&(this.holderOffset=(0,a.offset)(this.holder),e=n.createRenderCalculators(e),o&&!this.wot.getSetting("fixedColumnsLeft"))){var f=r.leftOverlay.getScrollPosition(),p=this.correctHeaderWidth;this.correctHeaderWidth=f>0,p!==this.correctHeaderWidth&&(e=!1)}if(this.isWorkingOnClone()||(u=r.prepareOverlays()),e)this.isWorkingOnClone()||n.createVisibleCalculators(),r&&r.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=(0,a.offset)(this.TABLE);var d=void 0;d=h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_DEBUG)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP_LEFT_CORNER)?0:h.default.isOverlayTypeOf(this.instance.cloneOverlay,h.default.CLONE_BOTTOM)||h.default.isOverlayTypeOf(this.instance.cloneOverlay,h.default.CLONE_BOTTOM_LEFT_CORNER)?Math.max(i-this.wot.getSetting("fixedRowsBottom"),0):n.rowsRenderCalculator.startRow;var y=void 0;y=h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_DEBUG)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_LEFT)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP_LEFT_CORNER)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_BOTTOM_LEFT_CORNER)?0:n.columnsRenderCalculator.startColumn,this.rowFilter=new c.default(d,i,s),this.columnFilter=new l.default(y,this.wot.getSetting("totalColumns"),o),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(e),this.isWorkingOnClone()||(r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&r.bottomOverlay.resetFixedPosition(),r.leftOverlay.resetFixedPosition(),r.topLeftCornerOverlay&&r.topLeftCornerOverlay.resetFixedPosition(),r.bottomLeftCornerOverlay&&r.bottomLeftCornerOverlay.clone&&r.bottomLeftCornerOverlay.resetFixedPosition()),u&&r.syncScrollWithMaster(),this.wot.drawn=!0,this}},{key:"_doDraw",value:function(){new f.default(this).render()}},{key:"removeClassFromCells",value:function(e){for(var t=this.TABLE.querySelectorAll("."+e),r=0,n=t.length;r<n;r++)(0,a.removeClass)(t[r],e)}},{key:"refreshSelections",value:function(e){if(this.wot.selections){var t=Array.from(this.wot.selections),r=t.length;if(e){for(var n=[],i=0;i<r;i++){for(var o=t[i].settings,a=o.highlightHeaderClassName,s=o.highlightRowClassName,u=o.highlightColumnClassName,l=t[i].classNames,c=l.length,f=0;f<c;f++)n.includes(l[f])||n.push(l[f]);a&&!n.includes(a)&&n.push(a),s&&!n.includes(s)&&n.push(s),u&&!n.includes(u)&&n.push(u)}var h=this.wot.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(h))for(var p=0;p<h.length;p++)n.push(h[p]);for(var d=n.length,y=0;y<d;y++)this.removeClassFromCells(n[y])}for(var g=0;g<r;g++)t[g].draw(this.wot,e)}}},{key:"getCell",value:function(e){var t=e.row,r=e.col,n=this.wot.getSetting("onModifyGetCellCoords",t,r);if(n&&Array.isArray(n)){var o=i(n,2);t=o[0],r=o[1]}if(this.isRowBeforeRenderedRows(t))return-1;if(this.isRowAfterRenderedRows(t))return-2;var a=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return a?a.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)]:void 0}},{key:"getColumnHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.THEAD.childNodes[t];if(r)return r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}},{key:"getRowHeader",value:function(e){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var t=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)];return t?t.childNodes[0]:void 0}},{key:"getCoords",value:function(e){if("TD"!==e.nodeName&&"TH"!==e.nodeName&&(e=(0,a.closest)(e,["TD","TH"])),null===e)return null;var t=e.parentNode,r=t.parentNode,n=(0,a.index)(t),i=e.cellIndex;return(0,a.overlayContainsElement)(h.default.CLONE_TOP_LEFT_CORNER,e)||(0,a.overlayContainsElement)(h.default.CLONE_TOP,e)?"THEAD"===r.nodeName&&(n-=r.childNodes.length):n=r===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(n):this.rowFilter.renderedToSource(n),i=(0,a.overlayContainsElement)(h.default.CLONE_TOP_LEFT_CORNER,e)||(0,a.overlayContainsElement)(h.default.CLONE_LEFT,e)?this.columnFilter.offsettedTH(i):this.columnFilter.visibleRowHeadedColumnToSourceColumn(i),new u.default(n,i)}},{key:"getTrForRow",value:function(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}},{key:"getFirstRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow}},{key:"getFirstVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow}},{key:"getFirstRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn}},{key:"getFirstVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn}},{key:"getLastRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow}},{key:"getLastVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow}},{key:"getLastRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn}},{key:"getLastVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn}},{key:"isRowBeforeRenderedRows",value:function(e){return this.rowFilter&&this.rowFilter.sourceToRendered(e)<0&&e>=0}},{key:"isRowAfterViewport",value:function(e){return this.rowFilter&&this.rowFilter.sourceToRendered(e)>this.getLastVisibleRow()}},{key:"isRowAfterRenderedRows",value:function(e){return this.rowFilter&&this.rowFilter.sourceToRendered(e)>this.getLastRenderedRow()}},{key:"isColumnBeforeViewport",value:function(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}},{key:"isColumnAfterViewport",value:function(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)>this.getLastVisibleColumn()}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"getRenderedColumnsCount",value:function(){var e=this.wot.wtViewport.columnsRenderCalculator.count,t=this.wot.getSetting("totalColumns");if(this.wot.isOverlayName(h.default.CLONE_DEBUG))e=t;else if(this.wot.isOverlayName(h.default.CLONE_LEFT)||this.wot.isOverlayName(h.default.CLONE_TOP_LEFT_CORNER)||this.wot.isOverlayName(h.default.CLONE_BOTTOM_LEFT_CORNER))return Math.min(this.wot.getSetting("fixedColumnsLeft"),t);return e}},{key:"getRenderedRowsCount",value:function(){var e=this.wot.wtViewport.rowsRenderCalculator.count,t=this.wot.getSetting("totalRows");return this.wot.isOverlayName(h.default.CLONE_DEBUG)?e=t:this.wot.isOverlayName(h.default.CLONE_TOP)||this.wot.isOverlayName(h.default.CLONE_TOP_LEFT_CORNER)?e=Math.min(this.wot.getSetting("fixedRowsTop"),t):(this.wot.isOverlayName(h.default.CLONE_BOTTOM)||this.wot.isOverlayName(h.default.CLONE_BOTTOM_LEFT_CORNER))&&(e=Math.min(this.wot.getSetting("fixedRowsBottom"),t)),e}},{key:"getVisibleRowsCount",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.count}},{key:"allRowsInViewport",value:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()}},{key:"getRowHeight",value:function(e){var t=this.wot.wtSettings.settings.rowHeight(e),r=this.wot.wtViewport.oversizedRows[e];return void 0!==r&&(t=void 0===t?r:Math.max(t,r)),t}},{key:"getColumnHeaderHeight",value:function(e){var t=this.wot.wtSettings.settings.defaultRowHeight,r=this.wot.wtViewport.oversizedColumnHeaders[e];return void 0!==r&&(t=t?Math.max(t,r):r),t}},{key:"getVisibleColumnsCount",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.count}},{key:"allColumnsInViewport",value:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()}},{key:"getColumnWidth",value:function(e){var t=this.wot.wtSettings.settings.columnWidth;return"function"==typeof t?t=t(e):"object"===(void 0===t?"undefined":n(t))&&(t=t[e]),t||this.wot.wtSettings.settings.defaultColumnWidth}},{key:"getStretchedColumnWidth",value:function(e){var t=this.getColumnWidth(e),r=null==t?this.instance.wtSettings.settings.defaultColumnWidth:t,n=this.wot.wtViewport.columnsRenderCalculator;if(n){var i=n.getStretchedColumnWidth(e,r);i&&(r=i)}return r}},{key:"_modifyRowHeaderWidth",value:function(e){var t=(0,s.isFunction)(e)?e():null;return Array.isArray(t)?(t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)))[t.length-1]=this._correctRowHeaderWidth(t[t.length-1]):t=this._correctRowHeaderWidth(t),t}},{key:"_correctRowHeaderWidth",value:function(e){return"number"!=typeof e&&(e=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&e++,e}}]),Table}();t.default=p},function(e,t,r){"use strict";t.__esModule=!0;var n,i,o,a=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),s=(n=['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number \n          of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],i=['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number \n          of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}}))),u=r(0),l=r(56),c=r(42),f=r(35),h=(o=f)&&o.__esModule?o:{default:o};var p=!1,d=function(){function TableRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TableRenderer),this.wtTable=e,this.wot=e.instance,this.instance=e.instance,this.rowFilter=e.rowFilter,this.columnFilter=e.columnFilter,this.TABLE=e.TABLE,this.THEAD=e.THEAD,this.TBODY=e.TBODY,this.COLGROUP=e.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0}return a(TableRenderer,[{key:"render",value:function(){if(!this.wtTable.isWorkingOnClone()){var e={};if(this.wot.getSetting("beforeDraw",!0,e),!0===e.skipRender)return}this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t=this.wtTable.getRenderedColumnsCount(),r=this.wtTable.getRenderedRowsCount(),n=this.wot.getSetting("totalColumns"),i=this.wot.getSetting("totalRows"),o=void 0,a=!1;if((h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_BOTTOM)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),n>=0&&(this.adjustAvailableNodes(),a=!0,this.renderColumnHeaders(),this.renderRows(i,r,t),this.wtTable.isWorkingOnClone()||(o=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(t),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),a||this.adjustAvailableNodes(),this.removeRedundantRows(r),this.wtTable.isWorkingOnClone()&&!this.wot.isOverlayName(h.default.CLONE_BOTTOM)||this.markOversizedRows(),this.wtTable.isWorkingOnClone())this.wot.isOverlayName(h.default.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize();else{this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var s=(0,u.outerWidth)(this.wtTable.hider),l=(0,u.outerWidth)(this.wtTable.TABLE);if(0!==s&&l!==s&&this.adjustColumnWidths(t),o!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var c=this.wtTable.getFirstRenderedColumn(),f=this.wtTable.getLastRenderedColumn(),p=this.wot.getSetting("defaultColumnWidth"),d=this.wot.getSetting("rowHeaderWidth");if(null!=(d=this.instance.getSetting("onModifyRowHeaderWidth",d)))for(var y=0;y<this.rowHeaderCount;y++){var g=Array.isArray(d)?d[y]:d;g=null==g?p:g,this.COLGROUP.childNodes[y].style.width=g+"px"}for(var m=c;m<f;m++){var v=this.wtTable.getStretchedColumnWidth(m),b=this.columnFilter.sourceToRendered(m);this.COLGROUP.childNodes[b+this.rowHeaderCount].style.width=v+"px"}}this.wot.getSetting("onDraw",!0)}}},{key:"removeRedundantRows",value:function(e){for(;this.wtTable.tbodyChildrenLength>e;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{key:"renderRows",value:function(e,t,r){for(var n=void 0,i=0,o=this.rowFilter.renderedToSource(i),a=this.wtTable.isWorkingOnClone();o<e&&o>=0&&(!p&&i>1e3&&(p=!0,(0,l.warn)((0,c.toSingleLine)(s))),void 0===t||i!==t);){if(n=this.getOrCreateTrForRow(i,n),this.renderRowHeaders(o,n),this.adjustColumns(n,r+this.rowHeaderCount),this.renderCells(o,n,r),a&&!this.wot.isOverlayName(h.default.CLONE_BOTTOM)||this.resetOversizedRow(o),n.firstChild){var u=this.wot.wtTable.getRowHeight(o);u?(u--,n.firstChild.style.height=u+"px"):n.firstChild.style.height=""}i++,o=this.rowFilter.renderedToSource(i)}}},{key:"resetOversizedRow",value:function(e){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[e]&&(this.wot.wtViewport.oversizedRows[e]=void 0)}},{key:"markOversizedRows",value:function(){if(!this.wot.getSetting("externalRowCalculator")){var e=this.instance.wtTable.TBODY.childNodes.length,t=e*this.instance.wtSettings.settings.defaultRowHeight,r=(0,u.innerHeight)(this.instance.wtTable.TBODY)-1,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;this.instance.getSetting("totalRows");if(t!==r||this.instance.getSetting("fixedRowsBottom"))for(;e;)e--,o=this.instance.wtTable.rowFilter.renderedToSource(e),n=this.instance.wtTable.getRowHeight(o),i=(s=(a=this.instance.wtTable.getTrForRow(o)).querySelector("th"))?(0,u.innerHeight)(s):(0,u.innerHeight)(a)-1,(!n&&this.instance.wtSettings.settings.defaultRowHeight<i||n<i)&&(this.instance.wtViewport.oversizedRows[o]=++i)}}},{key:"markOversizedColumnHeaders",value:function(){var e=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.hasOversizedColumnHeadersMarked[e]&&!this.wtTable.isWorkingOnClone()){for(var t=this.wtTable.getRenderedColumnsCount(),r=0;r<this.columnHeaderCount;r++)for(var n=-1*this.rowHeaderCount;n<t;n++)this.markIfOversizedColumnHeader(n);this.wot.wtViewport.hasOversizedColumnHeadersMarked[e]=!0}}},{key:"adjustColumnHeaderHeights",value:function(){for(var e=this.wot.getSetting("columnHeaders"),t=this.wot.wtTable.THEAD.childNodes,r=this.wot.wtViewport.oversizedColumnHeaders,n=0,i=e.length;n<i;n++)if(r[n]){if(!t[n]||0===t[n].childNodes.length)return;t[n].childNodes[0].style.height=r[n]+"px"}}},{key:"markIfOversizedColumnHeader",value:function(e){for(var t=this.wot.wtTable.columnFilter.renderedToSource(e),r=this.columnHeaderCount,n=this.wot.wtSettings.settings.defaultRowHeight,i=void 0,o=void 0,a=void 0,s=this.wot.getSetting("columnHeaderHeight")||[];r;)r--,i=this.wot.wtTable.getColumnHeaderHeight(r),(o=this.wot.wtTable.getColumnHeader(t,r))&&(a=(0,u.innerHeight)(o),(!i&&n<a||i<a)&&(this.wot.wtViewport.oversizedColumnHeaders[r]=a),Array.isArray(s)?null!=s[r]&&(this.wot.wtViewport.oversizedColumnHeaders[r]=s[r]):isNaN(s)||(this.wot.wtViewport.oversizedColumnHeaders[r]=s),this.wot.wtViewport.oversizedColumnHeaders[r]<(s[r]||s)&&(this.wot.wtViewport.oversizedColumnHeaders[r]=s[r]||s))}},{key:"renderCells",value:function(e,t,r){for(var n=void 0,i=void 0,o=0;o<r;o++)i=this.columnFilter.renderedToSource(o),"TH"==(n=0===o?t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)]:n.nextSibling).nodeName&&(n=replaceThWithTd(n,t)),(0,u.hasClass)(n,"hide")||(n.className=""),n.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(e,i,n);return n}},{key:"adjustColumnWidths",value:function(e){var t=0,r=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,n=this.wot.getSetting("defaultColumnWidth"),i=this.wot.getSetting("rowHeaderWidth");if(r.offsetHeight<r.scrollHeight&&(t=(0,u.getScrollbarWidth)()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-t),null!=(i=this.instance.getSetting("onModifyRowHeaderWidth",i)))for(var o=0;o<this.rowHeaderCount;o++){var a=Array.isArray(i)?i[o]:i;a=null==a?n:a,this.COLGROUP.childNodes[o].style.width=a+"px"}for(var s=0;s<e;s++){var l=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(s));this.COLGROUP.childNodes[s+this.rowHeaderCount].style.width=l+"px"}}},{key:"appendToTbody",value:function(e){this.TBODY.appendChild(e),this.wtTable.tbodyChildrenLength++}},{key:"getOrCreateTrForRow",value:function(e,t){var r=void 0;return e>=this.wtTable.tbodyChildrenLength?(r=this.createRow(),this.appendToTbody(r)):r=0===e?this.TBODY.firstChild:t.nextSibling,r.className&&r.removeAttribute("class"),r}},{key:"createRow",value:function(){for(var e=document.createElement("TR"),t=0;t<this.rowHeaderCount;t++)e.appendChild(document.createElement("TH"));return e}},{key:"renderRowHeader",value:function(e,t,r){r.className="",r.removeAttribute("style"),this.rowHeaders[t](e,r,t)}},{key:"renderRowHeaders",value:function(e,t){for(var r=t.firstChild,n=0;n<this.rowHeaderCount;n++)r?"TD"==r.nodeName&&(r=replaceTdWithTh(r,t)):(r=document.createElement("TH"),t.appendChild(r)),this.renderRowHeader(e,n,r),r=r.nextSibling}},{key:"adjustAvailableNodes",value:function(){this.adjustColGroups(),this.adjustThead()}},{key:"renderColumnHeaders",value:function(){if(this.columnHeaderCount)for(var e=this.wtTable.getRenderedColumnsCount(),t=0;t<this.columnHeaderCount;t++)for(var r=this.getTrForColumnHeaders(t),n=-1*this.rowHeaderCount;n<e;n++){var i=this.columnFilter.renderedToSource(n);this.renderColumnHeader(t,i,r.childNodes[n+this.rowHeaderCount])}}},{key:"adjustColGroups",value:function(){for(var e=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<e+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>e+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&(0,u.addClass)(this.COLGROUP.childNodes[0],"rowHeader")}},{key:"adjustThead",value:function(){var e=this.wtTable.getRenderedColumnsCount(),t=this.THEAD.firstChild;if(this.columnHeaders.length){for(var r=0,n=this.columnHeaders.length;r<n;r++){for((t=this.THEAD.childNodes[r])||(t=document.createElement("TR"),this.THEAD.appendChild(t)),this.theadChildrenLength=t.childNodes.length;this.theadChildrenLength<e+this.rowHeaderCount;)t.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>e+this.rowHeaderCount;)t.removeChild(t.lastChild),this.theadChildrenLength--}var i=this.THEAD.childNodes.length;if(i>this.columnHeaders.length)for(var o=this.columnHeaders.length;o<i;o++)this.THEAD.removeChild(this.THEAD.lastChild)}else t&&(0,u.empty)(t)}},{key:"getTrForColumnHeaders",value:function(e){return this.THEAD.childNodes[e]}},{key:"renderColumnHeader",value:function(e,t,r){return r.className="",r.removeAttribute("style"),this.columnHeaders[e](t,r,e)}},{key:"adjustColumns",value:function(e,t){for(var r=e.childNodes.length;r<t;){var n=document.createElement("TD");e.appendChild(n),r++}for(;r>t;)e.removeChild(e.lastChild),r--}},{key:"removeRedundantColumns",value:function(e){for(;this.wtTable.tbodyChildrenLength>e;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}}]),TableRenderer}();function replaceTdWithTh(e,t){var r=document.createElement("TH");return t.insertBefore(r,e),t.removeChild(e),r}function replaceThWithTd(e,t){var r=document.createElement("TD");return t.insertBefore(r,e),t.removeChild(e),r}t.default=d},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(2),a=_interopRequireDefault(r(6)),s=_interopRequireDefault(r(175)),u=_interopRequireDefault(r(176));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=function(){function Viewport(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Viewport),this.wot=e,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new a.default(this.wot),this.eventManager.addEventListener(window,"resize",function(){t.clientHeight=t.getWorkspaceHeight()})}return n(Viewport,[{key:"getWorkspaceHeight",value:function(){var e=this.instance.wtOverlays.topOverlay.trimmingContainer;return e===window?document.documentElement.clientHeight:(0,i.outerHeight)(e)>0&&e.clientHeight>0?e.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var e=void 0,t=this.wot.getSetting("totalColumns"),r=this.instance.wtOverlays.leftOverlay.trimmingContainer,n=void 0,o=this.wot.getSetting("stretchH"),a=document.documentElement.offsetWidth;return this.wot.getSetting("preventOverflow")?(0,i.outerWidth)(this.instance.wtTable.wtRootElement):(e=this.wot.getSetting("freezeOverlays")?Math.min(a-this.getWorkspaceOffset().left,a):Math.min(this.getContainerFillWidth(),a-this.getWorkspaceOffset().left,a),r===window&&t>0&&this.sumColumnWidths(0,t-1)>e?document.documentElement.clientWidth:r===window||"scroll"!=(n=(0,i.getStyle)(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"))&&"hidden"!=n&&"auto"!=n?"none"!==o&&o?e:Math.max(e,(0,i.outerWidth)(this.instance.wtTable.TABLE)):Math.max(e,r.clientWidth))}},{key:"hasVerticalScroll",value:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(e,t){for(var r=0;e<t;)r+=this.wot.wtTable.getColumnWidth(e),e++;return r}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var e,t=this.instance.wtTable.holder,r=void 0;return(r=document.createElement("div")).style.width="100%",r.style.height="1px",t.appendChild(r),e=r.offsetWidth,this.containerWidth=e,t.removeChild(r),e}},{key:"getWorkspaceOffset",value:function(){return(0,i.offset)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualHeight",value:function(){return(0,i.outerHeight)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualWidth",value:function(){return(0,i.outerWidth)(this.wot.wtTable.TABLE)||(0,i.outerWidth)(this.wot.wtTable.TBODY)||(0,i.outerWidth)(this.wot.wtTable.THEAD)}},{key:"getColumnHeaderHeight",value:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=(0,i.outerHeight)(this.wot.wtTable.THEAD)),this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var e,t=this.getWorkspaceHeight();return t===1/0?t:((e=this.getColumnHeaderHeight())>0&&(t-=e),t)}},{key:"getRowHeaderWidth",value:function(){var e=this.instance.getSetting("rowHeaderWidth"),t=this.instance.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(var r=0,n=t.length;r<n;r++)this.rowHeaderWidth+=e[r]||e}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(t.length){var o=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var a=0,s=t.length;a<s;a++)o?(this.rowHeaderWidth+=(0,i.outerWidth)(o),o=o.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var e,t=this.getWorkspaceWidth();return t===1/0?t:(e=this.getRowHeaderWidth())>0?t-e:t}},{key:"createRowsCalculator",value:function(){var e,t,r,n=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0,s=void 0,l=void 0,c=void 0;return this.rowHeaderWidth=NaN,a=this.wot.wtSettings.settings.renderAllRows&&!o?1/0:this.getViewportHeight(),(s=this.wot.wtOverlays.topOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset())<0&&(s=0),e=this.wot.getSetting("fixedRowsTop"),t=this.wot.getSetting("fixedRowsBottom"),r=this.wot.getSetting("totalRows"),e&&(s+=c=this.wot.wtOverlays.topOverlay.sumCellSizes(0,e),a-=c),t&&this.wot.wtOverlays.bottomOverlay.clone&&(a-=c=this.wot.wtOverlays.bottomOverlay.sumCellSizes(r-t,r)),l=this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?0:(0,i.getScrollbarWidth)(),new u.default(a,s,this.wot.getSetting("totalRows"),function(e){return n.wot.wtTable.getRowHeight(e)},o?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,o,l)}},{key:"createColumnsCalculator",value:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getViewportWidth(),o=void 0;if(this.columnHeaderHeight=NaN,(o=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset())<0&&(o=0),e=this.wot.getSetting("fixedColumnsLeft")){var a=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,e);o+=a,n-=a}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(n-=(0,i.getScrollbarWidth)()),new s.default(n,o,this.wot.getSetting("totalColumns"),function(e){return t.wot.wtTable.getColumnWidth(e)},r?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,r,this.wot.getSetting("stretchH"),function(e,r){return t.wot.getSetting("onBeforeStretchingColumnWidth",e,r)})}},{key:"createRenderCalculators",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=this.createRowsCalculator(!0),r=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(t)&&this.areAllProposedVisibleColumnsAlreadyRendered(r)||(e=!1)}return e||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,e}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(e){return!!this.rowsVisibleCalculator&&(!(e.startRow<this.rowsRenderCalculator.startRow||e.startRow===this.rowsRenderCalculator.startRow&&e.startRow>0)&&!(e.endRow>this.rowsRenderCalculator.endRow||e.endRow===this.rowsRenderCalculator.endRow&&e.endRow<this.wot.getSetting("totalRows")-1))}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(e){return!!this.columnsVisibleCalculator&&(!(e.startColumn<this.columnsRenderCalculator.startColumn||e.startColumn===this.columnsRenderCalculator.startColumn&&e.startColumn>0)&&!(e.endColumn>this.columnsRenderCalculator.endColumn||e.endColumn===this.columnsRenderCalculator.endColumn&&e.endColumn<this.wot.getSetting("totalColumns")-1))}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){(0,o.objectEach)(this.hasOversizedColumnHeadersMarked,function(e,t,r){r[t]=void 0})}}]),Viewport}();t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=r(12),s=r(2),u=r(27),l=_interopRequireDefault(r(6)),c=_interopRequireDefault(r(55));_interopRequireDefault(r(35));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var f=function(){function Border(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Border),t&&(this.eventManager=new l.default(e),this.instance=e,this.wot=e,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())}return i(Border,[{key:"registerListeners",value:function(){var e=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return e.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return e.onMouseUp()});for(var t=function(t,r){e.eventManager.addEventListener(e.main.childNodes[t],"mouseenter",function(r){return e.onMouseEnter(r,e.main.childNodes[t])})},r=0,n=this.main.childNodes.length;r<n;r++)t(r)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(e,t){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){e.preventDefault(),(0,a.stopImmediatePropagation)(e);var r=this,n=t.getBoundingClientRect();t.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",function handler(e){(function(e){return e.clientY<Math.floor(n.top)||e.clientY>Math.ceil(n.top+n.height)||e.clientX<Math.floor(n.left)||e.clientX>Math.ceil(n.left+n.width)||void 0})(e)&&(r.eventManager.removeEventListener(document.body,"mousemove",handler),t.style.display="block")})}}},{key:"createBorders",value:function(e){this.main=document.createElement("div");var t=["top","left","bottom","right","corner"],r=this.main.style;r.position="absolute",r.top=0,r.left=0;for(var n=0;n<5;n++){var i=t[n],o=document.createElement("div");o.className="wtBorder "+(this.settings.className||""),this.settings[i]&&this.settings[i].hide&&(o.className+=" hidden"),(r=o.style).backgroundColor=this.settings[i]&&this.settings[i].color?this.settings[i].color:e.border.color,r.height=this.settings[i]&&this.settings[i].width?this.settings[i].width+"px":e.border.width+"px",r.width=this.settings[i]&&this.settings[i].width?this.settings[i].width+"px":e.border.width+"px",this.main.appendChild(o)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),(0,u.isMobileBrowser)()&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)}},{key:"createMultipleSelectorHandles",value:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var e={position:"absolute",height:"40px",width:"40px","border-radius":parseInt(40/1.5,10)+"px"};for(var t in e)(0,s.hasOwnProperty)(e,t)&&(this.selectionHandles.styles.bottomRightHitArea[t]=e[t],this.selectionHandles.styles.topLeftHitArea[t]=e[t]);var r={position:"absolute",height:"10px",width:"10px","border-radius":parseInt(10/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var n in r)(0,s.hasOwnProperty)(r,n)&&(this.selectionHandles.styles.bottomRight[n]=r[n],this.selectionHandles.styles.topLeft[n]=r[n]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)}},{key:"isPartRange",value:function(e,t){var r=this.wot.selections.createOrGetArea();return!(!r.cellRange||e==r.cellRange.to.row&&t==r.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(e,t,r,n,i,o){var a=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(r-a,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(n-a,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(r-s/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(n-s/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(r+o,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(n+i,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(r+o-s/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(n+i-s/4,10)+"px",this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(e,t)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),e==this.wot.wtSettings.getSetting("fixedRowsTop")||t==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")}},{key:"appear",value:function(e){if(!this.disabled){for(var t=void 0,r=void 0,i=void 0,a=void 0,s=this.wot.wtTable.getRenderedRowsCount(),l=0;l<s;l+=1){var f=this.wot.wtTable.rowFilter.renderedToSource(l);if(f>=e[0]&&f<=e[2]){t=f;break}}for(var h=s-1;h>=0;h-=1){var p=this.wot.wtTable.rowFilter.renderedToSource(h);if(p>=e[0]&&p<=e[2]){r=p;break}}for(var d=this.wot.wtTable.getRenderedColumnsCount(),y=0;y<d;y+=1){var g=this.wot.wtTable.columnFilter.renderedToSource(y);if(g>=e[1]&&g<=e[3]){i=g;break}}for(var m=d-1;m>=0;m-=1){var v=this.wot.wtTable.columnFilter.renderedToSource(m);if(v>=e[1]&&v<=e[3]){a=v;break}}if(void 0!==t&&void 0!==i){var b=this.wot.wtTable.getCell(new c.default(t,i)),_=t!==r||i!==a,w=_?this.wot.wtTable.getCell(new c.default(r,a)):b,S=(0,o.offset)(b),E=_?(0,o.offset)(w):S,C=(0,o.offset)(this.wot.wtTable.TABLE),O=S.top,T=S.left,A=T-C.left-1,x=E.left+(0,o.outerWidth)(w)-T;if(this.isEntireColumnSelected(t,r)){var k=this.getDimensionsFromHeader("columns",i,a,C),R=null;if(k){var P=n(k,3);R=P[0],A=P[1],x=P[2]}R&&(b=R)}var D=O-C.top-1,M=E.top+(0,o.outerHeight)(w)-O;if(this.isEntireRowSelected(i,a)){var F=this.getDimensionsFromHeader("rows",t,r,C),N=null;if(F){var I=n(F,3);N=I[0],D=I[1],M=I[2]}N&&(b=N)}var j=(0,o.getComputedStyle)(b);parseInt(j.borderTopWidth,10)>0&&(D+=1,M=M>0?M-1:0),parseInt(j.borderLeftWidth,10)>0&&(A+=1,x=x>0?x-1:0),this.topStyle.top=D+"px",this.topStyle.left=A+"px",this.topStyle.width=x+"px",this.topStyle.display="block",this.leftStyle.top=D+"px",this.leftStyle.left=A+"px",this.leftStyle.height=M+"px",this.leftStyle.display="block";var L=Math.floor(this.settings.border.width/2);this.bottomStyle.top=D+M-L+"px",this.bottomStyle.left=A+"px",this.bottomStyle.width=x+"px",this.bottomStyle.display="block",this.rightStyle.top=D+"px",this.rightStyle.left=A+x-L+"px",this.rightStyle.height=M+1+"px",this.rightStyle.display="block";var B=this.settings.border.cornerVisible;B="function"==typeof B?B(this.settings.layerLevel):B;var H=this.wot.getSetting("onModifyGetCellCoords",r,a),U=r,q=a;if(H&&Array.isArray(H)){var V=n(H,4);U=V[2],q=V[3]}if((0,u.isMobileBrowser)()||!B||this.isPartRange(U,q))this.cornerStyle.display="none";else{this.cornerStyle.top=D+M-4+"px",this.cornerStyle.left=A+x-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var W=(0,o.getTrimmingContainer)(this.wot.wtTable.TABLE);if(a===this.wot.getSetting("totalColumns")-1)w.offsetLeft+(0,o.outerWidth)(w)+parseInt(this.cornerDefaultStyle.width,10)/2>=(0,o.innerWidth)(W)&&(this.cornerStyle.left=Math.floor(A+x-3-parseInt(this.cornerDefaultStyle.width,10)/2)+"px",this.cornerStyle.borderRightWidth=0);if(r===this.wot.getSetting("totalRows")-1)w.offsetTop+(0,o.outerHeight)(w)+parseInt(this.cornerDefaultStyle.height,10)/2>=(0,o.innerHeight)(W)&&(this.cornerStyle.top=Math.floor(D+M-3-parseInt(this.cornerDefaultStyle.height,10)/2)+"px",this.cornerStyle.borderBottomWidth=0);this.cornerStyle.display="block"}(0,u.isMobileBrowser)()&&this.updateMultipleSelectionHandlesPosition(r,a,D,A,x,M)}else this.disappear()}}},{key:"isEntireColumnSelected",value:function(e,t){return e===this.wot.wtTable.getFirstRenderedRow()&&t===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(e,t){return e===this.wot.wtTable.getFirstRenderedColumn()&&t===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(e,t,r,n){var i=this,a=this.wot.wtTable.wtRootElement.parentNode,s=null,u=null,l=null,c=null,f=null,h=null,p=null,d=null;switch(e){case"rows":s=function(){var e;return(e=i.wot.wtTable).getRowHeader.apply(e,arguments)},u=function(){return o.outerHeight.apply(void 0,arguments)},l="ht__selection--rows",h="top";break;case"columns":s=function(){var e;return(e=i.wot.wtTable).getColumnHeader.apply(e,arguments)},u=function(){return o.outerWidth.apply(void 0,arguments)},l="ht__selection--columns",h="left"}if(a.className.includes(l)){var y=this.wot.getSetting("columnHeaders").length;if(p=s(t,y-1),d=s(r,y-1),!p||!d)return!1;var g=(0,o.offset)(p),m=(0,o.offset)(d);return p&&d&&(c=g[h]-n[h]-1,f=m[h]+u(d)-g[h]),[p,c,f]}return!1}},{key:"disappear",value:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",(0,u.isMobileBrowser)()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")}}]),Border}();t.default=f},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(21),o=r(16),a=r(36),s=r(1),u=r(0),l=r(308),c=(n=l)&&n.__esModule?n:{default:n};var f=c.default.prototype.extend();f.prototype.init=function(){c.default.prototype.init.apply(this,arguments),this.query=null,this.strippedChoices=[],this.rawChoices=[]},f.prototype.getValue=function(){var e=this,t=this.rawChoices.find(function(t){return e.stripValueIfNeeded(t)===e.TEXTAREA.value});return(0,o.isDefined)(t)?t:this.TEXTAREA.value},f.prototype.createElements=function(){c.default.prototype.createElements.apply(this,arguments),(0,u.addClass)(this.htContainer,"autocompleteEditor"),(0,u.addClass)(this.htContainer,-1===window.navigator.platform.indexOf("Mac")?"":"htMacScroll")};var h=!1;function onBeforeKeyDown(e){h=!1;var t=this.getActiveEditor();if((0,i.isPrintableChar)(e.keyCode)||e.keyCode===i.KEY_CODES.BACKSPACE||e.keyCode===i.KEY_CODES.DELETE||e.keyCode===i.KEY_CODES.INSERT){var r=0;if(e.keyCode===i.KEY_CODES.C&&(e.ctrlKey||e.metaKey))return;t.isOpened()||(r+=10),t.htEditor&&t.instance._registerTimeout(setTimeout(function(){t.queryChoices(t.TEXTAREA.value),h=!0},r))}}f.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",onBeforeKeyDown),c.default.prototype.prepare.apply(this,arguments)},f.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",c.default.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var e=this.htEditor.getInstance(),t=this,r=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),e.updateSettings({colWidths:r?[(0,u.outerWidth)(this.TEXTAREA)-2]:void 0,width:r?(0,u.outerWidth)(this.TEXTAREA)+(0,u.getScrollbarWidth)()+2:void 0,afterRenderer:function(e,r,n,i,a,s){var u=t.cellProperties,l=u.filteringCaseSensitive,c=u.allowHtml,f=void 0,h=void 0;(a=(0,o.stringify)(a))&&!c&&-1!==(f=!0===l?a.indexOf(this.query):a.toLowerCase().indexOf(t.query.toLowerCase()))&&(h=a.substr(f,t.query.length),a=a.replace(h,"<strong>"+h+"</strong>")),e.innerHTML=a},autoColumnSize:!0,modifyColWidth:function(e,t){var n=this.getPlugin("autoColumnSize").widths;return n[t]&&(e=n[t]),r?e:e+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=(0,u.getScrollbarWidth)()+2+"px",h&&(h=!1),t.instance._registerTimeout(setTimeout(function(){t.queryChoices(t.TEXTAREA.value)},0))},f.prototype.close=function(){c.default.prototype.close.apply(this,arguments)},f.prototype.queryChoices=function(e){var t=this;this.query=e;var r=this.cellProperties.source;"function"==typeof r?r.call(this.cellProperties,e,function(e){t.rawChoices=e,t.updateChoicesList(t.stripValuesIfNeeded(e))}):Array.isArray(r)?(this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))):this.updateChoicesList([])},f.prototype.updateChoicesList=function(e){var t=(0,u.getCaretPosition)(this.TEXTAREA),r=(0,u.getSelectionEndPosition)(this.TEXTAREA),n=this.cellProperties.sortByRelevance,i=this.cellProperties.filter,o=null,a=null;n&&(o=f.sortByRelevance(this.stripValueIfNeeded(this.getValue()),e,this.cellProperties.filteringCaseSensitive));var l=Array.isArray(o)?o.length:0;if(!1===i)l&&(a=o[0]);else{for(var c=[],h=0,p=e.length;h<p&&!(n&&l<=h);h++)l?c.push(e[o[h]]):c.push(e[h]);a=0,e=c}this.strippedChoices=e,this.htEditor.loadData((0,s.pivot)([e])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(a),this.instance.listen(!1),(0,u.setCaretPosition)(this.TEXTAREA,t,t===r?void 0:r)},f.prototype.flipDropdownIfNeeded=function(){var e=(0,u.offset)(this.TEXTAREA),t=(0,u.outerHeight)(this.TEXTAREA),r=this.getDropdownHeight(),n=(0,u.getTrimmingContainer)(this.instance.view.wt.wtTable.TABLE),i=n.scrollTop,o=(0,u.outerHeight)(this.instance.view.wt.wtTable.THEAD),a={row:0,col:0};n!==window&&(a=(0,u.offset)(n));var s=e.top-a.top-o+i,l=n.scrollHeight-s-o-t,c=r>l&&s>l;return c?this.flipDropdown(r):this.unflipDropdown(),this.limitDropdownIfNeeded(c?s:l,r),c},f.prototype.limitDropdownIfNeeded=function(e,t){if(t>e){var r,n=0,i=0,o=0;do{n+=o=this.htEditor.getRowHeight(i)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,i++}while(n<e);r=n-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+t-r+"px"),this.setDropdownHeight(n-o)}},f.prototype.flipDropdown=function(e){var t=this.htEditor.rootElement.style;t.position="absolute",t.top=-e+"px",this.htEditor.flipped=!0},f.prototype.unflipDropdown=function(){var e=this.htEditor.rootElement.style;"absolute"===e.position&&(e.position="",e.top=""),this.htEditor.flipped=void 0},f.prototype.updateDropdownHeight=function(){var e=this.htEditor.getColWidth(0)+(0,u.getScrollbarWidth)()+2,t=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:t?void 0:e}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},f.prototype.setDropdownHeight=function(e){this.htEditor.updateSettings({height:e})},f.prototype.finishEditing=function(e){e||this.instance.removeHook("beforeKeyDown",onBeforeKeyDown),c.default.prototype.finishEditing.apply(this,arguments)},f.prototype.highlightBestMatchingChoice=function(e){"number"==typeof e?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()},f.sortByRelevance=function(e,t,r){var n=[],i=void 0,s=e.length,u=void 0,l=void 0,c=[],f=void 0,h=t.length;if(0===s){for(f=0;f<h;f++)c.push(f);return c}for(f=0;f<h;f++)i=(0,a.stripTags)((0,o.stringify)(t[f])),-1!==(u=r?i.indexOf(e):i.toLowerCase().indexOf(e.toLowerCase()))&&(l=i.length-u-s,n.push({baseIndex:f,index:u,charsLeft:l,value:i}));for(n.sort(function(e,t){if(-1===t.index)return-1;if(-1===e.index)return 1;if(e.index<t.index)return-1;if(t.index<e.index)return 1;if(e.index===t.index){if(e.charsLeft<t.charsLeft)return-1;if(e.charsLeft>t.charsLeft)return 1}return 0}),f=0,h=n.length;f<h;f++)c.push(n[f].baseIndex);return c},f.prototype.getDropdownHeight=function(){var e=this.htEditor.getInstance().getRowHeight(0)||23,t=this.cellProperties.visibleRows;return this.strippedChoices.length>=t?t*e:this.strippedChoices.length*e+8},f.prototype.stripValueIfNeeded=function(e){return this.stripValuesIfNeeded([e])[0]},f.prototype.stripValuesIfNeeded=function(e){var t=this.cellProperties.allowHtml,r=(0,s.arrayMap)(e,function(e){return(0,o.stringify)(e)});return(0,s.arrayMap)(r,function(e){return t?e:(0,a.stripTags)(e)})},f.prototype.allowKeyEventPropagation=function(e){var t=this.htEditor.getSelectedRangeLast(),r=t?t.from.row:-1,n=!1;return e===i.KEY_CODES.ARROW_DOWN&&r>0&&r<this.htEditor.countRows()-1&&(n=!0),e===i.KEY_CODES.ARROW_UP&&r>-1&&(n=!0),n},f.prototype.discardEditor=function(e){c.default.prototype.discardEditor.apply(this,arguments),this.instance.view.render()},t.default=f},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(21),o=r(2),a=r(0),s=r(12),u=r(57),l=(n=u)&&n.__esModule?n:{default:n};var c=l.default.prototype.extend();c.prototype.createElements=function(){l.default.prototype.createElements.apply(this,arguments);var e=document.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()},c.prototype.prepare=function(e,t,r,n,i,a){l.default.prototype.prepare.apply(this,arguments);var s=this,u={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(e,t){var r=this.getSourceData(t.row,t.col);void 0!==r&&s.setValue(r),s.instance.destroyEditor()}};this.cellProperties.handsontable&&(0,o.extend)(u,a.handsontable),this.htOptions=u};var f=function(e){if(!(0,s.isImmediatePropagationStopped)(e)){var t,r,n=this.getActiveEditor(),o=n.htEditor.getInstance();if(e.keyCode==i.KEY_CODES.ARROW_DOWN)if(o.getSelectedLast()||o.flipped){if(o.getSelectedLast())if(o.flipped)t=o.getSelectedLast()[0]+1;else if(!o.flipped){r=o.getSelectedLast()[0];var a=o.countRows()-1;t=Math.min(a,r+1)}}else t=0;else e.keyCode==i.KEY_CODES.ARROW_UP&&(!o.getSelectedLast()&&o.flipped?t=o.countRows()-1:o.getSelectedLast()&&(o.flipped?(r=o.getSelectedLast()[0],t=Math.max(0,r-1)):t=(r=o.getSelectedLast()[0])-1));void 0!==t&&(t<0||o.flipped&&t>o.countRows()-1?o.deselectCell():o.selectCell(t,0),o.getData().length&&(e.preventDefault(),(0,s.stopImmediatePropagation)(e),n.instance.listen(),n.TEXTAREA.focus()))}};c.prototype.open=function(){this.instance.addHook("beforeKeyDown",f),l.default.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new this.instance.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),(0,a.setCaretPosition)(this.TEXTAREA,0,this.TEXTAREA.value.length)},c.prototype.close=function(){this.instance.removeHook("beforeKeyDown",f),this.instance.listen(),l.default.prototype.close.apply(this,arguments)},c.prototype.focus=function(){this.instance.listen(),l.default.prototype.focus.apply(this,arguments)},c.prototype.beginEditing=function(e){var t=this.instance.getSettings().onBeginEditing;t&&!1===t()||l.default.prototype.beginEditing.apply(this,arguments)},c.prototype.finishEditing=function(e,t){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var r=this.htEditor.getInstance().getValue();void 0!==r&&this.setValue(r)}return l.default.prototype.finishEditing.apply(this,arguments)},c.prototype.assignHooks=function(){var e=this;this.instance.addHook("afterDestroy",function(){e.htEditor&&e.htEditor.destroy()})},t.default=c},function(e,r,n){var i;(function(){"use strict";var o,a=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],u={general:{scale:1024,suffixes:s,marker:"bd"},binary:{scale:1024,suffixes:a,marker:"b"},decimal:{scale:1e3,suffixes:s,marker:"d"}},l=[u.general,u.binary,u.decimal],c={},f=c,h="en-US",p=null,d="0,0",y="0$",g=void 0!==e&&e.exports;function Numbro(e){this._value=e}function numberLength(e){return 0===e?1:Math.floor(Math.log(Math.abs(e))/Math.LN10)+1}function zeroes(e){var t,r="";for(t=0;t<e;t++)r+="0";return r}function toFixed(e,t,r,n){var i,o,a=Math.pow(10,t);return e.toString().indexOf("e")>-1?"-"===(o=function(e,t){var r,n,i,o,a,s;return r=(s=e.toString()).split("e")[0],o=s.split("e")[1],n=r.split(".")[0],i=r.split(".")[1]||"",+o>0?s=n+i+zeroes(o-i.length):(a=+n<0?"-0":"0",t>0&&(a+="."),s=a+(zeroes(-1*o-1)+Math.abs(n)+i).substr(0,t)),+o>0&&t>0&&(s+="."+zeroes(t)),s}(e,t)).charAt(0)&&+o>=0&&(o=o.substr(1)):o=(r(e+"e+"+t)/a).toFixed(t),n&&(i=new RegExp("0{1,"+n+"}$"),o=o.replace(i,"")),o}function formatNumbro(e,t,r){var n=t.replace(/\{[^\{\}]*\}/g,"");return n.indexOf("$")>-1?formatCurrency(e,c[h].currency.symbol,t,r):n.indexOf("%")>-1?function(e,t,r){var n,i="",o=100*e._value;t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%","");(n=formatNumber(o,t,r)).indexOf(")")>-1?((n=n.split("")).splice(-1,0,i+"%"),n=n.join("")):n=n+i+"%";return n}(e,t,r):n.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),r=Math.floor((e._value-60*t*60)/60),n=Math.round(e._value-60*t*60-60*r);return t+":"+(r<10?"0"+r:r)+":"+(n<10?"0"+n:n)}(e):formatNumber(e._value,t,r)}function unformatNumbro(e,t){var r,n,i,o,u,l=t,f=!1;if(t.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),r=0;3===t.length?(r+=60*Number(t[0])*60,r+=60*Number(t[1]),r+=Number(t[2])):2===t.length&&(r+=60*Number(t[0]),r+=Number(t[1]));return Number(r)}(t);else if(t===p)e._value=0;else{for("."!==c[h].delimiters.decimal&&(t=t.replace(/\./g,"").replace(c[h].delimiters.decimal,".")),r=new RegExp("[^a-zA-Z]"+c[h].abbreviations.thousand+"(?:\\)|(\\"+c[h].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+c[h].abbreviations.million+"(?:\\)|(\\"+c[h].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+c[h].abbreviations.billion+"(?:\\)|(\\"+c[h].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+c[h].abbreviations.trillion+"(?:\\)|(\\"+c[h].currency.symbol+")?(?:\\))?)?$"),u=1;u<a.length&&!f;++u)t.indexOf(a[u])>-1?f=Math.pow(1024,u):t.indexOf(s[u])>-1&&(f=Math.pow(1e3,u));var d=t.replace(/[^0-9\.]+/g,"");""===d?e._value=NaN:(e._value=(f||1)*(l.match(r)?Math.pow(10,3):1)*(l.match(n)?Math.pow(10,6):1)*(l.match(i)?Math.pow(10,9):1)*(l.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(d),e._value=f?Math.ceil(e._value):e._value)}return e._value}function formatCurrency(e,t,r,n){var i,o,a=r,s=a.indexOf("$"),u=a.indexOf("("),l=a.indexOf("+"),f=a.indexOf("-"),p="",d="";if(-1===a.indexOf("$")?"infix"===c[h].currency.position?(d=t,c[h].currency.spaceSeparated&&(d=" "+d+" ")):c[h].currency.spaceSeparated&&(p=" "):a.indexOf(" $")>-1?(p=" ",a=a.replace(" $","")):a.indexOf("$ ")>-1?(p=" ",a=a.replace("$ ","")):a=a.replace("$",""),o=formatNumber(e._value,a,n,d),-1===r.indexOf("$"))switch(c[h].currency.position){case"postfix":o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,p+t),o=o.join("")):o=o+p+t;break;case"infix":break;case"prefix":o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),i=Math.max(u,f)+1,o.splice(i,0,t+p),o=o.join("")):o=t+p+o;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else s<=1?o.indexOf("(")>-1||o.indexOf("+")>-1||o.indexOf("-")>-1?(o=o.split(""),i=1,(s<u||s<l||s<f)&&(i=0),o.splice(i,0,t+p),o=o.join("")):o=t+p+o:o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,p+t),o=o.join("")):o=o+p+t;return o}function formatByteUnits(e,t,r){var n,i,o,a=t[0],s=Math.abs(e);if(s>=r){for(n=1;n<t.length;++n)if(i=Math.pow(r,n),o=Math.pow(r,n+1),s>=i&&s<o){a=t[n],e/=i;break}a===t[0]&&(e/=Math.pow(r,t.length-1),a=t[t.length-1])}return{value:e,suffix:a}}function formatNumber(e,t,r,n){var i,o,a,s,u,f,d,y,g,m,v,b,_,w,S,E=!1,C=!1,O=!1,T="",A=!1,x=!1,k=!1,R=!1,P=!1,D="",M="",F=Math.abs(e),N="",I=!1,j=!1;if(0===e&&null!==p)return p;if(!isFinite(e))return""+e;if(0===t.indexOf("{")){var L=t.indexOf("}");if(-1===L)throw Error('Format should also contain a "}"');m=t.slice(1,L),t=t.slice(L+1)}else m="";if(t.indexOf("}")===t.length-1&&t.length){var B=t.indexOf("{");if(-1===B)throw Error('Format should also contain a "{"');v=t.slice(B+1,-1),t=t.slice(0,B+1)}else v="";for(_=null===(S=-1===t.indexOf(".")?t.match(/([0-9]+).*/):t.match(/([0-9]+)\..*/))?-1:S[1].length,-1!==t.indexOf("-")&&(I=!0),t.indexOf("(")>-1?(E=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(C=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(y=t.split(".")[0].match(/[0-9]+/g)||["0"],y=parseInt(y[0],10),A=t.indexOf("aK")>=0,x=t.indexOf("aM")>=0,k=t.indexOf("aB")>=0,R=t.indexOf("aT")>=0,P=A||x||k||R,t.indexOf(" a")>-1?(T=" ",t=t.replace(" a","")):t=t.replace("a",""),u=0===(u=(a=numberLength(e))%3)?3:u,y&&0!==F&&(f=3*~~((Math.min(y,a)-u)/3),F/=Math.pow(10,f)),a!==y&&(F>=Math.pow(10,12)&&!P||R?(T+=c[h].abbreviations.trillion,e/=Math.pow(10,12)):F<Math.pow(10,12)&&F>=Math.pow(10,9)&&!P||k?(T+=c[h].abbreviations.billion,e/=Math.pow(10,9)):F<Math.pow(10,9)&&F>=Math.pow(10,6)&&!P||x?(T+=c[h].abbreviations.million,e/=Math.pow(10,6)):(F<Math.pow(10,6)&&F>=Math.pow(10,3)&&!P||A)&&(T+=c[h].abbreviations.thousand,e/=Math.pow(10,3))),s=numberLength(e),y&&s<y&&-1===t.indexOf(".")&&(t+="[.]",t+=zeroes(y-s))),w=0;w<l.length;++w)if(i=l[w],t.indexOf(i.marker)>-1){t.indexOf(" "+i.marker)>-1&&(D=" "),t=t.replace(D+i.marker,""),e=(o=formatByteUnits(e,i.suffixes,i.scale)).value,D+=o.suffix;break}if(t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(M=" ",t=t.replace(" o","")):t=t.replace("o",""),c[h].ordinal&&(M+=c[h].ordinal(e))),t.indexOf("[.]")>-1&&(O=!0,t=t.replace("[.]",".")),g=t.split(".")[1],b=t.indexOf(","),g){var H=[];if(-1!==g.indexOf("*")?(H=(N=e.toString()).split(".")).length>1&&(N=toFixed(e,H[1].length,r)):N=g.indexOf("[")>-1?toFixed(e,(g=(g=g.replace("]","")).split("["))[0].length+g[1].length,r,g[1].length):toFixed(e,g.length,r),d=(H=N.split("."))[0],H.length>1&&H[1].length)N=(n?T+n:c[h].delimiters.decimal)+H[1];else N="";O&&0===Number(N.slice(1))&&(N="")}else d=toFixed(e,0,r);return d.indexOf("-")>-1&&(d=d.slice(1),j=!0),d.length<_&&(d=zeroes(_-d.length)+d),b>-1&&(d=d.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+c[h].delimiters.thousands)),0===t.indexOf(".")&&(d=""),m+(t.indexOf("(")<t.indexOf("-")?(E&&j?"(":"")+(I&&j||!E&&j?"-":""):(I&&j||!E&&j?"-":"")+(E&&j?"(":""))+(!j&&C&&0!==e?"+":"")+d+N+(M||"")+(T&&!n?T:"")+(D||"")+(E&&j?")":"")+v}function setCulture(e,t){c[e]=t}function chooseCulture(e){h=e;var t=c[e].defaults;t&&t.format&&o.defaultFormat(t.format),t&&t.currencyFormat&&o.defaultCurrencyFormat(t.currencyFormat)}function multiplier(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function correctionFactor(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var r=multiplier(e),n=multiplier(t);return r>n?r:n},-1/0)}(o=function(e){return e=o.isNumbro(e)?e.value():"string"==typeof e||"number"==typeof e?o.fn.unformat(e):NaN,new Numbro(Number(e))}).version="1.11.0",o.isNumbro=function(e){return e instanceof Numbro},o.setLanguage=function(e,t){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var r=e,n=e.split("-")[0],i=null;f[r]||(Object.keys(f).forEach(function(e){i||e.split("-")[0]!==n||(i=e)}),r=i||t||"en-US"),chooseCulture(r)},o.setCulture=function(e,t){var r=e,n=e.split("-")[1],i=null;c[r]||(n&&Object.keys(c).forEach(function(e){i||e.split("-")[1]!==n||(i=e)}),r=i||t||"en-US"),chooseCulture(r)},o.language=function(e,t){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!e)return h;if(e&&!t){if(!f[e])throw new Error("Unknown language : "+e);chooseCulture(e)}return!t&&f[e]||setCulture(e,t),o},o.culture=function(e,t){if(!e)return h;if(e&&!t){if(!c[e])throw new Error("Unknown culture : "+e);chooseCulture(e)}return!t&&c[e]||setCulture(e,t),o},o.languageData=function(e){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!e)return f[h];if(!f[e])throw new Error("Unknown language : "+e);return f[e]},o.cultureData=function(e){if(!e)return c[h];if(!c[e])throw new Error("Unknown culture : "+e);return c[e]},o.culture("en-US",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}}),o.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),f},o.cultures=function(){return c},o.zeroFormat=function(e){p="string"==typeof e?e:null},o.defaultFormat=function(e){d="string"==typeof e?e:"0.0"},o.defaultCurrencyFormat=function(e){y="string"==typeof e?e:"0$"},o.validate=function(e,t){var r,n,i,a,s,u,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",e)),(e=(e=e.trim()).replace(/^[+-]?/,"")).match(/^\d+$/))return!0;if(""===e)return!1;try{l=o.cultureData(t)}catch(e){l=o.cultureData(o.culture())}return i=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,n="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=e.match(/^[^\d\.\,]+/))||(e=e.substr(1),c[0]===i))&&((null===(c=e.match(/[^\d]+$/))||(e=e.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(u=new RegExp(n+"{2}"),!e.match(/[^\d.,]/g)&&(!((a=e.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u):""===a[0]?!a[0].match(u)&&!!a[1].match(/^\d+$/):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/)))))},o.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),o.loadCulturesInNode()},o.loadCulturesInNode=function(){var e=n(369);for(var t in e)t&&o.culture(t,e[t])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r,n,i=this.length>>>0,o=!1;for(1<arguments.length&&(n=t,o=!0),r=0;i>r;++r)this.hasOwnProperty(r)&&(o?n=e(n,this[r],r,this):(n=this[r],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return n}),o.fn=Numbro.prototype={clone:function(){return o(this)},format:function(e,t){return formatNumbro(this,e||d,void 0!==t?t:Math.round)},formatCurrency:function(e,t){return formatCurrency(this,c[h].currency.symbol,e||y,void 0!==t?t:Math.round)},formatForeignCurrency:function(e,t,r){return function(e,t,r,n){return formatCurrency(e,t,r,n)}(this,e,t||y,void 0!==r?r:Math.round)},unformat:function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=unformatNumbro(this,e);return isNaN(t)?void 0:t}},binaryByteUnits:function(){return formatByteUnits(this._value,u.binary.suffixes,u.binary.scale).suffix},byteUnits:function(){return formatByteUnits(this._value,u.general.suffixes,u.general.scale).suffix},decimalByteUnits:function(){return formatByteUnits(this._value,u.decimal.suffixes,u.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=correctionFactor.call(null,this._value,e);return this._value=[this._value,e].reduce(function(e,r){return e+t*r},0)/t,this},subtract:function(e){var t=correctionFactor.call(null,this._value,e);return this._value=[e].reduce(function(e,r){return e-t*r},this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce(function(e,t){var r=correctionFactor(e,t),n=e*r;return n*=t*r,n/=r*r},1),this},divide:function(e){return this._value=[this._value,e].reduce(function(e,t){var r=correctionFactor(e,t);return e*r/(t*r)}),this},difference:function(e){return Math.abs(o(this._value).subtract(e).value())}},void 0!==t&&void 0===t.browser&&t.title&&(-1!==t.title.indexOf("node")||t.title.indexOf("meteor-tool")>0||"grunt"===t.title||"gulp"===t.title)&&o.loadCulturesInNode(),g?e.exports=o:("undefined"==typeof ender&&(this.numbro=o),void 0===(i=(function(){return o}).apply(r,[]))||(e.exports=i))}).call("undefined"==typeof window?this:window),window.numbro=n(309)},function(e,t,r){"use strict";t.__esModule=!0,t.getNormalizedDate=function(e){var t=new Date(e);if(!isNaN(new Date(e+"T00:00").getDate()))return new Date(t.getTime()+6e4*t.getTimezoneOffset());return t}},function(e,t,r){"use strict";!function(e){function countQuotes(e){return e.split('"').length-1}var r={parse:function(e){var t,r,n,i,o,a,s,u=[],l=0;for((n=e.split("\n")).length>1&&""===n[n.length-1]&&n.pop(),t=0,r=n.length;t<r;t+=1){for(n[t]=n[t].split("\t"),i=0,o=n[t].length;i<o;i+=1)u[l]||(u[l]=[]),a&&0===i?(s=u[l].length-1,u[l][s]=u[l][s]+"\n"+n[t][0],a&&1&countQuotes(n[t][0])&&(a=!1,u[l][s]=u[l][s].substring(0,u[l][s].length-1).replace(/""/g,'"'))):i===o-1&&0===n[t][i].indexOf('"')&&1&countQuotes(n[t][i])?(u[l].push(n[t][i].substring(1).replace(/""/g,'"')),a=!0):(u[l].push(n[t][i].replace(/""/g,'"')),a=!1);a||(l+=1)}return u},stringify:function(e){var t,r,n,i,o,a="";for(t=0,r=e.length;t<r;t+=1){for(i=e[t].length,n=0;n<i;n+=1)n>0&&(a+="\t"),"string"==typeof(o=e[t][n])?o.indexOf("\n")>-1?a+='"'+o.replace(/"/g,'""')+'"':a+=o:a+=null===o||void 0===o?"":o;t!==r-1&&(a+="\n")}return a}};t.parse=r.parse,t.stringify=r.stringify}(window)},function(e,t,r){"use strict";t.__esModule=!0,t.mouseDown=mouseDown,t.mouseOver=mouseOver,t.handleMouseEvent=function(e,t){var r=t.coords,i=t.selection,a=t.controller;o.get(e.type)({coords:r,selection:i,controller:a,isShiftKey:e.shiftKey,isLeftClick:(0,n.isLeftClick)(e)||"touchstart"===e.type,isRightClick:(0,n.isRightClick)(e)})};var n=r(12),i=r(4);function mouseDown(e){var t=e.isShiftKey,r=e.isLeftClick,n=e.isRightClick,o=e.coords,a=e.selection,s=e.controller,u=a.isSelected()?a.getSelectedRange().current():null,l=a.isSelectedByCorner(),c=a.isSelectedByRowHeader();a.isSelectedByColumnHeader();if(t&&u)o.row>=0&&o.col>=0&&!s.cells?a.setRangeEnd(o):(l||c)&&o.row>=0&&o.col>=0&&!s.cells?a.setRangeEnd(new i.CellCoords(o.row,o.col)):l&&o.row<0&&!s.column?a.setRangeEnd(new i.CellCoords(u.to.row,o.col)):c&&o.col<0&&!s.row?a.setRangeEnd(new i.CellCoords(o.row,u.to.col)):(!l&&!c&&o.col<0||l&&o.col<0)&&!s.row?a.selectRows(u.from.row,o.row):(!l&&!c&&o.row<0||c&&o.row<0)&&!s.column&&a.selectColumns(u.from.col,o.col);else{var f=new i.CellCoords(o.row,o.col);f.row<0&&(f.row=0),f.col<0&&(f.col=0);var h=!a.inInSelection(f),p=r||n&&h;o.row<0&&o.col>=0&&!s.column?p&&a.selectColumns(o.col):o.col<0&&o.row>=0&&!s.row?p&&a.selectRows(o.row):o.col>=0&&o.row>=0&&!s.cells?p&&a.setRangeStart(o):o.col<0&&o.row<0&&a.setRangeStart(o)}}function mouseOver(e){var t=e.isLeftClick,r=e.coords,n=e.selection,o=e.controller;if(t){var a=n.isSelectedByRowHeader(),s=n.isSelectedByColumnHeader(),u=n.tableProps.countCols(),l=n.tableProps.countRows();s&&!o.column?n.setRangeEnd(new i.CellCoords(l-1,r.col)):a&&!o.row?n.setRangeEnd(new i.CellCoords(r.row,u-1)):o.cell||n.setRangeEnd(r)}}var o=new Map([["mousedown",mouseDown],["mouseover",mouseOver],["touchstart",mouseDown]])},function(e,t,r){"use strict";t.__esModule=!0,t.RecordTranslator=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.registerIdentity=function(e,t){l.set(e,t)},t.getTranslator=function(e){var t=void 0;if(!(e instanceof a.default)){if(!l.has(e))throw Error("Record translator was not registered for this object identity");e=l.get(e)}c.has(e)?t=c.get(e):(t=new u(e),c.set(e,t));return t};var i,o=r(88),a=(i=o)&&i.__esModule?i:{default:i},s=r(2);var u=function(){function RecordTranslator(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RecordTranslator),this.hot=e}return n(RecordTranslator,[{key:"toVisualRow",value:function(e){return this.hot.runHooks("unmodifyRow",e)}},{key:"toVisualColumn",value:function(e){return this.hot.runHooks("unmodifyCol",e)}},{key:"toVisual",value:function(e,t){return(0,s.isObject)(e)?{row:this.toVisualRow(e.row),column:this.toVisualColumn(e.column)}:[this.toVisualRow(e),this.toVisualColumn(t)]}},{key:"toPhysicalRow",value:function(e){return this.hot.runHooks("modifyRow",e)}},{key:"toPhysicalColumn",value:function(e){return this.hot.runHooks("modifyCol",e)}},{key:"toPhysical",value:function(e,t){return(0,s.isObject)(e)?{row:this.toPhysicalRow(e.row),column:this.toPhysicalColumn(e.column)}:[this.toPhysicalRow(e),this.toPhysicalColumn(t)]}}]),RecordTranslator}();t.RecordTranslator=u;var l=new WeakMap,c=new WeakMap},function(e,t,r){"use strict";t.__esModule=!0,t.registerAsRootInstance=function(e){n.set(e,!0)},t.hasValidParameter=function(e){return e===i},t.isRootInstance=function(e){return n.has(e)};var n=t.holder=new WeakMap,i=t.rootInstanceSymbol=Symbol("rootInstance")},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(16),o=r(2);function DefaultSettings(){}DefaultSettings.prototype={licenseKey:"trial",data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,selectionMode:"multiple",fillHandle:!0,fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",activeHeaderClassName:"ht__active_highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(e){var t,r,a,s;for(t=0,r=this.countCols();t<r;t++)if(""!==(a=this.getDataAtCell(e,t))&&null!==a&&(0,i.isDefined)(a))return"object"===(void 0===a?"undefined":n(a))&&(s=this.getCellMeta(e,t),(0,o.isObjectEqual)(this.getSchema()[s.prop],a));return!0},isEmptyCol:function(e){var t,r,n;for(t=0,r=this.countRows();t<r;t++)if(""!==(n=this.getDataAtCell(t,e))&&null!==n&&(0,i.isDefined)(n))return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,copyPaste:!0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,numericFormat:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortFunction:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1,dragToScroll:!0},t.default=DefaultSettings},function(e,t,r){"use strict";t.__esModule=!0,t.getTranslatedPhrase=function(e,t,r){var s=(0,i.getLanguageDictionary)(e);if(null===s)return null;var u=s[t];if((0,a.isUndefined)(u))return null;var l=function(e,t){var r=e;return(0,n.arrayEach)((0,o.getPhraseFormatters)(),function(n){r=n(e,t)}),r}(u,r);if(Array.isArray(l))return l[0];return l};var n=r(1),i=r(71),o=r(392),a=r(16)},function(e,t,r){"use strict";t.__esModule=!0;var n,i,o=(n=['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],i=['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}})));t.extendNotExistingKeys=function(e,t){return(0,s.objectEach)(t,function(t,r){(0,a.isUndefined)(e[r])&&(e[r]=t)}),e},t.createCellHeadersRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(e>t){var i=[n,r];r=i[0],n=i[1]}return r+"-"+n},t.normalizeLanguageCode=normalizeLanguageCode,t.applyLanguageSetting=function(e,t){var r=normalizeLanguageCode(t);(0,c.hasLanguageDictionary)(r)?e.language=r:(e.language=c.DEFAULT_LANGUAGE_CODE,warnUserAboutLanguageRegistration(t))},t.warnUserAboutLanguageRegistration=warnUserAboutLanguageRegistration;var a=r(16),s=r(2),u=r(56),l=r(42),c=r(71);function normalizeLanguageCode(e){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(e);return t?t[1].toLowerCase()+"-"+t[2].toUpperCase():e}function warnUserAboutLanguageRegistration(e){(0,a.isDefined)(e)&&(0,u.error)((0,l.toSingleLine)(o,e))}},function(e,t,r){"use strict";t.__esModule=!0,t.stopObserving=t.startObserving=t.isPressedCtrlKey=t.isPressed=t._resetState=t._getRefCount=void 0;var n,i=r(6),o=(n=i)&&n.__esModule?n:{default:n},a=r(21);r(1);var s=new o.default,u=new Set,l=0;function _resetState(){s.clearEvents(),u.clear(),l=0}t._getRefCount=function(){return l},t._resetState=_resetState,t.isPressed=function(e){return Array.from(u.values()).some(function(t){return(0,a.isKey)(t,e)})},t.isPressedCtrlKey=function(){return Array.from(u.values()).some(function(e){return(0,a.isCtrlMetaKey)(e)})},t.startObserving=function(){0===l&&(s.addEventListener(document,"keydown",function(e){u.has(e.keyCode)||u.add(e.keyCode)}),s.addEventListener(document,"keyup",function(e){u.has(e.keyCode)&&u.delete(e.keyCode)}),s.addEventListener(document,"visibilitychange",function(){document.hidden&&u.clear()})),l+=1},t.stopObserving=function(){l>0&&(l-=1),0===l&&_resetState()}},function(e,t,r){"use strict";t.__esModule=!0,t.HEADER_TYPE=t.FILL_TYPE=t.CELL_TYPE=t.AREA_TYPE=t.ACTIVE_HEADER_TYPE=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(395),o=r(1);function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=t.ACTIVE_HEADER_TYPE="active-header",s=t.AREA_TYPE="area",u=t.CELL_TYPE="cell",l=t.FILL_TYPE="fill",c=t.HEADER_TYPE="header",f=function(){function Highlight(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Highlight),this.options=e,this.layerLevel=0,this.cell=(0,i.createHighlight)(u,e),this.fill=(0,i.createHighlight)(l,e),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.borders=[]}return n(Highlight,[{key:"isEnabledFor",value:function(e){var t=this.options.disableHighlight;return"current"===e&&(e=u),"string"==typeof t&&(t=[t]),!1===t||Array.isArray(t)&&!t.includes(e)}},{key:"useLayerLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=e,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var e=this.layerLevel,t=void 0;return this.areas.has(e)?t=this.areas.get(e):(t=(0,i.createHighlight)(s,Object.assign({layerLevel:e},this.options)),this.areas.set(e,t)),t}},{key:"getAreas",value:function(){return[].concat(_toConsumableArray(this.areas.values()))}},{key:"createOrGetHeader",value:function(){var e=this.layerLevel,t=void 0;return this.headers.has(e)?t=this.headers.get(e):(t=(0,i.createHighlight)(c,Object.assign({},this.options)),this.headers.set(e,t)),t}},{key:"getHeaders",value:function(){return[].concat(_toConsumableArray(this.headers.values()))}},{key:"createOrGetActiveHeader",value:function(){var e=this.layerLevel,t=void 0;return this.activeHeaders.has(e)?t=this.activeHeaders.get(e):(t=(0,i.createHighlight)(a,Object.assign({},this.options)),this.activeHeaders.set(e,t)),t}},{key:"getActiveHeaders",value:function(){return[].concat(_toConsumableArray(this.activeHeaders.values()))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),(0,o.arrayEach)(this.areas.values(),function(e){e.clear()}),(0,o.arrayEach)(this.headers.values(),function(e){e.clear()}),(0,o.arrayEach)(this.activeHeaders.values(),function(e){e.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(_toConsumableArray(this.areas.values()),_toConsumableArray(this.headers.values()),_toConsumableArray(this.activeHeaders.values()),_toConsumableArray(this.borders))[Symbol.iterator]()}}]),Highlight}();t.default=f},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(2),o=r(5),a=r(16);var s=function(){function SamplesGenerator(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SamplesGenerator),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}return n(SamplesGenerator,null,[{key:"SAMPLE_COUNT",get:function(){return 3}}]),n(SamplesGenerator,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:SamplesGenerator.SAMPLE_COUNT}},{key:"setSampleCount",value:function(e){this.customSampleCount=e}},{key:"setAllowDuplicates",value:function(e){this.allowDuplicates=e}},{key:"generateRowSamples",value:function(e,t){return this.generateSamples("row",t,e)}},{key:"generateColumnSamples",value:function(e,t){return this.generateSamples("col",t,e)}},{key:"generateSamples",value:function(e,t,r){var n=this,i=new Map;return"number"==typeof r&&(r={from:r,to:r}),(0,o.rangeEach)(r.from,r.to,function(r){var o=n.generateSample(e,t,r);i.set(r,o)}),i}},{key:"generateSample",value:function(e,t,r){var n=this,s=new Map,u=[],l=void 0;return(0,o.rangeEach)(t.from,t.to,function(t){var o=void 0;if("row"===e)o=n.dataFactory(r,t);else{if("col"!==e)throw new Error("Unsupported sample type");o=n.dataFactory(t,r)}l=(0,i.isObject)(o)?Object.keys(o).length:Array.isArray(o)?o.length:(0,a.stringify)(o).length,s.has(l)||s.set(l,{needed:n.getSampleCount(),strings:[]});var c=s.get(l);if(c.needed&&(!(u.indexOf(o)>-1)||n.allowDuplicates)){var f="row"===e?"col":"row";c.strings.push(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({value:o},f,t)),u.push(o),c.needed--}}),s}}]),SamplesGenerator}();t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),i=r(2),o=r(5);var a={_arrayMap:[],getValueByIndex:function(e){var t=null;return e<this._arrayMap.length&&(t=this._arrayMap[e]),t},getIndexByValue:function(e){var t;return-1===(t=this._arrayMap.indexOf(e))?null:t},insertItems:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=(0,n.arrayMax)(this._arrayMap)+1,a=[];return(0,o.rangeEach)(r-1,function(r){a.push(t._arrayMap.splice(e+r,0,i+r))}),a},removeItems:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[];if(Array.isArray(e)){var o=[].concat(this._arrayMap);e.sort(function(e,t){return t-e}),i=(0,n.arrayReduce)(e,function(e,r){return t._arrayMap.splice(r,1),e.concat(o.slice(r,r+1))},[])}else i=this._arrayMap.splice(e,r);return i},unshiftItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.removeItems(e,t);this._arrayMap=(0,n.arrayMap)(this._arrayMap,function(e,t){var i=function(e){return(0,n.arrayReduce)(r,function(t,r){return e>r&&t++,t},0)}(e);return i&&(e-=i),e})},shiftItems:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._arrayMap=(0,n.arrayMap)(this._arrayMap,function(t){return t>=e&&(t+=r),t}),(0,o.rangeEach)(r-1,function(r){t._arrayMap.splice(e+r,0,e+r)})},swapIndexes:function(e,t){var r;(r=this._arrayMap).splice.apply(r,[t,0].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(this._arrayMap.splice(e,1))))},clearMap:function(){this._arrayMap.length=0}};(0,i.defineGetter)(a,"MIXIN_NAME","arrayMapper",{writable:!1,enumerable:!1}),t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(5);var o=0,a=function(){function BaseUI(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseUI),this.hot=e,this._element=null,this.state=o}return n(BaseUI,[{key:"appendTo",value:function(e){e.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=o}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(e,t){(0,i.isNumeric)(e)&&(this._element.style.top=e+"px"),(0,i.isNumeric)(t)&&(this._element.style.left=t+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(e,t){(0,i.isNumeric)(e)&&(this._element.style.width=e+"px"),(0,i.isNumeric)(t)&&(this._element.style.height=t+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(e,t){(0,i.isNumeric)(e)&&(this._element.style.marginTop=e+"px"),(0,i.isNumeric)(t)&&(this._element.style.marginLeft=t+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),BaseUI}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=0,o=function(){function BaseUI(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseUI),this.hot=e,this._element=null,this.state=i}return n(BaseUI,[{key:"appendTo",value:function(e){e.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=i}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(e,t){void 0!==e&&(this._element.style.top=e+"px"),void 0!==t&&(this._element.style.left=t+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(e,t){e&&(this._element.style.width=e+"px"),t&&(this._element.style.height=t+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(e,t){e&&(this._element.style.marginTop=e+"px"),t&&(this._element.style.marginLeft=t+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),BaseUI}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0,t.applySpanProperties=function(e,t,r,n){t?t.row===r&&t.col===n?(e.setAttribute("rowspan",t.rowspan.toString()),e.setAttribute("colspan",t.colspan.toString())):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="")}},function(e,t,r){"use strict";var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},a=Error;!function(e){var t=function(e){if(u(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};var r={add:function(e,t){return e[t]=this.value,!0},remove:function(e,t){return delete e[t],!0},replace:function(e,t){return e[t]=this.value,!0},move:function(e,t,r){var n={op:"_get",path:this.from};return apply(r,[n]),apply(r,[{op:"remove",path:this.from}]),apply(r,[{op:"add",path:this.path,value:n.value}]),!0},copy:function(e,t,r){var n={op:"_get",path:this.from};return apply(r,[n]),apply(r,[{op:"add",path:this.path,value:n.value}]),!0},test:function(e,r){return function _equals(e,r){switch(void 0===e?"undefined":i(e)){case"undefined":case"boolean":case"string":case"number":return e===r;case"object":if(null===e)return null===r;if(u(e)){if(!u(r)||e.length!==r.length)return!1;for(var n=0,o=e.length;n<o;n++)if(!_equals(e[n],r[n]))return!1;return!0}var a=t(r).length;if(t(e).length!==a)return!1;for(n=0;n<a;n++)if(!_equals(e[n],r[n]))return!1;return!0;default:return!1}}(e[r],this.value)},_get:function(e,t){this.value=e[t]}},n={add:function(e,t){return e.splice(t,0,this.value),!0},remove:function(e,t){return e.splice(t,1),!0},replace:function(e,t){return e[t]=this.value,!0},move:r.move,copy:r.copy,test:r.test,_get:r._get},s={add:function(e){for(var t in s.remove.call(this,e),this.value)this.value.hasOwnProperty(t)&&(e[t]=this.value[t]);return!0},remove:function(e){for(var t in e)e.hasOwnProperty(t)&&r.remove.call(this,e,t);return!0},replace:function(e){return apply(e,[{op:"remove",path:this.path}]),apply(e,[{op:"add",path:this.path,value:this.value}]),!0},move:r.move,copy:r.copy,test:function(e){return JSON.stringify(e)===JSON.stringify(this.value)},_get:function(e){this.value=e}};function escapePathComponent(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}var u,l=[],c=function(){return function(e){this.observers=[],this.obj=e}}(),f=function(){return function(e,t){this.callback=e,this.observer=t}}();function deepClone(e){return"object"===(void 0===e?"undefined":i(e))?JSON.parse(JSON.stringify(e)):e}function generate(e){for(var t,r=0,n=l.length;r<n;r++)if(l[r].obj===e.object){t=l[r];break}_generate(t.value,e.object,e.patches,""),e.patches.length&&apply(t.value,e.patches);var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function _generate(e,r,n,o){for(var a=t(r),s=t(e),u=!1,l=s.length-1;l>=0;l--){var c=e[h=s[l]];if(r.hasOwnProperty(h)){var f=r[h];"object"==(void 0===c?"undefined":i(c))&&null!=c&&"object"==(void 0===f?"undefined":i(f))&&null!=f?_generate(c,f,n,o+"/"+escapePathComponent(h)):c!=f&&(!0,n.push({op:"replace",path:o+"/"+escapePathComponent(h),value:deepClone(f)}))}else n.push({op:"remove",path:o+"/"+escapePathComponent(h)}),u=!0}if(u||a.length!=s.length)for(l=0;l<a.length;l++){var h=a[l];e.hasOwnProperty(h)||n.push({op:"add",path:o+"/"+escapePathComponent(h),value:deepClone(r[h])})}}function isInteger(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function apply(e,t,i){for(var o,a,l=!1,c=0,f=t.length;c<f;){o=t[c],c++;for(var p=(o.path||"").split("/"),d=e,y=1,g=p.length,m=void 0;;){if(a=p[y],i&&void 0===m&&(void 0===d[a]?m=p.slice(0,y).join("/"):y==g-1&&(m=o.path),void 0!==m&&this.validator(o,c-1,e,m)),y++,void 0===a&&y>=g){l=s[o.op].call(o,d,a,e);break}if(u(d)){if("-"===a)a=d.length;else{if(i&&!isInteger(a))throw new h("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",c-1,o.path,o);a=parseInt(a,10)}if(y>=g){if(i&&"add"===o.op&&a>d.length)throw new h("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",c-1,o.path,o);l=n[o.op].call(o,d,a,e);break}}else if(a&&-1!=a.indexOf("~")&&(a=a.replace(/~1/g,"/").replace(/~0/g,"~")),y>=g){l=r[o.op].call(o,d,a,e);break}d=d[a]}}return l}e.unobserve=function(e,t){t.unobserve()},e.observe=function(e,t){var r,n=function(e){for(var t=0,r=l.length;t<r;t++)if(l[t].obj===e)return l[t]}(e);if(n?r=function(e,t){for(var r=0,n=e.observers.length;r<n;r++)if(e.observers[r].callback===t)return e.observers[r].observer}(n,t):(n=new c(e),l.push(n)),r)return r;if(r={},n.value=deepClone(e),t){r.callback=t,r.next=null;var i=this.intervals||[100,1e3,1e4,6e4];if(void 0===i.push)throw new a("jsonpatch.intervals must be an array");var o=0,s=function(){generate(r)},u=function(){clearTimeout(r.next),r.next=setTimeout(function(){s(),o=0,r.next=setTimeout(h,i[o++])},0)},h=function slowCheck(){s(),o==i.length&&(o=i.length-1),r.next=setTimeout(slowCheck,i[o++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",u),window.addEventListener("mouseup",u),window.addEventListener("keydown",u)):(document.documentElement.attachEvent("onmousedown",u),document.documentElement.attachEvent("onmouseup",u),document.documentElement.attachEvent("onkeydown",u))),r.next=setTimeout(h,i[o++])}return r.patches=[],r.object=e,r.unobserve=function(){generate(r),clearTimeout(r.next),function(e,t){for(var r=0,n=e.observers.length;r<n;r++)if(e.observers[r].observer===t)return void e.observers.splice(r,1)}(n,r),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mousedown",u),window.removeEventListener("mouseup",u),window.removeEventListener("keydown",u)):(document.documentElement.detachEvent("onmousedown",u),document.documentElement.detachEvent("onmouseup",u),document.documentElement.detachEvent("onkeydown",u)))},n.observers.push(new f(t,r)),r},e.generate=generate,u=Array.isArray?Array.isArray:function(e){return e.push&&"number"==typeof e.length},e.apply=apply,e.compare=function(e,t){var r=[];return _generate(e,t,r,""),r};var h=function(e){function JsonPatchError(t,r,n,i,o){e.call(this,t),this.message=t,this.name=r,this.index=n,this.operation=i,this.tree=o}return o(JsonPatchError,e),JsonPatchError}(a);e.JsonPatchError=h,e.Error=h,e.validator=function(t,n,o,a){if("object"!==(void 0===t?"undefined":i(t))||null===t||u(t))throw new h("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,t,o);if(!r[t.op])throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,t,o);if("string"!=typeof t.path)throw new h("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,t,o);if(("move"===t.op||"copy"===t.op)&&"string"!=typeof t.from)throw new h("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,t,o);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&void 0===t.value)throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,t,o);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&function hasUndefined(e){if(void 0===e)return!0;if("array"==typeof e||"object"==(void 0===e?"undefined":i(e)))for(var t in e)if(hasUndefined(e[t]))return!0;return!1}(t.value))throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,t,o);if(o)if("add"==t.op){var s=t.path.split("/").length,l=a.split("/").length;if(s!==l+1&&s!==l)throw new h("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,t,o)}else if("replace"===t.op||"remove"===t.op||"_get"===t.op){if(t.path!==a)throw new h("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,t,o)}else if("move"===t.op||"copy"===t.op){var c={op:"_get",path:t.from,value:void 0},f=e.validate([c],o);if(f&&"OPERATION_PATH_UNRESOLVABLE"===f.name)throw new h("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,t,o)}},e.validate=function(e,t){try{if(!u(e))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)t=JSON.parse(JSON.stringify(t)),apply.call(this,t,e,!0);else for(var r=0;r<e.length;r++)this.validator(e[r],r)}catch(e){if(e instanceof h)return e;throw e}}}(n||(n={})),t.apply=n.apply,t.observe=n.observe,t.unobserve=n.unobserve,t.generate=n.generate,t.compare=n.compare,t.validate=n.validate,t.validator=n.validator,t.JsonPatchError=n.JsonPatchError,t.Error=n.Error},function(e,t,r){"use strict";t.__esModule=!0,r(96),r(111),r(112),r(116),r(117),r(119),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(141),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(85),r(156),r(157),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(167),r(168),r(169),r(172),r(173),r(174),r(345),r(346),r(347);var n=r(17),i=r(13),o=r(28),a=r(87),s=_interopRequireDefault(r(88)),u=_interopRequireDefault(r(404)),l=r(6),c=_interopRequireDefault(l),f=_interopRequireDefault(r(15)),h=_interopRequireDefault(r(92)),p=_interopRequireWildcard(r(1)),d=_interopRequireWildcard(r(27)),y=_interopRequireWildcard(r(90)),g=_interopRequireWildcard(r(310)),m=_interopRequireWildcard(r(40)),v=_interopRequireWildcard(r(43)),b=_interopRequireWildcard(r(16)),_=_interopRequireWildcard(r(5)),w=_interopRequireWildcard(r(2)),S=_interopRequireWildcard(r(89)),E=_interopRequireWildcard(r(36)),C=_interopRequireWildcard(r(21)),O=_interopRequireWildcard(r(0)),T=_interopRequireWildcard(r(12)),A=_interopRequireWildcard(r(405)),x=r(8),k=_interopRequireDefault(r(315)),R=r(314),P=r(316),D=_interopRequireWildcard(r(7)),M=r(71);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Handsontable(e,t){var r=new s.default(e,t||{},R.rootInstanceSymbol);return r.init(),r}(0,u.default)(Handsontable),Handsontable.Core=s.default,Handsontable.DefaultSettings=k.default,Handsontable.EventManager=c.default,Handsontable._getListenersCounter=l.getListenersCounter,Handsontable.buildDate="10/04/2018 11:38:33",Handsontable.packageName="handsontable",Handsontable.version="2.0.0";Handsontable.hooks=f.default.getSingleton(),Handsontable.__GhostTable=h.default;var F=[p,d,y,g,m,v,b,_,w,S,E,C],N=[O,T];Handsontable.helper={},Handsontable.dom={},p.arrayEach(F,function(e){p.arrayEach(Object.getOwnPropertyNames(e),function(t){"_"!==t.charAt(0)&&(Handsontable.helper[t]=e[t])})}),p.arrayEach(N,function(e){p.arrayEach(Object.getOwnPropertyNames(e),function(t){"_"!==t.charAt(0)&&(Handsontable.dom[t]=e[t])})}),Handsontable.cellTypes={},p.arrayEach((0,a.getRegisteredCellTypeNames)(),function(e){Handsontable.cellTypes[e]=(0,a.getCellType)(e)}),Handsontable.cellTypes.registerCellType=a.registerCellType,Handsontable.cellTypes.getCellType=a.getCellType,Handsontable.editors={},p.arrayEach((0,n.getRegisteredEditorNames)(),function(e){Handsontable.editors[E.toUpperCaseFirst(e)+"Editor"]=(0,n.getEditor)(e)}),Handsontable.editors.registerEditor=n.registerEditor,Handsontable.editors.getEditor=n.getEditor,Handsontable.renderers={},p.arrayEach((0,i.getRegisteredRendererNames)(),function(e){var t=(0,i.getRenderer)(e);"base"===e&&(Handsontable.renderers.cellDecorator=t),Handsontable.renderers[E.toUpperCaseFirst(e)+"Renderer"]=t}),Handsontable.renderers.registerRenderer=i.registerRenderer,Handsontable.renderers.getRenderer=i.getRenderer,Handsontable.validators={},p.arrayEach((0,o.getRegisteredValidatorNames)(),function(e){Handsontable.validators[E.toUpperCaseFirst(e)+"Validator"]=(0,o.getValidator)(e)}),Handsontable.validators.registerValidator=o.registerValidator,Handsontable.validators.getValidator=o.getValidator,Handsontable.plugins={},p.arrayEach(Object.getOwnPropertyNames(A),function(e){var t=A[e];"Base"===e?Handsontable.plugins[e+"Plugin"]=t:Handsontable.plugins[e]=t}),Handsontable.plugins.registerPlugin=x.registerPlugin,Handsontable.languages={},Handsontable.languages.dictionaryKeys=D,Handsontable.languages.getLanguageDictionary=M.getLanguageDictionary,Handsontable.languages.getLanguagesDictionaries=M.getLanguagesDictionaries,Handsontable.languages.registerLanguageDictionary=M.registerLanguageDictionary,Handsontable.languages.getTranslatedPhrase=function(){return P.getTranslatedPhrase.apply(void 0,arguments)},t.default=Handsontable},function(e,t,r){var n=r(20),i=r(18),o=r(37);e.exports=r(22)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,u=0;s>u;)n.f(e,r=a[u++],t[r]);return e}},function(e,t,r){"use strict";var n=r(74),i=r(50),o=r(52),a={};r(31)(a,r(11)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(9),i=r(110).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){var n=r(331);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(9),i=r(113),o=r(11)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(18),i=r(62),o=r(11)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(14),i=r(80).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==r(44)(a);e.exports=function(){var e,t,r,l=function(){var n,i;for(u&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){a.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();r=function(){c.then(l)}}else r=function(){i.call(n,l)};else{var f=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),r=function(){h.data=f=!f}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(18),i=r(9),o=r(118);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(14),i=r(45),o=r(65),a=r(120),s=r(20).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(37),i=r(69),o=r(53);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){var n=r(59),i=r(38);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(18);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var n=r(33),i=r(60),o=r(25);e.exports=[].copyWithin||function(e,t){var r=n(this),a=o(r.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in r?r[s]=r[u]:delete r[s],s+=f,u+=f;return r}},function(e,t,r){"use strict";var n=r(33),i=r(60),o=r(25);e.exports=function(e){for(var t=n(this),r=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,l=void 0===u?r:i(u,r);l>s;)t[s++]=e;return t}},function(e,t,r){var n=r(81),i=r(69),o=r(18),a=r(14).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(0),o=r(35),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function DebugOverlay(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DebugOverlay);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(DebugOverlay.__proto__||Object.getPrototypeOf(DebugOverlay)).call(this,e));return t.clone=t.makeClone(a.default.CLONE_DEBUG),t.clone.wtTable.holder.style.opacity=.4,t.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",(0,i.addClass)(t.clone.wtTable.holder.parentNode,"wtDebugVisible"),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DebugOverlay,a.default),DebugOverlay}();a.default.registerOverlay(a.default.CLONE_DEBUG,s),t.default=s},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n={"./af":180,"./af.js":180,"./ar":181,"./ar-dz":182,"./ar-dz.js":182,"./ar-kw":183,"./ar-kw.js":183,"./ar-ly":184,"./ar-ly.js":184,"./ar-ma":185,"./ar-ma.js":185,"./ar-sa":186,"./ar-sa.js":186,"./ar-tn":187,"./ar-tn.js":187,"./ar.js":181,"./az":188,"./az.js":188,"./be":189,"./be.js":189,"./bg":190,"./bg.js":190,"./bm":191,"./bm.js":191,"./bn":192,"./bn.js":192,"./bo":193,"./bo.js":193,"./br":194,"./br.js":194,"./bs":195,"./bs.js":195,"./ca":196,"./ca.js":196,"./cs":197,"./cs.js":197,"./cv":198,"./cv.js":198,"./cy":199,"./cy.js":199,"./da":200,"./da.js":200,"./de":201,"./de-at":202,"./de-at.js":202,"./de-ch":203,"./de-ch.js":203,"./de.js":201,"./dv":204,"./dv.js":204,"./el":205,"./el.js":205,"./en-au":206,"./en-au.js":206,"./en-ca":207,"./en-ca.js":207,"./en-gb":208,"./en-gb.js":208,"./en-ie":209,"./en-ie.js":209,"./en-nz":210,"./en-nz.js":210,"./eo":211,"./eo.js":211,"./es":212,"./es-do":213,"./es-do.js":213,"./es-us":214,"./es-us.js":214,"./es.js":212,"./et":215,"./et.js":215,"./eu":216,"./eu.js":216,"./fa":217,"./fa.js":217,"./fi":218,"./fi.js":218,"./fo":219,"./fo.js":219,"./fr":220,"./fr-ca":221,"./fr-ca.js":221,"./fr-ch":222,"./fr-ch.js":222,"./fr.js":220,"./fy":223,"./fy.js":223,"./gd":224,"./gd.js":224,"./gl":225,"./gl.js":225,"./gom-latn":226,"./gom-latn.js":226,"./gu":227,"./gu.js":227,"./he":228,"./he.js":228,"./hi":229,"./hi.js":229,"./hr":230,"./hr.js":230,"./hu":231,"./hu.js":231,"./hy-am":232,"./hy-am.js":232,"./id":233,"./id.js":233,"./is":234,"./is.js":234,"./it":235,"./it.js":235,"./ja":236,"./ja.js":236,"./jv":237,"./jv.js":237,"./ka":238,"./ka.js":238,"./kk":239,"./kk.js":239,"./km":240,"./km.js":240,"./kn":241,"./kn.js":241,"./ko":242,"./ko.js":242,"./ky":243,"./ky.js":243,"./lb":244,"./lb.js":244,"./lo":245,"./lo.js":245,"./lt":246,"./lt.js":246,"./lv":247,"./lv.js":247,"./me":248,"./me.js":248,"./mi":249,"./mi.js":249,"./mk":250,"./mk.js":250,"./ml":251,"./ml.js":251,"./mr":252,"./mr.js":252,"./ms":253,"./ms-my":254,"./ms-my.js":254,"./ms.js":253,"./mt":255,"./mt.js":255,"./my":256,"./my.js":256,"./nb":257,"./nb.js":257,"./ne":258,"./ne.js":258,"./nl":259,"./nl-be":260,"./nl-be.js":260,"./nl.js":259,"./nn":261,"./nn.js":261,"./pa-in":262,"./pa-in.js":262,"./pl":263,"./pl.js":263,"./pt":264,"./pt-br":265,"./pt-br.js":265,"./pt.js":264,"./ro":266,"./ro.js":266,"./ru":267,"./ru.js":267,"./sd":268,"./sd.js":268,"./se":269,"./se.js":269,"./si":270,"./si.js":270,"./sk":271,"./sk.js":271,"./sl":272,"./sl.js":272,"./sq":273,"./sq.js":273,"./sr":274,"./sr-cyrl":275,"./sr-cyrl.js":275,"./sr.js":274,"./ss":276,"./ss.js":276,"./sv":277,"./sv.js":277,"./sw":278,"./sw.js":278,"./ta":279,"./ta.js":279,"./te":280,"./te.js":280,"./tet":281,"./tet.js":281,"./th":282,"./th.js":282,"./tl-ph":283,"./tl-ph.js":283,"./tlh":284,"./tlh.js":284,"./tr":285,"./tr.js":285,"./tzl":286,"./tzl.js":286,"./tzm":287,"./tzm-latn":288,"./tzm-latn.js":288,"./tzm.js":287,"./uk":289,"./uk.js":289,"./ur":290,"./ur.js":290,"./uz":291,"./uz-latn":292,"./uz-latn.js":292,"./uz.js":291,"./vi":293,"./vi.js":293,"./x-pseudo":294,"./x-pseudo.js":294,"./yo":295,"./yo.js":295,"./zh-cn":296,"./zh-cn.js":296,"./zh-hk":297,"./zh-hk.js":297,"./zh-tw":298,"./zh-tw.js":298};function webpackContext(e){return r(webpackContextResolve(e))}function webpackContextResolve(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}webpackContext.keys=function(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=350},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=r(35),s=(n=a)&&n.__esModule?n:{default:n};var u=function(e){function LeftOverlay(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LeftOverlay);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(LeftOverlay.__proto__||Object.getPrototypeOf(LeftOverlay)).call(this,e));return t.clone=t.makeClone(s.default.CLONE_LEFT),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LeftOverlay,s.default),i(LeftOverlay,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=0,r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||r&&"horizontal"===r)t=this.getScrollPosition(),(0,o.resetCssTransform)(e);else{var n=this.wot.wtTable.hider.getBoundingClientRect(),i=Math.ceil(n.left),a=Math.ceil(n.right),s=void 0,u=void 0;u=""===(u=this.wot.wtTable.hider.style.top)?0:u,t=s=i<0&&a-e.offsetWidth>0?-i:0,s+="px",(0,o.setOverlayPosition)(e,s,u)}this.adjustHeaderBordersPosition(t),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(e){this.mainTableScrollableElement===window?window.scrollTo(e,(0,o.getWindowScrollTop)()):this.mainTableScrollableElement.scrollLeft=e}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(e,t){for(var r=0,n=this.wot.wtSettings.defaultColumnWidth;e<t;)r+=this.wot.wtTable.getStretchedColumnWidth(e)||n,e++;return r}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),e||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var e,t=this.wot.wtTable.holder,r=t.clientHeight===t.offsetHeight?0:(0,o.getScrollbarWidth)(),n=this.clone.wtTable.holder.parentNode.style,i=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"vertical"===i){var a=this.wot.wtViewport.getWorkspaceHeight()-r;a=Math.min(a,(0,o.innerHeight)(this.wot.wtTable.wtRootElement)),n.height=a+"px"}else n.height="";this.clone.wtTable.holder.style.height=n.height,e=(0,o.outerWidth)(this.clone.wtTable.TABLE),n.width=(0===e?e:e+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var e=(0,o.getScrollbarWidth)();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===e&&(e=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+e+"px"}},{key:"applyToDOM",value:function(){var e=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==e)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(e,t){var r=this.getTableParentOffset(),n=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,i=0;t&&n.offsetWidth!==n.clientWidth&&(i=(0,o.getScrollbarWidth)()),t?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportWidth()):r+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),e),r+=i,this.setScrollPosition(r)}},{key:"getTableParentOffset",value:function(){var e=0;return this.wot.getSetting("preventOverflow")||this.trimmingContainer!==window||(e=this.wot.wtTable.holderOffset.left),e}},{key:"getScrollPosition",value:function(){return(0,o.getScrollLeft)(this.mainTableScrollableElement)}},{key:"adjustHeaderBordersPosition",value:function(e){var t=this.wot.wtTable.holder.parentNode,r=this.wot.getSetting("rowHeaders"),n=this.wot.getSetting("fixedColumnsLeft");if(this.wot.getSetting("totalRows")?(0,o.removeClass)(t,"emptyRows"):(0,o.addClass)(t,"emptyRows"),n&&!r.length)(0,o.addClass)(t,"innerBorderLeft");else if(!n&&r.length){var i=(0,o.hasClass)(t,"innerBorderLeft");e?(0,o.addClass)(t,"innerBorderLeft"):(0,o.removeClass)(t,"innerBorderLeft"),(!i&&e||i&&!e)&&this.wot.wtOverlays.adjustElementsSize()}}}]),LeftOverlay}();s.default.registerOverlay(s.default.CLONE_LEFT,u),t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=r(1),s=r(35),u=(n=s)&&n.__esModule?n:{default:n};var l=function(e){function TopOverlay(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopOverlay);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TopOverlay.__proto__||Object.getPrototypeOf(TopOverlay)).call(this,e));return t.clone=t.makeClone(u.default.CLONE_TOP),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TopOverlay,u.default),i(TopOverlay,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=0,r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||r&&"vertical"===r)t=this.getScrollPosition(),(0,o.resetCssTransform)(e);else{var n=this.wot.wtTable.hider.getBoundingClientRect(),i=Math.ceil(n.top),a=Math.ceil(n.bottom),s=void 0,u=void 0;s=""===(s=this.wot.wtTable.hider.style.left)?0:s,t=u=i<0&&a-e.offsetHeight>0?-i:0,u+="px",(0,o.setOverlayPosition)(e,s,u)}this.adjustHeaderBordersPosition(t),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(e){this.mainTableScrollableElement===window?window.scrollTo((0,o.getWindowScrollLeft)(),e):this.mainTableScrollableElement.scrollTop=e}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(e,t){for(var r=0,n=this.wot.wtSettings.settings.defaultRowHeight;e<t;){var i=this.wot.wtTable.getRowHeight(e);r+=void 0===i?n:i,e++}return r}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),e||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var e,t=this.wot.wtTable.holder,r=t.clientWidth===t.offsetWidth?0:(0,o.getScrollbarWidth)(),n=this.clone.wtTable.holder.parentNode.style,i=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"horizontal"===i){var a=this.wot.wtViewport.getWorkspaceWidth()-r;a=Math.min(a,(0,o.innerWidth)(this.wot.wtTable.wtRootElement)),n.width=a+"px"}else n.width="";this.clone.wtTable.holder.style.width=n.width,e=(0,o.outerHeight)(this.clone.wtTable.TABLE),n.height=(0===e?e:e+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var e=(0,o.getScrollbarWidth)();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===e&&(e=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+e+"px"}},{key:"applyToDOM",value:function(){var e=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==e)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(e,t){var r=this.getTableParentOffset(),n=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,i=0;if(t&&n.offsetHeight!==n.clientHeight&&(i=(0,o.getScrollbarWidth)()),t){var a=this.wot.getSetting("fixedRowsBottom"),s=(this.wot.getSetting("fixedRowsTop"),this.wot.getSetting("totalRows"));r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(s-a,s),r+=1}else r+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),e);r+=i,this.setScrollPosition(r)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return(0,o.getScrollTop)(this.mainTableScrollableElement)}},{key:"redrawSelectionBorders",value:function(e){if(e&&e.cellRange){var t=e.getBorder(this.wot),r=e.getCorners();t.disappear(),t.appear(r)}}},{key:"redrawAllSelectionsBorders",value:function(){var e=this,t=this.wot.selections;this.redrawSelectionBorders(t.getCell()),(0,a.arrayEach)(t.getAreas(),function(t){e.redrawSelectionBorders(t)}),this.redrawSelectionBorders(t.getFill()),this.wot.wtTable.wot.wtOverlays.leftOverlay.refresh()}},{key:"adjustHeaderBordersPosition",value:function(e){var t=this.wot.wtTable.holder.parentNode;if(this.wot.getSetting("totalColumns")?(0,o.removeClass)(t,"emptyColumns"):(0,o.addClass)(t,"emptyColumns"),0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var r=(0,o.hasClass)(t,"innerBorderTop");e||0===this.wot.getSetting("totalRows")?(0,o.addClass)(t,"innerBorderTop"):(0,o.removeClass)(t,"innerBorderTop"),(!r&&e||r&&!e)&&(this.wot.wtOverlays.adjustElementsSize(),this.redrawAllSelectionsBorders())}if(0===this.wot.getSetting("rowHeaders").length){var n=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(n)for(var i=0;i<n.length;i++)n[i].style["border-left-width"]=0}}}]),TopOverlay}();u.default.registerOverlay(u.default.CLONE_TOP,l),t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=r(35),s=(n=a)&&n.__esModule?n:{default:n};var u=function(e){function TopLeftCornerOverlay(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopLeftCornerOverlay);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TopLeftCornerOverlay.__proto__||Object.getPrototypeOf(TopLeftCornerOverlay)).call(this,e));return t.clone=t.makeClone(s.default.CLONE_TOP_LEFT_CORNER),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TopLeftCornerOverlay,s.default),i(TopLeftCornerOverlay,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=(0,o.outerHeight)(this.clone.wtTable.TABLE),r=(0,o.outerWidth)(this.clone.wtTable.TABLE),n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===window){var i=this.wot.wtTable.hider.getBoundingClientRect(),a=Math.ceil(i.top),s=Math.ceil(i.left),u=Math.ceil(i.bottom),l=Math.ceil(i.right),c="0",f="0";n&&"vertical"!==n||s<0&&l-e.offsetWidth>0&&(c=-s+"px"),n&&"horizontal"!==n||a<0&&u-e.offsetHeight>0&&(f=-a+"px"),(0,o.setOverlayPosition)(e,c,f)}else(0,o.resetCssTransform)(e);e.style.height=(0===t?t:t+4)+"px",e.style.width=(0===r?r:r+4)+"px"}}}]),TopLeftCornerOverlay}();s.default.registerOverlay(s.default.CLONE_TOP_LEFT_CORNER,u),t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=r(0),s=_interopRequireDefault(r(306)),u=_interopRequireDefault(r(55)),l=_interopRequireDefault(r(86));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=function(){function Selection(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Selection),this.settings=e,this.cellRange=t||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return o(Selection,[{key:"getBorder",value:function(e){return this.instanceBorders[e.guid]||(this.instanceBorders[e.guid]=new s.default(e,this.settings)),this.instanceBorders[e.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(e){return this.isEmpty()?this.cellRange=new l.default(e):this.cellRange.expand(e),this}},{key:"replace",value:function(e,t){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=t,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=t,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var e=this.cellRange.getTopLeftCorner(),t=this.cellRange.getBottomRightCorner();return[e.row,e.col,t.row,t.col]}},{key:"addClassAtCoords",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=e.wtTable.getCell(new u.default(t,r));return"object"===(void 0===s?"undefined":i(s))&&(o&&(n=this.classNameGenerator(s),this.classNames.includes(n)||this.classNames.push(n)),(0,a.addClass)(s,n)),this}},{key:"linearClassNameGenerator",value:function(e,t){return function calcClassName(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===t||0===n)return e;var i=n>=0?n:t,o=e,s=0===(i-=1)?e:e+"-"+i;(0,a.hasClass)(r,s)?o=e+"-"+(i+1):o=calcClassName(r,i);return o}}},{key:"draw",value:function(e){if(this.isEmpty())this.settings.border&&this.getBorder(e).disappear();else{for(var t=e.wtTable.getRenderedRowsCount(),r=e.wtTable.getRenderedColumnsCount(),i=this.getCorners(),o=n(i,4),s=o[0],u=o[1],l=o[2],c=o[3],f=0;f<r;f+=1){var h=e.wtTable.columnFilter.renderedToSource(f);if(h>=u&&h<=c){var p=e.wtTable.getColumnHeader(h);if(p){var d=[];this.settings.highlightHeaderClassName&&d.push(this.settings.highlightHeaderClassName),this.settings.highlightColumnClassName&&d.push(this.settings.highlightColumnClassName),(0,a.addClass)(p,d)}}}for(var y=0;y<t;y+=1){var g=e.wtTable.rowFilter.renderedToSource(y);if(g>=s&&g<=l){var m=e.wtTable.getRowHeader(g);if(m){var v=[];this.settings.highlightHeaderClassName&&v.push(this.settings.highlightHeaderClassName),this.settings.highlightRowClassName&&v.push(this.settings.highlightRowClassName),(0,a.addClass)(m,v)}}for(var b=0;b<r;b+=1){var _=e.wtTable.columnFilter.renderedToSource(b);g>=s&&g<=l&&_>=u&&_<=c?this.settings.className&&this.addClassAtCoords(e,g,_,this.settings.className,this.settings.markIntersections):g>=s&&g<=l?this.settings.highlightRowClassName&&this.addClassAtCoords(e,g,_,this.settings.highlightRowClassName):_>=u&&_<=c&&this.settings.highlightColumnClassName&&this.addClassAtCoords(e,g,_,this.settings.highlightColumnClassName);var w=e.getSetting("onAfterDrawSelection",g,_,i,this.settings.layerLevel);"string"==typeof w&&this.addClassAtCoords(e,g,_,w)}}e.getSetting("onBeforeDrawBorders",i,this.settings.className),this.settings.border&&this.getBorder(e).appear(i)}}}]),Selection}();t.default=c},function(e,t,r){"use strict";e.exports=function(){var e,t={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},r=document.body,n=document.createTextNode(""),i=document.createElement("SPAN"),o=function(e,t,r){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)},a=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},s=function(o){var a,s;o?/^[a-zA-Z \.,\\\/\|0-9]$/.test(o)||(o="."):o="",void 0!==n.textContent?n.textContent=e.value+o:n.data=e.value+o,i.style.fontSize=getComputedStyle(e).fontSize,i.style.fontFamily=getComputedStyle(e).fontFamily,i.style.whiteSpace="pre",r.appendChild(i),a=i.clientWidth+2,r.removeChild(i),e.style.height=t.minHeight+"px",t.minWidth>a?e.style.width=t.minWidth+"px":a>t.maxWidth?e.style.width=t.maxWidth+"px":e.style.width=a+"px",s=e.scrollHeight?e.scrollHeight-1:0,t.minHeight>s?e.style.height=t.minHeight+"px":t.maxHeight<s?(e.style.height=t.maxHeight+"px",e.style.overflowY="visible"):e.style.height=s+"px"},u=function(){window.setTimeout(s,0)},l=function(r,a,l){e=r,function(r){if(r&&r.minHeight)if("inherit"==r.minHeight)t.minHeight=e.clientHeight;else{var o=parseInt(r.minHeight);isNaN(o)||(t.minHeight=o)}if(r&&r.maxHeight)if("inherit"==r.maxHeight)t.maxHeight=e.clientHeight;else{var a=parseInt(r.maxHeight);isNaN(a)||(t.maxHeight=a)}if(r&&r.minWidth)if("inherit"==r.minWidth)t.minWidth=e.clientWidth;else{var s=parseInt(r.minWidth);isNaN(s)||(t.minWidth=s)}if(r&&r.maxWidth)if("inherit"==r.maxWidth)t.maxWidth=e.clientWidth;else{var u=parseInt(r.maxWidth);isNaN(u)||(t.maxWidth=u)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(n))}(a),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=t.minHeight+"px",e.style.minWidth=t.minWidth+"px",e.style.maxWidth=t.maxWidth+"px",e.style.overflowY="hidden"),l&&(o(e,"change",s),o(e,"cut",u),o(e,"paste",u),o(e,"drop",u),o(e,"keydown",u),o(e,"focus",s)),s()};function getComputedStyle(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}return{init:function(e,t,r){l(e,t,r)},unObserve:function(){a(e,"change",s),a(e,"cut",u),a(e,"paste",u),a(e,"drop",u),a(e,"keydown",u),a(e,"focus",s)},resize:s}}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(54),a=(n=o)&&n.__esModule?n:{default:n},s=r(0);var u=function(e){function CheckboxEditor(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckboxEditor),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(CheckboxEditor.__proto__||Object.getPrototypeOf(CheckboxEditor)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CheckboxEditor,a.default),i(CheckboxEditor,[{key:"beginEditing",value:function(e,t){if("mouseup"===t.type){var r=this.TD.querySelector('input[type="checkbox"]');(0,s.hasClass)(r,"htBadValue")||r.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}]),CheckboxEditor}();t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(41)),a=_interopRequireDefault(r(358));r(359);var s=r(0),u=r(2),l=_interopRequireDefault(r(6)),c=r(21),f=r(12),h=_interopRequireDefault(r(57));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function DateEditor(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DateEditor);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(DateEditor.__proto__||Object.getPrototypeOf(DateEditor)).call(this,e));return t.defaultDateFormat="DD/MM/YYYY",t.isCellEdited=!1,t.parentDestroyed=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DateEditor,h.default),n(DateEditor,[{key:"init",value:function(){var e=this;if("function"!=typeof o.default)throw new Error("You need to include moment.js to your project.");if("function"!=typeof a.default)throw new Error("You need to include Pikaday to your project.");i(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){e.parentDestroyed=!0,e.destroyElements()})}},{key:"createElements",value:function(){i(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"createElements",this).call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,(0,s.addClass)(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new a.default(this.getDatePickerConfig()),new l.default(this).addEventListener(this.datePicker,"mousedown",function(e){return(0,f.stopPropagation)(e)}),this.hideDatepicker()}},{key:"destroyElements",value:function(){this.$datePicker.destroy()}},{key:"prepare",value:function(e,t,r,n,o,a){this._opened=!1,i(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"prepare",this).call(this,e,t,r,n,o,a)}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"open",this).call(this),this.showDatepicker(e)}},{key:"close",value:function(){var e=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){e.instance._refreshBorders()},0)),i(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var r=this.originalValue;void 0!==r&&this.setValue(r)}this.hideDatepicker(),i(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"finishEditing",this).call(this,e,t)}},{key:"showDatepicker",value:function(e){this.$datePicker.config(this.getDatePickerConfig());var t=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,n=this.$datePicker.config(),i=void 0,a=this.instance.view.isMouseDown(),u=!!e&&(0,c.isMetaKey)(e.keyCode);this.datePickerStyle.top=window.pageYOffset+t.top+(0,s.outerHeight)(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+t.left+"px",this.$datePicker._onInputFocus=function(){},n.format=r,this.originalValue?(i=this.originalValue,(0,o.default)(i,r,!0).isValid()&&this.$datePicker.setMoment((0,o.default)(i,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),u||a||this.setValue("")):this.cellProperties.defaultDate?(i=this.cellProperties.defaultDate,n.defaultDate=i,(0,o.default)(i,r,!0).isValid()&&this.$datePicker.setMoment((0,o.default)(i,r),!0),u||a||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var e=this,t=this.TEXTAREA,r={};this.cellProperties&&this.cellProperties.datePickerConfig&&(0,u.deepExtend)(r,this.cellProperties.datePickerConfig);var n=r.onSelect,i=r.onClose;return r.field=t,r.trigger=t,r.container=this.datePicker,r.bound=!1,r.format=r.format||this.defaultDateFormat,r.reposition=r.reposition||!1,r.onSelect=function(t){isNaN(t.getTime())||(t=(0,o.default)(t).format(e.cellProperties.dateFormat||e.defaultDateFormat)),e.setValue(t),e.hideDatepicker(),n&&n()},r.onClose=function(){e.parentDestroyed||e.finishEditing(!1),i&&i()},r}}]),DateEditor}();t.default=p},function(e,t,r){!function(t,n){"use strict";var i;try{i=r(41)}catch(e){}e.exports=n(i)}(0,function(e){"use strict";var t="function"==typeof e,r=!!window.addEventListener,n=window.document,i=window.setTimeout,o=function(e,t,n,i){r?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n)},a=function(e,t,n,i){r?e.removeEventListener(t,n,!!i):e.detachEvent("on"+t,n)},s=function(e,t,r){var i;n.createEvent?((i=n.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=y(i,r),e.dispatchEvent(i)):n.createEventObject&&(i=n.createEventObject(),i=y(i,r),e.fireEvent("on"+t,i))},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},c=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},f=function(e){var t=e.getDay();return 0===t||6===t},h=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},p=function(e){c(e)&&e.setHours(0,0,0,0)},d=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,r){var n,i;for(n in t)(i=void 0!==e[n])&&"object"==typeof t[n]&&null!==t[n]&&void 0===t[n].nodeName?c(t[n])?r&&(e[n]=new Date(t[n].getTime())):l(t[n])?r&&(e[n]=t[n].slice(0)):e[n]=y({},t[n],r):!r&&i||(e[n]=t[n]);return e},g=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},m={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},v=function(e,t,r){for(t+=e.firstDay;t>=7;)t-=7;return r?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},b=function(e){var t=[],r="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),r="true"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+r+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},_=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},w=function(e,t,r,n,i,o){var a,s,u,c,f,h=e._o,p=r===h.minYear,d=r===h.maxYear,y='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,m=!0;for(u=[],a=0;a<12;a++)u.push('<option value="'+(r===i?a-t:12+a-t)+'"'+(a===n?' selected="selected"':"")+(p&&a<h.minMonth||d&&a>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[a]+"</option>");for(c='<div class="pika-label">'+h.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+u.join("")+"</select></div>",l(h.yearRange)?(a=h.yearRange[0],s=h.yearRange[1]+1):(a=r-h.yearRange,s=1+r+h.yearRange),u=[];a<s&&a<=h.maxYear;a++)a>=h.minYear&&u.push('<option value="'+a+'"'+(a===r?' selected="selected"':"")+">"+a+"</option>");return f='<div class="pika-label">'+r+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+u.join("")+"</select></div>",h.showMonthAfterYear?y+=f+c:y+=c+f,p&&(0===n||h.minMonth>=n)&&(g=!1),d&&(11===n||h.maxMonth<=n)&&(m=!1),0===t&&(y+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(y+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),y+"</div>"},S=function(e,t,r){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+r+'">'+function(e){var t,r=[];for(e.showWeekNumber&&r.push("<th></th>"),t=0;t<7;t++)r.push('<th scope="col"><abbr title="'+v(e,t)+'">'+v(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?r.reverse():r).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"},E=function(a){var s=this,l=s.config(a);s._onMouseDown=function(e){if(s._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(u(t,"is-disabled")||(!u(t,"pika-button")||u(t,"is-empty")||u(t.parentNode,"is-disabled")?u(t,"pika-prev")?s.prevMonth():u(t,"pika-next")&&s.nextMonth():(s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),l.bound&&i(function(){s.hide(),l.field&&l.field.blur()},100))),u(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},s._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(u(t,"pika-select-month")?s.gotoMonth(t.value):u(t,"pika-select-year")&&s.gotoYear(t.value))},s._onKeyChange=function(e){if(e=e||window.event,s.isVisible())switch(e.keyCode){case 13:case 27:l.field.blur();break;case 37:e.preventDefault(),s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7)}},s._onInputChange=function(r){var n;r.firedBy!==s&&(n=t?(n=e(l.field.value,l.format,l.formatStrict))&&n.isValid()?n.toDate():null:new Date(Date.parse(l.field.value)),c(n)&&s.setDate(n),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var e=n.activeElement;do{if(u(e,"pika-single"))return}while(e=e.parentNode);s._c||(s._b=i(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t;if(t){!r&&u(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",s._onChange)));do{if(u(n,"pika-single")||n===l.trigger)return}while(n=n.parentNode);s._v&&t!==l.trigger&&n!==l.trigger&&s.hide()}},s.el=n.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),o(s.el,"mousedown",s._onMouseDown,!0),o(s.el,"touchend",s._onMouseDown,!0),o(s.el,"change",s._onChange),o(n,"keydown",s._onKeyChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?n.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),o(l.field,"change",s._onInputChange),l.defaultDate||(t&&l.field.value?l.defaultDate=e(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var f=l.defaultDate;c(f)?l.setDefaultDate?s.setDate(f,!0):s.gotoDate(f):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",o(l.trigger,"click",s._onInputClick),o(l.trigger,"focus",s._onInputFocus),o(l.trigger,"blur",s._onInputBlur)):this.show()};return E.prototype={config:function(e){this._o||(this._o=y({},m,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var r=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=r>4?4:r,c(t.minDate)||(t.minDate=!1),c(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),l(t.yearRange)){var n=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||n,t.yearRange[1]=parseInt(t.yearRange[1],10)||n}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||m.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(r){return c(this._d)?t?e(this._d).format(r||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(r,n){t&&e.isMoment(r)&&this.setDate(r.toDate(),n)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):new Date},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c(e)){var r=this._o.minDate,n=this._o.maxDate;c(r)&&e<r?e=r:c(n)&&e>n&&(e=n),this._d=new Date(e.getTime()),p(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(c(e)){if(this.calendars){var r=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=i<r.getTime()||n.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(r,n){var i,o=this.getDate(),a=24*parseInt(n)*60*60*1e3;"add"===r?i=new Date(o.valueOf()+a):"subtract"===r&&(i=new Date(o.valueOf()-a)),t&&("add"===r?i=e(o).add(n,"days").toDate():"subtract"===r&&(i=e(o).subtract(n,"days").toDate())),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=g(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=g({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(p(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=m.minDate,this._o.minYear=m.minYear,this._o.minMonth=m.minMonth,this._o.startRange=m.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(p(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=m.maxDate,this._o.maxYear=m.maxYear,this._o.maxMonth=m.maxMonth,this._o.endRange=m.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,r=this._o,n=r.minYear,o=r.maxYear,a=r.minMonth,s=r.maxMonth,u="";this._y<=n&&(this._y=n,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=o&&(this._y=o,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<r.numberOfMonths;l++)u+='<div class="pika-lendar">'+w(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,t)+this.render(this.calendars[l].year,this.calendars[l].month,t)+"</div>";this.el.innerHTML=u,r.bound&&"hidden"!==r.field.type&&i(function(){r.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),r.bound&&r.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,r,i,o,a,s,u,l,c;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,r=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||n.documentElement.clientWidth,a=window.innerHeight||n.documentElement.clientHeight,s=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)u=(c=e.getBoundingClientRect()).left+window.pageXOffset,l=c.bottom+window.pageYOffset;else for(u=t.offsetLeft,l=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,l+=t.offsetTop;(this._o.reposition&&u+r>o||this._o.position.indexOf("right")>-1&&u-r+e.offsetWidth>0)&&(u=u-r+e.offsetWidth),(this._o.reposition&&l+i>a+s||this._o.position.indexOf("top")>-1&&l-i-e.offsetHeight>0)&&(l=l-i-e.offsetHeight),this.el.style.left=u+"px",this.el.style.top=l+"px"}},render:function(e,t,r){var n=this._o,i=new Date,o=h(e,t),a=new Date(e,t,1).getDay(),s=[],u=[];p(i),n.firstDay>0&&(a-=n.firstDay)<0&&(a+=7);for(var l,y,g,m,v=0===t?11:t-1,w=11===t?0:t+1,E=0===t?e-1:e,C=11===t?e+1:e,O=h(E,v),T=o+a,A=T;A>7;)A-=7;T+=7-A;for(var x=0,k=0;x<T;x++){var R=new Date(e,t,x-a+1),P=!!c(this._d)&&d(R,this._d),D=d(R,i),M=x<a||x>=o+a,F=x-a+1,N=t,I=e,j=n.startRange&&d(n.startRange,R),L=n.endRange&&d(n.endRange,R),B=n.startRange&&n.endRange&&n.startRange<R&&R<n.endRange,H=n.minDate&&R<n.minDate||n.maxDate&&R>n.maxDate||n.disableWeekends&&f(R)||n.disableDayFn&&n.disableDayFn(R);M&&(x<a?(F=O+F,N=v,I=E):(F-=o,N=w,I=C));var U={day:F,month:N,year:I,isSelected:P,isToday:D,isDisabled:H,isEmpty:M,isStartRange:j,isEndRange:L,isInRange:B,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths};u.push(b(U)),7==++k&&(n.showWeekNumber&&u.unshift((l=x-a,y=t,g=e,m=void 0,m=new Date(g,0,1),'<td class="pika-week">'+Math.ceil(((new Date(g,y,l)-m)/864e5+m.getDay()+1)/7)+"</td>")),s.push(_(u,n.isRTL)),u=[],k=0)}return S(n,s,r)},isVisible:function(){return this._v},show:function(){var e,t,r;this.isVisible()||(e=this.el,t="is-hidden",e.className=(r=(" "+e.className+" ").replace(" "+t+" "," ")).trim?r.trim():r.replace(/^\s+|\s+$/g,""),this._v=!0,this.draw(),this._o.bound&&(o(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,r=this._v;!1!==r&&(this._o.bound&&a(n,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",e=this.el,u(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==r&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},E})},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(307)),o=_interopRequireDefault(r(15));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function DropdownEditor(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DropdownEditor),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(DropdownEditor.__proto__||Object.getPrototypeOf(DropdownEditor)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DropdownEditor,i.default),n(DropdownEditor,[{key:"prepare",value:function(e,t,r,n,i,o){(function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(DropdownEditor.prototype.__proto__||Object.getPrototypeOf(DropdownEditor.prototype),"prepare",this).call(this,e,t,r,n,i,o),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}]),DropdownEditor}();o.default.getSingleton().add("beforeValidate",function(e,t,r,n){var i=this.getCellMeta(t,this.propToCol(r));i.editor===a&&void 0===i.strict&&(i.filter=!1,i.strict=!0)}),t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(57),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function NumericEditor(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NumericEditor),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(NumericEditor.__proto__||Object.getPrototypeOf(NumericEditor)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NumericEditor,o.default),NumericEditor}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=r(57),s=(n=a)&&n.__esModule?n:{default:n};var u=function(e){function PasswordEditor(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PasswordEditor),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PasswordEditor.__proto__||Object.getPrototypeOf(PasswordEditor)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PasswordEditor,s.default),i(PasswordEditor,[{key:"createElements",value:function(){(function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(PasswordEditor.prototype.__proto__||Object.getPrototypeOf(PasswordEditor.prototype),"createElements",this).call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,(0,o.empty)(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}]),PasswordEditor}();t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0),a=r(12),s=r(21),u=r(54),l=(n=u)&&n.__esModule?n:{default:n};var c=l.default.prototype.extend();c.prototype.init=function(){this.select=document.createElement("SELECT"),(0,o.addClass)(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},c.prototype.registerHooks=function(){var e=this;this.instance.addHook("afterScrollHorizontally",function(){return e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return e.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return e.refreshDimensions()})},c.prototype.prepare=function(){l.default.prototype.prepare.apply(this,arguments);var e,t=this.cellProperties.selectOptions;for(var r in e="function"==typeof t?this.prepareOptions(t(this.row,this.col,this.prop)):this.prepareOptions(t),(0,o.empty)(this.select),e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=document.createElement("OPTION");n.value=r,(0,o.fastInnerHTML)(n,e[r]),this.select.appendChild(n)}},c.prototype.prepareOptions=function(e){var t={};if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t[e[r]]=e[r];else"object"==(void 0===e?"undefined":i(e))&&(t=e);return t},c.prototype.getValue=function(){return this.select.value},c.prototype.setValue=function(e){this.select.value=e};var f=function(e){var t=this.getActiveEditor();switch(e.keyCode){case s.KEY_CODES.ARROW_UP:var r=t.select.selectedIndex-1;r>=0&&(t.select[r].selected=!0),(0,a.stopImmediatePropagation)(e),e.preventDefault();break;case s.KEY_CODES.ARROW_DOWN:var n=t.select.selectedIndex+1;n<=t.select.length-1&&(t.select[n].selected=!0),(0,a.stopImmediatePropagation)(e),e.preventDefault()}};c.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",f)},c.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",f)},c.prototype.focus=function(){this.select.focus()},c.prototype.refreshValue=function(){var e=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()},c.prototype.refreshDimensions=function(){if(this.state===u.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var e,t=(0,o.outerWidth)(this.TD)+1,r=(0,o.outerHeight)(this.TD)+1,n=(0,o.offset)(this.TD),i=(0,o.offset)(this.instance.rootElement),a=(0,o.getScrollableElement)(this.TD),s=n.top-i.top-1-(a.scrollTop||0),l=n.left-i.left-1-(a.scrollLeft||0),c=this.checkEditorSection(),f=this.instance.getSettings();f.rowHeaders,f.colHeaders;switch(c){case"top":e=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":e=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":e=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":e=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":e=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelectedLast()[0]&&(s+=1),0===this.instance.getSelectedLast()[1]&&(l+=1);var h=this.select.style;e&&-1!=e?h[e[0]]=e[1]:(0,o.resetCssTransform)(this.select);var p=(0,o.getComputedStyle)(this.TD);parseInt(p.borderTopWidth,10)>0&&(r-=1),parseInt(p.borderLeftWidth,10)>0&&(t-=1),h.height=r+"px",h.minWidth=t+"px",h.top=s+"px",h.left=l+"px",h.margin="0px"}else this.close()},c.prototype.getEditedCell=function(){var e;switch(this.checkEditorSection()){case"top":e=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":e=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":e=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:e=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=e&&-2!=e?e:void 0},t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0);t.default=function(e,t,r,i,o,a,s){var u=[],l=[];s.className&&(t.className?t.className=t.className+" "+s.className:t.className=s.className),s.readOnly&&u.push(s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?u.push(s.invalidCellClassName):l.push(s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&u.push(s.noWordWrapClassName),!a&&s.placeholder&&u.push(s.placeholderCellClassName),(0,n.removeClass)(t,l),(0,n.addClass)(t,u)}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(0),o=r(6),a=(n=o)&&n.__esModule?n:{default:n},s=r(4),u=r(13);var l=document.createElement("DIV");l.className="htAutocompleteWrapper";var c=document.createElement("DIV");c.className="htAutocompleteArrow",c.appendChild(document.createTextNode(String.fromCharCode(9660)));t.default=function(e,t,r,n,o,f,h){l.cloneNode(!0);var p=c.cloneNode(!0);if(h.allowHtml?(0,u.getRenderer)("html").apply(this,arguments):(0,u.getRenderer)("text").apply(this,arguments),t.appendChild(p),(0,i.addClass)(t,"htAutocomplete"),t.firstChild||t.appendChild(document.createTextNode(String.fromCharCode(160))),!e.acArrowListener){var d=new a.default(e);e.acArrowListener=function(o){(0,i.hasClass)(o.target,"htAutocompleteArrow")&&e.view.wt.getSetting("onCellDblClick",null,new s.CellCoords(r,n),t)},d.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",function(){d.destroy()})}}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(0),o=r(36),a=r(6),s=(n=a)&&n.__esModule?n:{default:n},u=r(21),l=r(43),c=r(12),f=r(13);var h=new WeakMap,p=new WeakMap,d="htBadValue";function isCheckboxInput(e){return"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}t.default=function(e,t,r,n,a,y,g){(0,f.getRenderer)("base").apply(this,arguments),function(e){var t=p.get(e);t||((t=new s.default(e)).addEventListener(e.rootElement,"click",function(t){return function(e,t){if(!isCheckboxInput(e.target))return!1;var r=parseInt(e.target.getAttribute("data-row"),10),n=parseInt(e.target.getAttribute("data-col"),10);t.getCellMeta(r,n).readOnly&&e.preventDefault()}(t,e)}),t.addEventListener(e.rootElement,"mouseup",function(t){return function(e,t){isCheckboxInput(e.target)&&setTimeout(t.listen,10)}(t,e)}),t.addEventListener(e.rootElement,"change",function(t){return function(e,t){if(!isCheckboxInput(e.target))return!1;var r=parseInt(e.target.getAttribute("data-row"),10),n=parseInt(e.target.getAttribute("data-col"),10),i=t.getCellMeta(r,n);if(!i.readOnly){var o=null;o=e.target.checked?void 0===i.uncheckedTemplate||i.checkedTemplate:void 0!==i.uncheckedTemplate&&i.uncheckedTemplate,t.setDataAtCell(r,n,o)}}(t,e)}),p.set(e,t))}(e);var m=function(){var e=document.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}(),v=g.label,b=!1;if(void 0===g.checkedTemplate&&(g.checkedTemplate=!0),void 0===g.uncheckedTemplate&&(g.uncheckedTemplate=!1),(0,i.empty)(t),y===g.checkedTemplate||(0,o.equalsIgnoreCase)(y,g.checkedTemplate)?m.checked=!0:y===g.uncheckedTemplate||(0,o.equalsIgnoreCase)(y,g.uncheckedTemplate)?m.checked=!1:null===y?(0,i.addClass)(m,"noValue"):(m.style.display="none",(0,i.addClass)(m,d),b=!0),m.setAttribute("data-row",r),m.setAttribute("data-col",n),!b&&v){var _="";v.value?_="function"==typeof v.value?v.value.call(this,r,n,a,y):v.value:v.property&&(_=e.getDataAtRowProp(r,v.property));var w=function(e){var t=document.createElement("label");return t.className="htCheckboxRendererLabel",t.appendChild(document.createTextNode(e)),t.cloneNode(!0)}(_);"before"===v.position?w.appendChild(m):w.insertBefore(m,w.firstChild),m=w}function changeSelectedCheckboxesState(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.getSelectedRangeLast();if(r){for(var n=r.getTopLeftCorner(),i=n.row,o=n.col,a=r.getBottomRightCorner(),s=a.row,u=a.col,l=[],c=i;c<=s;c+=1)for(var f=o;f<=u;f+=1){var h=e.getCellMeta(c,f);if("checkbox"!==h.type)return;if(!0!==h.readOnly){void 0===h.checkedTemplate&&(h.checkedTemplate=!0),void 0===h.uncheckedTemplate&&(h.uncheckedTemplate=!1);var p=e.getDataAtCell(c,f);!1===t?[h.checkedTemplate,h.checkedTemplate.toString()].includes(p)?l.push([c,f,h.uncheckedTemplate]):[h.uncheckedTemplate,h.uncheckedTemplate.toString(),null,void 0].includes(p)&&l.push([c,f,h.checkedTemplate]):l.push([c,f,h.uncheckedTemplate])}}l.length>0&&e.setDataAtCell(l)}}t.appendChild(m),b&&t.appendChild(document.createTextNode("#bad-value#")),h.has(e)||(h.set(e,!0),e.addHook("beforeKeyDown",function(t){var r=(0,l.partial)(u.isKey,t.keyCode);r("SPACE|ENTER|DELETE|BACKSPACE")&&!(0,c.isImmediatePropagationStopped)(t)&&function(t){var r=e.getSelectedRangeLast();if(r)for(var n=r.getTopLeftCorner(),i=r.getBottomRightCorner(),o=n.row;o<=i.row;o++)for(var a=n.col;a<=i.col;a++){var s=e.getCellMeta(o,a);if("checkbox"!==s.type)return;var u=e.getCell(o,a);if(null==u)t(o,a,s);else{var l=u.querySelectorAll("input[type=checkbox]");l.length>0&&!s.readOnly&&t(l)}}}(function(){(0,c.stopImmediatePropagation)(t),t.preventDefault()}),r("SPACE|ENTER")&&changeSelectedCheckboxesState(),r("DELETE|BACKSPACE")&&changeSelectedCheckboxesState(!0)}))}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=r(13);t.default=function(e,t,r,o,a,s,u){(0,i.getRenderer)("base").apply(this,arguments),null!==s&&void 0!==s||(s=""),(0,n.fastInnerHTML)(t,s)}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(309),o=(n=i)&&n.__esModule?n:{default:n},a=r(13),s=r(5);t.default=function(e,t,r,n,i,u,l){if((0,s.isNumeric)(u)){var c=l.numericFormat,f=c&&c.culture,h=c&&c.pattern,p=l.className||"",d=p.length?p.split(" "):[];void 0!==f&&o.default.culture(f),u=(0,o.default)(u).format(h||"0"),d.indexOf("htLeft")<0&&d.indexOf("htCenter")<0&&d.indexOf("htRight")<0&&d.indexOf("htJustify")<0&&d.push("htRight"),d.indexOf("htNumeric")<0&&d.push("htNumeric"),l.className=d.join(" ")}(0,a.getRenderer)("text")(e,t,r,n,i,u,l)}},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=r(13),o=r(5);t.default=function(e,t,r,a,s,u,l){(0,i.getRenderer)("text").apply(this,arguments),u=t.innerHTML;var c=l.hashLength||u.length,f=l.hashSymbol||"*",h="";(0,o.rangeEach)(c-1,function(){h+=f}),(0,n.fastInnerHTML)(t,h)}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=r(16),o=r(13);t.default=function(e,t,r,a,s,u,l){(0,o.getRenderer)("base").apply(this,arguments),!u&&l.placeholder&&(u=l.placeholder);var c=(0,i.stringify)(u);if(e.getSettings().trimWhitespace||(c=c.replace(/ /g,String.fromCharCode(160))),l.rendererTemplate){(0,n.empty)(t);var f=document.createElement("TEMPLATE");f.setAttribute("bind","{{}}"),f.innerHTML=l.rendererTemplate,HTMLTemplateElement.decorate(f),f.model=e.getSourceDataAtRow(r),t.appendChild(f)}else(0,n.fastInnerText)(t,c)}},function(e,t,r){"use strict";function process(e,t){var r=e;return function(e){for(var n=!1,i=0,o=e.length;i<o;i++)if(r===e[i]){n=!0;break}t(n)}}t.__esModule=!0,t.default=function(e,t){null==e&&(e="");if(this.allowEmpty&&""===e)return void t(!0);this.strict&&this.source?"function"==typeof this.source?this.source(e,process(e,t)):process(e,t)(this.source):t(!0)}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=!0,n=(0,s.getEditorInstance)("date",this.instance);null==e&&(e="");var i=(0,o.default)(new Date(e)).isValid()||(0,o.default)(e,n.defaultDateFormat).isValid(),a=(0,o.default)(e,this.dateFormat||n.defaultDateFormat,!0).isValid();this.allowEmpty&&""===e&&(i=!0,a=!0);i||(r=!1);!i&&a&&(r=!0);if(i&&!a)if(!0===this.correctFormat){var u=correctFormat(e,this.dateFormat),l=this.instance.runHooks("unmodifyRow",this.row),c=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(l,c,u,"dateValidator"),r=!0}else r=!1;t(r)},t.correctFormat=correctFormat;var n,i=r(41),o=(n=i)&&n.__esModule?n:{default:n},a=r(310),s=r(17);function correctFormat(e,t){var r=(0,o.default)((0,a.getNormalizedDate)(e)),n=(0,o.default)(e,t),i=e.search(/[A-z]/g)>-1;return(r.isValid()&&r.format("x")===n.format("x")||!n.isValid()||i?r:n).format(t)}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){null==e&&(e="");this.allowEmpty&&""===e?t(!0):t(""!==e&&/^-?\d*(\.|,)?\d*$/.test(e))}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=!0,n=this.timeFormat||"h:mm:ss a";null===e&&(e="");e=/^\d{3,}$/.test(e)?parseInt(e,10):e;var i=/^\d{1,2}$/.test(e);i&&(e+=":00");var s=(0,o.default)(e,a,!0).isValid()?(0,o.default)(e):(0,o.default)(e,n),u=s.isValid(),l=(0,o.default)(e,n,!0).isValid()&&!i;this.allowEmpty&&""===e&&(u=!0,l=!0);u||(r=!1);!u&&l&&(r=!0);if(u&&!l)if(!0===this.correctFormat){var c=s.format(n),f=this.instance.runHooks("unmodifyRow",this.row),h=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(f,h,c,"timeValidator"),r=!0}else r=!1;t(r)};var n,i=r(41),o=(n=i)&&n.__esModule?n:{default:n};var a=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"]},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13),o=r(28);t.default={editor:(0,n.getEditor)("autocomplete"),renderer:(0,i.getRenderer)("autocomplete"),validator:(0,o.getValidator)("autocomplete")}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13);t.default={editor:(0,n.getEditor)("checkbox"),renderer:(0,i.getRenderer)("checkbox")}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13),o=r(28);t.default={editor:(0,n.getEditor)("date"),renderer:(0,i.getRenderer)("autocomplete"),validator:(0,o.getValidator)("date")}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13),o=r(28);t.default={editor:(0,n.getEditor)("dropdown"),renderer:(0,i.getRenderer)("autocomplete"),validator:(0,o.getValidator)("autocomplete")}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13);t.default={editor:(0,n.getEditor)("handsontable"),renderer:(0,i.getRenderer)("autocomplete")}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13),o=r(28);t.default={editor:(0,n.getEditor)("numeric"),renderer:(0,i.getRenderer)("numeric"),validator:(0,o.getValidator)("numeric"),dataType:"number"}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13);r(28);t.default={editor:(0,n.getEditor)("password"),renderer:(0,i.getRenderer)("password"),copyable:!1}},function(e,t,r){"use strict";t.__esModule=!0;r(27);var n=r(17),i=r(13);t.default={editor:(0,n.getEditor)("text"),renderer:(0,i.getRenderer)("text")}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(17),i=r(13),o=r(28);t.default={editor:(0,n.getEditor)("text"),renderer:(0,i.getRenderer)("text"),validator:(0,o.getValidator)("time")}},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=_interopRequireDefault(r(311)),o=r(90),a=r(89),s=r(2),u=r(1),l=_interopRequireDefault(r(386)),c=r(5),f=_interopRequireDefault(r(387));_interopRequireDefault(r(15));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function DataMap(e,t,r){var n=this;this.instance=e,this.priv=t,this.GridSettings=r,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.skipCache=!1,this.latestSourceRowsCount=0,this.dataSource&&this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.interval=l.default.create(function(){return n.clearLengthCache()},"15fps"),this.instance.addHook("skipLengthCache",function(e){return n.onSkipLengthCache(e)}),this.onSkipLengthCache(500)}DataMap.prototype.DESTINATION_RENDERER=1,DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,DataMap.prototype.recursiveDuckSchema=function(e){return(0,s.duckSchema)(e)},DataMap.prototype.recursiveDuckColumns=function(e,t,r){var i,o;if(void 0===t&&(t=0,r=""),"object"===(void 0===e?"undefined":n(e))&&!Array.isArray(e))for(o in e)(0,s.hasOwnProperty)(e,o)&&(null===e[o]?(i=r+o,this.colToPropCache.push(i),this.propToColCache.set(i,t),t++):t=this.recursiveDuckColumns(e[o],t,o+"."));return t},DataMap.prototype.createMap=function(){var e=void 0,t=this.getSchema();if(void 0===t)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new f.default;var r=this.instance.getSettings().columns;if(r){var n=this.instance.getSettings().maxCols,i=Math.min(n,r.length),o=0,a=!1,u=(0,s.deepObjectSize)(t);for("function"==typeof r&&(i=u>0?u:this.instance.countSourceCols(),a=!0),e=0;e<i;e++){var l=a?r(e):r[e];if((0,s.isObject)(l)){if(void 0!==l.data){var c=a?o:e;this.colToPropCache[c]=l.data,this.propToColCache.set(l.data,c)}o++}}}else this.recursiveDuckColumns(t)},DataMap.prototype.colToProp=function(e){return e=this.instance.runHooks("modifyCol",e),!isNaN(e)&&this.colToPropCache&&void 0!==this.colToPropCache[e]?this.colToPropCache[e]:e},DataMap.prototype.propToCol=function(e){var t;return t=void 0===this.propToColCache.get(e)?e:this.propToColCache.get(e),t=this.instance.runHooks("unmodifyCol",t)},DataMap.prototype.getSchema=function(){var e=this.instance.getSettings().dataSchema;return e?"function"==typeof e?e():e:this.duckSchema},DataMap.prototype.createRow=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],i=0;if(("number"!=typeof e||e>=this.instance.countSourceRows())&&(e=this.instance.countSourceRows()),!1===this.instance.runHooks("beforeCreateRow",e,r,n))return 0;for(var o=this.instance.getSettings().maxRows,a=this.instance.countCols(),u=function(){var r=null;"array"===t.instance.dataType?t.instance.getSettings().dataSchema?r=(0,s.deepClone)(t.getSchema()):(r=[],(0,c.rangeEach)(a-1,function(){return r.push(null)})):"function"===t.instance.dataType?r=t.instance.getSettings().dataSchema(e):(r={},(0,s.deepExtend)(r,t.getSchema())),e===t.instance.countSourceRows()?t.dataSource.push(r):t.spliceData(e,0,r),i++};i<r&&this.instance.countSourceRows()<o;)u();return this.instance.runHooks("afterCreateRow",e,i,n),this.instance.forceFullRender=!0,i},DataMap.prototype.createCol=function(e,t,r){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var n,i,o=this.instance.countSourceRows(),s=this.dataSource,u=0;t||(t=1),("number"!=typeof e||e>=this.instance.countCols())&&(e=this.instance.countCols()),this.instance.runHooks("beforeCreateCol",e,t,r),i=e;for(var l=this.instance.getSettings().maxCols;u<t&&this.instance.countCols()<l;){if(n=(0,a.columnFactory)(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof e||e>=this.instance.countCols()){if(o>0)for(var c=0;c<o;c++)void 0===s[c]&&(s[c]=[]),s[c].push(null);else s.push([null]);this.priv.columnSettings.push(n)}else{for(var f=0;f<o;f++)s[f].splice(i,0,null);this.priv.columnSettings.splice(i,0,n)}u++,i++}return this.instance.runHooks("afterCreateCol",e,u,r),this.instance.forceFullRender=!0,u},DataMap.prototype.removeRow=function(e,t,r){t||(t=1),"number"!=typeof e&&(e=-t),t=this.instance.runHooks("modifyRemovedAmount",t,e),e=(this.instance.countSourceRows()+e)%this.instance.countSourceRows();var n=this.visualRowsToPhysical(e,t);if(!1!==this.instance.runHooks("beforeRemoveRow",e,t,n,r)){var i,o=this.dataSource;(i=this.filterData(e,t))&&(o.length=0,Array.prototype.push.apply(o,i)),this.instance.runHooks("afterRemoveRow",e,t,n,r),this.instance.forceFullRender=!0}},DataMap.prototype.removeCol=function(e,t,r){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");t||(t=1),"number"!=typeof e&&(e=-t),e=(this.instance.countCols()+e)%this.instance.countCols();var n=this.visualColumnsToPhysical(e,t),i=n.slice(0).sort(function(e,t){return t-e});if(!1!==this.instance.runHooks("beforeRemoveCol",e,t,n,r)){for(var o=!0,a=i.length,s=this.dataSource,u=0;u<a;u++)o&&n[0]!==n[u]-u&&(o=!1);if(o)for(var l=0,c=this.instance.countSourceRows();l<c;l++)s[l].splice(n[0],t);else{for(var f=0,h=this.instance.countSourceRows();f<h;f++)for(var p=0;p<a;p++)s[f].splice(i[p],1);for(var d=0;d<a;d++)this.priv.columnSettings.splice(n[d],1)}this.instance.runHooks("afterRemoveCol",e,t,n,r),this.instance.forceFullRender=!0}},DataMap.prototype.spliceCol=function(e,t,r){var n=arguments.length>=4?[].slice.call(arguments,3):[],i=this.instance.getDataAtCol(e),o=i.slice(t,t+r),a=i.slice(t+r);(0,u.extendArray)(n,a);for(var s=0;s<r;)n.push(null),s++;return(0,u.to2dArray)(n),this.instance.populateFromArray(t,e,n,null,null,"spliceCol"),o},DataMap.prototype.spliceRow=function(e,t,r){var n=arguments.length>=4?[].slice.call(arguments,3):[],i=this.instance.getSourceDataAtRow(e),o=i.slice(t,t+r),a=i.slice(t+r);(0,u.extendArray)(n,a);for(var s=0;s<r;)n.push(null),s++;return this.instance.populateFromArray(e,t,[n],null,null,"spliceRow"),o},DataMap.prototype.spliceData=function(e,t,r){!1!==this.instance.runHooks("beforeDataSplice",e,t,r)&&this.dataSource.splice(e,t,r)},DataMap.prototype.filterData=function(e,t){var r=this.visualRowsToPhysical(e,t);if(!1!==this.instance.runHooks("beforeDataFilter",e,t,r))return this.dataSource.filter(function(e,t){return-1==r.indexOf(t)})},DataMap.prototype.get=function(e,t){e=this.instance.runHooks("modifyRow",e);var r=this.dataSource[e],n=this.instance.runHooks("modifyRowData",e),i=null;if((r=isNaN(n)?n:r)&&r.hasOwnProperty&&(0,s.hasOwnProperty)(r,t))i=r[t];else if("string"==typeof t&&t.indexOf(".")>-1){var o=t.split("."),a=r;if(!a)return null;for(var u=0,l=o.length;u<l;u++)if(void 0===(a=a[o[u]]))return null;i=a}else"function"==typeof t&&(i=t(this.dataSource.slice(e,e+1)[0]));if(this.instance.hasHook("modifyData")){var c=(0,s.createObjectPropListener)(i);this.instance.runHooks("modifyData",e,this.propToCol(t),c,"get"),c.isTouched()&&(i=c.value)}return i};var h=(0,o.cellMethodLookupFactory)("copyable",!1);DataMap.prototype.getCopyable=function(e,t){return h.call(this.instance,e,this.propToCol(t))?this.get(e,t):""},DataMap.prototype.set=function(e,t,r,n){e=this.instance.runHooks("modifyRow",e,n||"datamapGet");var i=this.dataSource[e],o=this.instance.runHooks("modifyRowData",e);if(i=isNaN(o)?o:i,this.instance.hasHook("modifyData")){var a=(0,s.createObjectPropListener)(r);this.instance.runHooks("modifyData",e,this.propToCol(t),a,"set"),a.isTouched()&&(r=a.value)}if(i&&i.hasOwnProperty&&(0,s.hasOwnProperty)(i,t))i[t]=r;else if("string"==typeof t&&t.indexOf(".")>-1){var u,l=t.split("."),c=i,f=0;for(f=0,u=l.length-1;f<u;f++)void 0===c[l[f]]&&(c[l[f]]={}),c=c[l[f]];c[l[f]]=r}else"function"==typeof t?t(this.dataSource.slice(e,e+1)[0],r):i[t]=r},DataMap.prototype.visualRowsToPhysical=function(e,t){for(var r,n=this.instance.countSourceRows(),i=(n+e)%n,o=[],a=t;i<n&&a;)r=this.instance.runHooks("modifyRow",i),o.push(r),a--,i++;return o},DataMap.prototype.visualColumnsToPhysical=function(e,t){for(var r=this.instance.countCols(),n=(r+e)%r,i=[],o=t;n<r&&o;){var a=this.instance.runHooks("modifyCol",n);i.push(a),o--,n++}return i},DataMap.prototype.clear=function(){for(var e=0;e<this.instance.countSourceRows();e++)for(var t=0;t<this.instance.countCols();t++)this.set(e,this.colToProp(t),"")},DataMap.prototype.clearLengthCache=function(){this.cachedLength=null},DataMap.prototype.getLength=function(){var e=this,t=void 0,r=this.instance.getSettings().maxRows;t=r<0||0===r?0:r||1/0;var n=this.instance.countSourceRows();if(this.instance.hasHook("modifyRow")){var i=this.skipCache;this.interval.start(),n!==this.latestSourceRowsCount&&(i=!0),this.latestSourceRowsCount=n,null===this.cachedLength||i?((0,c.rangeEach)(n-1,function(t){null===(t=e.instance.runHooks("modifyRow",t))&&--n}),this.cachedLength=n):n=this.cachedLength}else this.interval.stop();return Math.min(n,t)},DataMap.prototype.getAll=function(){var e={row:0,col:0},t={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return e.row-t.row!=0||this.instance.countSourceRows()?this.getRange(e,t,DataMap.prototype.DESTINATION_RENDERER):[]},DataMap.prototype.getRange=function(e,t,r){var n,i,o,a,s,u=[],l=this.instance.getSettings().maxRows,c=this.instance.getSettings().maxCols;if(0===l||0===c)return[];var f=r===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(i=Math.min(Math.max(l-1,0),Math.max(e.row,t.row)),a=Math.min(Math.max(c-1,0),Math.max(e.col,t.col)),n=Math.min(e.row,t.row);n<=i;n++){s=[];var h=this.instance.runHooks("modifyRow",n);for(o=Math.min(e.col,t.col);o<=a&&null!==h;o++)s.push(f.call(this,n,this.colToProp(o)));null!==h&&u.push(s)}return u},DataMap.prototype.getText=function(e,t){return i.default.stringify(this.getRange(e,t,this.DESTINATION_RENDERER))},DataMap.prototype.getCopyableText=function(e,t){return i.default.stringify(this.getRange(e,t,this.DESTINATION_CLIPBOARD_GENERATOR))},DataMap.prototype.onSkipLengthCache=function(e){var t=this;this.skipCache=!0,setTimeout(function(){t.skipCache=!1},e)},DataMap.prototype.destroy=function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null},t.default=DataMap},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.parseDelay=parseDelay;var i=r(40);var o=function(){function Interval(e,t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Interval),this.timer=null,this.func=e,this.delay=parseDelay(t),this.stopped=!0,this._then=null,this._callback=function(){return r.__callback()}}return n(Interval,null,[{key:"create",value:function(e,t){return new Interval(e,t)}}]),n(Interval,[{key:"start",value:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=(0,i.requestAnimationFrame)(this._callback)),this}},{key:"stop",value:function(){return this.stopped||(this.stopped=!0,(0,i.cancelAnimationFrame)(this.timer),this.timer=null),this}},{key:"__callback",value:function(){if(this.timer=(0,i.requestAnimationFrame)(this._callback),this.delay){var e=Date.now(),t=e-this._then;t>this.delay&&(this._then=e-t%this.delay,this.func())}else this.func()}}]),Interval}();function parseDelay(e){return"string"==typeof e&&/fps$/.test(e)&&(e=1e3/parseInt(e.replace("fps","")||0,10)),e}t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e={arrayMap:[],weakMap:new WeakMap};return{get:function(t){return canBeAnArrayMapKey(t)?e.arrayMap[t]:canBeAWeakMapKey(t)?e.weakMap.get(t):void 0},set:function(t,r){if(canBeAnArrayMapKey(t))e.arrayMap[t]=r;else{if(!canBeAWeakMapKey(t))throw new Error("Invalid key type");e.weakMap.set(t,r)}},delete:function(t){canBeAnArrayMapKey(t)?delete e.arrayMap[t]:canBeAWeakMapKey(t)&&e.weakMap.delete(t)}};function canBeAnArrayMapKey(e){return null!==e&&!function(e){return e!=e}(e)&&("string"==typeof e||"number"==typeof e)}function canBeAWeakMapKey(e){return null!==e&&("object"==(void 0===e?"undefined":n(e))||"function"==typeof e)}}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(4),o=r(21),a=r(12),s=r(17),u=r(6),l=(n=u)&&n.__esModule?n:{default:n},c=r(54);function EditorManager(e,t,r){var n,u,f=this,h=!1,p=!1;function moveSelectionAfterEnter(e){var n="function"==typeof t.settings.enterMoves?t.settings.enterMoves(event):t.settings.enterMoves;e?r.transformStart(-n.row,-n.col):r.transformStart(n.row,n.col,!0)}function onKeyDown(n){if(e.isListening()&&(e.runHooks("beforeKeyDown",n),!h&&!(0,a.isImmediatePropagationStopped)(n)&&(t.lastKeyCode=n.keyCode,r.isSelected()))){var s=(n.ctrlKey||n.metaKey)&&!n.altKey;if(!u||u.isWaiting()||(0,o.isMetaKey)(n.keyCode)||(0,o.isCtrlMetaKey)(n.keyCode)||s||f.isEditorOpened()){var l=n.shiftKey?r.setRangeEnd:r.setRangeStart,p=void 0;switch(n.keyCode){case o.KEY_CODES.A:!f.isEditorOpened()&&s&&(e.selectAll(),n.preventDefault(),(0,a.stopPropagation)(n));break;case o.KEY_CODES.ARROW_UP:f.isEditorOpened()&&!u.isWaiting()&&f.closeEditorAndSaveChanges(s),n.shiftKey?r.transformEnd(-1,0):r.transformStart(-1,0),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.ARROW_DOWN:f.isEditorOpened()&&!u.isWaiting()&&f.closeEditorAndSaveChanges(s),function(e){e?r.transformEnd(1,0):r.transformStart(1,0)}(n.shiftKey),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.ARROW_RIGHT:f.isEditorOpened()&&!u.isWaiting()&&f.closeEditorAndSaveChanges(s),function(e){e?r.transformEnd(0,1):r.transformStart(0,1)}(n.shiftKey),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.ARROW_LEFT:f.isEditorOpened()&&!u.isWaiting()&&f.closeEditorAndSaveChanges(s),function(e){e?r.transformEnd(0,-1):r.transformStart(0,-1)}(n.shiftKey),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.TAB:p="function"==typeof t.settings.tabMoves?t.settings.tabMoves(n):t.settings.tabMoves,n.shiftKey?r.transformStart(-p.row,-p.col):r.transformStart(p.row,p.col,!0),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.BACKSPACE:case o.KEY_CODES.DELETE:e.emptySelectedCells(),f.prepareEditor(),n.preventDefault();break;case o.KEY_CODES.F2:f.openEditor(null,n),u&&u.enableFullEditMode(),n.preventDefault();break;case o.KEY_CODES.ENTER:f.isEditorOpened()?(u&&u.state!==c.EditorState.WAITING&&f.closeEditorAndSaveChanges(s),moveSelectionAfterEnter(n.shiftKey)):e.getSettings().enterBeginsEditing?(f.openEditor(null,n),u&&u.enableFullEditMode()):moveSelectionAfterEnter(n.shiftKey),n.preventDefault(),(0,a.stopImmediatePropagation)(n);break;case o.KEY_CODES.ESCAPE:f.isEditorOpened()&&f.closeEditorAndRestoreOriginalValue(s),n.preventDefault();break;case o.KEY_CODES.HOME:n.ctrlKey||n.metaKey?l.call(r,new i.CellCoords(0,r.selectedRange.current().from.col)):l.call(r,new i.CellCoords(r.selectedRange.current().from.row,0)),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.END:n.ctrlKey||n.metaKey?l.call(r,new i.CellCoords(e.countRows()-1,r.selectedRange.current().from.col)):l.call(r,new i.CellCoords(r.selectedRange.current().from.row,e.countCols()-1)),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.PAGE_UP:r.transformStart(-e.countVisibleRows(),0),n.preventDefault(),(0,a.stopPropagation)(n);break;case o.KEY_CODES.PAGE_DOWN:r.transformStart(e.countVisibleRows(),0),n.preventDefault(),(0,a.stopPropagation)(n)}}else f.openEditor("",n)}}n=new l.default(e),this.lockEditor=function(){p=!0},this.unlockEditor=function(){p=!1},this.destroyEditor=function(e){p||this.closeEditor(e)},this.getActiveEditor=function(){return u},this.prepareEditor=function(){var t,r,n,i,o,a,l;p||(u&&u.isWaiting()?this.closeEditor(!1,!1,function(e){e&&f.prepareEditor()}):(t=e.selection.selectedRange.current().highlight.row,r=e.selection.selectedRange.current().highlight.col,n=e.colToProp(r),i=e.getCell(t,r),o=e.getSourceDataAtCell(e.runHooks("modifyRow",t),r),a=e.getCellMeta(t,r),(l=e.getCellEditor(a))?(u=(0,s.getEditorInstance)(l,e)).prepare(t,r,n,i,o,a):u=void 0))},this.isEditorOpened=function(){return u&&u.isOpened()},this.openEditor=function(e,t){u&&!u.cellProperties.readOnly?u.beginEditing(e,t):u&&u.cellProperties.readOnly&&t&&t.keyCode===o.KEY_CODES.ENTER&&moveSelectionAfterEnter()},this.closeEditor=function(e,t,r){u?u.finishEditing(e,t,r):r&&r(!1)},this.closeEditorAndSaveChanges=function(e){return this.closeEditor(!1,e)},this.closeEditorAndRestoreOriginalValue=function(e){return this.closeEditor(!0,e)},this.destroy=function(){h=!0},e.addHook("afterDocumentKeyDown",onKeyDown),n.addEventListener(document.documentElement,"keydown",function(t){h||e.runHooks("afterDocumentKeyDown",t)}),e.view.wt.update("onCellDblClick",function(e,t,r){"TD"===r.nodeName&&(f.openEditor(null,e),u&&u.enableFullEditMode())})}var f=new WeakMap;EditorManager.getInstance=function(e,t,r,n){var i=f.get(e);return i||(i=new EditorManager(e,t,r,n),f.set(e,i)),i},t.default=EditorManager},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r(0),o=(r(27),_interopRequireDefault(r(6))),a=r(12),s=_interopRequireDefault(r(4)),u=r(312);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function TableView(e){var t=this,r=this;this.eventManager=new o.default(e),this.instance=e,this.settings=e.getSettings(),this.selectionMouseDown=!1;var n=e.rootElement.getAttribute("style");n&&e.rootElement.setAttribute("data-originalstyle",n),(0,i.addClass)(e.rootElement,"handsontable");var l,c=document.createElement("TABLE");(0,i.addClass)(c,"htCore"),e.getSettings().tableClassName&&(0,i.addClass)(c,e.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),c.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),c.appendChild(this.TBODY),e.table=c,e.container.insertBefore(c,e.container.firstChild),this.eventManager.addEventListener(e.rootElement,"mousedown",function(e){this.selectionMouseDown=!0,r.isTextSelectionAllowed(e.target)||(f(),e.preventDefault(),window.focus())}),this.eventManager.addEventListener(e.rootElement,"mouseup",function(e){this.selectionMouseDown=!1}),this.eventManager.addEventListener(e.rootElement,"mousemove",function(e){this.selectionMouseDown&&!r.isTextSelectionAllowed(e.target)&&(f(),e.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(t){e.selection.isInProgress()&&!t.shiftKey&&e.selection.finish()}),this.isMouseDown=function(){return l},this.eventManager.addEventListener(document.documentElement,"mouseup",function(t){e.selection.isInProgress()&&(0,a.isLeftClick)(t)&&e.selection.finish(),l=!1,((0,i.isOutsideInput)(document.activeElement)||!e.selection.isSelected()&&!(0,a.isRightClick)(t))&&e.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){var n=t.target,o=t.target,a=t.x||t.clientX,s=t.y||t.clientY;if(!l&&e.rootElement){if(o===e.view.wt.wtTable.holder){var u=(0,i.getScrollbarWidth)();if(document.elementFromPoint(a+u,s)!==e.view.wt.wtTable.holder||document.elementFromPoint(a,s+u)!==e.view.wt.wtTable.holder)return}else for(;o!==document.documentElement;){if(null===o){if(t.isTargetWebComponent)break;return}if(o===e.rootElement)return;o=o.parentNode}("function"==typeof r.settings.outsideClickDeselects?r.settings.outsideClickDeselects(n):r.settings.outsideClickDeselects)?e.deselectCell():e.destroyEditor()}}),this.eventManager.addEventListener(c,"selectstart",function(e){r.settings.fragmentSelection||(0,i.isInput)(e.target)||e.preventDefault()});var f=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},h={debug:function(){return r.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:c,preventOverflow:function(){return t.settings.preventOverflow},stretchH:function(){return r.settings.stretchH},data:e.getDataAtCell,totalRows:function(){return e.countRows()},totalColumns:function(){return e.countCols()},fixedColumnsLeft:function(){return r.settings.fixedColumnsLeft},fixedRowsTop:function(){return r.settings.fixedRowsTop},fixedRowsBottom:function(){return r.settings.fixedRowsBottom},minSpareRows:function(){return r.settings.minSpareRows},renderAllRows:r.settings.renderAllRows,rowHeaders:function(){var t=[];return e.hasRowHeaders()&&t.push(function(e,t){r.appendRowHeader(e,t)}),e.runHooks("afterGetRowHeaderRenderers",t),t},columnHeaders:function(){var t=[];return e.hasColHeaders()&&t.push(function(e,t){r.appendColHeader(e,t)}),e.runHooks("afterGetColumnHeaderRenderers",t),t},columnWidth:e.getColWidth,rowHeight:e.getRowHeight,cellRenderer:function(e,t,n){var i=r.instance.getCellMeta(e,t),o=r.instance.colToProp(t),a=r.instance.getDataAtRowProp(e,o);r.instance.hasHook("beforeValueRender")&&(a=r.instance.runHooks("beforeValueRender",a,i)),r.instance.runHooks("beforeRenderer",n,e,t,o,a,i),r.instance.getCellRenderer(i)(r.instance,n,e,t,o,a,i),r.instance.runHooks("afterRenderer",n,e,t,o,a,i)},selections:r.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return r.settings.fragmentSelection},onCellMouseDown:function(t,n,i,o){var s={row:!1,column:!1,cell:!1};e.listen(),r.activeWt=o,l=!0,e.runHooks("beforeOnCellMouseDown",t,n,i,s),(0,a.isImmediatePropagationStopped)(t)||((0,u.handleMouseEvent)(t,{coords:n,selection:e.selection,controller:s}),e.runHooks("afterOnCellMouseDown",t,n,i),r.activeWt=r.wt)},onCellMouseOut:function(t,n,i,o){r.activeWt=o,e.runHooks("beforeOnCellMouseOut",t,n,i),(0,a.isImmediatePropagationStopped)(t)||(e.runHooks("afterOnCellMouseOut",t,n,i),r.activeWt=r.wt)},onCellMouseOver:function(t,n,i,o){var s={row:!1,column:!1,cell:!1};r.activeWt=o,e.runHooks("beforeOnCellMouseOver",t,n,i,s),(0,a.isImmediatePropagationStopped)(t)||(l&&(0,u.handleMouseEvent)(t,{coords:n,selection:e.selection,controller:s}),e.runHooks("afterOnCellMouseOver",t,n,i),r.activeWt=r.wt)},onCellMouseUp:function(t,n,i,o){r.activeWt=o,e.runHooks("beforeOnCellMouseUp",t,n,i),e.runHooks("afterOnCellMouseUp",t,n,i),r.activeWt=r.wt},onCellCornerMouseDown:function(t){t.preventDefault(),e.runHooks("afterOnCellCornerMouseDown",t)},onCellCornerDblClick:function(t){t.preventDefault(),e.runHooks("afterOnCellCornerDblClick",t)},beforeDraw:function(e,t){r.beforeRender(e,t)},onDraw:function(e){r.onDraw(e)},onScrollVertically:function(){e.runHooks("afterScrollVertically")},onScrollHorizontally:function(){e.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return e.runHooks("beforeRemoveCellClassNames")},onAfterDrawSelection:function(t,r,n,i){return e.runHooks("afterDrawSelection",t,r,n,i)},onBeforeDrawBorders:function(t,r){e.runHooks("beforeDrawBorders",t,r)},onBeforeTouchScroll:function(){e.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){e.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(t,r){return e.runHooks("beforeStretchingColumnWidth",t,r)},onModifyRowHeaderWidth:function(t){return e.runHooks("modifyRowHeaderWidth",t)},onModifyGetCellCoords:function(t,r,n){return e.runHooks("modifyGetCellCoords",t,r,n)},viewportRowCalculatorOverride:function(t){var n=e.countRows(),i=r.settings.viewportRowRenderingOffset;if("auto"===i&&r.settings.fixedRowsTop&&(i=10),"number"==typeof i&&(t.startRow=Math.max(t.startRow-i,0),t.endRow=Math.min(t.endRow+i,n-1)),"auto"===i){var o=t.startRow+t.endRow-t.startRow,a=Math.ceil(o/n*12);t.startRow=Math.max(t.startRow-a,0),t.endRow=Math.min(t.endRow+a,n-1)}e.runHooks("afterViewportRowCalculatorOverride",t)},viewportColumnCalculatorOverride:function(t){var n=e.countCols(),i=r.settings.viewportColumnRenderingOffset;if("auto"===i&&r.settings.fixedColumnsLeft&&(i=10),"number"==typeof i&&(t.startColumn=Math.max(t.startColumn-i,0),t.endColumn=Math.min(t.endColumn+i,n-1)),"auto"===i){var o=t.startColumn+t.endColumn-t.startColumn,a=Math.ceil(o/n*12);t.startRow=Math.max(t.startColumn-a,0),t.endColumn=Math.min(t.endColumn+a,n-1)}e.runHooks("afterViewportColumnCalculatorOverride",t)},rowHeaderWidth:function(){return r.settings.rowHeaderWidth},columnHeaderHeight:function(){var t=e.runHooks("modifyColumnHeaderHeight");return r.settings.columnHeaderHeight||t}};e.runHooks("beforeInitWalkontable",h),this.wt=new s.default(h),this.activeWt=this.wt,this.eventManager.addEventListener(r.wt.wtTable.spreader,"mousedown",function(e){e.target===r.wt.wtTable.spreader&&3===e.which&&(0,a.stopPropagation)(e)}),this.eventManager.addEventListener(r.wt.wtTable.spreader,"contextmenu",function(e){e.target===r.wt.wtTable.spreader&&3===e.which&&(0,a.stopPropagation)(e)}),this.eventManager.addEventListener(document.documentElement,"click",function(){r.settings.observeDOMVisibility&&r.wt.drawInterrupted&&(r.instance.forceFullRender=!0,r.render())})}TableView.prototype.isTextSelectionAllowed=function(e){if((0,i.isInput)(e))return!0;var t=(0,i.isChildOf)(e,this.instance.view.wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!t)||(!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!t)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell()))},TableView.prototype.isSelectedOnlyCell=function(){var e=this.instance.getSelectedLast()||[],t=n(e,4),r=t[0],i=t[1],o=t[2],a=t[3];return void 0!==r&&r===o&&i===a},TableView.prototype.isCellEdited=function(){var e=this.instance.getActiveEditor();return e&&e.isOpened()},TableView.prototype.beforeRender=function(e,t){e&&this.instance.runHooks("beforeRender",this.instance.forceFullRender,t)},TableView.prototype.onDraw=function(e){e&&this.instance.runHooks("afterRender",this.instance.forceFullRender)},TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},TableView.prototype.getCellAtCoords=function(e,t){var r=this.wt.getCell(e,t);return r<0?null:r},TableView.prototype.scrollViewport=function(e){this.wt.scrollViewport(e)},TableView.prototype.appendRowHeader=function(e,t){if(t.firstChild){var r=t.firstChild;if(!(0,i.hasClass)(r,"relative"))return(0,i.empty)(t),void this.appendRowHeader(e,t);this.updateCellHeader(r.querySelector(".rowHeader"),e,this.instance.getRowHeader)}else{var n=document.createElement("div"),o=document.createElement("span");n.className="relative",o.className="rowHeader",this.updateCellHeader(o,e,this.instance.getRowHeader),n.appendChild(o),t.appendChild(n)}this.instance.runHooks("afterGetRowHeader",e,t)},TableView.prototype.appendColHeader=function(e,t){if(t.firstChild){var r=t.firstChild;(0,i.hasClass)(r,"relative")?this.updateCellHeader(r.querySelector(".colHeader"),e,this.instance.getColHeader):((0,i.empty)(t),this.appendColHeader(e,t))}else{var n=document.createElement("div"),o=document.createElement("span");n.className="relative",o.className="colHeader",this.updateCellHeader(o,e,this.instance.getColHeader),n.appendChild(o),t.appendChild(n)}this.instance.runHooks("afterGetColHeader",e,t)},TableView.prototype.updateCellHeader=function(e,t,r){var n=t,o=this.wt.wtOverlays.getParentOverlay(e)||this.wt;e.parentNode&&((0,i.hasClass)(e,"colHeader")?n=o.wtTable.columnFilter.sourceToRendered(t):(0,i.hasClass)(e,"rowHeader")&&(n=o.wtTable.rowFilter.sourceToRendered(t))),n>-1?(0,i.fastInnerHTML)(e,r(t)):((0,i.fastInnerText)(e,String.fromCharCode(160)),(0,i.addClass)(e,"cornerHeader"))},TableView.prototype.maximumVisibleElementWidth=function(e){var t=this.wt.wtViewport.getWorkspaceWidth()-e;return t>0?t:0},TableView.prototype.maximumVisibleElementHeight=function(e){var t=this.wt.wtViewport.getWorkspaceHeight()-e;return t>0?t:0},TableView.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},TableView.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()},t.default=TableView},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(2),o=r(1),a=r(5);var s=function(){function DataSource(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataSource),this.hot=e,this.data=t,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return n(DataSource,[{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data;return e&&(t=this.getByRange({row:0,col:0},{row:Math.max(this.countRows()-1,0),col:Math.max(this.countColumns()-1,0)},!0)),t}},{key:"setData",value:function(e){this.data=e}},{key:"getAtColumn",value:function(e){var t=this,r=[];return(0,o.arrayEach)(this.data,function(n){var o=t.colToProp(e);n="string"==typeof o?(0,i.getProperty)(n,o):n[o],r.push(n)}),r}},{key:"getAtRow",value:function(e){return this.data[e]}},{key:"getAtCell",value:function(e,t){var r=null,n=this.hot.runHooks("modifyRowData",e),o=isNaN(n)?n:this.data[e];if(o){var a=this.colToProp(t);r="string"==typeof a?(0,i.getProperty)(o,a):"function"==typeof a?a(this.data.slice(e,e+1)[0]):o[a]}return r}},{key:"getByRange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Math.min(e.row,t.row),o=Math.min(e.col,t.col),s=Math.max(e.row,t.row),u=Math.max(e.col,t.col),l=[];return(0,a.rangeEach)(i,s,function(e){var t=r.getAtRow(e),i=void 0;"array"===r.dataType?i=t.slice(o,u+1):"object"===r.dataType&&(i=n?[]:{},(0,a.rangeEach)(o,u,function(e){var o=r.colToProp(e);n?i.push(t[o]):i[o]=t[o]})),l.push(i)}),l}},{key:"countRows",value:function(){return Array.isArray(this.data)?this.data.length:0}},{key:"countColumns",value:function(){var e=0;return Array.isArray(this.data)&&("array"===this.dataType?e=this.data[0].length:"object"===this.dataType&&(e=Object.keys(this.data[0]).length)),e}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),DataSource}();t.default=s},function(e,t,r){"use strict";var n;t.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=(_defineProperty(n={languageCode:"en-US"},i.CONTEXTMENU_ITEMS_ROW_ABOVE,"Insert row above"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ROW_BELOW,"Insert row below"),_defineProperty(n,i.CONTEXTMENU_ITEMS_INSERT_LEFT,"Insert column left"),_defineProperty(n,i.CONTEXTMENU_ITEMS_INSERT_RIGHT,"Insert column right"),_defineProperty(n,i.CONTEXTMENU_ITEMS_REMOVE_ROW,["Remove row","Remove rows"]),_defineProperty(n,i.CONTEXTMENU_ITEMS_REMOVE_COLUMN,["Remove column","Remove columns"]),_defineProperty(n,i.CONTEXTMENU_ITEMS_UNDO,"Undo"),_defineProperty(n,i.CONTEXTMENU_ITEMS_REDO,"Redo"),_defineProperty(n,i.CONTEXTMENU_ITEMS_READ_ONLY,"Read only"),_defineProperty(n,i.CONTEXTMENU_ITEMS_CLEAR_COLUMN,"Clear column"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT,"Alignment"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT,"Left"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER,"Center"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT,"Right"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY,"Justify"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT_TOP,"Top"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE,"Middle"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM,"Bottom"),_defineProperty(n,i.CONTEXTMENU_ITEMS_FREEZE_COLUMN,"Freeze column"),_defineProperty(n,i.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN,"Unfreeze column"),_defineProperty(n,i.CONTEXTMENU_ITEMS_BORDERS,"Borders"),_defineProperty(n,i.CONTEXTMENU_ITEMS_BORDERS_TOP,"Top"),_defineProperty(n,i.CONTEXTMENU_ITEMS_BORDERS_RIGHT,"Right"),_defineProperty(n,i.CONTEXTMENU_ITEMS_BORDERS_BOTTOM,"Bottom"),_defineProperty(n,i.CONTEXTMENU_ITEMS_BORDERS_LEFT,"Left"),_defineProperty(n,i.CONTEXTMENU_ITEMS_REMOVE_BORDERS,"Remove border(s)"),_defineProperty(n,i.CONTEXTMENU_ITEMS_ADD_COMMENT,"Add comment"),_defineProperty(n,i.CONTEXTMENU_ITEMS_EDIT_COMMENT,"Edit comment"),_defineProperty(n,i.CONTEXTMENU_ITEMS_REMOVE_COMMENT,"Delete comment"),_defineProperty(n,i.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT,"Read-only comment"),_defineProperty(n,i.CONTEXTMENU_ITEMS_MERGE_CELLS,"Merge cells"),_defineProperty(n,i.CONTEXTMENU_ITEMS_UNMERGE_CELLS,"Unmerge cells"),_defineProperty(n,i.CONTEXTMENU_ITEMS_COPY,"Copy"),_defineProperty(n,i.CONTEXTMENU_ITEMS_CUT,"Cut"),_defineProperty(n,i.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD,"Insert child row"),_defineProperty(n,i.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD,"Detach from parent"),_defineProperty(n,i.CONTEXTMENU_ITEMS_HIDE_COLUMN,["Hide column","Hide columns"]),_defineProperty(n,i.CONTEXTMENU_ITEMS_SHOW_COLUMN,["Show column","Show columns"]),_defineProperty(n,i.CONTEXTMENU_ITEMS_HIDE_ROW,["Hide row","Hide rows"]),_defineProperty(n,i.CONTEXTMENU_ITEMS_SHOW_ROW,["Show row","Show rows"]),_defineProperty(n,i.FILTERS_CONDITIONS_NONE,"None"),_defineProperty(n,i.FILTERS_CONDITIONS_EMPTY,"Is empty"),_defineProperty(n,i.FILTERS_CONDITIONS_NOT_EMPTY,"Is not empty"),_defineProperty(n,i.FILTERS_CONDITIONS_EQUAL,"Is equal to"),_defineProperty(n,i.FILTERS_CONDITIONS_NOT_EQUAL,"Is not equal to"),_defineProperty(n,i.FILTERS_CONDITIONS_BEGINS_WITH,"Begins with"),_defineProperty(n,i.FILTERS_CONDITIONS_ENDS_WITH,"Ends with"),_defineProperty(n,i.FILTERS_CONDITIONS_CONTAINS,"Contains"),_defineProperty(n,i.FILTERS_CONDITIONS_NOT_CONTAIN,"Does not contain"),_defineProperty(n,i.FILTERS_CONDITIONS_GREATER_THAN,"Greater than"),_defineProperty(n,i.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL,"Greater than or equal to"),_defineProperty(n,i.FILTERS_CONDITIONS_LESS_THAN,"Less than"),_defineProperty(n,i.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL,"Less than or equal to"),_defineProperty(n,i.FILTERS_CONDITIONS_BETWEEN,"Is between"),_defineProperty(n,i.FILTERS_CONDITIONS_NOT_BETWEEN,"Is not between"),_defineProperty(n,i.FILTERS_CONDITIONS_AFTER,"After"),_defineProperty(n,i.FILTERS_CONDITIONS_BEFORE,"Before"),_defineProperty(n,i.FILTERS_CONDITIONS_TODAY,"Today"),_defineProperty(n,i.FILTERS_CONDITIONS_TOMORROW,"Tomorrow"),_defineProperty(n,i.FILTERS_CONDITIONS_YESTERDAY,"Yesterday"),_defineProperty(n,i.FILTERS_VALUES_BLANK_CELLS,"Blank cells"),_defineProperty(n,i.FILTERS_DIVS_FILTER_BY_CONDITION,"Filter by condition"),_defineProperty(n,i.FILTERS_DIVS_FILTER_BY_VALUE,"Filter by value"),_defineProperty(n,i.FILTERS_LABELS_CONJUNCTION,"And"),_defineProperty(n,i.FILTERS_LABELS_DISJUNCTION,"Or"),_defineProperty(n,i.FILTERS_BUTTONS_SELECT_ALL,"Select all"),_defineProperty(n,i.FILTERS_BUTTONS_CLEAR,"Clear"),_defineProperty(n,i.FILTERS_BUTTONS_OK,"OK"),_defineProperty(n,i.FILTERS_BUTTONS_CANCEL,"Cancel"),_defineProperty(n,i.FILTERS_BUTTONS_PLACEHOLDER_SEARCH,"Search"),_defineProperty(n,i.FILTERS_BUTTONS_PLACEHOLDER_VALUE,"Value"),_defineProperty(n,i.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE,"Second value"),n);t.default=o},function(e,t,r){"use strict";t.__esModule=!0,t.getPhraseFormatters=t.registerPhraseFormatter=void 0,t.register=register,t.getAll=getAll;var n=_interopRequireDefault(r(39)),i=_interopRequireDefault(r(393));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("phraseFormatters"),a=o.register,s=o.getValues;function register(e,t){a(e,t)}function getAll(){return s()}t.registerPhraseFormatter=register,t.getPhraseFormatters=getAll,register("pluralize",i.default)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(Array.isArray(e)&&Number.isInteger(t))return e[t];return e}},function(e,t,r){"use strict";t.__esModule=!0,t.Selection=t.Highlight=t.handleMouseEvent=void 0;var n=_interopRequireDefault(r(319)),i=_interopRequireDefault(r(401)),o=r(312);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.handleMouseEvent=o.handleMouseEvent,t.Highlight=n.default,t.Selection=i.default},function(e,t,r){"use strict";t.__esModule=!0,t.createHighlight=void 0;var n=_interopRequireDefault(r(39)),i=_interopRequireDefault(r(396)),o=_interopRequireDefault(r(397)),a=_interopRequireDefault(r(398)),s=_interopRequireDefault(r(399)),u=_interopRequireDefault(r(400));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=(0,n.default)("highlight/types"),c=l.register,f=l.getItem;c("active-header",i.default),c("area",o.default),c("cell",a.default),c("fill",s.default),c("header",u.default),t.createHighlight=function(e,t){return f(e)(t)}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t.default=function(e){var t=e.activeHeaderClassName;return new n.Selection({highlightHeaderClassName:t})}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t.default=function(e){var t=e.layerLevel,r=e.areaCornerVisible;return new n.Selection({className:"area",markIntersections:!0,layerLevel:Math.min(t,7),border:{width:1,color:"#4b89ff",cornerVisible:r}})}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t.default=function(e){var t=e.cellCornerVisible;return new n.Selection({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:t}})}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t.default=function(){return new n.Selection({className:"fill",border:{width:1,color:"#ff0000"}})}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t.default=function(e){var t=e.headerClassName,r=e.rowClassName,i=e.columnClassName;return new n.Selection({className:"highlight",highlightHeaderClassName:t,highlightRowClassName:r,highlightColumnClassName:i})}},function(e,t,r){"use strict";t.__esModule=!0;var n,i,o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),s=(n=["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, columnEnd/columnPropEnd]]) \n        or as an array of CellRange objects."],i=["Unsupported format of the selection ranges was passed. To select cells pass\\x20\n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, columnEnd/columnPropEnd]])\\x20\n        or as an array of CellRange objects."],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}}))),u=r(319),l=_interopRequireDefault(u),c=_interopRequireDefault(r(402)),f=r(4),h=r(318),p=r(2),d=r(16),y=r(1),g=_interopRequireDefault(r(58)),m=_interopRequireDefault(r(403)),v=r(91),b=r(42);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=function(){function Selection(e,t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Selection),this.settings=e,this.tableProps=t,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new c.default,this.highlight=new l.default({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,disableHighlight:this.settings.disableVisualSelection,cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)}}),this.transformation=new m.default(this.selectedRange,{countRows:function(){return r.tableProps.countRows()},countCols:function(){return r.tableProps.countCols()},fixedRowsBottom:function(){return e.fixedRowsBottom},minSpareRows:function(){return e.minSpareRows},minSpareCols:function(){return e.minSpareCols},autoWrapRow:function(){return e.autoWrapRow},autoWrapCol:function(){return e.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(t))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(t))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(t))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(t))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(t))}),this.transformation.addLocalHook("insertColRequire",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["insertColRequire"].concat(t))})}return a(Selection,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="multiple"===this.settings.selectionMode,i=(0,d.isUndefined)(t)?(0,h.isPressedCtrlKey)():t,o=e.row<0,a=e.col<0,s=o&&a;o&&(e.row=0),a&&(e.col=0),this.selectedByCorner=s,this.runLocalHooks("beforeSetRangeStart"+(r?"Only":""),e),(!n||n&&!i&&(0,d.isUndefined)(t))&&this.selectedRange.clear(),this.selectedRange.add(e),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!s&&a&&this.selectedByRowHeader.add(this.getLayerLevel()),!s&&o&&this.selectedByColumnHeader.add(this.getLayerLevel()),r||this.setRangeEnd(e)}},{key:"setRangeStartOnly",value:function(e,t){this.setRangeStart(e,t,!0)}},{key:"setRangeEnd",value:function(e){if(!this.selectedRange.isEmpty()){this.runLocalHooks("beforeSetRangeEnd",e),this.begin();var t=this.selectedRange.current();"single"!==this.settings.selectionMode&&t.setTo(new f.CellCoords(e.row,e.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(u.CELL_TYPE)&&this.highlight.getCell().add(this.selectedRange.current().highlight);var r=this.getLayerLevel();r<this.highlight.layerLevel&&((0,y.arrayEach)(this.highlight.getAreas(),function(e){e.clear()}),(0,y.arrayEach)(this.highlight.getHeaders(),function(e){e.clear()}),(0,y.arrayEach)(this.highlight.getActiveHeaders(),function(e){e.clear()})),this.highlight.useLayerLevel(r);var n=this.highlight.createOrGetArea(),i=this.highlight.createOrGetHeader(),o=this.highlight.createOrGetActiveHeader();if(n.clear(),i.clear(),o.clear(),this.highlight.isEnabledFor(u.AREA_TYPE)&&(this.isMultiple()||r>=1)&&(n.add(t.from).add(t.to),1===r&&(this.highlight.useLayerLevel(r-1).createOrGetArea().add(this.selectedRange.previous().from),this.highlight.useLayerLevel(r))),this.highlight.isEnabledFor(u.HEADER_TYPE)&&("single"===this.settings.selectionMode?i.add(t.highlight):i.add(t.from).add(t.to)),this.isSelectedByRowHeader())this.tableProps.countCols()===t.getWidth()&&o.add(new f.CellCoords(t.from.row,-1)).add(new f.CellCoords(t.to.row,-1));if(this.isSelectedByColumnHeader())this.tableProps.countRows()===t.getHeight()&&o.add(new f.CellCoords(-1,t.from.col)).add(new f.CellCoords(-1,t.to.col));this.runLocalHooks("afterSetRangeEnd",e)}}},{key:"isMultiple",value:function(){var e=(0,p.createObjectPropListener)(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}},{key:"transformStart",value:function(e,t,r){this.setRangeStart(this.transformation.transformStart(e,t,r))}},{key:"transformEnd",value:function(e,t){this.setRangeEnd(this.transformation.transformEnd(e,t))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===e?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e)}},{key:"isSelectedByColumnHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===e?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(e){return this.selectedRange.includes(e)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(e){return(!Number.isInteger(e)||e===this.getLayerLevel())&&(this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple())}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){this.clear(),this.setRangeStart(new f.CellCoords(-1,-1)),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(new f.CellCoords(this.tableProps.countRows()-1,this.tableProps.countCols()-1))}},{key:"selectCells",value:function(e){var t=this,r=(0,v.detectSelectionType)(e);if(r===v.SELECTION_TYPE_EMPTY)return!1;if(r===v.SELECTION_TYPE_UNRECOGNIZED)throw new Error((0,b.toSingleLine)(s));var n=(0,v.normalizeSelectionFactory)(r,{propToCol:function(e){return t.tableProps.propToCol(e)},keepDirection:!0}),i=this.tableProps.countRows(),a=this.tableProps.countCols(),u=!e.some(function(e){var t=n(e),r=o(t,4),s=r[0],u=r[1],l=r[2],c=r[3];return!((0,v.isValidCoord)(s,i)&&(0,v.isValidCoord)(u,a)&&(0,v.isValidCoord)(l,i)&&(0,v.isValidCoord)(c,a))});return u&&(this.clear(),(0,y.arrayEach)(e,function(e){var r=n(e),i=o(r,4),a=i[0],s=i[1],u=i[2],l=i[3];t.setRangeStartOnly(new f.CellCoords(a,s),!1),t.setRangeEnd(new f.CellCoords(u,l)),t.finish()})),u}},{key:"selectColumns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e="string"==typeof e?this.tableProps.propToCol(e):e,t="string"==typeof t?this.tableProps.propToCol(t):t;var r=this.tableProps.countCols(),n=(0,v.isValidCoord)(e,r)&&(0,v.isValidCoord)(t,r);return n&&(this.setRangeStartOnly(new f.CellCoords(-1,e)),this.setRangeEnd(new f.CellCoords(this.tableProps.countRows()-1,t)),this.finish()),n}},{key:"selectRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.tableProps.countRows(),n=(0,v.isValidCoord)(e,r)&&(0,v.isValidCoord)(t,r);return n&&(this.setRangeStartOnly(new f.CellCoords(e,-1)),this.setRangeEnd(new f.CellCoords(t,this.tableProps.countCols()-1)),this.finish()),n}}]),Selection}();(0,p.mixin)(_,g.default),t.default=_},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(4);var o=function(){function SelectionRange(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectionRange),this.ranges=[]}return n(SelectionRange,[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(e){return this.clear(),this.ranges.push(new i.CellRange(e)),this}},{key:"add",value:function(e){return this.ranges.push(new i.CellRange(e)),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(e){return this.ranges.some(function(t){return t.includes(e)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.size()+e-1,r=void 0;return t>=0&&(r=this.ranges[t]),r}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}]),SelectionRange}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(4),a=r(2),s=r(58),u=(n=s)&&n.__esModule?n:{default:n};var l=function(){function Transformation(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Transformation),this.range=e,this.options=t}return i(Transformation,[{key:"transformStart",value:function(e,t,r){var n=new o.CellCoords(e,t);this.runLocalHooks("beforeTransformStart",n);var i=this.options.countRows(),a=this.options.countCols(),s=this.options.fixedRowsBottom(),u=this.options.minSpareRows(),l=this.options.minSpareCols(),c=this.options.autoWrapRow(),f=this.options.autoWrapCol(),h=this.range.current().highlight;h.row+e>i-1?r&&u>0&&!(s&&h.row>=i-s-1)?(this.runLocalHooks("insertRowRequire",i),i=this.options.countRows()):f&&(n.row=1-i,n.col=h.col+n.col==a-1?1-a:1):f&&h.row+n.row<0&&h.col+n.col>=0&&(n.row=i-1,n.col=h.col+n.col==0?a-1:-1),h.col+n.col>a-1?r&&l>0?(this.runLocalHooks("insertColRequire",i),a=this.options.countCols()):c&&(n.row=h.row+n.row==i-1?1-i:1,n.col=1-a):c&&h.col+n.col<0&&h.row+n.row>=0&&(n.row=h.row+n.row==0?i-1:-1,n.col=a-1);var p=new o.CellCoords(h.row+n.row,h.col+n.col),d=0,y=0;return p.row<0?(d=-1,p.row=0):p.row>0&&p.row>=i&&(d=1,p.row=i-1),p.col<0?(y=-1,p.col=0):p.col>0&&p.col>=a&&(y=1,p.col=a-1),this.runLocalHooks("afterTransformStart",p,d,y),p}},{key:"transformEnd",value:function(e,t){var r=new o.CellCoords(e,t);this.runLocalHooks("beforeTransformEnd",r);var n=this.options.countRows(),i=this.options.countCols(),a=this.range.current(),s=new o.CellCoords(a.to.row+r.row,a.to.col+r.col),u=0,l=0;return s.row<0?(u=-1,s.row=0):s.row>0&&s.row>=n&&(u=1,s.row=n-1),s.col<0?(l=-1,s.col=0):s.col>0&&s.col>=i&&(l=1,s.col=i-1),this.runLocalHooks("afterTransformEnd",s,u,l),s}}]),Transformation}();(0,a.mixin)(l,u.default),t.default=l},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t="undefined"!=typeof window&&window.jQuery;if(!t)return;t.fn.handsontable=function(t){var r=this.first(),n=r.data("handsontable");if("string"!=typeof t){var i=t||{};return n?n.updateSettings(i):(n=new e.Core(r[0],i),r.data("handsontable",n),n.init()),r}var o=[],a=void 0;if(arguments.length>1)for(var s=1,u=arguments.length;s<u;s++)o.push(arguments[s]);if(n){if(void 0===n[t])throw new Error("Handsontable do not provide action: "+t);a=n[t].apply(n,o),"destroy"===t&&r.removeData()}return a}}},function(e,t,r){"use strict";t.__esModule=!0,t.Base=t.UndoRedo=t.TouchScroll=t.Search=t.PersistentState=t.ObserveChanges=t.MultipleSelectionHandles=t.MergeCells=t.ManualRowResize=t.ManualRowMove=t.ManualColumnResize=t.ManualColumnMove=t.ManualColumnFreeze=t.DragToScroll=t.CustomBorders=t.CopyPaste=t.ContextMenu=t.Comments=t.ColumnSorting=t.AutoRowSize=t.AutoFill=t.AutoColumnSize=void 0;var n=_interopRequireDefault(r(406)),i=_interopRequireDefault(r(408)),o=_interopRequireDefault(r(409)),a=_interopRequireDefault(r(411)),s=_interopRequireDefault(r(412)),u=_interopRequireDefault(r(415)),l=_interopRequireDefault(r(419)),c=_interopRequireDefault(r(436)),f=_interopRequireDefault(r(443)),h=_interopRequireDefault(r(449)),p=_interopRequireDefault(r(450)),d=_interopRequireDefault(r(454)),y=_interopRequireDefault(r(459)),g=_interopRequireDefault(r(460)),m=_interopRequireDefault(r(465)),v=_interopRequireDefault(r(466)),b=_interopRequireDefault(r(472)),_=_interopRequireDefault(r(473)),w=_interopRequireDefault(r(476)),S=_interopRequireDefault(r(477)),E=_interopRequireDefault(r(478)),C=_interopRequireDefault(r(10));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.AutoColumnSize=i.default,t.AutoFill=o.default,t.AutoRowSize=a.default,t.ColumnSorting=s.default,t.Comments=u.default,t.ContextMenu=l.default,t.CopyPaste=c.default,t.CustomBorders=f.default,t.DragToScroll=h.default,t.ManualColumnFreeze=p.default,t.ManualColumnMove=d.default,t.ManualColumnResize=y.default,t.ManualRowMove=g.default,t.ManualRowResize=m.default,t.MergeCells=v.default,t.MultipleSelectionHandles=b.default,t.ObserveChanges=_.default,t.PersistentState=n.default,t.Search=w.default,t.TouchScroll=S.default,t.UndoRedo=E.default,t.Base=C.default},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=r(8),s=_interopRequireDefault(r(407)),u=_interopRequireDefault(r(15));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}u.default.getSingleton().register("persistentStateSave"),u.default.getSingleton().register("persistentStateLoad"),u.default.getSingleton().register("persistentStateReset");var l=function(e){function PersistentState(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PersistentState);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(PersistentState.__proto__||Object.getPrototypeOf(PersistentState)).call(this,e));return t.storage=void 0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PersistentState,o.default),n(PersistentState,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().persistentState}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.storage||(this.storage=new s.default(this.hot.rootElement.id)),this.addHook("persistentStateSave",function(t,r){return e.saveValue(t,r)}),this.addHook("persistentStateLoad",function(t,r){return e.loadValue(t,r)}),this.addHook("persistentStateReset",function(){return e.resetValue()}),i(PersistentState.prototype.__proto__||Object.getPrototypeOf(PersistentState.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,i(PersistentState.prototype.__proto__||Object.getPrototypeOf(PersistentState.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(PersistentState.prototype.__proto__||Object.getPrototypeOf(PersistentState.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(e,t){t.value=this.storage.loadValue(e)}},{key:"saveValue",value:function(e,t){this.storage.saveValue(e,t)}},{key:"resetValue",value:function(e){void 0===e?this.storage.resetAll():this.storage.reset(e)}},{key:"destroy",value:function(){i(PersistentState.prototype.__proto__||Object.getPrototypeOf(PersistentState.prototype),"destroy",this).call(this)}}]),PersistentState}();(0,a.registerPlugin)("persistentState",l),t.default=l},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1);var o=function(){function Storage(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Storage),this.prefix=e,this.savedKeys=[],this.loadSavedKeys()}return n(Storage,[{key:"saveValue",value:function(e,t){window.localStorage.setItem(this.prefix+"_"+e,JSON.stringify(t)),-1===this.savedKeys.indexOf(e)&&(this.savedKeys.push(e),this.saveSavedKeys())}},{key:"loadValue",value:function(e,t){e=void 0===e?t:e;var r=window.localStorage.getItem(this.prefix+"_"+e);return null===r?void 0:JSON.parse(r)}},{key:"reset",value:function(e){window.localStorage.removeItem(this.prefix+"_"+e)}},{key:"resetAll",value:function(){var e=this;(0,i.arrayEach)(this.savedKeys,function(t,r){window.localStorage.removeItem(e.prefix+"_"+e.savedKeys[r])}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var e=window.localStorage.getItem(this.prefix+"__persistentStateKeys"),t="string"==typeof e?JSON.parse(e):void 0;this.savedKeys=t||[]}},{key:"saveSavedKeys",value:function(){window.localStorage.setItem(this.prefix+"__persistentStateKeys",JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),Storage}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=_interopRequireDefault(r(10)),s=r(1),u=r(40),l=r(0),c=_interopRequireDefault(r(92)),f=r(2),h=r(5),p=r(8),d=_interopRequireDefault(r(320)),y=r(36),g=r(4);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var m=new WeakMap,v=function(e){function AutoColumnSize(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AutoColumnSize);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AutoColumnSize.__proto__||Object.getPrototypeOf(AutoColumnSize)).call(this,e));return m.set(t,{cachedColumnHeaders:[]}),t.widths=[],t.ghostTable=new c.default(t.hot),t.samplesGenerator=new d.default(function(e,r){return t.hot.getCellMeta(e,r).spanned?"":t.hot.getDataAtCell(e,r)}),t.firstCalculation=!0,t.inProgress=!1,t.addHook("beforeColumnResize",function(e,r,n){return t.onBeforeColumnResize(e,r,n)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AutoColumnSize,a.default),o(AutoColumnSize,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),o(AutoColumnSize,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings().autoColumnSize&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().autoColumnSize;t&&null!=t.useHeaders&&this.ghostTable.setSetting("useHeaders",t.useHeaders),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeChange",function(t){return e.onBeforeChange(t)}),this.addHook("beforeRender",function(t){return e.onBeforeRender(t)}),this.addHook("modifyColWidth",function(t,r){return e.getColumnWidth(r,t)}),this.addHook("afterInit",function(){return e.onAfterInit()}),i(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var e=this.findColumnsWhereHeaderWasChanged();e.length&&this.clearCache(e),i(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){i(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"disablePlugin",this).call(this)}},{key:"calculateColumnsWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"number"==typeof e&&(e={from:e,to:e}),"number"==typeof r&&(r={from:r,to:r}),(0,h.rangeEach)(e.from,e.to,function(e){(n||void 0===t.widths[e]&&!t.hot._getColWidthFromSettings(e))&&t.samplesGenerator.generateColumnSamples(e,r).forEach(function(e,r){return t.ghostTable.addColumn(r,e)})}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(e,r){t.widths[e]=r}),this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},r=0,n=this.hot.countCols()-1,i=null;this.inProgress=!0;this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,r=this.getSyncCalculationLimit()+1),r<n?function loop(){if(!e.hot)return(0,u.cancelAnimationFrame)(i),void(e.inProgress=!1);e.calculateColumnsWidth({from:r,to:Math.min(r+AutoColumnSize.CALCULATION_STEP,n)},t),(r=r+AutoColumnSize.CALCULATION_STEP+1)<n?i=(0,u.requestAnimationFrame)(loop):((0,u.cancelAnimationFrame)(i),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var e=this.hot.getSettings().autoColumnSize,t=e&&(0,f.hasOwnProperty)(e,"samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0,r=e&&(0,f.hasOwnProperty)(e,"allowSampleDuplicates")?this.hot.getSettings().autoColumnSize.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&(0,l.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var e=AutoColumnSize.SYNC_CALCULATION_LIMIT,t=this.hot.countCols()-1;return(0,f.isObject)(this.hot.getSettings().autoColumnSize)&&(e=this.hot.getSettings().autoColumnSize.syncLimit,(0,y.isPercentValue)(e)?e=(0,h.valueAccordingPercent)(t,e):e>>=0),Math.min(e,t)}},{key:"getColumnWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t;return void 0===n&&(n=this.widths[e],r&&"number"==typeof n&&(n=Math.max(n,g.ViewportColumnsCalculator.DEFAULT_WIDTH))),n}},{key:"getFirstVisibleColumn",value:function(){var e=this.hot.view.wt;return e.wtViewport.columnsVisibleCalculator?e.wtTable.getFirstVisibleColumn():e.wtViewport.columnsRenderCalculator?e.wtTable.getFirstRenderedColumn():-1}},{key:"getLastVisibleColumn",value:function(){var e=this.hot.view.wt;return e.wtViewport.columnsVisibleCalculator?e.wtTable.getLastVisibleColumn():e.wtViewport.columnsRenderCalculator?e.wtTable.getLastRenderedColumn():-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var e=this.hot.getColHeader(),t=m.get(this).cachedColumnHeaders;return(0,s.arrayReduce)(e,function(e,r,n){var i=t.length;return(i-1<n||t[n]!==r)&&e.push(n),i-1<n?t.push(r):t[n]=r,e},[])}},{key:"clearCache",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length?(0,s.arrayEach)(t,function(t){e.widths[t]=void 0}):this.widths.length=0}},{key:"isNeedRecalculate",value:function(){return!!(0,s.arrayFilter)(this.widths,function(e){return void 0===e}).length}},{key:"onBeforeRender",value:function(){var e=this.hot.renderCall;this.hot.countRows()&&(this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,e),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth())}},{key:"onAfterLoadData",value:function(){var e=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){e.hot&&e.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(e){var t=this,r=(0,s.arrayMap)(e,function(e){var r=n(e,2),i=(r[0],r[1]);return t.hot.propToCol(i)});this.clearCache(r)}},{key:"onBeforeColumnResize",value:function(e,t,r){return r&&(this.calculateColumnsWidth(e,void 0,!0),t=this.getColumnWidth(e,void 0,!1)),t}},{key:"onAfterInit",value:function(){m.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"destroy",value:function(){this.ghostTable.clean(),i(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"destroy",this).call(this)}}]),AutoColumnSize}();(0,p.registerPlugin)("autoColumnSize",v),t.default=v},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=_interopRequireDefault(r(15)),s=r(0),u=_interopRequireDefault(r(6)),l=r(8),c=r(4),f=r(410);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}a.default.getSingleton().register("modifyAutofillRange"),a.default.getSingleton().register("beforeAutofill");var h=function(e){function Autofill(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Autofill);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Autofill.__proto__||Object.getPrototypeOf(Autofill)).call(this,e));return t.eventManager=new u.default(t),t.addingStarted=!1,t.mouseDownOnCellCorner=!1,t.mouseDragOutside=!1,t.handleDraggedCells=0,t.directions=[],t.autoInsertRow=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Autofill,o.default),n(Autofill,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(t){return e.onAfterCellCornerMouseDown(t)}),this.addHook("afterOnCellCornerDblClick",function(t){return e.onCellCornerDblClick(t)}),this.addHook("beforeOnCellMouseOver",function(t,r,n){return e.onBeforeCellMouseOver(r)}),i(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),i(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var e={from:this.hot.getSelectedRangeLast().from,to:this.hot.getSelectedRangeLast().to};return this.hot.getData(e.from.row,e.from.col,e.to.row,e.to.col)}},{key:"fillIn",value:function(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;var e=this.hot.selection.highlight.getFill().getCorners();this.resetSelectionOfDraggedArea();var t=this.getCornersOfSelectedCells();e=this.hot.runHooks("modifyAutofillRange",e,t);var r=(0,f.getDragDirectionAndRange)(t,e),n=r.directionOfDrag,i=r.startOfDragCoords,o=r.endOfDragCoords;if(i&&i.row>-1&&i.col>-1){var a=this.getSelectionData();this.hot.runHooks("beforeAutofill",i,o,a);var s=(0,f.getDeltas)(i,o,a,n),u=a;if(["up","left"].indexOf(n)>-1){u=[];var l=null,c=null;if("up"===n){c=(l=o.row-i.row+1)%a.length;for(var h=0;h<l;h++)u.push(a[(h+(a.length-c))%a.length])}else{c=(l=o.col-i.col+1)%a[0].length;for(var p=0;p<a.length;p++){u.push([]);for(var d=0;d<l;d++)u[p].push(a[p][(d+(a[p].length-c))%a[p].length])}}}this.hot.populateFromArray(i.row,i.col,u,o.row,o.col,this.pluginName+".fill",null,n,s),this.setSelection(e)}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}},{key:"getCoordsOfDragAndDropBorders",value:function(e){var t=this.hot.getSelectedRangeLast().getTopLeftCorner(),r=this.hot.getSelectedRangeLast().getBottomRightCorner(),n=void 0;if(this.directions.includes(f.DIRECTIONS.vertical)&&(r.row<e.row||t.row>e.row))n=new c.CellCoords(e.row,r.col);else{if(!this.directions.includes(f.DIRECTIONS.horizontal))return;n=new c.CellCoords(r.row,e.col)}return this.reduceSelectionAreaIfNeeded(n)}},{key:"showBorder",value:function(e){var t=this.getCoordsOfDragAndDropBorders(e);t&&this.redrawBorders(t)}},{key:"addRow",value:function(){var e=this;this.hot._registerTimeout(setTimeout(function(){e.hot.alter("insert_row",void 0,1,e.pluginName+".fill"),e.addingStarted=!1},200))}},{key:"addNewRowIfNeeded",value:function(){if(this.hot.selection.highlight.getFill().cellRange&&!1===this.addingStarted&&this.autoInsertRow){var e=this.hot.getSelectedLast(),t=this.hot.selection.highlight.getFill().getCorners(),r=this.hot.countRows();e[2]<r-1&&t[2]===r-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getCornersOfSelectedCells",value:function(){return this.hot.selection.isMultiple()?this.hot.selection.highlight.createOrGetArea().getCorners():this.hot.selection.highlight.getCell().getCorners()}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(e){for(var t=this.hot.getData(),r=this.hot.countRows(),n=void 0,i=e[2]+1;i<r;i++){for(var o=e[1];o<=e[3];o++){if(t[i][o])return-1}var a=t[i][e[1]-1],s=t[i][e[3]+1];(a||s)&&(n=i)}return n}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(e,t){this.hot.selection.highlight.getFill().clear().add(new c.CellCoords(e[0],e[1])).add(new c.CellCoords(t,e[3]))}},{key:"setSelection",value:function(e){var t;(t=this.hot).selectCell.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var e=this.getCornersOfSelectedCells(),t=this.getIndexOfLastAdjacentFilledInRow(e);return-1!==t&&(this.addSelectionFromStartAreaToSpecificRowIndex(e,t),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(e){var t=(0,s.offset)(this.hot.table).top-(window.pageYOffset||document.documentElement.scrollTop)+(0,s.outerHeight)(this.hot.table),r=(0,s.offset)(this.hot.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+(0,s.outerWidth)(this.hot.table);return e.clientY>t&&e.clientX<=r}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return e.onMouseUp()}),this.eventManager.addEventListener(document.documentElement,"mousemove",function(t){return e.onMouseMove(t)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(e){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells++,this.showBorder(e),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(e){var t=this.getIfMouseWasDraggedOutside(e);!1===this.addingStarted&&this.handleDraggedCells>0&&t?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var e=(0,f.getMappedFillHandleSetting)(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}},{key:"destroy",value:function(){i(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"destroy",this).call(this)}}]),Autofill}();(0,l.registerPlugin)("autofill",h),t.default=h},function(e,t,r){"use strict";t.__esModule=!0,t.DIRECTIONS=void 0,t.getDeltas=function(e,t,r,n){var i=r.length,o=r?r[0].length:0,a=[],s=t.row-e.row,u=t.col-e.col;if(-1!==["down","up"].indexOf(n)){for(var l=[],c=0;c<=u;c++){var f=parseInt(r[0][c],10),h=parseInt(r[i-1][c],10),p=("down"===n?h-f:f-h)/(i-1)||0;l.push(p)}a.push(l)}if(-1!==["right","left"].indexOf(n))for(var d=0;d<=s;d++){var y=parseInt(r[d][0],10),g=parseInt(r[d][o-1],10),m=("right"===n?g-y:y-g)/(o-1)||0;a.push([m])}return a},t.getDragDirectionAndRange=function(e,t){var r=void 0,n=void 0,i=void 0;t[0]===e[0]&&t[1]<e[1]?(i="left",r=new o.CellCoords(t[0],t[1]),n=new o.CellCoords(t[2],e[1]-1)):t[2]===e[2]&&t[0]===e[0]&&t[3]>e[3]?(i="right",r=new o.CellCoords(t[0],e[3]+1),n=new o.CellCoords(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(i="up",r=new o.CellCoords(t[0],t[1]),n=new o.CellCoords(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(i="down",r=new o.CellCoords(e[2]+1,t[1]),n=new o.CellCoords(t[2],t[3]));return{directionOfDrag:i,startOfDragCoords:r,endOfDragCoords:n}},t.getMappedFillHandleSetting=function(e){var t={};!0===e?(t.directions=Object.keys(a),t.autoInsertRow=!0):(0,n.isObject)(e)?((0,i.isDefined)(e.autoInsertRow)?e.direction===a.horizontal?t.autoInsertRow=!1:t.autoInsertRow=e.autoInsertRow:t.autoInsertRow=!1,(0,i.isDefined)(e.direction)?t.directions=[e.direction]:t.directions=Object.keys(a)):"string"==typeof e?(t.directions=[e],t.autoInsertRow=!0):(t.directions=[],t.autoInsertRow=!1);return t};var n=r(2),i=r(16),o=r(4),a=t.DIRECTIONS={horizontal:"horizontal",vertical:"vertical"}},function(e,t,r){"use strict";t.__esModule=!0;var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=_interopRequireDefault(r(10)),a=r(1),s=r(40),u=r(0),l=_interopRequireDefault(r(92)),c=r(2),f=r(5),h=r(8),p=_interopRequireDefault(r(320)),d=r(36);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function AutoRowSize(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AutoRowSize);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AutoRowSize.__proto__||Object.getPrototypeOf(AutoRowSize)).call(this,e));return t.heights=[],t.ghostTable=new l.default(t.hot),t.samplesGenerator=new p.default(function(e,r){return e>=0?t.hot.getDataAtCell(e,r):-1===e?t.hot.getColHeader(r):null}),t.firstCalculation=!0,t.inProgress=!1,t.addHook("beforeRowResize",function(e,r,n){return t.onBeforeRowResize(e,r,n)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AutoRowSize,o.default),i(AutoRowSize,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),i(AutoRowSize,[{key:"isEnabled",value:function(){return!0===this.hot.getSettings().autoRowSize||(0,c.isObject)(this.hot.getSettings().autoRowSize)}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeChange",function(t){return e.onBeforeChange(t)}),this.addHook("beforeColumnMove",function(){return e.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return e.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return e.clearCache()}),this.addHook("beforeRender",function(t){return e.onBeforeRender(t)}),this.addHook("beforeRowMove",function(t,r){return e.onBeforeRowMove(t,r)}),this.addHook("modifyRowHeight",function(t,r){return e.getRowHeight(r,t)}),this.addHook("modifyColumnHeaderHeight",function(){return e.getColumnHeaderHeight()}),n(AutoRowSize.prototype.__proto__||Object.getPrototypeOf(AutoRowSize.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){n(AutoRowSize.prototype.__proto__||Object.getPrototypeOf(AutoRowSize.prototype),"disablePlugin",this).call(this)}},{key:"calculateRowsHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof e&&(e={from:e,to:e}),"number"==typeof r&&(r={from:r,to:r}),null!==this.hot.getColHeader(0)){var i=this.samplesGenerator.generateRowSamples(-1,r);this.ghostTable.addColumnHeadersRow(i.get(-1))}(0,f.rangeEach)(e.from,e.to,function(e){(n||void 0===t.heights[e])&&t.samplesGenerator.generateRowSamples(e,r).forEach(function(e,r){t.ghostTable.addRow(r,e)})}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(e,r){t.heights[e]=r}),this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},r=0,n=this.hot.countRows()-1,i=null;this.inProgress=!0;this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,r=this.getSyncCalculationLimit()+1),r<n?function loop(){if(!e.hot)return(0,s.cancelAnimationFrame)(i),void(e.inProgress=!1);e.calculateRowsHeight({from:r,to:Math.min(r+AutoRowSize.CALCULATION_STEP,n)},t),(r=r+AutoRowSize.CALCULATION_STEP+1)<n?i=(0,s.requestAnimationFrame)(loop):((0,s.cancelAnimationFrame)(i),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():(this.inProgress=!1,this.hot.view.wt.wtOverlays.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var e=this.hot.getSettings().autoRowSize,t=e&&(0,c.hasOwnProperty)(e,"samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0,r=e&&(0,c.hasOwnProperty)(e,"allowSampleDuplicates")?this.hot.getSettings().autoRowSize.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}},{key:"recalculateAllRowsHeight",value:function(){(0,u.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var e=AutoRowSize.SYNC_CALCULATION_LIMIT,t=this.hot.countRows()-1;return(0,c.isObject)(this.hot.getSettings().autoRowSize)&&(e=this.hot.getSettings().autoRowSize.syncLimit,(0,d.isPercentValue)(e)?e=(0,f.valueAccordingPercent)(t,e):e>>=0),Math.min(e,t)}},{key:"getRowHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t;return void 0!==this.heights[e]&&this.heights[e]>(t||0)&&(r=this.heights[e]),r}},{key:"getColumnHeaderHeight",value:function(){return this.heights[-1]}},{key:"getFirstVisibleRow",value:function(){var e=this.hot.view.wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getFirstVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var e=this.hot.view.wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getLastVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.heights.length=0,this.heights[-1]=void 0}},{key:"clearCacheByRange",value:function(e){var t=this;"number"==typeof e&&(e={from:e,to:e}),(0,f.rangeEach)(Math.min(e.from,e.to),Math.max(e.from,e.to),function(e){t.heights[e]=void 0})}},{key:"isNeedRecalculate",value:function(){return!!(0,a.arrayFilter)(this.heights,function(e){return void 0===e}).length}},{key:"onBeforeRender",value:function(){var e=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,e);var t=this.hot.getSettings().fixedRowsBottom;if(t){var r=this.hot.countRows()-1;this.calculateRowsHeight({from:r-t,to:r})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}},{key:"onBeforeRowMove",value:function(e,t){this.clearCacheByRange({from:e,to:t}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(e,t,r){return r&&(this.calculateRowsHeight(e,void 0,!0),t=this.getRowHeight(e)),t}},{key:"onAfterLoadData",value:function(){var e=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){e.hot&&e.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(e){var t=null;1===e.length?t=e[0][0]:e.length>1&&(t={from:e[0][0],to:e[e.length-1][0]}),null!==t&&this.clearCacheByRange(t)}},{key:"destroy",value:function(){this.ghostTable.clean(),n(AutoRowSize.prototype.__proto__||Object.getPrototypeOf(AutoRowSize.prototype),"destroy",this).call(this)}}]),AutoRowSize}();(0,h.registerPlugin)("autoRowSize",y),t.default=y},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=_interopRequireDefault(r(41)),s=r(0),u=r(1),l=r(16),c=r(2),f=_interopRequireDefault(r(10)),h=r(8),p=_interopRequireDefault(r(413)),d=_interopRequireDefault(r(15));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}d.default.getSingleton().register("beforeColumnSort"),d.default.getSingleton().register("afterColumnSort");var y=function(e){function ColumnSorting(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColumnSorting);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ColumnSorting.__proto__||Object.getPrototypeOf(ColumnSorting)).call(this,e));return t.sortIndicators=[],t.lastSortedColumn=null,t.sortEmptyCells=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ColumnSorting,f.default),i(ColumnSorting,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().columnSorting}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.setPluginOptions();var t=this;this.hot.sortIndex=[],this.hot.sort=function(){var e=Array.prototype.slice.call(arguments);return t.sortByColumn.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))},void 0===this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.addHook("afterTrimRow",function(t){return e.sort()}),this.addHook("afterUntrimRow",function(t){return e.sort()}),this.addHook("modifyRow",function(t){return e.translateRow(t)}),this.addHook("unmodifyRow",function(t){return e.untranslateRow(t)}),this.addHook("afterUpdateSettings",function(){return e.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(t,r){return e.getColHeader(t,r)}),this.addHook("afterOnCellMouseDown",function(t,r){return e.onAfterOnCellMouseDown(t,r)}),this.addHook("afterCreateRow",function(){t.afterCreateRow.apply(t,arguments)}),this.addHook("afterRemoveRow",function(){t.afterRemoveRow.apply(t,arguments)}),this.addHook("afterInit",function(){return e.sortBySettings()}),this.addHook("afterLoadData",function(){e.hot.sortIndex=[],e.hot.view&&e.sortBySettings()}),this.hot.view&&this.sortBySettings(),o(ColumnSorting.prototype.__proto__||Object.getPrototypeOf(ColumnSorting.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.sort=void 0,o(ColumnSorting.prototype.__proto__||Object.getPrototypeOf(ColumnSorting.prototype),"disablePlugin",this).call(this)}},{key:"onAfterUpdateSettings",value:function(){this.sortBySettings()}},{key:"sortBySettings",value:function(){var e=this.hot.getSettings().columnSorting,t=this.loadSortingState(),r=void 0,n=void 0;void 0===t?(r=e.column,n=e.sortOrder):(r=t.sortColumn,n=t.sortOrder),"number"==typeof r&&(this.lastSortedColumn=r,this.sortByColumn(r,n))}},{key:"setSortingColumn",value:function(e,t){if(void 0===e)return this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0);this.hot.sortColumn===e&&void 0===t?!1===this.hot.sortOrder?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder=void 0===t||t,this.hot.sortColumn=e}},{key:"sortByColumn",value:function(e,t){(this.setSortingColumn(e,t),void 0!==this.hot.sortColumn)&&(!1!==this.hot.runHooks("beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder)&&this.sort(),this.updateOrderClass(),this.updateSortIndicator(),this.hot.runHooks("afterColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.hot.render(),this.saveSortingState())}},{key:"saveSortingState",value:function(){var e={};void 0!==this.hot.sortColumn&&(e.sortColumn=this.hot.sortColumn),void 0!==this.hot.sortOrder&&(e.sortOrder=this.hot.sortOrder),((0,c.hasOwnProperty)(e,"sortColumn")||(0,c.hasOwnProperty)(e,"sortOrder"))&&this.hot.runHooks("persistentStateSave","columnSorting",e)}},{key:"loadSortingState",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","columnSorting",e),e.value}},{key:"updateOrderClass",value:function(){var e=void 0;!0===this.hot.sortOrder?e="ascending":!1===this.hot.sortOrder&&(e="descending"),this.sortOrderClass=e}},{key:"enableObserveChangesPlugin",value:function(){var e=this;this.hot._registerTimeout(setTimeout(function(){e.hot.updateSettings({observeChanges:!0})},0))}},{key:"defaultSort",value:function(e,t){return function(r,n){return"string"==typeof r[1]&&(r[1]=r[1].toLowerCase()),"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),r[1]===n[1]?0:(0,l.isEmpty)(r[1])?(0,l.isEmpty)(n[1])?0:t.columnSorting.sortEmptyCells&&e?-1:1:(0,l.isEmpty)(n[1])?(0,l.isEmpty)(r[1])?0:t.columnSorting.sortEmptyCells&&e?1:-1:isNaN(r[1])&&!isNaN(n[1])?e?1:-1:!isNaN(r[1])&&isNaN(n[1])?e?-1:1:(isNaN(r[1])||isNaN(n[1])||(r[1]=parseFloat(r[1]),n[1]=parseFloat(n[1])),r[1]<n[1]?e?-1:1:r[1]>n[1]?e?1:-1:0)}}},{key:"dateSort",value:function(e,t){return function(r,n){if(r[1]===n[1])return 0;if((0,l.isEmpty)(r[1]))return(0,l.isEmpty)(n[1])?0:t.columnSorting.sortEmptyCells&&e?-1:1;if((0,l.isEmpty)(n[1]))return(0,l.isEmpty)(r[1])?0:t.columnSorting.sortEmptyCells&&e?1:-1;var i=(0,a.default)(r[1],t.dateFormat),o=(0,a.default)(n[1],t.dateFormat);return i.isValid()?o.isValid()?o.isAfter(i)?e?-1:1:o.isBefore(i)?e?1:-1:0:-1:1}}},{key:"numericSort",value:function(e,t){return function(r,n){var i=parseFloat(r[1]),o=parseFloat(n[1]);if(i===o||isNaN(i)&&isNaN(o))return 0;if(t.columnSorting.sortEmptyCells){if((0,l.isEmpty)(r[1]))return e?-1:1;if((0,l.isEmpty)(n[1]))return e?1:-1}return isNaN(i)?1:isNaN(o)?-1:i<o?e?-1:1:i>o?e?1:-1:0}}},{key:"sort",value:function(){if(void 0!==this.hot.sortOrder){var e=this.hot.getCellMeta(0,this.hot.sortColumn),t=this.hot.countEmptyRows(),r=void 0;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0,void 0===e.columnSorting.sortEmptyCells&&(e.columnSorting={sortEmptyCells:this.sortEmptyCells});for(var n=0,i=this.hot.getSettings().maxRows===Number.POSITIVE_INFINITY?this.hot.countRows()-this.hot.getSettings().minSpareRows:this.hot.countRows()-t;n<i;n++)this.hot.sortIndex.push([n,this.hot.getDataAtCell(n,this.hot.sortColumn)]);if(e.sortFunction)r=e.sortFunction;else switch(e.type){case"date":r=this.dateSort;break;case"numeric":r=this.numericSort;break;default:r=this.defaultSort}(0,p.default)(this.hot.sortIndex,r(this.hot.sortOrder,e));for(var o=this.hot.sortIndex.length;o<this.hot.countRows();o++)this.hot.sortIndex.push([o,this.hot.getDataAtCell(o,this.hot.sortColumn)]);this.hot.sortingEnabled=!0}else this.hot.sortIndex.length=0}},{key:"updateSortIndicator",value:function(){if(void 0!==this.hot.sortOrder){var e=this.hot.getCellMeta(0,this.hot.sortColumn);this.sortIndicators[this.hot.sortColumn]=e.sortIndicator}}},{key:"translateRow",value:function(e){return this.hot.sortingEnabled&&void 0!==this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[e]?this.hot.sortIndex[e][0]:e}},{key:"untranslateRow",value:function(e){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var t=0;t<this.hot.sortIndex.length;t++)if(this.hot.sortIndex[t][0]==e)return t}},{key:"getColHeader",value:function(e,t){if(e<0||!t.parentNode)return!1;var r=t.querySelector(".colHeader"),n=(t.getAttribute("colspan"),t.parentNode.parentNode.childNodes),i=Array.prototype.indexOf.call(n,t.parentNode);i-=n.length,r&&(this.hot.getSettings().columnSorting&&e>=0&&-1===i&&(0,s.addClass)(r,"columnSorting"),(0,s.removeClass)(r,"descending"),(0,s.removeClass)(r,"ascending"),this.sortIndicators[e]&&e===this.hot.sortColumn&&("ascending"===this.sortOrderClass?(0,s.addClass)(r,"ascending"):"descending"===this.sortOrderClass&&(0,s.addClass)(r,"descending")))}},{key:"isSorted",value:function(){return void 0!==this.hot.sortColumn}},{key:"afterCreateRow",value:function(e,t){if(this.isSorted()){for(var r=0;r<this.hot.sortIndex.length;r++)this.hot.sortIndex[r][0]>=e&&(this.hot.sortIndex[r][0]+=t);for(var n=0;n<t;n++)this.hot.sortIndex.splice(e+n,0,[e+n,this.hot.getSourceData()[e+n][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}}},{key:"afterRemoveRow",value:function(e,t){if(this.isSorted()){var r=this.hot.sortIndex.splice(e,t);r=(0,u.arrayMap)(r,function(e){return e[0]}),this.hot.sortIndex=(0,u.arrayMap)(this.hot.sortIndex,function(e,t){var n=function(e){return(0,u.arrayReduce)(r,function(t,r){return e>r&&t++,t},0)}(e[0]);return n&&(e[0]-=n),e}),this.saveSortingState()}}},{key:"setPluginOptions",value:function(){var e=this.hot.getSettings().columnSorting;"object"===(void 0===e?"undefined":n(e))?this.sortEmptyCells=e.sortEmptyCells||!1:this.sortEmptyCells=!1}},{key:"onAfterOnCellMouseDown",value:function(e,t){t.row>-1||(0,s.hasClass)(e.realTarget,"columnSorting")&&(t.col!==this.lastSortedColumn&&(this.hot.sortOrder=!0),this.lastSortedColumn=t.col,this.sortByColumn(t.col))}}]),ColumnSorting}();(0,h.registerPlugin)("columnSorting",y),t.default=y},function(e,t,r){"use strict";t.__esModule=!0,t.default=function mergeSort(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(Math.abs(n-r)<=1)return[];var i=Math.ceil((r+n)/2);mergeSort(e,t,r,i);mergeSort(e,t,i,n);return merge(e,t,r,i,n)},t.merge=merge;var n,i=r(414),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e,t){var r=e.toString(),n=t.toString();return r===n?0:r<n?-1:1};function merge(e,t,r,n,i){for(var a=new o.default,s=new o.default,u=n-r,l=i-n,c=Math.max(u,l),f=i-r,h=0;h<c;h+=1)h<u&&a.push(e[r+h]),h<l&&s.push(e[n+h]);for(var p=0;p<f;)a.first&&s.first?t(a.first.data,s.first.data)>0?e[r+p]=s.shift().data:e[r+p]=a.shift().data:a.first?e[r+p]=a.shift().data:e[r+p]=s.shift().data,p+=1;return e}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function NodeStructure(e){_classCallCheck(this,NodeStructure),this.data=e,this.next=null,this.prev=null},o=function(){function LinkedList(){_classCallCheck(this,LinkedList),this.first=null,this.last=null}return n(LinkedList,[{key:"push",value:function(e){var t=new i(e);if(null===this.first)this.first=t,this.last=t;else{var r=this.last;this.last=t,t.prev=r,r.next=t}}},{key:"unshift",value:function(e){var t=new i(e);if(null===this.first)this.first=t,this.last=t;else{var r=this.first;this.first=t,t.next=r,r.prev=t}}},{key:"inorder",value:function(e){for(var t=this.first;t;)e(t),t=t.next}},{key:"remove",value:function(e){if(null===this.first)return!1;for(var t=this.first,r=void 0,n=void 0;t;){if(t.data===e)return r=t.next,n=t.prev,r&&(r.prev=n),n&&(n.next=r),t===this.first&&(this.first=r),t===this.last&&(this.last=n),!0;t=t.next}return!1}},{key:"hasCycle",value:function(){for(var e=this.first,t=this.first;;){if(null===e)return!1;if(null===(e=e.next))return!1;if((e=e.next)===(t=t.next))return!0}}},{key:"pop",value:function(){if(null===this.last)return null;var e=this.last;return this.last=this.last.prev,e}},{key:"shift",value:function(){if(null===this.first)return null;var e=this.first;return this.first=this.first.next,e}},{key:"recursiveReverse",value:function(){if(this.first){!function inverse(e,t){t&&(inverse(t,t.next),t.next=e)}(this.first,this.first.next),this.first.next=null;var e=this.first;this.first=this.last,this.last=e}}},{key:"reverse",value:function(){if(this.first&&this.first.next){for(var e=this.first.next,t=this.first,r=void 0;e;)r=e.next,e.next=t,t.prev=e,t=e,e=r;this.first.next=null,this.last.prev=null,r=this.first,this.first=t,this.last=r}}}]),LinkedList}();t.NodeStructure=i,t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=r(0),a=r(2),s=_interopRequireDefault(r(6)),u=r(4),l=r(8),c=_interopRequireDefault(r(10)),f=_interopRequireDefault(r(416)),h=r(19),p=_interopRequireDefault(r(417)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(418);var y=new WeakMap,g=function(e){function Comments(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Comments);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Comments.__proto__||Object.getPrototypeOf(Comments)).call(this,e));return t.editor=null,t.displaySwitch=null,t.eventManager=null,t.range={},t.mouseDown=!1,t.contextMenuEvent=!1,t.timer=null,y.set(t,{tempEditorDimensions:{},cellBelowCursor:null}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Comments,c.default),n(Comments,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().comments}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.editor||(this.editor=new f.default),this.eventManager||(this.eventManager=new s.default(this)),this.displaySwitch||(this.displaySwitch=new p.default(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(t){return e.addToContextMenu(t)}),this.addHook("afterRenderer",function(t,r,n,i,o,a){return e.onAfterRenderer(t,a)}),this.addHook("afterScrollHorizontally",function(){return e.hide()}),this.addHook("afterScrollVertically",function(){return e.hide()}),this.addHook("afterBeginEditing",function(t){return e.onAfterBeginEditing(t)}),this.displaySwitch.addLocalHook("hide",function(){return e.hide()}),this.displaySwitch.addLocalHook("show",function(t,r){return e.showAtCell(t,r)}),this.registerListeners(),i(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){i(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var e=this;this.eventManager.addEventListener(document,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(document,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(document,"mouseup",function(t){return e.onMouseUp(t)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(t){return e.onEditorBlur(t)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(t){return e.onEditorMouseDown(t)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(t){return e.onEditorMouseUp(t)})}},{key:"setRange",value:function(e){this.range=e}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(e){var t=(0,o.closest)(e.target,"TD","TBODY");return!!(t&&(0,o.hasClass)(t,"htCommentCell")&&(0,o.closest)(t,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(e){return this.editor.getInputElement()===e.target}},{key:"setComment",value:function(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.editor.getValue(),r="";null!=e?r=e:null!=t&&(r=t);var n=this.range.from.row,i=this.range.from.col;this.updateCommentMeta(n,i,_defineProperty({},"value",r)),this.hot.render()}},{key:"setCommentAtCell",value:function(e,t,r){this.setRange({from:new u.CellCoords(e,t)}),this.setComment(r)}},{key:"removeComment",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,"comment",void 0),e&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:new u.CellCoords(e,t)}),this.removeComment(r)}},{key:"getComment",value:function(){var e=this.range.from.row,t=this.range.from.col;return this.getCommentMeta(e,t,"value")}},{key:"getCommentAtCell",value:function(e,t){return this.getCommentMeta(e,t,"value")}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var e=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(e.comment?e.comment.value:""),this.editor.hidden&&this.editor.show(),!0}},{key:"showAtCell",value:function(e,t){return this.setRange({from:new u.CellCoords(e,t)}),this.show()}},{key:"hide",value:function(){this.editor.hidden||this.editor.hide()}},{key:"refreshEditor",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.range.from&&this.editor.isVisible()){var e=(0,o.getScrollableElement)(this.hot.view.wt.wtTable.TABLE),t=this.hot.view.wt.wtTable.getCell(this.range.from),r=this.range.from.row,n=this.range.from.col,i=(0,o.offset)(t),a=this.hot.view.wt.wtTable.getStretchedColumnWidth(n),s=i.top<0?0:i.top,u=i.left;this.hot.view.wt.wtViewport.hasVerticalScroll()&&e!==window&&(s-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition()),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&e!==window&&(u-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition());var l=u+a,c=s,f=this.getCommentMeta(r,n,"style"),h=this.getCommentMeta(r,n,"readOnly");f?this.editor.setSize(f.width,f.height):this.editor.resetSize(),this.editor.setReadOnlyState(h),this.editor.setPosition(l,c)}}},{key:"checkSelectionCommentsConsistency",value:function(){var e=this.hot.getSelectedRangeLast();if(!e)return!1;var t=!1,r=e.from;return this.getCommentMeta(r.row,r.col,"value")&&(t=!0),t}},{key:"updateCommentMeta",value:function(e,t,r){var n=this.hot.getCellMeta(e,t).comment,i=void 0;n?(i=(0,a.deepClone)(n),(0,a.deepExtend)(i,r)):i=r,this.hot.setCellMeta(e,t,"comment",i)}},{key:"getCommentMeta",value:function(e,t,r){var n=this.hot.getCellMeta(e,t);if(n.comment)return n.comment[r]}},{key:"onMouseDown",value:function(e){if(this.mouseDown=!0,this.hot.view&&this.hot.view.wt){if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(e)){var t=(0,o.closest)(e.target,"TD","TBODY"),r=null;t&&(r=this.hot.view.wt.wtTable.getCoords(t)),(!t||this.range.from&&r&&(this.range.from.row!==r.row||this.range.from.col!==r.col))&&this.hide()}this.contextMenuEvent=!1}}},{key:"onMouseOver",value:function(e){var t=y.get(this);if(t.cellBelowCursor=document.elementFromPoint(e.clientX,e.clientY),!(this.mouseDown||this.editor.isFocused()||(0,o.hasClass)(e.target,"wtBorder")||t.cellBelowCursor!==e.target)&&this.editor)if(this.targetIsCellWithComment(e)){var r=this.hot.view.wt.wtTable.getCoords(e.target),n={from:new u.CellCoords(r.row,r.col)};this.displaySwitch.show(n)}else(0,o.isChildOf)(e.target,document)&&!this.targetIsCommentTextArea(e)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(e){this.mouseDown=!1}},{key:"onAfterRenderer",value:function(e,t){t.comment&&t.comment.value&&(0,o.addClass)(e,t.commentedCellClassName)}},{key:"onEditorBlur",value:function(e){this.setComment()}},{key:"onEditorMouseDown",value:function(e){y.get(this).tempEditorDimensions={width:(0,o.outerWidth)(e.target),height:(0,o.outerHeight)(e.target)}}},{key:"onEditorMouseUp",value:function(e){var t=y.get(this),r=(0,o.outerWidth)(e.target),n=(0,o.outerHeight)(e.target);r===t.tempEditorDimensions.width+1&&n===t.tempEditorDimensions.height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,_defineProperty({},"style",{width:r,height:n}))}},{key:"onContextMenuAddComment",value:function(){var e=this;this.displaySwitch.cancelHiding();var t=this.hot.getSelectedRangeLast();this.contextMenuEvent=!0,this.setRange({from:t.from}),this.show(),setTimeout(function(){e.hot&&(e.hot.deselectCell(),e.editor.focus())},10)}},{key:"onContextMenuRemoveComment",value:function(){this.contextMenuEvent=!0;for(var e=this.hot.getSelectedRangeLast(),t=e.from,r=e.to,n=t.row;n<=r.row;n++)for(var i=t.col;i<=r.col;i++)this.removeCommentAtCell(n,i,!1);this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){this.contextMenuEvent=!0;for(var e=this.hot.getSelectedRangeLast(),t=e.from,r=e.to,n=t.row;n<=r.row;n++)for(var i=t.col;i<=r.col;i++){var o=!!this.getCommentMeta(n,i,"readOnly");this.updateCommentMeta(n,i,_defineProperty({},"readOnly",!o))}}},{key:"addToContextMenu",value:function(e){var t=this;e.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return t.checkSelectionCommentsConsistency()?t.hot.getTranslatedPhrase(d.CONTEXTMENU_ITEMS_EDIT_COMMENT):t.hot.getTranslatedPhrase(d.CONTEXTMENU_ITEMS_ADD_COMMENT)},callback:function(){return t.onContextMenuAddComment()},disabled:function(){return!(this.getSelectedLast()&&!this.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(d.CONTEXTMENU_ITEMS_REMOVE_COMMENT)},callback:function(){return t.onContextMenuRemoveComment()},disabled:function(){return t.hot.selection.isSelectedByCorner()}},{key:"commentsReadOnly",name:function(){var e=this,t=this.getTranslatedPhrase(d.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT);return(0,h.checkSelectionConsistency)(this.getSelectedRangeLast(),function(t,r){var n=e.getCellMeta(t,r).comment;if(n&&(n=n.readOnly),n)return!0})&&(t=(0,h.markLabelAsSelected)(t)),t},callback:function(){return t.onContextMenuMakeReadOnly()},disabled:function(){return t.hot.selection.isSelectedByCorner()||!t.checkSelectionCommentsConsistency()}})}},{key:"getDisplayDelaySetting",value:function(){var e=this.hot.getSettings().comments;if((0,a.isObject)(e))return e.displayDelay}},{key:"onAfterBeginEditing",value:function(e,t){this.hide()}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),i(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"destroy",this).call(this)}}]),Comments}();(0,l.registerPlugin)("comments",g),t.default=g},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0);var o=function(){function CommentEditor(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommentEditor),this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return n(CommentEditor,null,[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),n(CommentEditor,[{key:"setPosition",value:function(e,t){this.editorStyle.left=e+"px",this.editorStyle.top=t+"px"}},{key:"setSize",value:function(e,t){if(e&&t){var r=this.getInputElement();r.style.width=e+"px",r.style.height=t+"px"}}},{key:"resetSize",value:function(){var e=this.getInputElement();e.style.width="",e.style.height=""}},{key:"setReadOnlyState",value:function(e){this.getInputElement().readOnly=e}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.editorStyle.display="none",this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=e||"",this.getInputElement().value=e}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return document.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var e,t=document.querySelector("."+CommentEditor.CLASS_EDITOR_CONTAINER),r=void 0;return t||(t=document.createElement("div"),(0,i.addClass)(t,CommentEditor.CLASS_EDITOR_CONTAINER),document.body.appendChild(t)),r=document.createElement("div"),(0,i.addClass)(r,CommentEditor.CLASS_EDITOR),e=document.createElement("textarea"),(0,i.addClass)(e,CommentEditor.CLASS_INPUT),r.appendChild(e),t.appendChild(r),r}},{key:"getInputElement",value:function(){return this.editor.querySelector("."+CommentEditor.CLASS_INPUT)}},{key:"destroy",value:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}}]),CommentEditor}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(43),a=r(2),s=r(58),u=(n=s)&&n.__esModule?n:{default:n};var l=function(){function DisplaySwitch(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DisplaySwitch),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(e)}return i(DisplaySwitch,[{key:"hide",value:function(){var e=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===e.wasLastActionShow&&e.runLocalHooks("hide")},250)}},{key:"show",value:function(e){this.wasLastActionShow=!0,this.showDebounced(e)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=(0,o.debounce)(function(t){e.wasLastActionShow&&e.runLocalHooks("show",t.from.row,t.from.col)},t)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),DisplaySwitch}();(0,a.mixin)(l,u.default),t.default=l},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=_interopRequireDefault(r(10)),a=_interopRequireDefault(r(15)),s=r(1),u=_interopRequireDefault(r(420)),l=_interopRequireDefault(r(6)),c=_interopRequireDefault(r(421)),f=_interopRequireDefault(r(433)),h=r(8),p=r(12),d=r(0),y=r(94);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}r(435),a.default.getSingleton().register("afterContextMenuDefaultOptions"),a.default.getSingleton().register("beforeContextMenuShow"),a.default.getSingleton().register("afterContextMenuShow"),a.default.getSingleton().register("afterContextMenuHide"),a.default.getSingleton().register("afterContextMenuExecute");var g=function(e){function ContextMenu(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContextMenu);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ContextMenu.__proto__||Object.getPrototypeOf(ContextMenu)).call(this,e));return t.eventManager=new l.default(t),t.commandExecutor=new u.default(t.hot),t.itemsFactory=null,t.menu=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ContextMenu,o.default),i(ContextMenu,null,[{key:"DEFAULT_ITEMS",get:function(){return[y.ROW_ABOVE,y.ROW_BELOW,y.SEPARATOR,y.COLUMN_LEFT,y.COLUMN_RIGHT,y.SEPARATOR,y.REMOVE_ROW,y.REMOVE_COLUMN,y.SEPARATOR,y.UNDO,y.REDO,y.SEPARATOR,y.READ_ONLY,y.SEPARATOR,y.ALIGNMENT]}}]),i(ContextMenu,[{key:"isEnabled",value:function(){return this.hot.getSettings().contextMenu}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.itemsFactory=new c.default(this.hot,ContextMenu.DEFAULT_ITEMS);var t=this.hot.getSettings().contextMenu,r={items:this.itemsFactory.getItems(t)};this.registerEvents(),"function"==typeof t.callback&&this.commandExecutor.setCommonCallback(t.callback),n(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"enablePlugin",this).call(this);var i=function(){if(e.hot){e.hot.runHooks("afterContextMenuDefaultOptions",r),e.itemsFactory.setPredefinedItems(r.items);var n=e.itemsFactory.getItems(t);e.menu=new f.default(e.hot,{className:"htContextMenu",keepInViewport:!0}),e.hot.runHooks("beforeContextMenuSetItems",n),e.menu.setMenuItems(n),e.menu.addLocalHook("beforeOpen",function(){return e.onMenuBeforeOpen()}),e.menu.addLocalHook("afterOpen",function(){return e.onMenuAfterOpen()}),e.menu.addLocalHook("afterClose",function(){return e.onMenuAfterClose()}),e.menu.addLocalHook("executeCommand",function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.executeCommand.apply(e,r)}),(0,s.arrayEach)(n,function(t){return e.commandExecutor.registerCommand(t.key,t)})}};this.callOnPluginsReady(function(){e.isPluginsReady?setTimeout(i,0):i()})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),n(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),n(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(t){return e.onContextMenu(t)})}},{key:"open",value:function(e){this.menu&&(this.menu.open(),this.menu.setPosition({top:parseInt((0,p.pageY)(e),10)-(0,d.getWindowScrollTop)(),left:parseInt((0,p.pageX)(e),10)-(0,d.getWindowScrollLeft)()}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv)}},{key:"close",value:function(){this.menu&&this.menu.close()}},{key:"executeCommand",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.commandExecutor.execute.apply(this.commandExecutor,t)}},{key:"onContextMenu",value:function(e){var t=this.hot.getSettings(),r=t.rowHeaders,n=t.colHeaders;var i=e.realTarget;this.close(),(0,d.hasClass)(i,"handsontableInput")||(e.preventDefault(),(0,p.stopPropagation)(e),(r||n||function(e){return"TD"===e.nodeName||"TD"===e.parentNode.nodeName}(i)||(0,d.hasClass)(i,"current")&&(0,d.hasClass)(i,"wtBorder"))&&this.open(e))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),n(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"destroy",this).call(this)}}]),ContextMenu}();g.SEPARATOR={name:y.SEPARATOR},(0,h.registerPlugin)("contextMenu",g),t.default=g},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),o=r(2);var a=function(){function CommandExecutor(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommandExecutor),this.hot=e,this.commands={},this.commonCallback=null}return n(CommandExecutor,[{key:"registerCommand",value:function(e,t){this.commands[e]=t}},{key:"setCommonCallback",value:function(e){this.commonCallback=e}},{key:"execute",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=e.split(":");e=s[0];var u=2===s.length?s[1]:null,l=this.commands[e];if(!l)throw new Error("Menu command '"+e+"' not exists.");if(u&&l.submenu&&(l=function(e,t){var r=void 0;return(0,i.arrayEach)(t,function(t){var n=t.key?t.key.split(":"):null;if(Array.isArray(n)&&n[1]===e)return r=t,!1}),r}(u,l.submenu.items)),!0!==l.disabled&&("function"!=typeof l.disabled||!0!==l.disabled.call(this.hot))&&!(0,o.hasOwnProperty)(l,"submenu")){var c=[];"function"==typeof l.callback&&c.push(l.callback),"function"==typeof this.commonCallback&&c.push(this.commonCallback),n.unshift(s.join(":")),(0,i.arrayEach)(c,function(e){return e.apply(t.hot,n)})}}}]),CommandExecutor}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(2),o=r(1),a=r(94);var s=function(){function ItemsFactory(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ItemsFactory),this.hot=e,this.predefinedItems=(0,a.predefinedItems)(),this.defaultOrderPattern=t}return n(ItemsFactory,[{key:"setPredefinedItems",value:function(e){var t=this,r={};this.defaultOrderPattern.length=0,(0,i.objectEach)(e,function(e,n){var i="";e.name===a.SEPARATOR?(r[a.SEPARATOR]=e,i=a.SEPARATOR):isNaN(parseInt(n,10))?(e.key=void 0===e.key?n:e.key,r[n]=e,i=e.key):(r[e.key]=e,i=e.key),t.defaultOrderPattern.push(i)}),this.predefinedItems=r}},{key:"getItems",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[];e&&e.items?e=e.items:Array.isArray(e)||(e=t);(0,i.isObject)(e)?(0,i.objectEach)(e,function(e,t){var o=r["string"==typeof e?e:t];o||(o=e),(0,i.isObject)(e)?(0,i.extend)(o,e):"string"==typeof o&&(o={name:o}),void 0===o.key&&(o.key=t),n.push(o)}):(0,o.arrayEach)(e,function(e,t){var o=r[e];!o&&a.ITEMS.indexOf(e)>=0||(o||(o={name:e,key:""+t}),(0,i.isObject)(e)&&(0,i.extend)(o,e),void 0===o.key&&(o.key=t),n.push(o))});return n}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,this.defaultOrderPattern,this.predefinedItems)}}]),ItemsFactory}();t.default=s},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT)},disabled:function(){return!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:a+":left",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){var n=e.getCellMeta(t,r).className;if(n&&-1!==n.indexOf("htLeft"))return!0});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=(0,n.getAlignmentClasses)(t,function(t,r){return e.getCellMeta(t,r).className});this.runHooks("beforeCellAlignment",r,t,"horizontal","htLeft"),(0,n.align)(t,"horizontal","htLeft",function(t,r){return e.getCellMeta(t,r)},function(t,r,n,i){return e.setCellMeta(t,r,n,i)}),this.render()},disabled:!1},{key:a+":center",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){var n=e.getCellMeta(t,r).className;if(n&&-1!==n.indexOf("htCenter"))return!0});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(e,t){var r=this,i=this.getSelectedRange(),o=(0,n.getAlignmentClasses)(i,function(e,t){return r.getCellMeta(e,t).className});this.runHooks("beforeCellAlignment",o,i,"horizontal","htCenter"),(0,n.align)(i,"horizontal","htCenter",function(e,t){return r.getCellMeta(e,t)},function(e,t,n,i){return r.setCellMeta(e,t,n,i)}),this.render()},disabled:!1},{key:a+":right",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){var n=e.getCellMeta(t,r).className;if(n&&-1!==n.indexOf("htRight"))return!0});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=(0,n.getAlignmentClasses)(t,function(t,r){return e.getCellMeta(t,r).className});this.runHooks("beforeCellAlignment",r,t,"horizontal","htRight"),(0,n.align)(t,"horizontal","htRight",function(t,r){return e.getCellMeta(t,r)},function(t,r,n,i){return e.setCellMeta(t,r,n,i)}),this.render()},disabled:!1},{key:a+":justify",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){var n=e.getCellMeta(t,r).className;if(n&&-1!==n.indexOf("htJustify"))return!0});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=(0,n.getAlignmentClasses)(t,function(t,r){return e.getCellMeta(t,r).className});this.runHooks("beforeCellAlignment",r,t,"horizontal","htJustify"),(0,n.align)(t,"horizontal","htJustify",function(t,r){return e.getCellMeta(t,r)},function(t,r,n,i){return e.setCellMeta(t,r,n,i)}),this.render()},disabled:!1},{name:i.KEY},{key:a+":top",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_TOP),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){var n=e.getCellMeta(t,r).className;if(n&&-1!==n.indexOf("htTop"))return!0});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=(0,n.getAlignmentClasses)(t,function(t,r){return e.getCellMeta(t,r).className});this.runHooks("beforeCellAlignment",r,t,"vertical","htTop"),(0,n.align)(t,"vertical","htTop",function(t,r){return e.getCellMeta(t,r)},function(t,r,n,i){return e.setCellMeta(t,r,n,i)}),this.render()},disabled:!1},{key:a+":middle",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){var n=e.getCellMeta(t,r).className;if(n&&-1!==n.indexOf("htMiddle"))return!0});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=(0,n.getAlignmentClasses)(t,function(t,r){return e.getCellMeta(t,r).className});this.runHooks("beforeCellAlignment",r,t,"vertical","htMiddle"),(0,n.align)(t,"vertical","htMiddle",function(t,r){return e.getCellMeta(t,r)},function(t,r,n,i){return e.setCellMeta(t,r,n,i)}),this.render()},disabled:!1},{key:a+":bottom",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){var n=e.getCellMeta(t,r).className;if(n&&-1!==n.indexOf("htBottom"))return!0});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=(0,n.getAlignmentClasses)(t,function(t,r){return e.getCellMeta(t,r).className});this.runHooks("beforeCellAlignment",r,t,"vertical","htBottom"),(0,n.align)(t,"vertical","htBottom",function(t,r){return e.getCellMeta(t,r)},function(t,r,n,i){return e.setCellMeta(t,r,n,i)}),this.render()},disabled:!1}]}}};var n=r(19),i=r(93),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var a=t.KEY="alignment"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_CLEAR_COLUMN)},callback:function(e,t){var r=t[0].start.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),r,"ContextMenu.clearColumn")},disabled:function(){var e=(0,i.getValidSelection)(this);if(!e)return!0;var t=n(e[0],4),r=t[0],o=t[1],a=t[2],s=(t[3],[r,0,a,this.countCols()-1]),u=s.join(",")===e.join(",");return o<0||this.countCols()>=this.getSettings().maxCols||u}}};var i=r(19),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var a=t.KEY="clear_column"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_INSERT_LEFT)},callback:function(e,t){var r=t[Math.max(t.length-1,0)];this.alter("insert_col",r.start.col,1,"ContextMenu.columnLeft")},disabled:function(){var e=(0,i.getValidSelection)(this);if(!e)return!0;if(!this.isColumnModificationAllowed())return!0;var t=n(e[0],4),r=t[0],o=t[1],a=t[2],s=(t[3],[r,0,a,this.countCols()-1]),u=s.join(",")===e.join(","),l=1===this.countCols();return o<0||this.countCols()>=this.getSettings().maxCols||!l&&u},hidden:function(){return!this.getSettings().allowInsertColumn}}};var i=r(19),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var a=t.KEY="col_left"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_INSERT_RIGHT)},callback:function(e,t){var r=t[Math.max(t.length-1,0)];this.alter("insert_col",r.end.col+1,1,"ContextMenu.columnRight")},disabled:function(){var e=(0,i.getValidSelection)(this);if(!e)return!0;if(!this.isColumnModificationAllowed())return!0;var t=n(e[0],4),r=t[0],o=t[1],a=t[2],s=(t[3],[r,0,a,this.countCols()-1]),u=s.join(",")===e.join(","),l=1===this.countCols();return o<0||this.countCols()>=this.getSettings().maxCols||!l&&u},hidden:function(){return!this.getSettings().allowInsertColumn}}};var i=r(19),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var a=t.KEY="col_right"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:a,name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_READ_ONLY),r=(0,n.checkSelectionConsistency)(this.getSelectedRange(),function(t,r){return e.getCellMeta(t,r).readOnly});return r&&(t=(0,n.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),r=(0,n.checkSelectionConsistency)(t,function(t,r){return e.getCellMeta(t,r).readOnly});(0,i.arrayEach)(t,function(t){t.forAll(function(t,n){e.setCellMeta(t,n,"readOnly",!r)})}),this.render()},disabled:function(){return!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())}}};var n=r(19),i=r(1),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var a=t.KEY="make_read_only"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:i,name:function(){return this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_REDO)},callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var i=t.KEY="redo"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:s,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=n(e[0],4),i=r[1],o=r[3];i-o!=0&&(t=1)}return this.getTranslatedPhrase(a.CONTEXTMENU_ITEMS_REMOVE_COLUMN,t)},callback:function(){this.alter("remove_col",(0,o.transformSelectionToColumnDistance)(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){var e=(0,i.getValidSelection)(this),t=this.countCols();return!e||(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner()||!this.isColumnModificationAllowed()||!t)},hidden:function(){return!this.getSettings().allowRemoveColumn}}};var i=r(19),o=(r(1),r(91)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var s=t.KEY="remove_col"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:s,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var r=n(e[0],3),i=r[0],o=r[2];i-o!=0&&(t=1)}return this.getTranslatedPhrase(a.CONTEXTMENU_ITEMS_REMOVE_ROW,t)},callback:function(){this.alter("remove_row",(0,o.transformSelectionToRowDistance)(this.getSelected()),null,"ContextMenu.removeRow")},disabled:function(){var e=(0,i.getValidSelection)(this),t=this.countRows();return!e||(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner()||!t)},hidden:function(){return!this.getSettings().allowRemoveRow}}};var i=r(19),o=(r(1),r(91)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var s=t.KEY="remove_row"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:o,name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_ROW_ABOVE)},callback:function(e,t){var r=t[Math.max(t.length-1,0)];this.alter("insert_row",r.start.row,1,"ContextMenu.rowAbove")},disabled:function(){var e=(0,n.getValidSelection)(this);return!e||(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}};var n=r(19),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var o=t.KEY="row_above"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:o,name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_ROW_BELOW)},callback:function(e,t){var r=t[Math.max(t.length-1,0)];this.alter("insert_row",r.end.row+1,1,"ContextMenu.rowBelow")},disabled:function(){var e=(0,n.getValidSelection)(this);return!e||(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}};var n=r(19),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var o=t.KEY="row_below"},function(e,t,r){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:i,name:function(){return this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_UNDO)},callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var i=t.KEY="undo"},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(88)),o=r(0),a=r(1),s=_interopRequireDefault(r(434)),u=_interopRequireDefault(r(6)),l=r(2),c=r(16),f=r(43),h=r(19),p=r(21),d=_interopRequireDefault(r(58)),y=r(94),g=r(12);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var m=215,v=function(){function Menu(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Menu),this.hot=e,this.options=t||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:m},this.eventManager=new u.default(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return n(Menu,[{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){return e.onDocumentMouseDown(t)})}},{key:"setMenuItems",value:function(e){this.menuItems=e}},{key:"setOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[e]=t}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var e=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var t=(0,f.debounce)(function(t){return e.openSubMenu(t)},300),r=this.options.minWidth||m,n=(0,a.arrayFilter)(this.menuItems,function(t){return(0,h.isItemHidden)(t,e.hot)}),o={data:n=(0,h.filterSeparators)(n,y.SEPARATOR),colHeaders:!1,autoColumnSize:!0,modifyColWidth:function(e){return(0,c.isDefined)(e)&&e<r?r:e},autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(t,r,n,i,o,a){return e.menuItemRenderer(t,r,n,i,o,a)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(t){return e.onBeforeKeyDown(t)},afterOnCellMouseOver:function(r,n,i){e.isAllSubMenusClosed()?t(n.row):e.openSubMenu(n.row)},rowHeights:function(e){return n[e].name===y.SEPARATOR?1:23}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new i.default(this.container,o),this.hotMenu.addHook("afterInit",function(){return e.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return e.onAfterSelection.apply(e,arguments)}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpened()&&(e&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(e){if(!this.hotMenu)return!1;var t=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!t||!(0,h.hasSubMenu)(t))return!1;var r=this.hotMenu.getSourceDataAtRow(e),n=new Menu(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0});return n.setMenuItems(r.submenu.items),n.open(),n.setPosition(t.getBoundingClientRect()),this.hotSubMenus[r.key]=n,n}},{key:"closeSubMenu",value:function(e){var t=this.hotMenu.getSourceDataAtRow(e),r=this.hotSubMenus[t.key];r&&(r.destroy(),delete this.hotSubMenus[t.key])}},{key:"closeAllSubMenus",value:function(){var e=this;(0,a.arrayEach)(this.hotMenu.getData(),function(t,r){return e.closeSubMenu(r)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(e){if(this.isOpened()&&this.hotMenu.getSelectedLast()){var t=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]);if(this.runLocalHooks("select",t,e),!1!==t.isCommand&&t.name!==y.SEPARATOR){var r=this.hot.getSelectedRange(),n=r?(0,h.normalizeSelection)(r):[],i=!0;(!0===t.disabled||"function"==typeof t.disabled&&!0===t.disabled.call(this.hot)||t.submenu)&&(i=!1),this.runLocalHooks("executeCommand",t.key,n,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",t.key,n,e),i&&this.close(!0)}}}},{key:"setPosition",value:function(e){var t=new s.default(e);this.options.keepInViewport?(t.fitsBelow(this.container)?this.setPositionBelowCursor(t):t.fitsAbove(this.container)?this.setPositionAboveCursor(t):this.setPositionBelowCursor(t),t.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(t):this.setPositionOnLeftOfCursor(t)):(this.setPositionBelowCursor(t),this.setPositionOnRightOfCursor(t))}},{key:"setPositionAboveCursor",value:function(e){var t=this.offset.above+e.top-this.container.offsetHeight;this.isSubMenu()&&(t=e.top+e.cellHeight-this.container.offsetHeight+3),this.container.style.top=t+"px"}},{key:"setPositionBelowCursor",value:function(e){var t=this.offset.below+e.top;this.isSubMenu()&&(t=e.top-1),this.container.style.top=t+"px"}},{key:"setPositionOnRightOfCursor",value:function(e){var t=void 0;t=this.isSubMenu()?1+e.left+e.cellWidth:this.offset.right+1+e.left,this.container.style.left=t+"px"}},{key:"setPositionOnLeftOfCursor",value:function(e){var t=this.offset.left+e.left-this.container.offsetWidth+(0,o.getScrollbarWidth)()+4;this.container.style.left=t+"px"}},{key:"selectFirstCell",value:function(){var e=this.hotMenu.getCell(0,0);(0,h.isSeparator)(e)||(0,h.isDisabled)(e)||(0,h.isSelectionDisabled)(e)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var e=this.hotMenu.countRows()-1,t=this.hotMenu.getCell(e,0);(0,h.isSeparator)(t)||(0,h.isDisabled)(t)||(0,h.isSelectionDisabled)(t)?this.selectPrevCell(e,0):this.hotMenu.selectCell(e,0)}},{key:"selectNextCell",value:function(e,t){var r=e+1,n=r<this.hotMenu.countRows()?this.hotMenu.getCell(r,t):null;n&&((0,h.isSeparator)(n)||(0,h.isDisabled)(n)||(0,h.isSelectionDisabled)(n)?this.selectNextCell(r,t):this.hotMenu.selectCell(r,t))}},{key:"selectPrevCell",value:function(e,t){var r=e-1,n=r>=0?this.hotMenu.getCell(r,t):null;n&&((0,h.isSeparator)(n)||(0,h.isDisabled)(n)||(0,h.isSelectionDisabled)(n)?this.selectPrevCell(r,t):this.hotMenu.selectCell(r,t))}},{key:"menuItemRenderer",value:function(e,t,r,n,i,a){var s=this,u=e.getSourceDataAtRow(r),c=document.createElement("div"),f=function(e){return e.disableSelection};"function"==typeof a&&(a=a.call(this.hot)),(0,o.empty)(t),(0,o.addClass)(c,"htItemWrapper"),t.appendChild(c),!function(e){return new RegExp(y.SEPARATOR,"i").test(e.name)}(u)?"function"==typeof u.renderer?((0,o.addClass)(t,"htCustomMenuRenderer"),t.appendChild(u.renderer(e,c,r,n,i,a))):(0,o.fastInnerHTML)(c,a):(0,o.addClass)(t,"htSeparator"),!function(e){return!0===e.disabled||"function"==typeof e.disabled&&!0===e.disabled.call(s.hot)}(u)?f(u)?((0,o.addClass)(t,"htSelectionDisabled"),this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()})):!function(e){return(0,l.hasOwnProperty)(e,"submenu")}(u)?((0,o.removeClass)(t,"htSubmenu"),(0,o.removeClass)(t,"htDisabled"),f(u)?this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()}):this.eventManager.addEventListener(t,"mouseenter",function(){return e.selectCell(r,n,void 0,void 0,!1,!1)})):((0,o.addClass)(t,"htSubmenu"),f(u)?this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()}):this.eventManager.addEventListener(t,"mouseenter",function(){return e.selectCell(r,n,void 0,void 0,!1,!1)})):((0,o.addClass)(t,"htDisabled"),this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()}))}},{key:"createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=void 0;return e?((0,f.isFunction)(e)&&(e=null===(e=e.call(this.hot))||(0,c.isUndefined)(e)?"":e.toString()),e=e.replace(/[^A-z0-9]/g,"_"),e=this.options.className+"Sub_"+e,t=document.querySelector("."+this.options.className+"."+e)):t=document.querySelector("."+this.options.className),t||(t=document.createElement("div"),(0,o.addClass)(t,"htMenu "+this.options.className),e&&(0,o.addClass)(t,e),document.getElementsByTagName("body")[0].appendChild(t)),t}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onBeforeKeyDown",value:function(e){var t=this.hotMenu.getSelectedLast(),r=!1;switch(this.keyEvent=!0,e.keyCode){case p.KEY_CODES.ESCAPE:this.close(),r=!0;break;case p.KEY_CODES.ENTER:t&&(this.hotMenu.getSourceDataAtRow(t[0]).submenu?r=!0:(this.executeCommand(e),this.close(!0)));break;case p.KEY_CODES.ARROW_DOWN:t?this.selectNextCell(t[0],t[1]):this.selectFirstCell(),r=!0;break;case p.KEY_CODES.ARROW_UP:t?this.selectPrevCell(t[0],t[1]):this.selectLastCell(),r=!0;break;case p.KEY_CODES.ARROW_RIGHT:if(t){var n=this.openSubMenu(t[0]);n&&n.selectFirstCell()}r=!0;break;case p.KEY_CODES.ARROW_LEFT:t&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),r=!0)}r&&(e.preventDefault(),(0,g.stopImmediatePropagation)(e)),this.keyEvent=!1}},{key:"onAfterInit",value:function(){var e=this.hotMenu.getSettings().data,t=this.hotMenu.view.wt.wtTable.hider.style,r=this.hotMenu.view.wt.wtTable.holder.style,n=parseInt(t.width,10),i=(0,a.arrayReduce)(e,function(e,t){return e+(t.name===y.SEPARATOR?1:26)},0);r.width=n+22+"px",r.height=i+4+"px",t.height=r.height}},{key:"onAfterSelection",value:function(e,t,r,n,i){!1===this.keyEvent&&(i.value=!0)}},{key:"onDocumentMouseDown",value:function(e){this.isOpened()&&(this.container&&(0,o.isChildOf)(e.target,this.container)&&this.executeCommand(e),this.options.standalone&&this.hotMenu&&!(0,o.isChildOf)(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!(0,o.isChildOf)(e.target,".htMenu")&&(0,o.isChildOf)(e.target,document)&&this.close(!0))}}]),Menu}();(0,l.mixin)(v,d.default),t.default=v},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(0),o=r(12);var a=function(){function Cursor(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Cursor);var t=(0,i.getWindowScrollTop)(),r=(0,i.getWindowScrollLeft)(),n=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0;this.type=this.getSourceType(e),"literal"===this.type?(n=parseInt(e.top,10),s=parseInt(e.left,10),l=e.height||0,c=e.width||0,a=n,u=s,n+=t,s+=r):"event"===this.type&&(n=parseInt((0,o.pageY)(e),10),s=parseInt((0,o.pageX)(e),10),l=e.target.clientHeight,c=e.target.clientWidth,a=n-t,u=s-r),this.top=n,this.topRelative=a,this.left=s,this.leftRelative=u,this.scrollTop=t,this.scrollLeft=r,this.cellHeight=l,this.cellWidth=c}return n(Cursor,[{key:"getSourceType",value:function(e){var t="literal";return e instanceof Event&&(t="event"),t}},{key:"fitsAbove",value:function(e){return this.topRelative>=e.offsetHeight}},{key:"fitsBelow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+e.offsetHeight<=t}},{key:"fitsOnRight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=t}},{key:"fitsOnLeft",value:function(e){return this.leftRelative>=e.offsetWidth}}]),Cursor}();t.default=a},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=_interopRequireDefault(r(10)),s=_interopRequireDefault(r(15)),u=_interopRequireDefault(r(311)),l=r(4),c=r(0),f=r(1),h=r(5),p=r(8),d=_interopRequireDefault(r(437)),y=_interopRequireDefault(r(438)),g=_interopRequireDefault(r(439)),m=_interopRequireDefault(r(6)),v=_interopRequireDefault(r(440));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}r(442),s.default.getSingleton().register("afterCopyLimit"),s.default.getSingleton().register("modifyCopyableRange"),s.default.getSingleton().register("beforeCut"),s.default.getSingleton().register("afterCut"),s.default.getSingleton().register("beforePaste"),s.default.getSingleton().register("afterPaste"),s.default.getSingleton().register("beforeCopy"),s.default.getSingleton().register("afterCopy");var b=1e3,_=1e3,w=new WeakMap,S=function(e){function CopyPaste(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CopyPaste);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(CopyPaste.__proto__||Object.getPrototypeOf(CopyPaste)).call(this,e));return t.eventManager=new m.default(t),t.columnsLimit=_,t.copyableRanges=[],t.pasteMode="overwrite",t.rowsLimit=b,t.textarea=void 0,w.set(t,{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CopyPaste,a.default),i(CopyPaste,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().copyPaste}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings(),r=w.get(this);this.textarea=d.default.getSingleton(),r.isFragmentSelectionEnabled=t.fragmentSelection,"object"===n(t.copyPaste)&&(this.pasteMode=t.copyPaste.pasteMode||this.pasteMode,this.rowsLimit=t.copyPaste.rowsLimit||this.rowsLimit,this.columnsLimit=t.copyPaste.columnsLimit||this.columnsLimit),this.addHook("afterContextMenuDefaultOptions",function(t){return e.onAfterContextMenuDefaultOptions(t)}),this.addHook("afterSelectionEnd",function(){return e.onAfterSelectionEnd()}),this.registerEvents(),o(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),o(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.textarea&&this.textarea.destroy(),o(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"disablePlugin",this).call(this)}},{key:"setCopyableText",value:function(){var e=this.hot.getSelectedRangeLast();if(e){var t=e.getTopLeftCorner(),r=e.getBottomRightCorner(),n=t.row,i=t.col,o=r.row,a=r.col,s=Math.min(o,n+this.rowsLimit-1),u=Math.min(a,i+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:n,startCol:i,endRow:s,endCol:u}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),o===s&&a===u||this.hot.runHooks("afterCopyLimit",o-n+1,a-i+1,this.rowsLimit,this.columnsLimit)}}},{key:"getRangedCopyableData",value:function(e){var t=this,r=[],n=[],i=[];return(0,f.arrayEach)(e,function(e){(0,h.rangeEach)(e.startRow,e.endRow,function(e){-1===n.indexOf(e)&&n.push(e)}),(0,h.rangeEach)(e.startCol,e.endCol,function(e){-1===i.indexOf(e)&&i.push(e)})}),(0,f.arrayEach)(n,function(e){var n=[];(0,f.arrayEach)(i,function(r){n.push(t.hot.getCopyableData(e,r))}),r.push(n)}),u.default.stringify(r)}},{key:"getRangedData",value:function(e){var t=this,r=[],n=[],i=[];return(0,f.arrayEach)(e,function(e){(0,h.rangeEach)(e.startRow,e.endRow,function(e){-1===n.indexOf(e)&&n.push(e)}),(0,h.rangeEach)(e.startCol,e.endCol,function(e){-1===i.indexOf(e)&&i.push(e)})}),(0,f.arrayEach)(n,function(e){var n=[];(0,f.arrayEach)(i,function(r){n.push(t.hot.getCopyableData(e,r))}),r.push(n)}),r}},{key:"copy",value:function(){w.get(this).isTriggeredByCopy=!0,this.textarea.select(),document.execCommand("copy")}},{key:"cut",value:function(){w.get(this).isTriggeredByCut=!0,this.textarea.select(),document.execCommand("cut")}},{key:"paste",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new v.default;t.clipboardData.setData("text/plain",e),this.onPaste(t)}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(this.textarea.element,"paste",function(t){return e.onPaste(t)}),this.eventManager.addEventListener(this.textarea.element,"cut",function(t){return e.onCut(t)}),this.eventManager.addEventListener(this.textarea.element,"copy",function(t){return e.onCopy(t)})}},{key:"onCopy",value:function(e){var t=w.get(this);if(this.hot.isListening()||t.isTriggeredByCopy){this.setCopyableText(),t.isTriggeredByCopy=!1;var r=this.getRangedData(this.copyableRanges),n="";!!this.hot.runHooks("beforeCopy",r,this.copyableRanges)&&(n=u.default.stringify(r),e&&e.clipboardData?e.clipboardData.setData("text/plain",n):"undefined"==typeof ClipboardEvent&&window.clipboardData.setData("Text",n),this.hot.runHooks("afterCopy",r,this.copyableRanges)),e.preventDefault()}}},{key:"onCut",value:function(e){var t=w.get(this);if(this.hot.isListening()||t.isTriggeredByCut){this.setCopyableText(),t.isTriggeredByCut=!1;var r=this.getRangedData(this.copyableRanges),n=void 0;!!this.hot.runHooks("beforeCut",r,this.copyableRanges)&&(n=u.default.stringify(r),e&&e.clipboardData?e.clipboardData.setData("text/plain",n):"undefined"==typeof ClipboardEvent&&window.clipboardData.setData("Text",n),this.hot.emptySelectedCells(),this.hot.runHooks("afterCut",r,this.copyableRanges)),e.preventDefault()}}},{key:"onPaste",value:function(e){var t=this;if(this.hot.isListening()){e&&e.preventDefault&&e.preventDefault();var r;if(e&&void 0!==e.clipboardData?this.textarea.setValue(e.clipboardData.getData("text/plain")):"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&this.textarea.setValue(window.clipboardData.getData("Text")),r=u.default.parse(this.textarea.getValue()),this.textarea.setValue(" "),0!==r.length)if(!!this.hot.runHooks("beforePaste",r,this.copyableRanges)){var n=this.hot.getSelectedLast(),i=new l.CellCoords(n[0],n[1]),o=new l.CellCoords(n[2],n[3]),a=new l.CellRange(i,i,o),s=a.getTopLeftCorner(),c=a.getBottomRightCorner(),h=s,p=new l.CellCoords(Math.max(c.row,r.length-1+s.row),Math.max(c.col,r[0].length-1+s.col)),d=o.row-i.row>=r.length-1,y=o.col-i.col>=r[0].length-1;this.hot.addHookOnce("afterChange",function(e){var r=e?e.length:0;if(r){var n={row:0,col:0},i=-1;(0,f.arrayEach)(e,function(t,o){var a=r>o+1?e[o+1]:null;a&&(d||(n.row+=Math.max(a[0]-t[0]-1,0)),!y&&t[1]>i&&(i=t[1],n.col+=Math.max(a[1]-t[1]-1,0)))}),t.hot.selectCell(h.row,h.col,p.row+n.row,p.col+n.col)}}),this.hot.populateFromArray(h.row,h.col,r,p.row,p.col,"CopyPaste.paste",this.pasteMode),this.hot.runHooks("afterPaste",r,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(e){e.items.push({name:"---------"},(0,y.default)(this),(0,g.default)(this))}},{key:"onAfterSelectionEnd",value:function(){var e=w.get(this),t=this.hot.getActiveEditor();t&&void 0!==t.isOpened&&t.isOpened()||e.isFragmentSelectionEnabled&&!this.textarea.isActive()&&(0,c.getSelectionText)()||(this.setCopyableText(),this.textarea.select())}},{key:"destroy",value:function(){this.textarea&&this.textarea.destroy(),o(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"destroy",this).call(this)}}]),CopyPaste}();(0,p.registerPlugin)("CopyPaste",S),t.default=S},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function Textarea(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Textarea),this.element=void 0,this.isAppended=!1,this.refCounter=0}return n(Textarea,null,[{key:"getSingleton",value:function(){return o.append(),o}}]),n(Textarea,[{key:"append",value:function(){this.hasBeenDestroyed()&&this.create(),this.refCounter++,!this.isAppended&&document.body&&document.body&&(this.isAppended=!0,document.body.appendChild(this.element))}},{key:"create",value:function(){this.element=document.createElement("textarea"),this.element.id="HandsontableCopyPaste",this.element.className="copyPaste",this.element.tabIndex=-1,this.element.autocomplete="off",this.element.wrap="hard",this.element.value=" "}},{key:"deselect",value:function(){this.element===document.activeElement&&document.activeElement.blur()}},{key:"destroy",value:function(){this.refCounter--,this.refCounter=this.refCounter<0?0:this.refCounter,this.hasBeenDestroyed()&&this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.element=null,this.isAppended=!1)}},{key:"getValue",value:function(){return this.element.value}},{key:"hasBeenDestroyed",value:function(){return this.refCounter<1}},{key:"isActive",value:function(){return this.element===document.activeElement}},{key:"select",value:function(){this.element.focus(),this.element.select()}},{key:"setValue",value:function(e){this.element.value=e}}]),Textarea}(),o=new i;t.default=i},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"copy",name:function(){return this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_COPY)},callback:function(){e.copy()},disabled:function(){var e=this.getSelected();return!e||e.length>1},hidden:!1}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7))},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"cut",name:function(){return this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_CUT)},callback:function(){e.cut()},disabled:function(){var e=this.getSelected();return!e||e.length>1},hidden:!1}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7))},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(441),o=(n=i)&&n.__esModule?n:{default:n};t.default=function PasteEvent(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PasteEvent),this.clipboardData=new o.default}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function ClipboardData(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClipboardData),this.data={}}return n(ClipboardData,[{key:"setData",value:function(e,t){this.data[e]=t}},{key:"getData",value:function(e){return this.data[e]||void 0}}]),ClipboardData}();t.default=i},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=r(8),s=r(2),u=r(5),l=r(4),c=(_interopRequireDefault(r(15)),r(1)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),h=_interopRequireDefault(r(444)),p=_interopRequireDefault(r(445)),d=_interopRequireDefault(r(446)),y=_interopRequireDefault(r(447)),g=_interopRequireDefault(r(448)),m=r(48);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function CustomBorders(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CustomBorders);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(CustomBorders.__proto__||Object.getPrototypeOf(CustomBorders)).call(this,e));return t.savedBorderSettings=void 0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CustomBorders,o.default),n(CustomBorders,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().customBorders}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(t){return e.onAfterContextMenuDefaultOptions(t)}),this.addHook("afterInit",function(){return e.onAfterInit()}),i(CustomBorders.prototype.__proto__||Object.getPrototypeOf(CustomBorders.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearBorders(),i(CustomBorders.prototype.__proto__||Object.getPrototypeOf(CustomBorders.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),i(CustomBorders.prototype.__proto__||Object.getPrototypeOf(CustomBorders.prototype),"updatePlugin",this).call(this)}},{key:"getSettingIndex",value:function(e){var t=-1;return(0,c.arrayEach)(this.hot.selection.highlight.borders,function(r,n){if(r.settings.className===e)return t=n,!1}),t}},{key:"insertBorderIntoSettings",value:function(e){var t={row:e.row,col:e.col},r=new l.Selection(e,new l.CellRange(t,t,t)),n=this.getSettingIndex(e.className);n>=0?this.hot.selection.highlight.borders[n]=r:this.hot.selection.highlight.borders.push(r)}},{key:"prepareBorderFromCustomAdded",value:function(e,t,r){var n=(0,m.createEmptyBorders)(e,t);n=(0,m.extendDefaultBorder)(n,r),this.hot.setCellMeta(e,t,"borders",n),this.insertBorderIntoSettings(n)}},{key:"prepareBorderFromCustomAddedRange",value:function(e){var t=this,r=e.range;(0,u.rangeEach)(r.from.row,r.to.row,function(n){(0,u.rangeEach)(r.from.col,r.to.col,function(i){var o=(0,m.createEmptyBorders)(n,i),a=0;n===r.from.row&&(a+=1,(0,s.hasOwnProperty)(e,"top")&&(o.top=e.top)),n===r.to.row&&(a+=1,(0,s.hasOwnProperty)(e,"bottom")&&(o.bottom=e.bottom)),i===r.from.col&&(a+=1,(0,s.hasOwnProperty)(e,"left")&&(o.left=e.left)),i===r.to.col&&(a+=1,(0,s.hasOwnProperty)(e,"right")&&(o.right=e.right)),a>0&&(t.hot.setCellMeta(n,i,"borders",o),t.insertBorderIntoSettings(o))})})}},{key:"removeBordersFromDom",value:function(e){var t=this.hot.rootElement.querySelectorAll("."+e+":not(td)");(0,u.rangeEach)(0,t.length-1,function(e){var r=t[e].parentNode;r.parentNode&&r.parentNode.removeChild(r)})}},{key:"removeAllBorders",value:function(e,t){var r=(0,m.createClassName)(e,t);this.removeBordersFromDom(r),this.hot.removeCellMeta(e,t,"borders")}},{key:"setBorder",value:function(e,t,r,n){var i=this.hot.getCellMeta(e,t).borders;i&&void 0!==i.border||(i=(0,m.createEmptyBorders)(e,t)),i[r]=n?(0,m.createSingleEmptyBorder)():(0,m.createDefaultCustomBorder)(),this.hot.setCellMeta(e,t,"borders",i);var o=(0,m.createClassName)(e,t);this.removeBordersFromDom(o),this.insertBorderIntoSettings(i),this.hot.render()}},{key:"prepareBorder",value:function(e,t,r){var n=this;(0,c.arrayEach)(e,function(e){var i=e.start,o=e.end;if(i.row===o.row&&i.col===o.col)"noBorders"===t?n.removeAllBorders(i.row,i.col):n.setBorder(i.row,i.col,t,r);else switch(t){case"noBorders":(0,u.rangeEach)(i.col,o.col,function(e){(0,u.rangeEach)(i.row,o.row,function(t){n.removeAllBorders(t,e)})});break;case"top":(0,u.rangeEach)(i.col,o.col,function(e){n.setBorder(i.row,e,t,r)});break;case"right":(0,u.rangeEach)(i.row,o.row,function(e){n.setBorder(e,o.col,t,r)});break;case"bottom":(0,u.rangeEach)(i.col,o.col,function(e){n.setBorder(o.row,e,t,r)});break;case"left":(0,u.rangeEach)(i.row,o.row,function(e){n.setBorder(e,i.col,t,r)})}})}},{key:"createCustomBorders",value:function(e){var t=this;(0,u.rangeEach)(0,e.length-1,function(r){e[r].range?t.prepareBorderFromCustomAddedRange(e[r]):t.prepareBorderFromCustomAdded(e[r].row,e[r].col,e[r])}),this.hot.render(),this.hot.view.wt.draw(!0)}},{key:"onAfterContextMenuDefaultOptions",value:function(e){this.hot.getSettings().customBorders&&e.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(f.CONTEXTMENU_ITEMS_BORDERS)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[(0,g.default)(this),(0,y.default)(this),(0,h.default)(this),(0,p.default)(this),(0,d.default)(this)]}})}},{key:"clearBorders",value:function(){var e=this,t=this.hot.rootElement.querySelectorAll('td[class^="border"]');(0,u.rangeEach)(0,t.length-1,function(r){e.removeBordersFromDom(t[r].className)})}},{key:"changeBorderSettings",value:function(){var e=this.hot.getSettings().customBorders;if(e)if(Array.isArray(e))this.savedBorderSettings=e,this.createCustomBorders(e);else if(void 0!==e){var t=this.savedBorderSettings?this.savedBorderSettings:e;this.createCustomBorders(t)}}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){i(CustomBorders.prototype.__proto__||Object.getPrototypeOf(CustomBorders.prototype),"destroy",this).call(this)}}]),CustomBorders}();(0,a.registerPlugin)("customBorders",v),t.default=v},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:bottom",name:function(){var e=this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_BORDERS_BOTTOM),t=(0,i.checkSelectionBorders)(this,"bottom");return t&&(e=(0,i.markSelected)(e)),e},callback:function(t,r){var n=(0,i.checkSelectionBorders)(this,"bottom");e.prepareBorder(r,"bottom",n)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),i=r(48)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:left",name:function(){var e=this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_BORDERS_LEFT),t=(0,i.checkSelectionBorders)(this,"left");return t&&(e=(0,i.markSelected)(e)),e},callback:function(t,r){var n=(0,i.checkSelectionBorders)(this,"left");e.prepareBorder(r,"left",n)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),i=r(48)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_REMOVE_BORDERS)},callback:function(t,r){e.prepareBorder(r,"noBorders")},disabled:function(){return!(0,i.checkSelectionBorders)(this)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),i=r(48)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:right",name:function(){var e=this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_BORDERS_RIGHT),t=(0,i.checkSelectionBorders)(this,"right");return t&&(e=(0,i.markSelected)(e)),e},callback:function(t,r){var n=(0,i.checkSelectionBorders)(this,"right");e.prepareBorder(r,"right",n)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),i=r(48)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:top",name:function(){var e=this.getTranslatedPhrase(n.CONTEXTMENU_ITEMS_BORDERS_TOP),t=(0,i.checkSelectionBorders)(this,"top");return t&&(e=(0,i.markSelected)(e)),e},callback:function(t,r){var n=(0,i.checkSelectionBorders)(this,"top");e.prepareBorder(r,"top",n)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),i=r(48)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=_interopRequireDefault(r(6)),s=r(8);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function DragToScroll(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DragToScroll);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(DragToScroll.__proto__||Object.getPrototypeOf(DragToScroll)).call(this,e));return t.eventManager=new a.default(t),t.boundaries=null,t.callback=null,t.listening=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DragToScroll,o.default),n(DragToScroll,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().dragToScroll}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(){return e.setupListening()}),this.addHook("afterOnCellCornerMouseDown",function(){return e.setupListening()}),this.registerEvents(),i(DragToScroll.prototype.__proto__||Object.getPrototypeOf(DragToScroll.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(DragToScroll.prototype.__proto__||Object.getPrototypeOf(DragToScroll.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),i(DragToScroll.prototype.__proto__||Object.getPrototypeOf(DragToScroll.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(e){this.boundaries=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"check",value:function(e,t){var r=0,n=0;t<this.boundaries.top?n=t-this.boundaries.top:t>this.boundaries.bottom&&(n=t-this.boundaries.bottom),e<this.boundaries.left?r=e-this.boundaries.left:e>this.boundaries.right&&(r=e-this.boundaries.right),this.callback(r,n)}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document,"mouseup",function(){return e.onMouseUp()}),this.eventManager.addEventListener(document,"mousemove",function(t){return e.onMouseMove(t)})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(){var e=this.hot.view.wt.wtTable.holder;e!==window&&(this.setBoundaries(e.getBoundingClientRect()),this.setCallback(function(t,r){t<0?e.scrollLeft-=50:t>0&&(e.scrollLeft+=50),r<0?e.scrollTop-=20:r>0&&(e.scrollTop+=20)}),this.listening=!0)}},{key:"onMouseMove",value:function(e){this.listening&&this.check(e.clientX,e.clientY)}},{key:"onMouseUp",value:function(){this.listening=!1}},{key:"destroy",value:function(){i(DragToScroll.prototype.__proto__||Object.getPrototypeOf(DragToScroll.prototype),"destroy",this).call(this)}}]),DragToScroll}();(0,s.registerPlugin)("dragToScroll",u),t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=r(8),s=r(1),u=_interopRequireDefault(r(451)),l=_interopRequireDefault(r(452));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}r(453);var c=new WeakMap,f=function(e){function ManualColumnFreeze(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ManualColumnFreeze);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ManualColumnFreeze.__proto__||Object.getPrototypeOf(ManualColumnFreeze)).call(this,e));return c.set(t,{moveByFreeze:!1,afterFirstUse:!1}),t.frozenColumnsBasePositions=[],t.manualColumnMovePlugin=void 0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ManualColumnFreeze,o.default),n(ManualColumnFreeze,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnFreeze}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(t){return e.addContextMenuEntry(t)}),this.addHook("afterInit",function(){return e.onAfterInit()}),this.addHook("beforeColumnMove",function(t,r){return e.onBeforeColumnMove(t,r)}),i(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var e=c.get(this);e.afterFirstUse=!1,e.moveByFreeze=!1,i(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(e){var t=c.get(this),r=this.hot.getSettings();t.afterFirstUse||(t.afterFirstUse=!0),r.fixedColumnsLeft===this.hot.countCols()||e<=r.fixedColumnsLeft-1||(t.moveByFreeze=!0,e!==this.getMovePlugin().columnsMapper.getValueByIndex(e)&&(this.frozenColumnsBasePositions[r.fixedColumnsLeft]=e),this.getMovePlugin().moveColumn(e,r.fixedColumnsLeft++))}},{key:"unfreezeColumn",value:function(e){var t=c.get(this),r=this.hot.getSettings();if(t.afterFirstUse||(t.afterFirstUse=!0),!(r.fixedColumnsLeft<=0||e>r.fixedColumnsLeft-1)){var n=this.getBestColumnReturnPosition(e);t.moveByFreeze=!0,r.fixedColumnsLeft--,this.getMovePlugin().moveColumn(e,n+1)}}},{key:"getMovePlugin",value:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin}},{key:"getBestColumnReturnPosition",value:function(e){var t=this.getMovePlugin(),r=this.hot.getSettings().fixedColumnsLeft,n=t.columnsMapper.getValueByIndex(r),i=void 0;if(null===this.frozenColumnsBasePositions[e]||void 0===this.frozenColumnsBasePositions[e])for(i=t.columnsMapper.getValueByIndex(e);null!==n&&n<=i;)r++,n=t.columnsMapper.getValueByIndex(r);else{for(i=this.frozenColumnsBasePositions[e],this.frozenColumnsBasePositions[e]=void 0;null!==n&&n<=i;)r++,n=t.columnsMapper.getValueByIndex(r);r=n}return r-1}},{key:"addContextMenuEntry",value:function(e){e.items.push({name:"---------"},(0,u.default)(this),(0,l.default)(this))}},{key:"onAfterInit",value:function(){this.getMovePlugin().isEnabled()||this.getMovePlugin().enablePlugin()}},{key:"onBeforeColumnMove",value:function(e,t){var r=c.get(this);if(r.afterFirstUse&&!r.moveByFreeze){var n=this.hot.getSettings().fixedColumnsLeft,i=t<n;if(i||(0,s.arrayEach)(e,function(e,t,r){if(e<n)return i=!0,!1}),i)return!1}r.moveByFreeze&&(r.moveByFreeze=!1)}},{key:"destroy",value:function(){i(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"destroy",this).call(this)}}]),ManualColumnFreeze}();(0,a.registerPlugin)("manualColumnFreeze",f),t.default=f},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_FREEZE_COLUMN)},callback:function(t,r){var i=n(r,1),o=i[0].start.col;e.freezeColumn(o),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var e=this.getSelectedRange(),t=!1;return void 0===e?t=!0:e.length>1?t=!0:(e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsLeft-1)&&(t=!0),t}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7))},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN)},callback:function(t,r){var i=n(r,1),o=i[0].start.col;e.unfreezeColumn(o),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var e=this.getSelectedRange(),t=!1;return void 0===e?t=!0:e.length>1?t=!0:(e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsLeft)&&(t=!0),t}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7))},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=_interopRequireDefault(r(15)),s=r(1),u=r(0),l=r(5),c=_interopRequireDefault(r(6)),f=r(8),h=_interopRequireDefault(r(455)),p=_interopRequireDefault(r(456)),d=_interopRequireDefault(r(457));r(4);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}r(458),a.default.getSingleton().register("beforeColumnMove"),a.default.getSingleton().register("afterColumnMove"),a.default.getSingleton().register("unmodifyCol");var y=new WeakMap,g=function(e){function ManualColumnMove(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ManualColumnMove);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ManualColumnMove.__proto__||Object.getPrototypeOf(ManualColumnMove)).call(this,e));return y.set(t,{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,disallowMoving:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0}}),t.removedColumns=[],t.columnsMapper=new h.default(t),t.eventManager=new c.default(t),t.backlight=new p.default(e),t.guideline=new d.default(e),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ManualColumnMove,o.default),n(ManualColumnMove,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnMove}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(t,r,n,i){return e.onBeforeOnCellMouseDown(t,r,n,i)}),this.addHook("beforeOnCellMouseOver",function(t,r,n,i){return e.onBeforeOnCellMouseOver(t,r,n,i)}),this.addHook("afterScrollVertically",function(){return e.onAfterScrollVertically()}),this.addHook("modifyCol",function(t,r){return e.onModifyCol(t,r)}),this.addHook("beforeRemoveCol",function(t,r){return e.onBeforeRemoveCol(t,r)}),this.addHook("afterRemoveCol",function(){return e.onAfterRemoveCol()}),this.addHook("afterCreateCol",function(t,r){return e.onAfterCreateCol(t,r)}),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("unmodifyCol",function(t){return e.onUnmodifyCol(t)}),this.registerEvents(),(0,u.addClass)(this.hot.rootElement,"ht__manualColumnMove"),i(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),i(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var e=this.hot.getSettings().manualColumnMove;Array.isArray(e)&&this.columnsMapper.clearMap(),(0,u.removeClass)(this.hot.rootElement,"ht__manualColumnMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),i(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(e,t){this.moveColumns([e],t)}},{key:"moveColumns",value:function(e,t){var r=this,n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e)),i=y.get(this),o=this.hot.runHooks("beforeColumnMove",n,t);i.disallowMoving=!o,!1!==o&&((0,s.arrayEach)(e,function(e,t,n){n[t]=r.columnsMapper.getValueByIndex(e)}),(0,s.arrayEach)(e,function(e,n){var i=r.columnsMapper.getIndexByValue(e);i!==t&&r.columnsMapper.moveColumn(i,t+n)}),this.columnsMapper.clearNull()),this.hot.runHooks("afterColumnMove",n,t)}},{key:"changeSelection",value:function(e,t){this.hot.selectColumns(e,t)}},{key:"getColumnsWidth",value:function(e,t){for(var r=0,n=e;n<t;n++){r+=n<0?this.hot.view.wt.wtViewport.getRowHeaderWidth()||0:this.hot.view.wt.wtTable.getStretchedColumnWidth(n)||0}return r}},{key:"initialSettings",value:function(){var e=this.hot.getSettings().manualColumnMove;Array.isArray(e)?this.moveColumns(e,0):void 0!==e&&this.persistentStateLoad()}},{key:"isFixedColumnsLeft",value:function(e){return e<this.hot.getSettings().fixedColumnsLeft}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.columnsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var e={};this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value&&(this.columnsMapper._arrayMap=e.value)}},{key:"prepareColumnsToMoving",value:function(e,t){var r=[];return(0,l.rangeEach)(e,t,function(e){r.push(e)}),r}},{key:"refreshPositions",value:function(){var e=y.get(this),t=this.hot.view.wt.wtTable.getFirstVisibleColumn(),r=this.hot.view.wt.wtTable.getLastVisibleColumn(),n=this.hot.view.wt.wtTable,i=this.hot.view.wt.wtOverlays.scrollableElement,o="number"==typeof i.scrollX?i.scrollX:i.scrollLeft,a=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,e.coordsColumn),s=e.target.eventPageX-(e.rootElementOffset-(void 0===i.scrollX?o:0)),u=n.hider.offsetWidth,l=n.TBODY.offsetLeft,c=this.backlight.getOffset().left,f=this.backlight.getSize().width,h=0;if(e.rootElementOffset+n.holder.offsetWidth+o<e.target.eventPageX&&e.coordsColumn<e.countCols&&e.coordsColumn++,e.hasRowHeaders&&(h=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(e.coordsColumn)&&(a+=o),a+=h,e.coordsColumn<0)e.fixedColumns>0?e.target.col=0:e.target.col=t>0?t-1:t;else if(e.target.TD.offsetWidth/2+a<=s){var p=e.coordsColumn>=e.countCols?e.countCols-1:e.coordsColumn;e.target.col=p+1,a+=e.target.TD.offsetWidth,e.target.col>r&&this.hot.scrollViewportTo(void 0,r+1,void 0,!0)}else e.target.col=e.coordsColumn,e.target.col<=t&&e.target.col>=e.fixedColumns&&this.hot.scrollViewportTo(void 0,t-1);e.target.col<=t&&e.target.col>=e.fixedColumns&&this.hot.scrollViewportTo(void 0,t-1);var d=s,g=a;s+f+c>=u?d=u-f-c:s+c<l+h&&(d=l+h+Math.abs(c)),a>=u-1?g=u-1:0===g?g=1:void 0!==i.scrollX&&e.coordsColumn<e.fixedColumns&&(g-=e.rootElementOffset<=i.scrollX?e.rootElementOffset:0),this.backlight.setPosition(null,d),this.guideline.setPosition(null,g)}},{key:"updateColumnsMapper",value:function(){var e=this.hot.countSourceCols(),t=this.columnsMapper._arrayMap.length;if(0===t)this.columnsMapper.createMap(e||this.hot.getSettings().startCols);else if(t<e){var r=e-t;this.columnsMapper.insertItems(t,r)}else if(t>e){var n=e-1,i=[];(0,s.arrayEach)(this.columnsMapper._arrayMap,function(e,t){e>n&&i.push(t)}),this.columnsMapper.removeItems(i)}}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return e.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(e,t,r,n){var i=this.hot.view.wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),a=this.hot.getSelectedRangeLast(),s=y.get(this),l=e.realTarget.className.indexOf("columnSorting")>-1;if(!a||!o||s.pressed||0!==e.button||l)return s.pressed=!1,s.columnsToMove.length=0,void(0,u.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui"]);var c=this.guideline.isBuilt()&&!this.guideline.isAppended(),f=this.backlight.isBuilt()&&!this.backlight.isAppended();c&&f&&(this.guideline.appendTo(i.hider),this.backlight.appendTo(i.hider));var h=a.from,p=a.to,d=Math.min(h.col,p.col),g=Math.max(h.col,p.col);if(t.row<0&&t.col>=d&&t.col<=g){n.column=!0,s.pressed=!0,s.target.eventPageX=e.pageX,s.coordsColumn=t.col,s.target.TD=r,s.target.col=t.col,s.columnsToMove=this.prepareColumnsToMoving(d,g),s.hasRowHeaders=!!this.hot.getSettings().rowHeaders,s.countCols=this.hot.countCols(),s.fixedColumns=this.hot.getSettings().fixedColumnsLeft,s.rootElementOffset=(0,u.offset)(this.hot.rootElement).left;var m=s.hasRowHeaders?-1:0,v=i.holder.scrollTop+i.getColumnHeaderHeight(0)+1,b=t.col<s.fixedColumns,_=this.hot.view.wt.wtOverlays.scrollableElement,w=_.scrollX?_.scrollX-s.rootElementOffset:0,S=e.layerX-(b?w:0),E=Math.abs(this.getColumnsWidth(d,t.col)+S);this.backlight.setPosition(v,this.getColumnsWidth(m,d)+E),this.backlight.setSize(this.getColumnsWidth(d,g+1),i.hider.offsetHeight-v),this.backlight.setOffset(null,-1*E),(0,u.addClass)(this.hot.rootElement,"on-moving--columns")}else(0,u.removeClass)(this.hot.rootElement,"after-selection--columns"),s.pressed=!1,s.columnsToMove.length=0}},{key:"onMouseMove",value:function(e){var t=y.get(this);if(t.pressed){if(e.realTarget===this.backlight.element){var r=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(r)})}t.target.eventPageX=e.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(e,t,r,n){var i=this.hot.getSelectedRangeLast(),o=y.get(this);i&&o.pressed&&(o.columnsToMove.indexOf(t.col)>-1?(0,u.removeClass)(this.hot.rootElement,"show-ui"):(0,u.addClass)(this.hot.rootElement,"show-ui"),n.row=!0,n.column=!0,n.cell=!0,o.coordsColumn=t.col,o.target.TD=r)}},{key:"onMouseUp",value:function(){var e=y.get(this);if(e.coordsColumn=void 0,e.pressed=!1,e.backlightWidth=0,(0,u.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui","after-selection--columns"]),this.hot.selection.isSelectedByColumnHeader()&&(0,u.addClass)(this.hot.rootElement,"after-selection--columns"),!(e.columnsToMove.length<1||void 0===e.target.col||e.columnsToMove.indexOf(e.target.col)>-1)){if(this.moveColumns(e.columnsToMove,e.target.col),this.persistentStateSave(),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),!e.disallowMoving){var t=this.columnsMapper.getIndexByValue(e.columnsToMove[0]),r=this.columnsMapper.getIndexByValue(e.columnsToMove[e.columnsToMove.length-1]);this.changeSelection(t,r)}e.columnsToMove.length=0}}},{key:"onAfterScrollVertically",value:function(){var e=this.hot.view.wt.wtTable,t=e.getColumnHeaderHeight(0)+1+e.holder.scrollTop;this.backlight.setPosition(t),this.backlight.setSize(null,e.hider.offsetHeight-t)}},{key:"onAfterCreateCol",value:function(e,t){this.columnsMapper.shiftItems(e,t)}},{key:"onBeforeRemoveCol",value:function(e,t){var r=this;this.removedColumns.length=0,!1!==e&&(0,l.rangeEach)(e,e+t-1,function(e){r.removedColumns.push(r.hot.runHooks("modifyCol",e,r.pluginName))})}},{key:"onAfterRemoveCol",value:function(){this.columnsMapper.unshiftItems(this.removedColumns)}},{key:"onAfterLoadData",value:function(){this.updateColumnsMapper()}},{key:"onModifyCol",value:function(e,t){if(t!==this.pluginName){var r=this.columnsMapper.getValueByIndex(e);e=null===r?e:r}return e}},{key:"onUnmodifyCol",value:function(e){var t=this.columnsMapper.getIndexByValue(e);return null===t?e:t}},{key:"onAfterPluginsInitialized",value:function(){this.updateColumnsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),i(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"destroy",this).call(this)}}]),ManualColumnMove}();(0,f.registerPlugin)("ManualColumnMove",g),t.default=g},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(321),a=(n=o)&&n.__esModule?n:{default:n},s=r(1),u=r(2),l=r(5);var c=function(){function ColumnsMapper(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColumnsMapper),this.manualColumnMove=e}return i(ColumnsMapper,[{key:"createMap",value:function(e){var t=this,r=void 0===e?this._arrayMap.length:e;this._arrayMap.length=0,(0,l.rangeEach)(r-1,function(e){t._arrayMap[e]=e})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveColumn",value:function(e,t){var r=this._arrayMap[e];this._arrayMap[e]=null,this._arrayMap.splice(t,0,r)}},{key:"clearNull",value:function(){this._arrayMap=(0,s.arrayFilter)(this._arrayMap,function(e){return null!==e})}}]),ColumnsMapper}();(0,u.mixin)(c,a.default),t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(322),a=(n=o)&&n.__esModule?n:{default:n},s=r(0);var u=function(e){function BacklightUI(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BacklightUI),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BacklightUI.__proto__||Object.getPrototypeOf(BacklightUI)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BacklightUI,a.default),i(BacklightUI,[{key:"build",value:function(){(function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(BacklightUI.prototype.__proto__||Object.getPrototypeOf(BacklightUI.prototype),"build",this).call(this),(0,s.addClass)(this._element,"ht__manualColumnMove--backlight")}}]),BacklightUI}();t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(322),a=(n=o)&&n.__esModule?n:{default:n},s=r(0);var u=function(e){function GuidelineUI(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuidelineUI),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(GuidelineUI.__proto__||Object.getPrototypeOf(GuidelineUI)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(GuidelineUI,a.default),i(GuidelineUI,[{key:"build",value:function(){(function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(GuidelineUI.prototype.__proto__||Object.getPrototypeOf(GuidelineUI.prototype),"build",this).call(this),(0,s.addClass)(this._element,"ht__manualColumnMove--guideline")}}]),GuidelineUI}();t.default=u},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=r(0),s=_interopRequireDefault(r(6)),u=r(12),l=r(1),c=r(5),f=r(8);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function ManualColumnResize(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ManualColumnResize);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ManualColumnResize.__proto__||Object.getPrototypeOf(ManualColumnResize)).call(this,e));return t.currentTH=null,t.currentCol=null,t.selectedCols=[],t.currentWidth=null,t.newSize=null,t.startY=null,t.startWidth=null,t.startOffset=null,t.handle=document.createElement("DIV"),t.guide=document.createElement("DIV"),t.eventManager=new s.default(t),t.pressed=null,t.dblclick=0,t.autoresizeTimeout=null,t.manualColumnWidths=[],(0,a.addClass)(t.handle,"manualColumnResizer"),(0,a.addClass)(t.guide,"manualColumnResizerGuide"),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ManualColumnResize,o.default),n(ManualColumnResize,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualColumnResize}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.manualColumnWidths=[];var t=this.hot.getSettings().manualColumnResize,r=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(t,r){return e.onModifyColWidth(t,r)}),this.addHook("beforeStretchingColumnWidth",function(t,r){return e.onBeforeStretchingColumnWidth(t,r)}),this.addHook("beforeColumnResize",function(t,r,n){return e.onBeforeColumnResize(t,r,n)}),void 0!==r?this.manualColumnWidths=r:Array.isArray(t)?this.manualColumnWidths=t:this.manualColumnWidths=[],this.bindEvents(),i(ManualColumnResize.prototype.__proto__||Object.getPrototypeOf(ManualColumnResize.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var e=this.hot.getSettings().manualColumnResize;Array.isArray(e)?this.manualColumnWidths=e:e||(this.manualColumnWidths=[])}},{key:"disablePlugin",value:function(){i(ManualColumnResize.prototype.__proto__||Object.getPrototypeOf(ManualColumnResize.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)}},{key:"loadManualColumnWidths",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",e),e.value}},{key:"setupHandlePosition",value:function(e){var t=this;if(!e.parentNode)return!1;this.currentTH=e;var r=this.hot.view.wt.wtTable.getCoords(e).col,n=(0,a.outerHeight)(this.currentTH);if(r>=0){var i=this.currentTH.getBoundingClientRect();if(this.currentCol=r,this.selectedCols=[],this.hot.selection.isSelected()&&this.hot.selection.isSelectedByColumnHeader()){var o=this.hot.getSelectedRangeLast(),s=o.from,u=o.to,l=s.col,f=u.col;l>=f&&(l=u.col,f=s.col),this.currentCol>=l&&this.currentCol<=f?(0,c.rangeEach)(l,f,function(e){return t.selectedCols.push(e)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=i.left-6,this.startWidth=parseInt(i.width,10),this.handle.style.top=i.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.handle.style.height=n+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"}},{key:"setupGuidePosition",value:function(){var e=parseInt((0,a.outerHeight)(this.handle),10),t=parseInt(this.handle.style.top,10)+e,r=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);(0,a.addClass)(this.handle,"active"),(0,a.addClass)(this.guide,"active"),this.guide.style.top=t+"px",this.guide.style.left=this.handle.style.left,this.guide.style.height=r-e+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.left=this.handle.style.left}},{key:"hideHandleAndGuide",value:function(){(0,a.removeClass)(this.handle,"active"),(0,a.removeClass)(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(e){if(e!=this.hot.rootElement){var t=e.parentNode;return"THEAD"===t.tagName||this.checkIfColumnHeader(t)}return!1}},{key:"getTHFromTargetElement",value:function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:this.getTHFromTargetElement(e.parentNode):null}},{key:"onMouseOver",value:function(e){if(this.checkIfColumnHeader(e.target)){var t=this.getTHFromTargetElement(e.target);if(!t)return;var r=t.getAttribute("colspan");!t||null!==r&&1!==r||this.pressed||this.setupHandlePosition(t)}}},{key:"afterMouseDownTimeout",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},r=function(r,n){var i=e.hot.runHooks("beforeColumnResize",r,e.newSize,!0);void 0!==i&&(e.newSize=i),"all"===e.hot.getSettings().stretchH?e.clearManualSize(r):e.setManualSize(r,e.newSize),n&&t(),e.saveManualColumnWidths(),e.hot.runHooks("afterColumnResize",r,e.newSize,!0)};this.dblclick>=2&&(this.selectedCols.length>1?((0,l.arrayEach)(this.selectedCols,function(e){r(e)}),t()):(0,l.arrayEach)(this.selectedCols,function(e){r(e,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(e){var t=this;(0,a.hasClass)(e.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return t.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=(0,u.pageX)(e),this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(e){var t=this;this.pressed&&(this.currentWidth=this.startWidth+((0,u.pageX)(e)-this.startX),(0,l.arrayEach)(this.selectedCols,function(e){t.newSize=t.setManualSize(e,t.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(e){var t=this,r=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(e,n){t.hot.runHooks("beforeColumnResize",e,t.newSize),n&&r(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",e,t.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth)this.selectedCols.length>1?((0,l.arrayEach)(this.selectedCols,function(e){n(e)}),r()):(0,l.arrayEach)(this.selectedCols,function(e){n(e,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(window,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(window,"mouseup",function(t){return e.onMouseUp(t)})}},{key:"setManualSize",value:function(e,t){return t=Math.max(t,20),e=this.hot.runHooks("modifyCol",e),this.manualColumnWidths[e]=t,t}},{key:"clearManualSize",value:function(e){e=this.hot.runHooks("modifyCol",e),this.manualColumnWidths[e]=void 0}},{key:"onModifyColWidth",value:function(e,t){return this.enabled&&(t=this.hot.runHooks("modifyCol",t),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[t])?this.manualColumnWidths[t]:e}},{key:"onBeforeStretchingColumnWidth",value:function(e,t){var r=this.manualColumnWidths[t];return void 0===r&&(r=e),r}},{key:"onBeforeColumnResize",value:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}}]),ManualColumnResize}();(0,f.registerPlugin)("manualColumnResize",h),t.default=h},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=_interopRequireDefault(r(15)),s=r(1),u=r(0),l=r(5),c=_interopRequireDefault(r(6)),f=r(8),h=_interopRequireDefault(r(461)),p=_interopRequireDefault(r(462)),d=_interopRequireDefault(r(463));r(4);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}r(464),a.default.getSingleton().register("beforeRowMove"),a.default.getSingleton().register("afterRowMove"),a.default.getSingleton().register("unmodifyRow");var y=new WeakMap,g=function(e){function ManualRowMove(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ManualRowMove);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ManualRowMove.__proto__||Object.getPrototypeOf(ManualRowMove)).call(this,e));return y.set(t,{rowsToMove:[],pressed:void 0,disallowMoving:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0}}),t.removedRows=[],t.rowsMapper=new h.default(t),t.eventManager=new c.default(t),t.backlight=new p.default(e),t.guideline=new d.default(e),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ManualRowMove,o.default),n(ManualRowMove,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualRowMove}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(t,r,n,i){return e.onBeforeOnCellMouseDown(t,r,n,i)}),this.addHook("beforeOnCellMouseOver",function(t,r,n,i){return e.onBeforeOnCellMouseOver(t,r,n,i)}),this.addHook("afterScrollHorizontally",function(){return e.onAfterScrollHorizontally()}),this.addHook("modifyRow",function(t,r){return e.onModifyRow(t,r)}),this.addHook("beforeRemoveRow",function(t,r){return e.onBeforeRemoveRow(t,r)}),this.addHook("afterRemoveRow",function(){return e.onAfterRemoveRow()}),this.addHook("afterCreateRow",function(t,r){return e.onAfterCreateRow(t,r)}),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeColumnSort",function(t,r){return e.onBeforeColumnSort(t,r)}),this.addHook("unmodifyRow",function(t){return e.onUnmodifyRow(t)}),this.registerEvents(),(0,u.addClass)(this.hot.rootElement,"ht__manualRowMove"),i(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),i(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var e=this.hot.getSettings().manualRowMove;Array.isArray(e)&&this.rowsMapper.clearMap(),(0,u.removeClass)(this.hot.rootElement,"ht__manualRowMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),i(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(e,t){this.moveRows([e],t)}},{key:"moveRows",value:function(e,t){var r=this,n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e)),i=y.get(this),o=this.hot.runHooks("beforeRowMove",n,t);i.disallowMoving=!1===o,i.disallowMoving||((0,s.arrayEach)(e,function(e,t,n){n[t]=r.rowsMapper.getValueByIndex(e)}),(0,s.arrayEach)(e,function(e,n){var i=r.rowsMapper.getIndexByValue(e);i!==t&&r.rowsMapper.moveRow(i,t+n)}),this.rowsMapper.clearNull()),this.hot.runHooks("afterRowMove",n,t)}},{key:"changeSelection",value:function(e,t){this.hot.selectRows(e,t)}},{key:"getRowsHeight",value:function(e,t){for(var r=0,n=e;n<t;n++){r+=this.hot.view.wt.wtTable.getRowHeight(n)||23}return r}},{key:"initialSettings",value:function(){var e=this.hot.getSettings().manualRowMove;if(Array.isArray(e))this.moveRows(e,0);else if(void 0!==e){var t=this.persistentStateLoad();t.length&&this.moveRows(t,0)}}},{key:"isFixedRowTop",value:function(e){return e<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(e){return e>this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.rowsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}},{key:"prepareRowsToMoving",value:function(){var e=this.hot.getSelectedRangeLast(),t=[];if(!e)return t;var r=e.from,n=e.to,i=Math.min(r.row,n.row),o=Math.max(r.row,n.row);return(0,l.rangeEach)(i,o,function(e){t.push(e)}),t}},{key:"refreshPositions",value:function(){var e=y.get(this),t=e.target.coords,r=this.hot.view.wt.wtTable.getFirstVisibleRow(),n=this.hot.view.wt.wtTable.getLastVisibleRow(),i=this.hot.getSettings().fixedRowsTop,o=this.hot.countRows();t.row<i&&r>0&&this.hot.scrollViewportTo(r-1),t.row>=n&&n<o&&this.hot.scrollViewportTo(n+1,void 0,!0);var a=this.hot.view.wt.wtTable,s=e.target.TD,l=(0,u.offset)(this.hot.rootElement),c=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,t.row),f=e.target.eventPageY-l.top+a.holder.scrollTop,h=a.hider.offsetHeight,p=a.TBODY.offsetTop,d=this.backlight.getOffset().top,g=this.backlight.getSize().height;this.isFixedRowTop(t.row)&&(c+=a.holder.scrollTop),t.row<0?e.target.row=r>0?r-1:r:s.offsetHeight/2+c<=f?(e.target.row=t.row+1,c+=0===t.row?s.offsetHeight-1:s.offsetHeight):e.target.row=t.row;var m=f,v=c;f+g+d>=h?m=h-g-d:f+d<p&&(m=p+Math.abs(d)),c>=h-1&&(v=h-1);var b=0;this.hot.view.wt.wtOverlays.topOverlay&&(b=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),t.row>=i&&v-a.holder.scrollTop<b&&this.hot.scrollViewportTo(t.row),this.backlight.setPosition(m),this.guideline.setPosition(v)}},{key:"updateRowsMapper",value:function(){var e=this.hot.countSourceRows(),t=this.rowsMapper._arrayMap.length;if(0===t)this.rowsMapper.createMap(e||this.hot.getSettings().startRows);else if(t<e){var r=e-t;this.rowsMapper.insertItems(t,r)}else if(t>e){var n=e-1,i=[];(0,s.arrayEach)(this.rowsMapper._arrayMap,function(e,t){e>n&&i.push(t)}),this.rowsMapper.removeItems(i)}}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return e.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeColumnSort",value:function(e,t){y.get(this).disallowMoving=void 0!==t}},{key:"onBeforeOnCellMouseDown",value:function(e,t,r,n){var i=this.hot.view.wt.wtTable,o=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast(),s=y.get(this);if(!a||!o||s.pressed||0!==e.button)return s.pressed=!1,s.rowsToMove.length=0,void(0,u.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui"]);var l=this.guideline.isBuilt()&&!this.guideline.isAppended(),c=this.backlight.isBuilt()&&!this.backlight.isAppended();l&&c&&(this.guideline.appendTo(i.hider),this.backlight.appendTo(i.hider));var f=a.from,h=a.to,p=Math.min(f.row,h.row),d=Math.max(f.row,h.row);if(t.col<0&&t.row>=p&&t.row<=d){n.row=!0,s.pressed=!0,s.target.eventPageY=e.pageY,s.target.coords=t,s.target.TD=r,s.rowsToMove=this.prepareRowsToMoving();var g=i.holder.scrollLeft+this.hot.view.wt.wtViewport.getRowHeaderWidth();this.backlight.setPosition(null,g),this.backlight.setSize(i.hider.offsetWidth-g,this.getRowsHeight(p,d+1)),this.backlight.setOffset(-1*(this.getRowsHeight(p,t.row)+e.layerY),null),(0,u.addClass)(this.hot.rootElement,"on-moving--rows"),this.refreshPositions()}else(0,u.removeClass)(this.hot.rootElement,"after-selection--rows"),s.pressed=!1,s.rowsToMove.length=0}},{key:"onMouseMove",value:function(e){var t=y.get(this);if(t.pressed){if(e.realTarget===this.backlight.element){var r=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,r)})}t.target.eventPageY=e.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(e,t,r,n){var i=this.hot.getSelectedRangeLast(),o=y.get(this);i&&o.pressed&&(o.rowsToMove.indexOf(t.row)>-1?(0,u.removeClass)(this.hot.rootElement,"show-ui"):(0,u.addClass)(this.hot.rootElement,"show-ui"),n.row=!0,n.column=!0,n.cell=!0,o.target.coords=t,o.target.TD=r)}},{key:"onMouseUp",value:function(){var e=y.get(this),t=e.target.row,r=e.rowsToMove.length;if(e.pressed=!1,e.backlightHeight=0,(0,u.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui","after-selection--rows"]),this.hot.selection.isSelectedByRowHeader()&&(0,u.addClass)(this.hot.rootElement,"after-selection--rows"),!(r<1||void 0===t||e.rowsToMove.indexOf(t)>-1||e.rowsToMove[r-1]===t-1)){if(this.moveRows(e.rowsToMove,t),this.persistentStateSave(),this.hot.render(),!e.disallowMoving){var n=this.rowsMapper.getIndexByValue(e.rowsToMove[0]),i=this.rowsMapper.getIndexByValue(e.rowsToMove[r-1]);this.changeSelection(n,i)}e.rowsToMove.length=0}}},{key:"onAfterScrollHorizontally",value:function(){var e=this.hot.view.wt.wtTable,t=this.hot.view.wt.wtViewport.getRowHeaderWidth()+e.holder.scrollLeft;this.backlight.setPosition(null,t),this.backlight.setSize(e.hider.offsetWidth-t)}},{key:"onAfterCreateRow",value:function(e,t){this.rowsMapper.shiftItems(e,t)}},{key:"onBeforeRemoveRow",value:function(e,t){var r=this;this.removedRows.length=0,!1!==e&&(0,l.rangeEach)(e,e+t-1,function(e){r.removedRows.push(r.hot.runHooks("modifyRow",e,r.pluginName))})}},{key:"onAfterRemoveRow",value:function(){this.rowsMapper.unshiftItems(this.removedRows)}},{key:"onAfterLoadData",value:function(){this.updateRowsMapper()}},{key:"onModifyRow",value:function(e,t){if(t!==this.pluginName){var r=this.rowsMapper.getValueByIndex(e);e=null===r?e:r}return e}},{key:"onUnmodifyRow",value:function(e){var t=this.rowsMapper.getIndexByValue(e);return null===t?e:t}},{key:"onAfterPluginsInitialized",value:function(){this.updateRowsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),i(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"destroy",this).call(this)}}]),ManualRowMove}();(0,f.registerPlugin)("ManualRowMove",g),t.default=g},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(321),a=(n=o)&&n.__esModule?n:{default:n},s=r(1),u=r(2),l=r(5);var c=function(){function RowsMapper(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RowsMapper),this.manualRowMove=e}return i(RowsMapper,[{key:"createMap",value:function(e){var t=this,r=void 0===e?this._arrayMap.length:e;this._arrayMap.length=0,(0,l.rangeEach)(r-1,function(e){t._arrayMap[e]=e})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveRow",value:function(e,t){var r=this._arrayMap[e];this._arrayMap[e]=null,this._arrayMap.splice(t,0,r)}},{key:"clearNull",value:function(){this._arrayMap=(0,s.arrayFilter)(this._arrayMap,function(e){return null!==e})}}]),RowsMapper}();(0,u.mixin)(c,a.default),t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(323),a=(n=o)&&n.__esModule?n:{default:n},s=r(0);var u=function(e){function BacklightUI(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BacklightUI),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BacklightUI.__proto__||Object.getPrototypeOf(BacklightUI)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BacklightUI,a.default),i(BacklightUI,[{key:"build",value:function(){(function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(BacklightUI.prototype.__proto__||Object.getPrototypeOf(BacklightUI.prototype),"build",this).call(this),(0,s.addClass)(this._element,"ht__manualRowMove--backlight")}}]),BacklightUI}();t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(323),a=(n=o)&&n.__esModule?n:{default:n},s=r(0);var u=function(e){function GuidelineUI(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuidelineUI),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(GuidelineUI.__proto__||Object.getPrototypeOf(GuidelineUI)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(GuidelineUI,a.default),i(GuidelineUI,[{key:"build",value:function(){(function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(GuidelineUI.prototype.__proto__||Object.getPrototypeOf(GuidelineUI.prototype),"build",this).call(this),(0,s.addClass)(this._element,"ht__manualRowMove--guideline")}}]),GuidelineUI}();t.default=u},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=r(0),s=_interopRequireDefault(r(6)),u=r(12),l=r(1),c=r(5),f=r(8);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function ManualRowResize(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ManualRowResize);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ManualRowResize.__proto__||Object.getPrototypeOf(ManualRowResize)).call(this,e));return t.currentTH=null,t.currentRow=null,t.selectedRows=[],t.currentHeight=null,t.newSize=null,t.startY=null,t.startHeight=null,t.startOffset=null,t.handle=document.createElement("DIV"),t.guide=document.createElement("DIV"),t.eventManager=new s.default(t),t.pressed=null,t.dblclick=0,t.autoresizeTimeout=null,t.manualRowHeights=[],(0,a.addClass)(t.handle,"manualRowResizer"),(0,a.addClass)(t.guide,"manualRowResizerGuide"),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ManualRowResize,o.default),n(ManualRowResize,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualRowResize}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.manualRowHeights=[];var t=this.hot.getSettings().manualRowResize,r=this.loadManualRowHeights();void 0!==r?this.manualRowHeights=r:Array.isArray(t)?this.manualRowHeights=t:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(t,r){return e.onModifyRowHeight(t,r)}),this.bindEvents(),i(ManualRowResize.prototype.__proto__||Object.getPrototypeOf(ManualRowResize.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var e=this.hot.getSettings().manualRowResize;Array.isArray(e)?this.manualRowHeights=e:e||(this.manualRowHeights=[])}},{key:"disablePlugin",value:function(){i(ManualRowResize.prototype.__proto__||Object.getPrototypeOf(ManualRowResize.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)}},{key:"loadManualRowHeights",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",e),e.value}},{key:"setupHandlePosition",value:function(e){var t=this;this.currentTH=e;var r=this.hot.view.wt.wtTable.getCoords(e).row,n=(0,a.outerWidth)(this.currentTH);if(r>=0){var i=this.currentTH.getBoundingClientRect();if(this.currentRow=r,this.selectedRows=[],this.hot.selection.isSelected()&&this.hot.selection.isSelectedByRowHeader()){var o=this.hot.getSelectedRangeLast(),s=o.from,u=o.to,l=s.row,f=u.row;l>=f&&(l=u.row,f=s.row),this.currentRow>=l&&this.currentRow<=f?(0,c.rangeEach)(l,f,function(e){return t.selectedRows.push(e)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=i.top-6,this.startHeight=parseInt(i.height,10),this.handle.style.left=i.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.handle.style.width=n+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"}},{key:"setupGuidePosition",value:function(){var e=parseInt((0,a.outerWidth)(this.handle),10),t=parseInt(this.handle.style.left,10)+e,r=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);(0,a.addClass)(this.handle,"active"),(0,a.addClass)(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=t+"px",this.guide.style.width=r-e+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){(0,a.removeClass)(this.handle,"active"),(0,a.removeClass)(this.guide,"active")}},{key:"checkIfRowHeader",value:function(e){if(e!=this.hot.rootElement){var t=e.parentNode;return"TBODY"===t.tagName||this.checkIfRowHeader(t)}return!1}},{key:"getTHFromTargetElement",value:function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:this.getTHFromTargetElement(e.parentNode):null}},{key:"onMouseOver",value:function(e){if(this.checkIfRowHeader(e.target)){var t=this.getTHFromTargetElement(e.target);t&&(this.pressed||this.setupHandlePosition(t))}}},{key:"afterMouseDownTimeout",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},r=function(r,n){var i=e.hot.runHooks("beforeRowResize",r,e.newSize,!0);void 0!==i&&(e.newSize=i),e.setManualSize(r,e.newSize),n&&t(),e.hot.runHooks("afterRowResize",r,e.newSize,!0)};this.dblclick>=2&&(this.selectedRows.length>1?((0,l.arrayEach)(this.selectedRows,function(e){r(e)}),t()):(0,l.arrayEach)(this.selectedRows,function(e){r(e,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(e){var t=this;(0,a.hasClass)(e.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return t.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=(0,u.pageY)(e),this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(e){var t=this;this.pressed&&(this.currentHeight=this.startHeight+((0,u.pageY)(e)-this.startY),(0,l.arrayEach)(this.selectedRows,function(e){t.newSize=t.setManualSize(e,t.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(e){var t=this,r=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(e,n){t.hot.runHooks("beforeRowResize",e,t.newSize),n&&r(),t.saveManualRowHeights(),t.hot.runHooks("afterRowResize",e,t.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight)this.selectedRows.length>1?((0,l.arrayEach)(this.selectedRows,function(e){n(e)}),r()):(0,l.arrayEach)(this.selectedRows,function(e){n(e,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(window,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(window,"mouseup",function(t){return e.onMouseUp(t)})}},{key:"setManualSize",value:function(e,t){return e=this.hot.runHooks("modifyRow",e),this.manualRowHeights[e]=t,t}},{key:"onModifyRowHeight",value:function(e,t){if(this.enabled){var r=this.hot.getPlugin("autoRowSize"),n=r?r.heights[t]:null;t=this.hot.runHooks("modifyRow",t);var i=this.manualRowHeights[t];if(void 0!==i&&(i===n||i>(e||0)))return i}return e}}]),ManualRowResize}();(0,f.registerPlugin)("manualRowResize",h),t.default=h},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=_interopRequireDefault(r(10)),s=_interopRequireDefault(r(15)),u=r(8),l=r(12),c=r(4),f=_interopRequireDefault(r(467)),h=_interopRequireDefault(r(95)),p=_interopRequireDefault(r(468)),d=_interopRequireDefault(r(469)),y=_interopRequireDefault(r(470)),g=r(1),m=r(2),v=r(56),b=r(5),_=r(324);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}r(471),s.default.getSingleton().register("beforeMergeCells"),s.default.getSingleton().register("afterMergeCells"),s.default.getSingleton().register("beforeUnmergeCells"),s.default.getSingleton().register("afterUnmergeCells");var w=new WeakMap,S=function(e){function MergeCells(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MergeCells);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MergeCells.__proto__||Object.getPrototypeOf(MergeCells)).call(this,e));return w.set(t,{lastDesiredCoords:null}),t.mergedCellsCollection=null,t.autofillCalculations=null,t.selectionCalculations=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MergeCells,a.default),i(MergeCells,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().mergeCells}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.mergedCellsCollection=new f.default(this),this.autofillCalculations=new p.default(this),this.selectionCalculations=new d.default(this),this.addHook("afterInit",function(){return e.onAfterInit.apply(e,arguments)}),this.addHook("beforeKeyDown",function(){return e.onBeforeKeyDown.apply(e,arguments)}),this.addHook("modifyTransformStart",function(){return e.onModifyTransformStart.apply(e,arguments)}),this.addHook("afterModifyTransformStart",function(){return e.onAfterModifyTransformStart.apply(e,arguments)}),this.addHook("modifyTransformEnd",function(){return e.onModifyTransformEnd.apply(e,arguments)}),this.addHook("modifyGetCellCoords",function(){return e.onModifyGetCellCoords.apply(e,arguments)}),this.addHook("beforeSetRangeEnd",function(){return e.onBeforeSetRangeEnd.apply(e,arguments)}),this.addHook("afterIsMultipleSelection",function(){return e.onAfterIsMultipleSelection.apply(e,arguments)}),this.addHook("afterRenderer",function(){return e.onAfterRenderer.apply(e,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return e.addMergeActionsToContextMenu.apply(e,arguments)}),this.addHook("afterGetCellMeta",function(){return e.onAfterGetCellMeta.apply(e,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return e.onAfterViewportRowCalculatorOverride.apply(e,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return e.onAfterViewportColumnCalculatorOverride.apply(e,arguments)}),this.addHook("modifyAutofillRange",function(){return e.onModifyAutofillRange.apply(e,arguments)}),this.addHook("afterCreateCol",function(){return e.onAfterCreateCol.apply(e,arguments)}),this.addHook("afterRemoveCol",function(){return e.onAfterRemoveCol.apply(e,arguments)}),this.addHook("afterCreateRow",function(){return e.onAfterCreateRow.apply(e,arguments)}),this.addHook("afterRemoveRow",function(){return e.onAfterRemoveRow.apply(e,arguments)}),this.addHook("afterChange",function(){return e.onAfterChange.apply(e,arguments)}),this.addHook("beforeDrawBorders",function(){return e.onBeforeDrawAreaBorders.apply(e,arguments)}),this.addHook("afterDrawSelection",function(){return e.onAfterDrawSelection.apply(e,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return e.onBeforeRemoveCellClassNames.apply(e,arguments)}),o(MergeCells.prototype.__proto__||Object.getPrototypeOf(MergeCells.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.hot.render(),o(MergeCells.prototype.__proto__||Object.getPrototypeOf(MergeCells.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var e=this.hot.getSettings().mergeCells;this.clearCollections(),this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),o(MergeCells.prototype.__proto__||Object.getPrototypeOf(MergeCells.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(e){var t=!0;return!!e&&(h.default.containsNegativeValues(e)?((0,v.warn)(h.default.NEGATIVE_VALUES_WARNING(e)),t=!1):h.default.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?((0,v.warn)(h.default.IS_OUT_OF_BOUNDS_WARNING(e)),t=!1):h.default.isSingleCell(e)?((0,v.warn)(h.default.IS_SINGLE_CELL(e)),t=!1):h.default.containsZeroSpan(e)&&((0,v.warn)(h.default.ZERO_SPAN_WARNING(e)),t=!1),t)}},{key:"generateFromSettings",value:function(e){var t=this;if(Array.isArray(e)){var r,n=[];(0,g.arrayEach)(e,function(e){if(t.validateSetting(e)){var r=new c.CellCoords(e.row,e.col),i=new c.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1),o=new c.CellRange(r,r,i);n.push(t.mergeRange(o,!0,!0))}}),n=n.filter(function(e){return!0!==e});var i=this.getBulkCollectionData(n);(r=this.hot).populateFromArray.apply(r,_toConsumableArray(i))}}},{key:"getBulkCollectionData",value:function(e){var t,r=this.getBulkCollectionDataRange(e),i=(t=this.hot).getData.apply(t,_toConsumableArray(r)).splice(0);return(0,g.arrayEach)(e,function(e){var t=n(e,3),o=t[0],a=t[1],s=t[2];(0,g.arrayEach)(s,function(e,t){(0,g.arrayEach)(e,function(e,n){i[o-r[0]+t][a-r[1]+n]=e})})}),[r[0],r[1],i]}},{key:"getBulkCollectionDataRange",value:function(e){var t=[0,0],r=[0,0],n=null,i=null,o=null;return(0,g.arrayEach)(e,function(e){n=e[0],i=e[1],o=e[2],t[0]=Math.min(n,t[0]),t[1]=Math.min(i,t[1]),r[0]=Math.max(n+o.length-1,r[0]),r[1]=Math.max(i+o[0].length-1,r[1])}),[].concat(t,r)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(e){return!!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||this.validateSetting(e)}},{key:"toggleMergeOnSelection",value:function(){var e=this.hot.getSelectedRangeLast();if(e){e.setDirection("NW-SE");var t=e.from,r=e.to;this.toggleMerge(e),this.hot.selectCell(t.row,t.col,r.row,r.col,!1)}}},{key:"mergeSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(e){e.setDirection("NW-SE");var t=e.from,r=e.to;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(t.row,t.col,r.row,r.col,!1)}}},{key:"unmergeSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(e){var t=e.from,r=e.to;this.unmergeRange(e,!0),this.hot.selectCell(t.row,t.col,r.row,r.col,!1)}}},{key:"mergeRange",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getTopLeftCorner(),o=e.getBottomRightCorner(),a={row:i.row,col:i.col,rowspan:o.row-i.row+1,colspan:o.col-i.col+1},s=[],u=null;return!!this.canMergeRange(a,r)&&(this.hot.runHooks("beforeMergeCells",e,r),(0,b.rangeEach)(0,a.rowspan-1,function(e){(0,b.rangeEach)(0,a.colspan-1,function(r){var n=null;s[e]||(s[e]=[]),0===e&&0===r?n=t.hot.getDataAtCell(a.row,a.col):t.hot.setCellMeta(a.row+e,a.col+r,"hidden",!0),s[e][r]=n})}),this.hot.setCellMeta(a.row,a.col,"spanned",!0),!this.mergedCellsCollection.add(a)||(n?u=[a.row,a.col,s]:this.hot.populateFromArray(a.row,a.col,s,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",e,a,r),u))}},{key:"unmergeRange",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mergedCellsCollection.getWithinRange(e);n&&(this.hot.runHooks("beforeUnmergeCells",e,r),(0,g.arrayEach)(n,function(e){t.mergedCellsCollection.remove(e.row,e.col),(0,b.rangeEach)(0,e.rowspan-1,function(r){(0,b.rangeEach)(0,e.colspan-1,function(n){t.hot.removeCellMeta(e.row+r,e.col+n,"hidden")})}),t.hot.removeCellMeta(e.row,e.col,"spanned")}),this.hot.render(),this.hot.runHooks("afterUnmergeCells",e,r))}},{key:"toggleMerge",value:function(e){var t=this.mergedCellsCollection.get(e.from.row,e.from.col);t.row===e.from.row&&t.col===e.from.col&&t.row+t.rowspan-1===e.to.row&&t.col+t.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}},{key:"merge",value:function(e,t,r,n){var i=new c.CellCoords(e,t),o=new c.CellCoords(r,n);this.mergeRange(new c.CellRange(i,i,o))}},{key:"unmerge",value:function(e,t,r,n){var i=new c.CellCoords(e,t),o=new c.CellCoords(r,n);this.unmergeRange(new c.CellRange(i,i,o))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings().mergeCells),this.hot.render()}},{key:"onBeforeKeyDown",value:function(e){(e.ctrlKey||e.metaKey)&&!e.altKey&&77===e.keyCode&&(this.toggleMerge(this.hot.getSelectedRangeLast()),this.hot.render(),(0,l.stopImmediatePropagation)(e))}},{key:"onAfterIsMultipleSelection",value:function(e){if(e)for(var t=this.mergedCellsCollection.mergedCells,r=this.hot.getSelectedRangeLast(),n=0;n<t.length;n+=1)if(r.highlight.row===t[n].row&&r.highlight.col===t[n].col&&r.to.row===t[n].row+t[n].rowspan-1&&r.to.col===t[n].col+t[n].colspan-1)return!1;return e}},{key:"onModifyTransformStart",value:function(e){var t,r=w.get(this),n=this.hot.getSelectedRangeLast(),i={row:e.row,col:e.col},o=new c.CellCoords(n.highlight.row,n.highlight.col),a=this.mergedCellsCollection.get(o.row,o.col);if(r.lastDesiredCoords||(r.lastDesiredCoords=new c.CellCoords(null,null)),a){var s=new c.CellCoords(a.row,a.col),u=new c.CellCoords(a.row+a.rowspan-1,a.col+a.colspan-1);new c.CellRange(s,s,u).includes(r.lastDesiredCoords)||(r.lastDesiredCoords=new c.CellCoords(null,null)),i.row=r.lastDesiredCoords.row?r.lastDesiredCoords.row-o.row:i.row,i.col=r.lastDesiredCoords.col?r.lastDesiredCoords.col-o.col:i.col,e.row>0?i.row=a.row+a.rowspan-1-o.row+e.row:e.row<0&&(i.row=o.row-a.row+e.row),e.col>0?i.col=a.col+a.colspan-1-o.col+e.col:e.col<0&&(i.col=o.col-a.col+e.col)}t=new c.CellCoords(n.highlight.row+i.row,n.highlight.col+i.col);var l=this.mergedCellsCollection.get(t.row,t.col);l&&(r.lastDesiredCoords=t,i={row:l.row-o.row,col:l.col-o.col}),0!==i.row&&(e.row=i.row),0!==i.col&&(e.col=i.col)}},{key:"onModifyTransformEnd",value:function(e){var t=this,r=this.hot.getSelectedRangeLast(),n=(0,m.clone)(e),i=this.selectionCalculations.getUpdatedSelectionRange(r,e),o=(0,m.clone)(n),a=this.mergedCellsCollection.getWithinRange(i,!0);do{o=(0,m.clone)(n),this.selectionCalculations.getUpdatedSelectionRange(r,n),(0,g.arrayEach)(a,function(e){t.selectionCalculations.snapDelta(n,r,e)})}while(n.row!==o.row||n.col!==o.col);e.row=n.row,e.col=n.col}},{key:"onModifyGetCellCoords",value:function(e,t){var r=this.mergedCellsCollection.get(e,t);return r?[r.row,r.col,r.row+r.rowspan-1,r.col+r.colspan-1]:void 0}},{key:"addMergeActionsToContextMenu",value:function(e){e.items.push({name:"---------"},(0,y.default)(this))}},{key:"onAfterRenderer",value:function(e,t,r){var n=this.mergedCellsCollection.get(t,r);(0,_.applySpanProperties)(e,n,t,r)}},{key:"onBeforeSetRangeEnd",value:function(e){var t=this.hot.getSelectedRangeLast();t.highlight=new c.CellCoords(t.highlight.row,t.highlight.col),t.to=e;var r=!1;if(!(0===t.from.row&&t.to.row===this.hot.countRows()-1||0===t.from.col&&t.to.col===this.hot.countCols()-1))do{r=!1;for(var n=0;n<this.mergedCellsCollection.mergedCells.length;n+=1){var i=this.mergedCellsCollection.mergedCells[n].getRange();t.expandByRange(i)&&(e.row=t.to.row,e.col=t.to.col,r=!0)}}while(r)}},{key:"onAfterGetCellMeta",value:function(e,t,r){var n=this.mergedCellsCollection.get(e,t);!n||n.row===e&&n.col===t||(r.copyable=!1)}},{key:"onAfterViewportRowCalculatorOverride",value:function(e){var t=this,r=this.hot.countCols(),n=void 0;(0,b.rangeEach)(0,r-1,function(r){if((n=t.mergedCellsCollection.get(e.startRow,r))&&n.row<e.startRow)return e.startRow=n.row,t.onAfterViewportRowCalculatorOverride.call(t,e);if(n=t.mergedCellsCollection.get(e.endRow,r)){var i=n.row+n.rowspan-1;if(i>e.endRow)return e.endRow=i,t.onAfterViewportRowCalculatorOverride.call(t,e)}return!0})}},{key:"onAfterViewportColumnCalculatorOverride",value:function(e){var t=this,r=this.hot.countRows(),n=void 0;(0,b.rangeEach)(0,r-1,function(r){if((n=t.mergedCellsCollection.get(r,e.startColumn))&&n.col<e.startColumn)return e.startColumn=n.col,t.onAfterViewportColumnCalculatorOverride.call(t,e);if(n=t.mergedCellsCollection.get(r,e.endColumn)){var i=n.col+n.colspan-1;if(i>e.endColumn)return e.endColumn=i,t.onAfterViewportColumnCalculatorOverride.call(t,e)}return!0})}},{key:"onModifyAutofillRange",value:function(e,t){this.autofillCalculations.correctSelectionAreaSize(t);var r=this.autofillCalculations.getDirection(t,e);if(this.autofillCalculations.dragAreaOverlapsCollections(t,e,r))return e=t;var n=this.mergedCellsCollection.getWithinRange({from:{row:t[0],col:t[1]},to:{row:t[2],col:t[3]}});return n?e=this.autofillCalculations.snapDragArea(t,e,r,n):e}},{key:"onAfterCreateCol",value:function(e,t){this.mergedCellsCollection.shiftCollections("right",e,t)}},{key:"onAfterRemoveCol",value:function(e,t){this.mergedCellsCollection.shiftCollections("left",e,t)}},{key:"onAfterCreateRow",value:function(e,t,r){"auto"!==r&&this.mergedCellsCollection.shiftCollections("down",e,t)}},{key:"onAfterRemoveRow",value:function(e,t){this.mergedCellsCollection.shiftCollections("up",e,t)}},{key:"onAfterChange",value:function(e,t){"Autofill.fill"===t&&this.autofillCalculations.recreateAfterDataPopulation(e)}},{key:"onBeforeDrawAreaBorders",value:function(e,t){if(t&&"area"===t){var r=this.hot.getSelectedRangeLast(),n=this.mergedCellsCollection.getWithinRange(r);(0,g.arrayEach)(n,function(t){r.getBottomRightCorner().row===t.getLastRow()&&r.getBottomRightCorner().col===t.getLastColumn()&&(e[2]=t.row,e[3]=t.col)})}}},{key:"onAfterModifyTransformStart",value:function(e,t,r){if(this.enabled){var n=this.mergedCellsCollection.get(e.row,e.col);if(n){var i=t>0,o=t<0,a=r<0,s=r>0,u=n.row+n.rowspan-1==this.hot.countRows()-1,l=0===n.row,c=n.col+n.colspan-1==this.hot.countCols()-1,f=0===n.col;(i&&u||o&&l||s&&c||a&&f)&&(e.row=n.row,e.col=n.col)}}}},{key:"onAfterDrawSelection",value:function(e,t,r,n){return this.selectionCalculations.getSelectedMergedCellClassName(e,t,r,n)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}]),MergeCells}();(0,u.registerPlugin)("mergeCells",S),t.default=S},function(e,t,r){"use strict";t.__esModule=!0;var n,i,o,a=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),s=(n=["The merged cell declared at [",", ","] overlaps with the other declared merged \n      cell. The overlapping merged cell was not added to the table, please fix your setup."],i=["The merged cell declared at [",", ","] overlaps with the other declared merged \n      cell. The overlapping merged cell was not added to the table, please fix your setup."],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}}))),u=r(95),l=(o=u)&&o.__esModule?o:{default:o},c=r(4),f=r(5),h=r(56),p=r(1),d=r(324),y=r(42);function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var g=function(){function MergedCellsCollection(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MergedCellsCollection),this.plugin=e,this.mergedCells=[],this.hot=e.hot}return a(MergedCellsCollection,[{key:"get",value:function(e,t){var r=this.mergedCells,n=!1;return(0,p.arrayEach)(r,function(r){return!(r.row<=e&&r.row+r.rowspan-1>=e&&r.col<=t&&r.col+r.colspan-1>=t)||(n=r,!1)}),n}},{key:"getByRange",value:function(e){var t=this.mergedCells,r=!1;return(0,p.arrayEach)(t,function(t){return!(t.row<=e.from.row&&t.row+t.rowspan-1>=e.to.row&&t.col<=e.from.col&&t.col+t.colspan-1>=e.to.col)||(r=t)}),r}},{key:"getWithinRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.mergedCells,n=[];if(!e.includesRange){var i=new c.CellCoords(e.from.row,e.from.col),o=new c.CellCoords(e.to.row,e.to.col);e=new c.CellRange(i,i,o)}return(0,p.arrayEach)(r,function(r){var i=new c.CellCoords(r.row,r.col),o=new c.CellCoords(r.row+r.rowspan-1,r.col+r.colspan-1),a=new c.CellRange(i,i,o);t?e.overlaps(a)&&n.push(r):e.includesRange(a)&&n.push(r)}),!!n.length&&n}},{key:"add",value:function(e){var t=this.mergedCells,r=e.row,n=e.col,i=e.rowspan,o=e.colspan,a=new l.default(r,n,i,o),s=this.get(r,n),u=this.isOverlapping(a);return s||u?((0,h.warn)(MergedCellsCollection.IS_OVERLAPPING_WARNING(a)),!1):(this.hot&&a.normalize(this.hot),t.push(a),a)}},{key:"remove",value:function(e,t){var r=this.mergedCells,n=this.get(e,t),i=n?this.mergedCells.indexOf(n):null;return!(!n||!1===i)&&(r.splice(i,1),n)}},{key:"clear",value:function(){var e=this,t=this.mergedCells,r=[],n=[];(0,p.arrayEach)(t,function(t){r.push([e.hot.getCell(t.row,t.col),e.get(t.row,t.col),t.row,t.col])}),this.mergedCells.length=0,(0,p.arrayEach)(r,function(t,i){(0,f.rangeEach)(0,t.rowspan-1,function(r){(0,f.rangeEach)(0,t.colspan-1,function(i){0===i&&0===r||n.push([e.hot.getCell(t.row+r,t.col+i),null,null,null])})}),r[i][1]=null}),(0,p.arrayEach)(r,function(e){d.applySpanProperties.apply(void 0,_toConsumableArray(e))}),(0,p.arrayEach)(n,function(e){d.applySpanProperties.apply(void 0,_toConsumableArray(e))})}},{key:"isOverlapping",value:function(e){var t=new c.CellRange(null,new c.CellCoords(e.row,e.col),new c.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1)),r=!1;return(0,p.arrayEach)(this.mergedCells,function(e){return!new c.CellRange(null,new c.CellCoords(e.row,e.col),new c.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1)).overlaps(t)||(r=!0,!1)}),r}},{key:"isMergedParent",value:function(e,t){var r=this.mergedCells,n=!1;return(0,p.arrayEach)(r,function(r){return r.row!==e||r.col!==t||(n=!0,!1)}),n}},{key:"shiftCollections",value:function(e,t,r){var n=this,i=[0,0];switch(e){case"right":i[0]+=r;break;case"left":i[0]-=r;break;case"down":i[1]+=r;break;case"up":i[1]-=r}(0,p.arrayEach)(this.mergedCells,function(e){e.shift(i,t)}),(0,f.rangeEachReverse)(this.mergedCells.length-1,0,function(e){var t=n.mergedCells[e];t&&t.removed&&n.mergedCells.splice(n.mergedCells.indexOf(t),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(e){return(0,y.toSingleLine)(s,e.row,e.col)}}]),MergedCellsCollection}();t.default=g},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(2),a=r(4),s=r(1);var u=function(){function AutofillCalculations(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AutofillCalculations),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return i(AutofillCalculations,[{key:"correctSelectionAreaSize",value:function(e){if(e[0]===e[2]&&e[1]===e[3]){var t=this.mergedCellsCollection.get(e[0],e[1]);t&&(e[2]=e[0]+t.rowspan-1,e[3]=e[1]+t.colspan-1)}}},{key:"getDirection",value:function(e,t){return t[0]===e[0]&&t[1]===e[1]&&t[3]===e[3]?"down":t[2]===e[2]&&t[1]===e[1]&&t[3]===e[3]?"up":t[1]===e[1]&&t[2]===e[2]?"right":"left"}},{key:"snapDragArea",value:function(e,t,r,i){var o=t.slice(0),a=this.getAutofillSize(e,t,r),s=n(e,4),u=s[0],l=s[1],c=s[2],f=s[3],h=["up","down"].indexOf(r)>-1?c-u+1:f-l+1,p=a-Math.floor(a/h)*h,d=this.getFarthestCollection(e,t,r,i);if(d)if("down"===r){var y=d.row+d.rowspan-u-p;o[2]+y>=this.plugin.hot.countRows()?o[2]-=p:o[2]+=p?y:0}else if("right"===r){var g=d.col+d.colspan-l-p;o[3]+g>=this.plugin.hot.countCols()?o[3]-=p:o[3]+=p?g:0}else if("up"===r){var m=c-p-d.row+1;o[0]+m<0?o[0]+=p:o[0]-=p?m:0}else if("left"===r){var v=f-p-d.col+1;o[1]+v<0?o[1]+=p:o[1]-=p?v:0}return this.updateCurrentFillCache({baseArea:e,dragDirection:r,foundMergedCells:i,fillSize:a,dragArea:o,cycleLength:h}),o}},{key:"updateCurrentFillCache",value:function(e){this.currentFillData||(this.currentFillData={}),(0,o.extend)(this.currentFillData,e)}},{key:"getAutofillSize",value:function(e,t,r){var i=n(e,4),o=i[0],a=i[1],s=i[2],u=i[3],l=n(t,4),c=l[0],f=l[1],h=l[2],p=l[3];switch(r){case"up":return o-c;case"down":return h-s;case"left":return a-f;case"right":return p-u;default:return null}}},{key:"getDragArea",value:function(e,t,r){var i=n(e,4),o=i[0],a=i[1],s=i[2],u=i[3],l=n(t,4),c=l[0],f=l[1],h=l[2],p=l[3];switch(r){case"up":return[c,f,o-1,u];case"down":return[s+1,a,h,u];case"left":return[c,f,s,a-1];case"right":return[o,u+1,h,p];default:return null}}},{key:"getFarthestCollection",value:function(e,t,r,i){var o=n(e,4),a=o[0],u=o[1],l=o[2],c=o[3],f=["up","down"].indexOf(r)>-1,h=f?l:c,p=f?a:u,d=this.getAutofillSize(e,t,r),y=f?l-a+1:c-u+1,g=d-Math.floor(d/y)*y,m=null,v=null,b=null;switch(r){case"up":m="includesVertically",b=h-g+1;break;case"left":m="includesHorizontally",b=h-g+1;break;case"down":m="includesVertically",b=p+g-1;break;case"right":m="includesHorizontally",b=p+g-1}return(0,s.arrayEach)(i,function(e){e[m](b)&&e.isFarther(v,r)&&(v=e)}),v}},{key:"recreateAfterDataPopulation",value:function(e){if(this.currentFillData){var t=this.getRangeFromChanges(e),r=this.currentFillData.foundMergedCells,n=this.currentFillData.dragDirection,i=function(e,r){switch(n){case"up":return e.row-r>=t.from.row;case"down":return e.row+e.rowspan-1+r<=t.to.row;case"left":return e.col-r>=t.from.column;case"right":return e.col+e.colspan-1+r<=t.to.column;default:return null}},o=0,a=null,s=1;do{for(var u=0;u<r.length;u+=1){if(i(a=r[u],o=s*this.currentFillData.cycleLength))switch(n){case"up":this.plugin.mergedCellsCollection.add({row:a.row-o,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+o,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-o,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+o,colspan:a.colspan})}u===r.length-1&&(s+=1)}}while(i(a,o));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(e){var t={min:null,max:null},r={min:null,max:null};return(0,s.arrayEach)(e,function(e){(null===t.min||e[0]<t.min)&&(t.min=e[0]),(null===t.max||e[0]>t.max)&&(t.max=e[0]),(null===r.min||e[1]<r.min)&&(r.min=e[1]),(null===r.max||e[1]>r.max)&&(r.max=e[1])}),{from:{row:t.min,column:r.min},to:{row:t.max,column:r.max}}}},{key:"dragAreaOverlapsCollections",value:function(e,t,r){var i=this.getDragArea(e,t,r),o=n(i,4),s=o[0],u=o[1],l=o[2],c=o[3],f=new a.CellCoords(s,u),h=new a.CellCoords(l,c),p=new a.CellRange(f,f,h);return!!this.mergedCellsCollection.getWithinRange(p,!0)}}]),AutofillCalculations}();t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(4);var a=function(){function SelectionCalculations(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectionCalculations),this.plugin=e,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return i(SelectionCalculations,[{key:"snapDelta",value:function(e,t,r){var n=t.to,i=n.row+e.row,o=n.col+e.col;e.row?this.jumpOverMergedCell(e,r,i):e.col&&this.jumpOverMergedCell(e,r,o)}},{key:"jumpOverMergedCell",value:function(e,t,r){var n=e.row||e.col,i=null,o=null,a=null;e.row?(i=t.includesVertically(r),o=t.row,a=t.getLastRow()):e.col&&(i=t.includesHorizontally(r),o=t.col,a=t.getLastColumn()),0!==n&&(n>0?i&&r!==o&&(n+=a-r+1):i&&r!==a&&(n-=r-o+1),e.row?e.row=n:e.col&&(e.col=n))}},{key:"getUpdatedSelectionRange",value:function(e,t){return new o.CellRange(e.highlight,e.from,new o.CellCoords(e.to.row+t.row,e.to.col+t.col))}},{key:"getSelectedMergedCellClassName",value:function(e,t,r,i){var o=n(r,4),a=o[0],s=o[1],u=o[2],l=o[3];if(void 0!==i&&e>=a&&e<=u&&t>=s&&t<=l){if(!this.plugin.mergedCellsCollection.isMergedParent(e,t))return;var c=this.plugin.mergedCellsCollection.get(e,t);if(!c)return;if(c.row+c.rowspan-1<=u&&c.col+c.colspan-1<=l)return this.fullySelectedMergedCellClassName+"-"+i;if(this.plugin.selectionCalculations.isMergeCellFullySelected(c,this.plugin.hot.getSelectedRange()))return this.fullySelectedMergedCellClassName+"-multiple"}}},{key:"isMergeCellFullySelected",value:function(e,t){var r=[];if(!t||!e)return!1;for(var n=0;n<e.rowspan;n+=1)for(var i=0;i<e.colspan;i+=1)r.push(new o.CellCoords(e.row+n,e.col+i));for(var a=0;a<r.length;a+=1){for(var s=[],u=0;u<t.length;u+=1)s[u]=t[u].includes(r[a]);if(!s.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var e=[],t=0;t<=7;t+=1)e.push(this.fullySelectedMergedCellClassName+"-"+t);return e.push(this.fullySelectedMergedCellClassName+"-multiple"),e}}]),SelectionCalculations}();t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var r=e.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_UNMERGE_CELLS)}return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_MERGE_CELLS)},callback:function(){e.toggleMergeOnSelection()},disabled:function(){var e=this.getSelectedLast();if(!e)return!0;var t=a.default.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1});return t||this.selection.isSelectedByCorner()},hidden:!1}};var n,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),o=r(95),a=(n=o)&&n.__esModule?n:{default:n}},function(e,t){},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=(_interopRequireDefault(r(15)),r(0)),o=r(27),a=_interopRequireDefault(r(10)),s=_interopRequireDefault(r(6)),u=r(8),l=r(4);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function MultipleSelectionHandles(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MultipleSelectionHandles);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MultipleSelectionHandles.__proto__||Object.getPrototypeOf(MultipleSelectionHandles)).call(this,e));return t.dragged=[],t.eventManager=null,t.lastSetCell=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MultipleSelectionHandles,a.default),n(MultipleSelectionHandles,[{key:"isEnabled",value:function(){return(0,o.isMobileBrowser)()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new s.default(this)),this.registerListeners(),function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(MultipleSelectionHandles.prototype.__proto__||Object.getPrototypeOf(MultipleSelectionHandles.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var e=this;function removeFromDragged(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;var r=e.dragged.indexOf(t);if(-1==r)return!1;0===r?e.dragged=e.dragged.slice(0,1):1==r&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(t){var r=void 0;return(0,i.hasClass)(t.target,"topLeftSelectionHandle-HitArea")?(r=e.hot.getSelectedRangeLast(),e.dragged.push("topLeft"),e.touchStartRange={width:r.getWidth(),height:r.getHeight(),direction:r.getDirection()},t.preventDefault(),!1):(0,i.hasClass)(t.target,"bottomRightSelectionHandle-HitArea")?(r=e.hot.getSelectedRangeLast(),e.dragged.push("bottomRight"),e.touchStartRange={width:r.getWidth(),height:r.getHeight(),direction:r.getDirection()},t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(t){return(0,i.hasClass)(t.target,"topLeftSelectionHandle-HitArea")?(removeFromDragged.call(e,"topLeft"),e.touchStartRange=void 0,t.preventDefault(),!1):(0,i.hasClass)(t.target,"bottomRightSelectionHandle-HitArea")?(removeFromDragged.call(e,"bottomRight"),e.touchStartRange=void 0,t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(t){var r,n=(0,i.getWindowScrollTop)(),o=(0,i.getWindowScrollLeft)(),a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0;0!==e.dragged.length&&(r=document.elementFromPoint(t.touches[0].screenX-o,t.touches[0].screenY-n))&&r!==e.lastSetCell&&("TD"!=r.nodeName&&"TH"!=r.nodeName||(-1==(a=e.hot.getCoords(r)).col&&(a.col=0),u=(s=e.hot.getSelectedRangeLast()).getWidth(),l=s.getHeight(),c=s.getDirection(),1==u&&1==l&&e.hot.selection.setRangeEnd(a),null!==(f=e.getCurrentRangeCoords(s,a,e.touchStartRange.direction,c,e.dragged[0])).start&&e.hot.selection.setRangeStart(f.start),e.hot.selection.setRangeEnd(f.end),e.lastSetCell=r),t.preventDefault())})}},{key:"getCurrentRangeCoords",value:function(e,t,r,n,i){var o=e.getTopLeftCorner(),a=e.getBottomRightCorner(),s=e.getBottomLeftCorner(),u=e.getTopRightCorner(),c={start:null,end:null};switch(r){case"NE-SW":switch(n){case"NE-SW":case"NW-SE":c="topLeft"==i?{start:new l.CellCoords(t.row,e.highlight.col),end:new l.CellCoords(s.row,t.col)}:{start:new l.CellCoords(e.highlight.row,t.col),end:new l.CellCoords(t.row,o.col)};break;case"SE-NW":"bottomRight"==i&&(c={start:new l.CellCoords(a.row,t.col),end:new l.CellCoords(t.row,o.col)})}break;case"NW-SE":switch(n){case"NE-SW":"topLeft"==i?c={start:t,end:s}:c.end=t;break;case"NW-SE":"topLeft"==i?c={start:t,end:a}:c.end=t;break;case"SE-NW":"topLeft"==i?c={start:t,end:o}:c.end=t;break;case"SW-NE":"topLeft"==i?c={start:t,end:u}:c.end=t}break;case"SW-NE":switch(n){case"NW-SE":c="bottomRight"==i?{start:new l.CellCoords(t.row,o.col),end:new l.CellCoords(s.row,t.col)}:{start:new l.CellCoords(o.row,t.col),end:new l.CellCoords(t.row,a.col)};break;case"SW-NE":c="topLeft"==i?{start:new l.CellCoords(e.highlight.row,t.col),end:new l.CellCoords(t.row,a.col)}:{start:new l.CellCoords(t.row,o.col),end:new l.CellCoords(o.row,t.col)};break;case"SE-NW":"bottomRight"==i?c={start:new l.CellCoords(t.row,u.col),end:new l.CellCoords(o.row,t.col)}:"topLeft"==i&&(c={start:s,end:t})}break;case"SE-NW":switch(n){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==i&&(c.end=t);break;case"SE-NW":"topLeft"==i?c.end=t:c={start:t,end:o}}}return c}},{key:"isDragged",value:function(){return this.dragged.length>0}}]),MultipleSelectionHandles}();(0,u.registerPlugin)("multipleSelectionHandles",c),t.default=c},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(10)),a=(_interopRequireDefault(r(325)),_interopRequireDefault(r(474))),s=r(1),u=r(8);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function ObserveChanges(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ObserveChanges);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ObserveChanges.__proto__||Object.getPrototypeOf(ObserveChanges)).call(this,e));return t.observer=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ObserveChanges,o.default),n(ObserveChanges,[{key:"isEnabled",value:function(){return this.hot.getSettings().observeChanges}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.observer||(this.observer=new a.default(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(t){return e.onDataChange(t)}),this.addHook("afterCreateRow",function(){return e.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return e.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return e.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return e.onAfterTableAlter()}),this.addHook("afterChange",function(t,r){return e.onAfterTableAlter(r)}),this.addHook("afterLoadData",function(t){return e.onAfterLoadData(t)}),i(ObserveChanges.prototype.__proto__||Object.getPrototypeOf(ObserveChanges.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),i(ObserveChanges.prototype.__proto__||Object.getPrototypeOf(ObserveChanges.prototype),"disablePlugin",this).call(this)}},{key:"onDataChange",value:function(e){var t=this;if(!this.observer.isPaused()){var r=this.pluginName+".change",n={add:function(e){isNaN(e.col)?t.hot.runHooks("afterCreateRow",e.row,1,r):t.hot.runHooks("afterCreateCol",e.col,1,r)},remove:function(e){isNaN(e.col)?t.hot.runHooks("afterRemoveRow",e.row,1,r):t.hot.runHooks("afterRemoveCol",e.col,1,r)},replace:function(e){t.hot.runHooks("afterChange",[[e.row,e.col,null,e.value]],r)}};(0,s.arrayEach)(e,function(e){n[e.op]&&n[e.op](e)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")}},{key:"onAfterTableAlter",value:function(e){var t=this;"loadData"!==e&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return t.observer.resume()}))}},{key:"onAfterLoadData",value:function(e){e||this.observer.setObservedData(this.hot.getSourceData())}},{key:"destroy",value:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),i(ObserveChanges.prototype.__proto__||Object.getPrototypeOf(ObserveChanges.prototype),"destroy",this).call(this)}},{key:"_exposePublicApi",value:function(){var e=this,t=this.hot;t.pauseObservingChanges=function(){return e.observer.pause()},t.resumeObservingChanges=function(){return e.observer.resume()},t.isPausedObservingChanges=function(){return e.observer.isPaused()}}},{key:"_deletePublicApi",value:function(){var e=this.hot;delete e.pauseObservingChanges,delete e.resumeObservingChanges,delete e.isPausedObservingChanges}}]),ObserveChanges}();t.default=l,(0,u.registerPlugin)("observeChanges",l)},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(325)),o=_interopRequireDefault(r(58)),a=r(2),s=r(475);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(){function DataObserver(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataObserver),this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(e)}return n(DataObserver,[{key:"setObservedData",value:function(e){var t=this;this.observer&&i.default.unobserve(this.observedData,this.observer),this.observedData=e,this.observer=i.default.observe(this.observedData,function(e){return t.onChange(e)})}},{key:"isPaused",value:function(){return this.paused}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"onChange",value:function(e){this.runLocalHooks("change",(0,s.cleanPatches)(e))}},{key:"destroy",value:function(){i.default.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}}]),DataObserver}();(0,a.mixin)(u,o.default),t.default=u},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.cleanPatches=function(e){var t=[];return e=(0,i.arrayFilter)(e,function(e){return!/[/]length/gi.test(e.path)&&!!parsePath(e.path)}),e=(0,i.arrayMap)(e,function(e){var t=parsePath(e.path);return e.row=t.row,e.col=t.col,e}),e=(0,i.arrayFilter)(e,function(e){if(-1!==["add","remove"].indexOf(e.op)&&!isNaN(e.col)){if(-1!==t.indexOf(e.col))return!1;t.push(e.col)}return!0}),t.length=0,e},t.parsePath=parsePath;var i=r(1);function parsePath(e){var t=e.match(/^\/(\d+)\/?(.*)?$/);if(!t)return null;var r=n(t,3),i=r[1],o=r[2];return{row:parseInt(i,10),col:/^\d*$/.test(o)?parseInt(o,10):o}}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(10),s=(n=a)&&n.__esModule?n:{default:n},u=r(8),l=r(2),c=r(5),f=r(16);var h="htSearchResult",p=function(e,t,r,n,i){e.getCellMeta(t,r).isSearchResult=i},d=function(e,t){return!((0,f.isUndefined)(e)||null===e||!e.toLowerCase||0===e.length)&&(!(0,f.isUndefined)(t)&&null!==t&&-1!==t.toString().toLowerCase().indexOf(e.toLowerCase()))},y=function(e){function Search(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Search);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,e));return t.callback=p,t.queryMethod=d,t.searchResultClass=h,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Search,s.default),i(Search,[{key:"isEnabled",value:function(){return this.hot.getSettings().search}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var t=this.hot.getSettings().search;this.updatePluginSettings(t),this.addHook("beforeRenderer",function(){return e.onBeforeRenderer.apply(e,arguments)}),o(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var e=this,t=function(){return e.onBeforeRenderer.apply(e,arguments)};this.hot.addHook("beforeRenderer",t),this.hot.addHookOnce("afterRender",function(){e.hot.removeHook("beforeRenderer",t)}),o(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),o(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),i=this.hot.countRows(),o=this.hot.countCols(),a=[],s=this.hot;return(0,c.rangeEach)(0,i-1,function(i){(0,c.rangeEach)(0,o-1,function(o){var u=t.hot.getDataAtCell(i,o),l=t.hot.getCellMeta(i,o),c=l.search.callback||r,f=(l.search.queryMethod||n)(e,u);if(f){var h={row:i,col:o,data:u};a.push(h)}c&&c(s,i,o,u,f)})}),a}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(e){this.callback=e}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(e){this.queryMethod=e}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(e){this.searchResultClass=e}},{key:"updatePluginSettings",value:function(e){(0,l.isObject)(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}},{key:"onBeforeRenderer",value:function(e,t,r,n,i,o){var a,s=o.className||[],u=[];"string"==typeof s?u=s.split(" "):(a=u).push.apply(a,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(s));this.isEnabled()&&o.isSearchResult?u.includes(this.searchResultClass)||u.push(""+this.searchResultClass):u.includes(this.searchResultClass)&&u.splice(u.indexOf(this.searchResultClass),1),o.className=u.join(" ")}},{key:"destroy",value:function(){o(Search.prototype.__proto__||Object.getPrototypeOf(Search.prototype),"destroy",this).call(this)}}]),Search}();(0,u.registerPlugin)("search",y),t.default=y},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(0),s=r(1),u=r(10),l=(n=u)&&n.__esModule?n:{default:n},c=r(8),f=r(40);var h=function(e){function TouchScroll(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TouchScroll);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TouchScroll.__proto__||Object.getPrototypeOf(TouchScroll)).call(this,e));return t.scrollbars=[],t.clones=[],t.lockedCollection=!1,t.freezeOverlays=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TouchScroll,l.default),i(TouchScroll,[{key:"isEnabled",value:function(){return(0,f.isTouchSupported)()}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterRender",function(){return e.onAfterRender()}),this.registerEvents(),o(TouchScroll.prototype.__proto__||Object.getPrototypeOf(TouchScroll.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,o(TouchScroll.prototype.__proto__||Object.getPrototypeOf(TouchScroll.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){o(TouchScroll.prototype.__proto__||Object.getPrototypeOf(TouchScroll.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var e=this;this.addHook("beforeTouchScroll",function(){return e.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return e.onAfterMomentumScroll()})}},{key:"onAfterRender",value:function(){if(!this.lockedCollection){var e=this.hot.view.wt.wtOverlays,t=e.topOverlay,r=e.bottomOverlay,n=e.leftOverlay,i=e.topLeftCornerOverlay,o=e.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),r.clone&&this.scrollbars.push(r),this.scrollbars.push(n),i&&this.scrollbars.push(i),o&&o.clone&&this.scrollbars.push(o),this.clones.length=0,t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),r.needFullRender&&this.clones.push(r.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),i&&this.clones.push(i.clone.wtTable.holder.parentNode),o&&o.clone&&this.clones.push(o.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,(0,s.arrayEach)(this.clones,function(e){(0,a.addClass)(e,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var e=this;this.freezeOverlays=!1,(0,s.arrayEach)(this.clones,function(e){(0,a.removeClass)(e,"hide-tween"),(0,a.addClass)(e,"show-tween")}),setTimeout(function(){(0,s.arrayEach)(e.clones,function(e){(0,a.removeClass)(e,"show-tween")})},400),(0,s.arrayEach)(this.scrollbars,function(e){e.refresh(),e.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}}]),TouchScroll}();(0,c.registerPlugin)("touchScroll",h),t.default=h},function(e,t,r){"use strict";t.__esModule=!0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(15),a=(n=o)&&n.__esModule?n:{default:n},s=r(1),u=r(5),l=r(2),c=r(12),f=(r(4),r(19));function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function UndoRedo(e){var t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e,r){e&&"UndoRedo.undo"!==r&&"UndoRedo.redo"!==r&&"MergeCells"!==r&&t.done(new UndoRedo.ChangeAction(e))}),e.addHook("afterCreateRow",function(e,r,n){if("UndoRedo.undo"!==n&&"UndoRedo.undo"!==n&&"auto"!==n){var i=new UndoRedo.CreateRowAction(e,r);t.done(i)}}),e.addHook("beforeRemoveRow",function(e,r,n,i){if("UndoRedo.undo"!==i&&"UndoRedo.redo"!==i&&"auto"!==i){var o=t.instance.getSourceDataArray();e=(o.length+e)%o.length;var a=(0,l.deepClone)(o.slice(e,e+r));t.done(new UndoRedo.RemoveRowAction(e,a))}}),e.addHook("afterCreateCol",function(e,r,n){"UndoRedo.undo"!==n&&"UndoRedo.redo"!==n&&"auto"!==n&&t.done(new UndoRedo.CreateColumnAction(e,r))}),e.addHook("beforeRemoveCol",function(r,n,i,o){if("UndoRedo.undo"!==o&&"UndoRedo.redo"!==o&&"auto"!==o){var a=t.instance.getSourceDataArray();r=(t.instance.countCols()+r)%t.instance.countCols();var s=[],l=[],c=[];(0,u.rangeEach)(a.length-1,function(t){var i=[],o=a[t];(0,u.rangeEach)(r,r+(n-1),function(t){i.push(o[e.runHooks("modifyCol",t)])}),s.push(i)}),(0,u.rangeEach)(n-1,function(t){c.push(e.runHooks("modifyCol",r+t))}),Array.isArray(e.getSettings().colHeaders)&&(0,u.rangeEach)(n-1,function(t){l.push(e.getSettings().colHeaders[e.runHooks("modifyCol",r+t)]||null)});var f=t.instance.getPlugin("manualColumnMove"),h=f.isEnabled()?f.columnsMapper.__arrayMap:[],p=new UndoRedo.RemoveColumnAction(r,c,s,l,h);t.done(p)}}),e.addHook("beforeCellAlignment",function(e,r,n,i){var o=new UndoRedo.CellAlignmentAction(e,r,n,i);t.done(o)}),e.addHook("beforeFilter",function(e){t.done(new UndoRedo.FiltersAction(e))}),e.addHook("beforeRowMove",function(e,r){!1!==e&&t.done(new UndoRedo.RowMoveAction(e,r))}),e.addHook("beforeMergeCells",function(r,n){n||t.done(new UndoRedo.MergeCellsAction(e,r))}),e.addHook("afterUnmergeCells",function(r,n){n||t.done(new UndoRedo.UnmergeCellsAction(e,r))})}UndoRedo.prototype.done=function(e){this.ignoreNewActions||(this.doneActions.push(e),this.undoneActions.length=0)},UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.pop(),t=(0,l.deepClone)(e),r=this.instance;if(!1===r.runHooks("beforeUndo",t))return;this.ignoreNewActions=!0;var n=this;e.undo(this.instance,function(){n.ignoreNewActions=!1,n.undoneActions.push(e)}),r.runHooks("afterUndo",t)}},UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.pop(),t=(0,l.deepClone)(e),r=this.instance;if(!1===r.runHooks("beforeRedo",t))return;this.ignoreNewActions=!0;var n=this;e.redo(this.instance,function(){n.ignoreNewActions=!1,n.doneActions.push(e)}),r.runHooks("afterRedo",t)}},UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},UndoRedo.Action=function(){},UndoRedo.Action.prototype.undo=function(){},UndoRedo.Action.prototype.redo=function(){},UndoRedo.ChangeAction=function(e){this.changes=e,this.actionType="change"},(0,l.inherit)(UndoRedo.ChangeAction,UndoRedo.Action),UndoRedo.ChangeAction.prototype.undo=function(e,t){for(var r=(0,l.deepClone)(this.changes),n=e.countEmptyRows(!0),i=e.countEmptyCols(!0),o=0,a=r.length;o<a;o++)r[o].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(r,null,null,"UndoRedo.undo");for(var s=0,u=r.length;s<u;s++)e.getSettings().minSpareRows&&r[s][0]+1+e.getSettings().minSpareRows===e.countRows()&&n===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(r[s][0]+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&r[s][1]+1+e.getSettings().minSpareCols===e.countCols()&&i===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(r[s][1]+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())},UndoRedo.ChangeAction.prototype.redo=function(e,t){for(var r=(0,l.deepClone)(this.changes),n=0,i=r.length;n<i;n++)r[n].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(r,null,null,"UndoRedo.redo")},UndoRedo.CreateRowAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_row"},(0,l.inherit)(UndoRedo.CreateRowAction,UndoRedo.Action),UndoRedo.CreateRowAction.prototype.undo=function(e,t){var r=e.countRows(),n=e.getSettings().minSpareRows;this.index>=r&&this.index-n<r&&(this.index-=n),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},UndoRedo.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},UndoRedo.RemoveRowAction=function(e,t){this.index=e,this.data=t,this.actionType="remove_row"},(0,l.inherit)(UndoRedo.RemoveRowAction,UndoRedo.Action),UndoRedo.RemoveRowAction.prototype.undo=function(e,t){e.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),e.addHookOnce("afterRender",t),e.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},UndoRedo.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},UndoRedo.CreateColumnAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_col"},(0,l.inherit)(UndoRedo.CreateColumnAction,UndoRedo.Action),UndoRedo.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},UndoRedo.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},UndoRedo.RemoveColumnAction=function(e,t,r,n,i){this.index=e,this.indexes=t,this.data=r,this.amount=this.data[0].length,this.headers=n,this.columnPositions=i.slice(0),this.actionType="remove_col"},(0,l.inherit)(UndoRedo.RemoveColumnAction,UndoRedo.Action),UndoRedo.RemoveColumnAction.prototype.undo=function(e,t){var r=this,n=void 0,i=this.indexes.slice(0).sort(),o=function(e,t,n){return n[r.indexes.indexOf(i[t])]},a=[];(0,u.rangeEach)(this.data.length-1,function(e){a[e]=(0,s.arrayMap)(r.data[e],o)});var l;l=(0,s.arrayMap)(this.headers,o);var c=[];e.runHooks("beforeCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),(0,u.rangeEach)(this.data.length-1,function(t){n=e.getSourceDataAtRow(t),(0,u.rangeEach)(i.length-1,function(e){n.splice(i[e],0,a[t][e]),c.push([t,i[e],null,a[t][e]])})}),e.getPlugin("formulas")&&e.getPlugin("formulas").onAfterSetDataAtCell(c),void 0!==this.headers&&(0,u.rangeEach)(l.length-1,function(t){e.getSettings().colHeaders.splice(i[t],0,l[t])}),e.getPlugin("manualColumnMove")&&(e.getPlugin("manualColumnMove").columnsMapper.__arrayMap=this.columnPositions),e.addHookOnce("afterRender",t),e.runHooks("afterCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),e.getPlugin("formulas")&&e.getPlugin("formulas").recalculateFull(),e.render()},UndoRedo.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},UndoRedo.CellAlignmentAction=function(e,t,r,n){this.stateBefore=e,this.range=t,this.type=r,this.alignment=n},UndoRedo.CellAlignmentAction.prototype.undo=function(e,t){var r=this;(0,s.arrayEach)(this.range,function(t){for(var n=t.from,i=t.to,o=n.row;o<=i.row;o+=1)for(var a=n.col;a<=i.col;a+=1)e.setCellMeta(o,a,"className",r.stateBefore[o][a]||" htLeft")}),e.addHookOnce("afterRender",t),e.render()},UndoRedo.CellAlignmentAction.prototype.redo=function(e,t){(0,f.align)(this.range,this.type,this.alignment,function(t,r){return e.getCellMeta(t,r)},function(t,r,n,i){return e.setCellMeta(t,r,n,i)}),e.addHookOnce("afterRender",t),e.render()},UndoRedo.FiltersAction=function(e){this.conditionsStack=e,this.actionType="filter"},(0,l.inherit)(UndoRedo.FiltersAction,UndoRedo.Action),UndoRedo.FiltersAction.prototype.undo=function(e,t){var r=e.getPlugin("filters");e.addHookOnce("afterRender",t),r.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),r.filter()},UndoRedo.FiltersAction.prototype.redo=function(e,t){var r=e.getPlugin("filters");e.addHookOnce("afterRender",t),r.conditionCollection.importAllConditions(this.conditionsStack),r.filter()};var h=function(e){function MergeCellsAction(e,t){_classCallCheck(this,MergeCellsAction);var r=_possibleConstructorReturn(this,(MergeCellsAction.__proto__||Object.getPrototypeOf(MergeCellsAction)).call(this));return r.cellRange=t,r.rangeData=e.getData(t.from.row,t.from.col,t.to.row,t.to.col),r}return _inherits(MergeCellsAction,UndoRedo.Action),i(MergeCellsAction,[{key:"undo",value:function(e,t){var r=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),r.unmergeRange(this.cellRange,!0),e.populateFromArray(this.cellRange.from.row,this.cellRange.from.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(e,t){var r=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),r.mergeRange(this.cellRange)}}]),MergeCellsAction}();UndoRedo.MergeCellsAction=h;var p=function(e){function UnmergeCellsAction(e,t){_classCallCheck(this,UnmergeCellsAction);var r=_possibleConstructorReturn(this,(UnmergeCellsAction.__proto__||Object.getPrototypeOf(UnmergeCellsAction)).call(this));return r.cellRange=t,r}return _inherits(UnmergeCellsAction,UndoRedo.Action),i(UnmergeCellsAction,[{key:"undo",value:function(e,t){var r=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),r.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(e,t){var r=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),r.unmergeRange(this.cellRange,!0),e.render()}}]),UnmergeCellsAction}();function init(){void 0===this.getSettings().undo||this.getSettings().undo?this.undoRedo||(this.undoRedo=new UndoRedo(this),function(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}(this),this.addHook("beforeKeyDown",onBeforeKeyDown),this.addHook("afterChange",onAfterChange)):this.undoRedo&&(delete this.undoRedo,function(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}(this),this.removeHook("beforeKeyDown",onBeforeKeyDown),this.removeHook("afterChange",onAfterChange))}function onBeforeKeyDown(e){(e.ctrlKey||e.metaKey)&&!e.altKey&&(89===e.keyCode||e.shiftKey&&90===e.keyCode?(this.undoRedo.redo(),(0,c.stopImmediatePropagation)(e)):90===e.keyCode&&(this.undoRedo.undo(),(0,c.stopImmediatePropagation)(e)))}function onAfterChange(e,t){if("loadData"===t)return this.undoRedo.clear()}UndoRedo.UnmergeCellsAction=p,UndoRedo.RowMoveAction=function(e,t){this.rows=e.slice(),this.target=t},(0,l.inherit)(UndoRedo.RowMoveAction,UndoRedo.Action),UndoRedo.RowMoveAction.prototype.undo=function(e,t){var r=e.getPlugin("manualRowMove");e.addHookOnce("afterRender",t);for(var n=this.rows[0]<this.target?-1*this.rows.length:0,i=this.rows[0]>this.target?this.rows[0]+this.rows.length:this.rows[0],o=[],a=this.rows.length+n,s=n;s<a;s+=1)o.push(this.target+s);r.moveRows(o.slice(),i),e.render(),e.selectCell(this.rows[0],0,this.rows[this.rows.length-1],e.countCols()-1,!1,!1)},UndoRedo.RowMoveAction.prototype.redo=function(e,t){var r=e.getPlugin("manualRowMove");e.addHookOnce("afterRender",t),r.moveRows(this.rows.slice(),this.target),e.render();var n=this.rows[0]<this.target?this.target-this.rows.length:this.target;e.selectCell(n,0,n+this.rows.length-1,e.countCols()-1,!1,!1)};var d=a.default.getSingleton();d.add("afterInit",init),d.add("afterUpdateSettings",init),d.register("beforeUndo"),d.register("afterUndo"),d.register("beforeRedo"),d.register("afterRedo"),t.default=UndoRedo}]).default},e.exports=r()}).call(t,r("pBGv"))},"7XmR":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Sorts(){this._sorts=new Array}return Object.defineProperty(Sorts.prototype,"sorts",{get:function(){return this._sorts},enumerable:!0,configurable:!0}),Sorts.prototype.addSort=function(e){this._sorts=this.sorts.concat(e)},Sorts.prototype.getSort=function(e){return this.sorts.find(function(t){return t.field.alias===e.alias})},Sorts}();t.Sorts=n},"7cqj":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("UEw3");!function(e){var t,r,i,o,a,s,u;!function(e){e.Names="NAMES",e.Values="VALUES",e.Calc="CALC",e.Column="COLUMN",e.Field="FIELD"}(t=e.Source||(e.Source={})),function(e){e.Dimension="DIMENSION",e.Measure="MEASURE"}(r=e.Role||(e.Role={})),function(e){e.Continuous="CONTINUOUS",e.Discrete="DISCRETE"}(i=e.Type||(e.Type={})),function(e){e.Categorical="CATEGORICAL",e.Ordinal="ORDINAL",e.Quantitative="QUANTITATIVE"}(o=e.Scale||(e.Scale={})),function(e){e.Sequential="SEQUENTIAL",e.Divergent="DIVERGENT",e.Cyclic="CYCLIC"}(a=e.Ordering||(e.Ordering={})),e.categorical=function(e,t){return{formula:e,name:t,role:r.Dimension,type:i.Discrete,scale:o.Categorical}},e.ordinal=function(e,t,r,n,i){return void 0===i&&(i=a.Sequential),{formula:e,name:t,role:n,type:r,scale:o.Ordinal,ordering:i}},e.quantitative=function(e,t,n){return void 0===n&&(n=a.Sequential),{formula:e,name:t,role:r.Measure,type:i.Continuous,scale:o.Quantitative,ordering:n}},e.dimension=function(e,t,r,n){return{source:e,name:t,type:r,role:n||r}},e.measure=function(e,t,r,n){return{name:t,source:e,type:r,role:n||r}},e.names=function(e){var n=s.Name,o=t.Names,a=i.Discrete;return{formula:s.formula(e),name:n,source:o,type:a,role:r.Dimension}},function(e){e.Key="$NAMES",e.Name="Measure Names",e.formula=function(t){return{name:e.Name,source:e.Key,role:t,type:n.DataType.String.make()}}}(s=e.Names||(e.Names={})),e.values=function(e){var n=u.Name,o=t.Values,s=i.Continuous;return{formula:u.formula(e),name:n,source:o,type:s,ordering:a.Sequential,role:r.Measure}},function(e){e.Key="$VALUES",e.Name="Measure Values",e.formula=function(t){return{name:e.Name,source:e.Key,role:t,type:n.DataType.Float.make()}}}(u=e.Values||(e.Values={}))}(t.Attr||(t.Attr={}))},"7fJc":function(e,t,r){"use strict";(function(e){t.__esModule=!0,t.default=function(t){for(var r=Object.keys(t),a={},s=0;s<r.length;s++){var u=r[s];"function"==typeof t[u]&&(a[u]=t[u])}var l,c=Object.keys(a);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t],i=r(void 0,{type:n.ActionTypes.INIT});if(void 0===i)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===r(void 0,{type:o}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+n.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(a)}catch(e){l=e}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments[1];if(l)throw l;if("production"!==e.env.NODE_ENV){var s=function(e,t,r){var o=Object.keys(t),a=r&&r.type===n.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,i.default)(e))return"The "+a+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+o.join('", "')+'"';var s=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)});if(s.length>0)return"Unexpected "+(s.length>1?"keys":"key")+' "'+s.join('", "')+'" found in '+a+'. Expected to find one of the known reducer keys instead: "'+o.join('", "')+'". Unexpected keys will be ignored.'}(t,a,r);s&&(0,o.default)(s)}for(var u=!1,f={},h=0;h<c.length;h++){var p=c[h],d=a[p],y=t[p],g=d(y,r);if(void 0===g){var m=getUndefinedStateErrorMessage(p,r);throw new Error(m)}f[p]=g,u=u||g!==y}return u?f:t}};var n=r("0Ecd"),i=_interopRequireDefault(r("ES04")),o=_interopRequireDefault(r("1C4T"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getUndefinedStateErrorMessage(e,t){var r=t&&t.type;return'Reducer "'+e+'" returned undefined handling '+(r&&'"'+r.toString()+'"'||"an action")+". To ignore an action, you must explicitly return the previous state."}}).call(t,r("pBGv"))},"7mfc":function(e,t,r){"use strict";var n=r("EsIV");t.bindCallback=n.BoundCallbackObservable.create},"7uBA":function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("7cqj"),o=r("yTj7");!function(e){e.categorical=function(e,t,r){var a=i.Attr.Source.Calc;return r=r||o.Defaults.make(i.Attr.Type.Discrete,r),n({},i.Attr.categorical(e,t),{source:a,defaults:r})},e.ordinal=function(e,t,r,a,s,u){var l=i.Attr.Source.Calc;return u=u||o.Defaults.make(r,u),n({},i.Attr.ordinal(e,t,r,a,s),{source:l,defaults:u})},e.quantitative=function(e,t,r,a){var s=i.Attr.Source.Calc;return a=a||o.Defaults.make(i.Attr.Type.Continuous,a),n({},i.Attr.quantitative(e,t,r),{source:s,defaults:a})}}(t.Calc||(t.Calc={}))},"80UI":function(e,t,r){"use strict";var n=r("SgnA"),i=r("0yNw");t.Map=n.root.Map||i.MapPolyfill},"86ZJ":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ"),a=r("ZTns");t.distinct=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function DistinctOperator(e,t){this.keySelector=e,this.flushes=t}return DistinctOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.flushes))},DistinctOperator}(),u=function(e){function DistinctSubscriber(t,r,n){e.call(this,t),this.keySelector=r,this.values=new a.Set,n&&this.add(o.subscribeToResult(this,n))}return n(DistinctSubscriber,e),DistinctSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.values.clear()},DistinctSubscriber.prototype.notifyError=function(e,t){this._error(e)},DistinctSubscriber.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},DistinctSubscriber.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},DistinctSubscriber.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},DistinctSubscriber}(i.OuterSubscriber);t.DistinctSubscriber=u},"891W":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("t9eG"),a=function(){function BaseVisitor(){}return BaseVisitor.prototype.getNodeId=function(e){return e.location.start.offset},BaseVisitor.prototype.visit=function(e){switch(e.type){case"Identifier":this.visitIdentifierNode(e);break;case"NullLiteral":this.visitNullLiteralNode(e);break;case"BooleanLiteral":this.visitBooleanLiteralNode(e);break;case"NumberLiteral":this.visitNumberLiteralNode(e);break;case"HexLiteral":this.visitHexLiteralNode(e);break;case"StringLiteral":this.visitStringLiteralNode(e);break;case"RegExpLiteral":this.visitRegExpLiteralNode(e);break;case"FieldLiteral":this.visitFieldLiteralNode(e);break;case"DateLiteral":this.visitDateLiteralNode(e);break;case"UnaryExpression":this.visitUnaryExpressionNode(e);break;case"BinaryExpression":this.visitBinaryExpressionNode(e);break;case"LogicalExpression":this.visitLogicalExpressionNode(e);break;case"CaseExpression":this.visitCaseExpressionNode(e);break;case"CallExpression":this.visitCallExpressionNode(e)}},BaseVisitor.prototype.visitAll=function(e){var t=this;e.nodes.forEach(function(e){t.visit(e)})},BaseVisitor.prototype.visitIdentifierNode=function(e){},BaseVisitor.prototype.visitNullLiteralNode=function(e){},BaseVisitor.prototype.visitBooleanLiteralNode=function(e){},BaseVisitor.prototype.visitNumberLiteralNode=function(e){},BaseVisitor.prototype.visitHexLiteralNode=function(e){},BaseVisitor.prototype.visitStringLiteralNode=function(e){},BaseVisitor.prototype.visitRegExpLiteralNode=function(e){},BaseVisitor.prototype.visitFieldLiteralNode=function(e){},BaseVisitor.prototype.visitDateLiteralNode=function(e){},BaseVisitor.prototype.visitUnaryExpressionNode=function(e){},BaseVisitor.prototype.visitBinaryExpressionNode=function(e){},BaseVisitor.prototype.visitLogicalExpressionNode=function(e){},BaseVisitor.prototype.visitCaseExpressionNode=function(e){},BaseVisitor.prototype.visitCallExpressionNode=function(e){},BaseVisitor}();t.BaseVisitor=a;var s=function(){function Pipeline(){this._visitors=new Array}return Object.defineProperty(Pipeline.prototype,"visitors",{get:function(){return this._visitors},enumerable:!0,configurable:!0}),Pipeline.prototype.addVisitor=function(e){this.visitors.push(e)},Pipeline.prototype.visit=function(e){this.visitors.forEach(function(t){e.accept(t)})},Pipeline.prototype.visitAll=function(e){var t=this;e.nodes.forEach(function(e){t.visit(e)})},Pipeline.prototype.visitDepthFirst=function(e){this._visitDepthFirst(e)},Pipeline.prototype.visitAllDepthFirst=function(e){var t=this;e.nodes.forEach(function(e){t.visitDepthFirst(e)})},Pipeline.prototype._visitDepthFirst=function(e){var t=this;switch(e.type){case o.NodeType.UnaryExpression:var r=e;this._visitDepthFirst(r.argument);break;case o.NodeType.BinaryExpression:case o.NodeType.LogicalExpression:var n=e;this._visitDepthFirst(n.left),this._visitDepthFirst(n.right);break;case o.NodeType.CaseExpression:var i=e,a=i.else;i.when.forEach(function(e){var r=e;t._visitDepthFirst(r.condition),t._visitDepthFirst(r.result)}),null!=a&&(a=a,this._visitDepthFirst(a.result));break;case o.NodeType.CallExpression:e.arguments.forEach(function(e){t._visitDepthFirst(e)})}this.visit(e)},Pipeline}();t.Pipeline=s;var u=function(e){function Validator(){var t=e.call(this)||this;return t._errors=new Array,t}return i(Validator,e),Object.defineProperty(Validator.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(Validator.prototype,"isValid",{get:function(){return 0===this.errors.length},enumerable:!0,configurable:!0}),Object.defineProperty(Validator.prototype,"isInvalid",{get:function(){return this.errors.length>0},enumerable:!0,configurable:!0}),Validator.prototype.addError=function(e,t){this.errors.push({node:e,message:t})},Validator}(a);t.Validator=u},"8EwW":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.bufferCount=function(e,t){return void 0===t&&(t=null),function(r){return r.lift(new o(e,t))}};var o=function(){function BufferCountOperator(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?s:a}return BufferCountOperator.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},BufferCountOperator}(),a=function(e){function BufferCountSubscriber(t,r){e.call(this,t),this.bufferSize=r,this.buffer=[]}return n(BufferCountSubscriber,e),BufferCountSubscriber.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},BufferCountSubscriber.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},BufferCountSubscriber}(i.Subscriber),s=function(e){function BufferSkipCountSubscriber(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return n(BufferSkipCountSubscriber,e),BufferSkipCountSubscriber.prototype._next=function(e){var t=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var o=n.length;o--;){var a=n[o];a.push(e),a.length===t&&(n.splice(o,1),this.destination.next(a))}},BufferSkipCountSubscriber.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},BufferSkipCountSubscriber}(i.Subscriber)},"8OXg":function(e,t){e.exports=function(e,t){return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#"+e.toLowerCase().replace(/[\.\(\)]/g,"")}},"8YHK":function(e,t,r){"use strict";var n=r("DRWY"),i=r("6qEb");n.Observable.prototype.publishBehavior=i.publishBehavior},"8Ylw":function(e,t,r){"use strict";var n=r("3L1M");t.map=function(e,t){return n.map(e,t)(this)}},"8cbG":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=function(e){if(null!==e&&"object"===(void 0===e?"undefined":n(e)))return e&&"function"==typeof e.then;return!1}},"8cka":function(e,t,r){"use strict";var n=r("ngUQ");t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeAll(e)(this)}},"8okT":function(e,t,r){"use strict";var n=r("DRWY"),i=r("b9YZ");n.Observable.concat=i.concat},"8q90":function(e,t,r){e.exports=function(e,t){var n=r("ywQn"),i={};return r("Sh+V")(n(e),function(r){!0!==t(r)&&(i[r]=e[r])}),i}},"8tNn":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("TSV6"),a=r("kRjW"),s=r("scSy"),u=r("eEce"),l=function(e){function VTop(t){var r=e.call(this,t)||this;return r.table.xAxisCount>0&&(r._stacks=r.buildStacks(),r._headers=r.buildHeaders(),r._bottom=new u.VBottom(t,r,r.xAxisStack)),r}return i(VTop,e),Object.defineProperty(VTop.prototype,"bottom",{get:function(){return this._bottom},enumerable:!0,configurable:!0}),Object.defineProperty(VTop.prototype,"xAxisStack",{get:function(){return this.stacks[0]},enumerable:!0,configurable:!0}),Object.defineProperty(VTop.prototype,"xAxisField",{get:function(){return this.table.xAxisFields[0]},enumerable:!0,configurable:!0}),VTop.prototype.buildStacks=function(){var e=this,t=new Array,r=this.getPaths(this.rfPath),n=this.buildXStack(r[0]||[]);t.push(n);var i=n;return this.rfPath.forEach(function(n,a){var s=new o.CStack(e.table,r[a],n.alias,i);t.push(s),i=s}),t},VTop.prototype.buildHeaders=function(){var e,t=this,r=new Array;return this.fPath.forEach(function(n,i){var o=t.rStacks[i],s=new a.CHeader(t.table,n,o,e);r.push(s),e=s}),r},VTop.prototype.buildXStack=function(e){var t=this.xAxisField,r=e.concat(t.alias);return new o.CStack(this.table,r,t.alias)},VTop}(s.Top);t.VTop=l},"8yyG":function(e,t,r){var n,i;i=function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(e,t,r){var n=r(2).mergeOpts,i=r(1),o=r(3).Output,a=i.lineBreak,s=i.allLineBreaks;e.exports.Beautifier=function(e,t){t=n(t=t||{},"css"),e=e||"";var r=0,i=t.indent_size?parseInt(t.indent_size,10):4,u=t.indent_char||" ",l=void 0!==t.preserve_newlines&&t.preserve_newlines,c=void 0===t.selector_separator_newline||t.selector_separator_newline,f=void 0!==t.end_with_newline&&t.end_with_newline,h=void 0===t.newline_between_rules||t.newline_between_rules,p=void 0!==t.space_around_combinator&&t.space_around_combinator;p=p||void 0!==t.space_around_selector_separator&&t.space_around_selector_separator;var d=t.eol?t.eol:"auto";t.indent_with_tabs&&(u="\t",i=1),"auto"===d&&(d="\n",e&&a.test(e||"")&&(d=e.match(a)[0])),d=d.replace(/\\r/,"\r").replace(/\\n/,"\n");var y,g=/^\s+$/,m=-1,v=0;function next(){return(y=e.charAt(++m))||""}function peek(t){var r,n=m;return t&&eatWhitespace(),r=e.charAt(m+1)||"",m=n-1,next(),r}function eatString(t){for(var r=m;next();)if("\\"===y)next();else{if(-1!==t.indexOf(y))break;if("\n"===y)break}return e.substring(r,m+1)}function eatWhitespace(e){for(var t=0;g.test(peek());)next(),"\n"===y&&e&&l&&(E.add_new_line(!0),t++);return r=t,t}function skipWhitespace(){var e="";for(y&&g.test(y)&&(e=y);g.test(next());)e+=y;return e}function eatComment(){var t=m,r="/"===peek();for(next();next();){if(!r&&"*"===y&&"/"===peek()){next();break}if(r&&"\n"===y)return e.substring(t,m)}return e.substring(t,m)+y}function lookBack(t){return e.substring(m-t.length,m).toLowerCase()===t}function foundNestedPseudoClass(){for(var t=0,r=m+1;r<e.length;r++){var n=e.charAt(r);if("{"===n)return!0;if("("===n)t+=1;else if(")"===n){if(0===t)return!1;t-=1}else if(";"===n||"}"===n)return!1}return!1}var b="",_=0;if((e=e.replace(s,"\n"))&&e.length){for(;" "===e.charAt(_)||"\t"===e.charAt(_);)_+=1;b=e.substring(0,_),e=e.substring(_)}var w,S,E,C=new Array(i+1).join(u);function print_string(e){E.just_added_newline()&&E.set_indent(w),E.add_token(e)}function preserveSingleSpace(e){e&&(E.space_before_token=!0)}this.beautify=function(){E=new o(C,b),w=0,S=0,m=-1,y=null,v=0;for(var e,t,n=!1,i=!1,a=!1,s="",u="";;){var l=skipWhitespace(),_=""!==l,O=-1!==l.indexOf("\n");if(u=s,s=y,!y)break;if("/"===y&&"*"===peek()){var T=0===w;(O||T)&&E.add_new_line(),print_string(eatComment()),E.add_new_line(),T&&E.add_new_line(!0)}else if("/"===y&&"/"===peek())O||"{"===u||E.trim(!0),E.space_before_token=!0,print_string(eatComment()),E.add_new_line();else if("@"===y)if(preserveSingleSpace(_),"{"===peek())print_string(eatString("}"));else{print_string(y);var A=(e=m,t=eatString(": ,;{}()[]/='\""),m=e-1,next(),t);A.match(/[ :]$/)&&(next(),print_string(A=eatString(": ").replace(/\s$/,"")),E.space_before_token=!0),(A=A.replace(/\s$/,""))in this.NESTED_AT_RULE&&(S+=1,A in this.CONDITIONAL_GROUP_RULE&&(a=!0))}else"#"===y&&"{"===peek()?(preserveSingleSpace(_),print_string(eatString("}"))):"{"===y?"}"===peek(!0)?(eatWhitespace(),next(),E.space_before_token=!0,print_string("{}"),eatWhitespace(!0)||E.add_new_line(),r<2&&h&&0===w&&E.add_new_line(!0)):(w++,E.space_before_token=!0,print_string(y),eatWhitespace(!0)||E.add_new_line(),a?(a=!1,n=w>S):n=w>=S):"}"===y?(w>0&&w--,E.add_new_line(),print_string(y),n=!1,i=!1,S&&S--,eatWhitespace(!0)||E.add_new_line(),r<2&&h&&0===w&&E.add_new_line(!0)):":"===y?(eatWhitespace(),!n&&!a||lookBack("&")||foundNestedPseudoClass()||lookBack("(")?(lookBack(" ")&&(E.space_before_token=!0),":"===peek()?(next(),print_string("::")):print_string(":")):(print_string(":"),i||(i=!0,E.space_before_token=!0))):'"'===y||"'"===y?(preserveSingleSpace(_),print_string(eatString(y))):";"===y?(i=!1,print_string(y),eatWhitespace(!0)||E.add_new_line()):"("===y?lookBack("url")?(print_string(y),eatWhitespace(),next()&&(")"!==y&&'"'!==y&&"'"!==y?print_string(eatString(")")):m--)):(v++,preserveSingleSpace(_),print_string(y),eatWhitespace()):")"===y?(print_string(y),v--):","===y?(print_string(y),!eatWhitespace(!0)&&c&&!i&&v<1?E.add_new_line():E.space_before_token=!0):(">"===y||"+"===y||"~"===y)&&!i&&v<1?p?(E.space_before_token=!0,print_string(y),E.space_before_token=!0):(print_string(y),eatWhitespace(),y&&g.test(y)&&(y="")):"]"===y?print_string(y):"["===y?(preserveSingleSpace(_),print_string(y)):"="===y?(eatWhitespace(),print_string("="),g.test(y)&&(y="")):"!"===y?(print_string(" "),print_string(y)):(preserveSingleSpace(_),print_string(y))}return E.get_code(f,d)},this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}},function(e,t){var r="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",n=new RegExp("["+r+"]"),i=new RegExp("["+r+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&n.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function(e,t){var r,n={};for(r in e)r!==t&&(n[r]=e[r]);if(t in e)for(r in e[t])n[r]=e[t][r];return n}},function(e,t){e.exports.Output=function(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var r=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(e){var t=0,r=-1,n=[],i=!0;this.set_indent=function(n){t=e.baseIndentLength+n*e.indent_length,r=n},this.get_character_count=function(){return t},this.is_empty=function(){return i},this.last=function(){return this._empty?null:n[n.length-1]},this.push=function(e){n.push(e),t+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=n.pop(),t-=e.length,i=0===n.length),e},this.remove_indent=function(){r>0&&(r-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)n.pop(),t-=1;i=0===n.length},this.toString=function(){var t="";return this._empty||(r>=0&&(t=e.indent_cache[r]),t+=n.join("")),t}}(this),r.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return r.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var n=r.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(n+="\n"),"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},this.set_indent=function(e){if(r.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=r.length;e<t;)r[e].remove_indent(),e++},this.trim=function(n){for(n=void 0!==n&&n,this.current_line.trim(e,t);n&&r.length>1&&this.current_line.is_empty();)r.pop(),this.current_line=r[r.length-1],this.current_line.trim();this.previous_line=r.length>1?r[r.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===r.length||r[r.length-2].is_empty())}}},function(e,t,r){var n=r(0).Beautifier;e.exports=function(e,t){return new n(e,t).beautify()}}]),void 0===(n=(function(){return{css_beautify:i}}).apply(t,[]))||(e.exports=n)},"8zNw":function(e,t,r){"use strict";var n=r("3IPk");t.concatMap=function(e,t){return n.mergeMap(e,t,1)}},9173:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function HCircle(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(HCircle,e),HCircle}(r("ciYN").HSymbol);t.HCircle=o},"935o":function(e,t,r){"use strict";var n=r("gi6a");t.takeWhile=function(e){return n.takeWhile(e)(this)}},"9A1j":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VAxes(t,r,n){var i=e.call(this,t,r,null,n)||this;return i._axes=new Array,i}return i(VAxes,e),Object.defineProperty(VAxes.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),VAxes.prototype.getWidth=function(){return 55},VAxes.prototype.addAxis=function(e){this.axes.push(e)},VAxes.prototype.getYProp=function(){return{value:0}},VAxes.prototype.getHeightProp=function(){return{field:{group:"height"}}},VAxes.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.axes;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},VAxes}(r("fGzK").RHead);t.VAxes=o},"9ER9":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=r("H49V");!function(e){e.ROOT="ROOT",e.LAYER="LAYER"}(o=t.PivotRootLevel||(t.PivotRootLevel={})),function(e){e.ROOT="ROOT",e.LAYER="LAYER",e.DIMENSION="DIMENSION",e.MEASURE="MEASURE",e.NAMES="NAMES",e.VALUES="VALUES"}(a=t.PivotNodeType||(t.PivotNodeType={}));var u=function(){function PivotNode(){this._children=new Map}return Object.defineProperty(PivotNode.prototype,"parent",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PivotNode.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),PivotNode.prototype.getChild=function(e){return this.children.get(e)},PivotNode.prototype.setChild=function(e,t){this.children.set(e,t)},PivotNode}();t.PivotNode=u;var l=function(e){function RootNode(){return null!==e&&e.apply(this,arguments)||this}return i(RootNode,e),Object.defineProperty(RootNode.prototype,"type",{get:function(){return a.ROOT},enumerable:!0,configurable:!0}),Object.defineProperty(RootNode.prototype,"level",{get:function(){return o.ROOT},enumerable:!0,configurable:!0}),RootNode}(u);t.RootNode=l;var c=function(e){function LayerRootNode(t){var r=e.call(this)||this;return r._parent=t,r}return i(LayerRootNode,e),Object.defineProperty(LayerRootNode.prototype,"type",{get:function(){return a.ROOT},enumerable:!0,configurable:!0}),Object.defineProperty(LayerRootNode.prototype,"level",{get:function(){return o.LAYER},enumerable:!0,configurable:!0}),Object.defineProperty(LayerRootNode.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),LayerRootNode}(u);t.LayerRootNode=c;var f=function(e){function LayerNode(t,r){var n=e.call(this)||this;return n._parent=t,n._name=r,n}return i(LayerNode,e),Object.defineProperty(LayerNode.prototype,"type",{get:function(){return a.LAYER},enumerable:!0,configurable:!0}),Object.defineProperty(LayerNode.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(LayerNode.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),LayerNode}(u);t.LayerNode=f;var h=function(e){function BaseNode(t,r){var n=e.call(this)||this;return n._parent=t,n._channel=r,n}return i(BaseNode,e),Object.defineProperty(BaseNode.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(BaseNode.prototype,"channel",{get:function(){return this._channel},enumerable:!0,configurable:!0}),BaseNode}(u);t.BaseNode=h;var p=function(e){function DimensionNode(t,r,n,i){var o=e.call(this,t,r)||this;return o._field=n,o._value=i,o}return i(DimensionNode,e),Object.defineProperty(DimensionNode.prototype,"type",{get:function(){return a.DIMENSION},enumerable:!0,configurable:!0}),Object.defineProperty(DimensionNode.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(DimensionNode.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),DimensionNode}(h);t.DimensionNode=p;var d=function(e){function MeasureNode(t,r){var n=e.call(this,t,r)||this;return n._scopes=new Map,n._baseFields=new Map,n._layerFields=new Map,n.baseFields.set(s.Channel.ROW,new Array),n.baseFields.set(s.Channel.COLUMN,new Array),n.baseFields.set(s.Channel.VALUE,new Array),n.layerFields.set(s.Channel.COLOR,new Array),n.layerFields.set(s.Channel.SIZE,new Array),n.layerFields.set(s.Channel.TEXT,new Array),n.layerFields.set(s.Channel.DETAIL,new Array),n.layerFields.set(s.Channel.TOOLTIP,new Array),n.layerFields.set(s.Channel.ANGLE,new Array),n.layerFields.set(s.Channel.PATH,new Array),n}return i(MeasureNode,e),Object.defineProperty(MeasureNode.prototype,"type",{get:function(){return a.MEASURE},enumerable:!0,configurable:!0}),Object.defineProperty(MeasureNode.prototype,"scopes",{get:function(){return this._scopes},enumerable:!0,configurable:!0}),Object.defineProperty(MeasureNode.prototype,"baseFields",{get:function(){return this._baseFields},enumerable:!0,configurable:!0}),Object.defineProperty(MeasureNode.prototype,"layerFields",{get:function(){return this._layerFields},enumerable:!0,configurable:!0}),MeasureNode.prototype.addField=function(e,t){var r=this.scopes.get(t.alias);if(void 0===r){switch(r={},this.scopes.set(t.alias,r),e){case s.Channel.ROW:case s.Channel.COLUMN:case s.Channel.VALUE:this.baseFields.get(e).push(t);break;default:this.layerFields.get(e).push(t)}"VIEWCALC"===t.type&&"AGG"===t.formula.expr.type&&t.formula.expr.init(r)}},MeasureNode.prototype.getResult=function(e){return this.scopes.get(e.alias)},MeasureNode.prototype.collect=function(e){for(var t=null,r=0,n=Array.from(this.baseFields);r<n.length;r++)for(var i=n[r],o=(i[0],0),a=i[1];o<a.length;o++){var s=a[o];t=this.scopes.get(s.alias),"VIEWCALC"===s.type&&"AGG"===s.formula.expr.type&&(t.row=e,s.formula.expr.step(t))}for(var u=0,l=Array.from(this.layerFields);u<l.length;u++)for(var c=l[u],f=(c[0],0),h=c[1];f<h.length;f++){s=h[f];t=this.scopes.get(s.alias),"VIEWCALC"===s.type&&"AGG"===s.formula.expr.type&&(t.row=e,s.formula.expr.step(this.scopes.get(s.alias)))}},MeasureNode.prototype.reduce=function(){for(var e=null,t=0,r=Array.from(this.baseFields);t<r.length;t++)for(var n=r[t],i=(n[0],0),o=n[1];i<o.length;i++){"VIEWCALC"===(f=o[i]).type&&"AGG"===f.formula.expr.type&&(e=this.scopes.get(f.alias),this.scopes.set(f.alias,f.formula.expr.final(e)))}for(var a=0,s=Array.from(this.layerFields);a<s.length;a++)for(var u=s[a],l=(u[0],0),c=u[1];l<c.length;l++){var f;"VIEWCALC"===(f=c[l]).type&&"AGG"===f.formula.expr.type&&(e=this.scopes.get(f.alias),this.scopes.set(f.alias,f.formula.expr.final(e)))}},MeasureNode}(h);t.MeasureNode=d;var y=function(e){function NamesNode(t,r,n){var i=e.call(this,t,r)||this;return i._field=n,i}return i(NamesNode,e),Object.defineProperty(NamesNode.prototype,"type",{get:function(){return a.NAMES},enumerable:!0,configurable:!0}),Object.defineProperty(NamesNode.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),NamesNode}(h);t.NamesNode=y;var g=function(e){function ValuesNode(t,r,n){var i=e.call(this,t,r)||this;return i._field=n,i}return i(ValuesNode,e),Object.defineProperty(ValuesNode.prototype,"type",{get:function(){return a.VALUES},enumerable:!0,configurable:!0}),Object.defineProperty(ValuesNode.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),ValuesNode}(h);t.ValuesNode=g},"9FDf":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function AnimationFrameScheduler(){e.apply(this,arguments)}return n(AnimationFrameScheduler,e),AnimationFrameScheduler.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},AnimationFrameScheduler}(r("h5qz").AsyncScheduler);t.AnimationFrameScheduler=i},"9H8a":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.switchMapTo=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function SwitchMapToOperator(e,t){this.observable=e,this.resultSelector=t}return SwitchMapToOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.observable,this.resultSelector))},SwitchMapToOperator}(),s=function(e){function SwitchMapToSubscriber(t,r,n){e.call(this,t),this.inner=r,this.resultSelector=n,this.index=0}return n(SwitchMapToSubscriber,e),SwitchMapToSubscriber.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,e,this.index++))},SwitchMapToSubscriber.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},SwitchMapToSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapToSubscriber.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},SwitchMapToSubscriber.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,a=this.destination;o?this.tryResultSelector(e,t,r,n):a.next(t)},SwitchMapToSubscriber.prototype.tryResultSelector=function(e,t,r,n){var i,o=this.resultSelector,a=this.destination;try{i=o(e,t,r,n)}catch(e){return void a.error(e)}a.next(i)},SwitchMapToSubscriber}(i.OuterSubscriber)},"9IAS":function(e,t,r){"use strict";var n=r("Wslh");t.mapTo=function(e){return n.mapTo(e)(this)}},"9QTW":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("H49V"),i=r("kdBv"),o=r("9ER9"),a=r("9ER9"),s=r("9ER9"),u=r("YWvS"),l=function(){function PivotCollect(e,t){this._query=e,this._result=t,this.buildSchema(),this._collect=this.buildCollect()}return Object.defineProperty(PivotCollect.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(PivotCollect.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(PivotCollect.prototype,"collect",{get:function(){return this._collect},enumerable:!0,configurable:!0}),Object.defineProperty(PivotCollect.prototype,"rootNode",{get:function(){return this.result.root},enumerable:!0,configurable:!0}),Object.defineProperty(PivotCollect.prototype,"rowNames",{get:function(){return this.query.rows.fields.filter(function(e){return e.isNames})},enumerable:!0,configurable:!0}),Object.defineProperty(PivotCollect.prototype,"columnNames",{get:function(){return this.query.columns.fields.filter(function(e){return e.isNames})},enumerable:!0,configurable:!0}),Object.defineProperty(PivotCollect.prototype,"rowDimensions",{get:function(){return this.query.rows.fields.filter(function(e){return e.isDimension&&!e.isNames})},enumerable:!0,configurable:!0}),Object.defineProperty(PivotCollect.prototype,"columnDimensions",{get:function(){return this.query.columns.fields.filter(function(e){return e.isDimension&&!e.isNames})},enumerable:!0,configurable:!0}),PivotCollect.prototype.buildCollect=function(){for(var e=null,t=null,r=null,l={},f=new Array,h=0,p=Array.from(this.query.layers);h<p.length;h++)for(var d=p[h],y=(d[0],0),g=d[1];y<g.length;y++){var m=g[y];f.push(new c(m,this.result))}var v=this.rootNode,b=this.rowNames,_=this.columnNames,w=this.rowDimensions,S=this.columnDimensions;return function(c,h){e=null,r=null,null,t=v;for(var p=0,d=b;p<d.length;p++){(T=d[p]).type===i.FieldType.VIEWNAMES&&(e=T.alias,null==(r=t.getChild(e))&&(r=new s.NamesNode(t,n.Channel.ROW,T),t.setChild(e,r)),t=r)}for(var y=0,g=_;y<g.length;y++){(T=g[y]).type===i.FieldType.VIEWNAMES&&(e=T.alias,null==(r=t.getChild(e))&&(r=new s.NamesNode(t,n.Channel.COLUMN,T),t.setChild(e,r)),t=r)}for(var m=0,E=w;m<E.length;m++){(T=E[m]).type===i.FieldType.VIEWCALC&&T.formula.expr.type===u.FFuncType.SCALAR&&(l.row=c,e=T.formula.expr.value(l),null==(r=t.getChild(e))&&(r=new a.DimensionNode(t,n.Channel.ROW,T,e),t.setChild(e,r)),t=r)}for(var C=0,O=S;C<O.length;C++){var T;(T=O[C]).type===i.FieldType.VIEWCALC&&T.formula.expr.type===u.FFuncType.SCALAR&&(l.row=c,e=T.formula.expr.value(l),null==(r=t.getChild(e))&&(r=new a.DimensionNode(t,n.Channel.COLUMN,T,e),t.setChild(e,r)),t=r)}e="$LAYER$",null==(r=t.getChild(e))&&(r=new o.LayerRootNode(t),t.setChild(e,r)),t=r;for(var A=0,x=f;A<x.length;A++){var k=x[A];e=k.layer.name,null==(r=t.getChild(e))?(r=new o.LayerNode(t,e),t.setChild(e,r)):r=r,k.collect(r,c,h)}}},PivotCollect.prototype.buildSchema=function(){for(var e=0,t=this.rowNames;e<t.length;e++){var r=t[e];this.result.getResultSet().addSchemaField(r)}for(var n=0,i=this.columnNames;n<i.length;n++){r=i[n];this.result.getResultSet().addSchemaField(r)}for(var o=0,a=this.rowDimensions;o<a.length;o++){r=a[o];this.result.getResultSet().addSchemaField(r)}for(var s=0,u=this.columnDimensions;s<u.length;s++){r=u[s];this.result.getResultSet().addSchemaField(r)}},PivotCollect}();t.PivotCollect=l;var c=function(){function LayerCollector(e,t){this._layer=e,this._result=t,this.buildSchema(),this._collect=this.buildCollect()}return Object.defineProperty(LayerCollector.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(LayerCollector.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(LayerCollector.prototype,"collect",{get:function(){return this._collect},enumerable:!0,configurable:!0}),Object.defineProperty(LayerCollector.prototype,"values",{get:function(){return this.layer.query.values.fields},enumerable:!0,configurable:!0}),Object.defineProperty(LayerCollector.prototype,"dimensions",{get:function(){return this.layer.dimensions},enumerable:!0,configurable:!0}),Object.defineProperty(LayerCollector.prototype,"measures",{get:function(){return this.layer.measures},enumerable:!0,configurable:!0}),LayerCollector.prototype.buildCollect=function(){var e=this,t=null,r={},o=null,l=null,c=null,f=this.values,h=this.dimensions,p=new Map(this.measures);switch(this.layer.channel){case n.Channel.ROW:p.set(n.Channel.COLUMN,new Array);for(var d=0,y=this.layer.query.columns.measures;d<y.length;d++){var g=y[d];p.get(n.Channel.COLUMN).push(g)}break;case n.Channel.COLUMN:p.set(n.Channel.ROW,new Array);for(var m=0,v=this.layer.query.rows.measures;m<v.length;m++){g=v[m];p.get(n.Channel.ROW).push(g)}}return function(d,y,g){t=null,l=null,o=d;for(var m=0,v=Array.from(h);m<v.length;m++)for(var b=v[m],_=b[0],w=0,S=(O=b[1]).length;w<S;w++){switch((c=O[w]).type){case i.FieldType.VIEWCALC:c.formula.expr.type===u.FFuncType.SCALAR&&(r.row=y,t=c.formula.expr.value(r),null==(l=o.getChild(t))&&(l=new a.DimensionNode(o,_,c,t),o.setChild(t,l),o=l));break;case i.FieldType.VIEWNAMES:t=c.alias,null==(l=o.getChild(t))&&(l=new s.NamesNode(o,_,c),o.setChild(t,l),o=l)}o=l}t="$MEASURES$",null==(l=o.getChild(t))?(l=new a.MeasureNode(o,e.layer.channel),o.setChild(t,l),o=l):o=l;for(var E=0,C=Array.from(p);E<C.length;E++){var O,T=C[E];for(_=T[0],w=0,S=(O=T[1]).length;w<S;w++)if(c=O[w],o.addField(_,c),c.type===i.FieldType.VIEWVALUES)for(var A=0,x=f.length;A<x;A++)o.addField(n.Channel.VALUE,f[A])}o.collect(y)}},LayerCollector.prototype.buildSchema=function(){var e=this.values,t=this.dimensions,r=new Map(this.measures);switch(this.layer.channel){case n.Channel.ROW:r.set(n.Channel.COLUMN,new Array);for(var i=0,o=this.layer.query.columns.measures;i<o.length;i++){var a=o[i];r.get(n.Channel.COLUMN).push(a)}break;case n.Channel.COLUMN:r.set(n.Channel.ROW,new Array);for(var s=0,u=this.layer.query.rows.measures;s<u.length;s++){a=u[s];r.get(n.Channel.ROW).push(a)}}for(var l=0,c=Array.from(t);l<c.length;l++)for(var f=c[l],h=(f[0],0),p=f[1];h<p.length;h++){a=p[h];this.result.getResultSet(this.layer.name).addSchemaField(a)}for(var d=0,y=Array.from(r);d<y.length;d++)for(var g=y[d],m=(g[0],0),v=g[1];m<v.length;m++){if("VIEWVALUES"===(a=v[m]).type)for(var b=0,_=e.length;b<_;b++)this.result.getResultSet(this.layer.name).addSchemaField(e[b]);else this.result.getResultSet(this.layer.name).addSchemaField(a)}},LayerCollector}();t.LayerCollector=c},"9R9K":function(e,t,r){(function(t){var r=e.exports;r.namedfunc=function(e,t){return t.__name__=e,t},r.name=function(e){return null==e?null:e.__name__},r.identity=function(e){return e},r.true=r.namedfunc("true",function(){return!0}),r.false=r.namedfunc("false",function(){return!1}),r.duplicate=function(e){return JSON.parse(JSON.stringify(e))},r.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},r.extend=function(e){for(var t,r,n=1,i=arguments.length;n<i;++n)for(r in t=arguments[n])e[r]=t[r];return e},r.length=function(e){return null!=e&&null!=e.length?e.length:null},r.keys=function(e){var t,r=[];for(t in e)r.push(t);return r},r.vals=function(e){var t,r=[];for(t in e)r.push(e[t]);return r},r.toMap=function(e,t){return(t=r.$(t))?e.reduce(function(e,r){return e[t(r)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},r.keystr=function(e){var t=e.length;if(!t)return"";for(var r=String(e[0]),n=1;n<t;++n)r+="|"+String(e[n]);return r};var n=Object.prototype.toString;r.isObject=function(e){return e===Object(e)},r.isFunction=function(e){return"[object Function]"===n.call(e)},r.isString=function(e){return"string"==typeof value||"[object String]"===n.call(e)},r.isArray=Array.isArray||function(e){return"[object Array]"===n.call(e)},r.isNumber=function(e){return"number"==typeof e||"[object Number]"===n.call(e)},r.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==n.call(e)},r.isDate=function(e){return"[object Date]"===n.call(e)},r.isValid=function(e){return null!=e&&e==e},r.isBuffer="function"==typeof t&&t.isBuffer||r.false,r.number=function(e){return null==e||""===e?null:+e},r.boolean=function(e){return null==e||""===e?null:"false"!==e&&!!e},r.date=function(e,t){var r=t||Date;return null==e||""===e?null:r.parse(e)},r.array=function(e){return null!=e?r.isArray(e)?e:[e]:[]},r.str=function(e){return r.isArray(e)?"["+e.map(r.str)+"]":r.isObject(e)||r.isString(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e};var i=/\[(.*?)\]|[^.\[]+/g;function strrep(e,t){var r,n="";for(r=0;r<e;++r)n+=t;return n}function truncateOnWord(e,t,r){var n=0,i=e.split(o);return(e=r?(i=i.reverse()).filter(function(e){return(n+=e.length)<=t}).reverse():i.filter(function(e){return(n+=e.length)<=t})).length?e.join("").trim():i[0].slice(0,t)}r.field=function(e){return String(e).match(i).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},r.accessor=function(e){return null==e||r.isFunction(e)?e:r.namedfunc(e,Function("x","return x["+r.field(e).map(r.str).join("][")+"];"))},r.$=r.accessor,r.mutator=function(e){var t;return r.isString(e)&&(t=r.field(e)).length>1?function(e,r){for(var n=0;n<t.length-1;++n)e=e[t[n]];e[t[n]]=r}:function(t,r){t[e]=r}},r.$func=function(e,t){return function(n){n=r.$(n)||r.identity;var i=e+(r.name(n)?"_"+r.name(n):"");return r.namedfunc(i,function(e){return t(n(e))})}},r.$valid=r.$func("valid",r.isValid),r.$length=r.$func("length",r.length),r.$in=function(e,t){e=r.$(e);var n=r.isArray(t)?r.toMap(t):t;return function(t){return!!n[e(t)]}},r.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=r.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),r.accessor(e)}),function(n,i){var o,a,s,u;for(o=0,a=e.length;o<a;++o)if(s=e[o],u=r.cmp(s(n),s(i)))return u*t[o];return 0}},r.cmp=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0)},r.numcmp=function(e,t){return e-t},r.stablesort=function(e,t,r){var n=e.reduce(function(e,t,n){return e[r(t)]=n,e},{});return e.sort(function(e,i){var o=t(e),a=t(i);return o<a?-1:o>a?1:n[r(e)]-n[r(i)]}),e},r.permute=function(e){for(var t,r,n=e.length;n;)r=Math.floor(Math.random()*n--),t=e[n],e[n]=e[r],e[r]=t},r.pad=function(e,t,r,n){n=n||" ";var i=t-e.length;if(i<=0)return e;switch(r){case"left":return strrep(i,n)+e;case"middle":case"center":return strrep(Math.floor(i/2),n)+e+strrep(Math.ceil(i/2),n);default:return e+strrep(i,n)}},r.truncate=function(e,t,r,n,i){var o=e.length;if(o<=t)return e;i=void 0!==i?String(i):"\u2026";var a=Math.max(0,t-i.length);switch(r){case"left":return i+(n?truncateOnWord(e,a,1):e.slice(o-a));case"middle":case"center":var s=Math.ceil(a/2),u=Math.floor(a/2);return(n?truncateOnWord(e,s):e.slice(0,s))+i+(n?truncateOnWord(e,u,1):e.slice(o-u));default:return(n?truncateOnWord(e,a):e.slice(0,a))+i}};var o=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(t,r("dskh").Buffer)},"9Syc":function(e,t,r){var n=r("9R9K"),i=r("B51+"),o=i.utc,a=e.exports;a.$year=n.$func("year",i.year.unit),a.$month=n.$func("month",i.months.unit),a.$date=n.$func("date",i.dates.unit),a.$day=n.$func("day",i.weekdays.unit),a.$hour=n.$func("hour",i.hours.unit),a.$minute=n.$func("minute",i.minutes.unit),a.$second=n.$func("second",i.seconds.unit),a.$utcYear=n.$func("utcYear",o.year.unit),a.$utcMonth=n.$func("utcMonth",o.months.unit),a.$utcDate=n.$func("utcDate",o.dates.unit),a.$utcDay=n.$func("utcDay",o.weekdays.unit),a.$utcHour=n.$func("utcHour",o.hours.unit),a.$utcMinute=n.$func("utcMinute",o.minutes.unit),a.$utcSecond=n.$func("utcSecond",o.seconds.unit)},"9uLw":function(e,t,r){var n=r("9R9K"),i=r("TvGQ"),o="__dl_rem__";function Collector(e){this._add=[],this._rem=[],this._key=e||null,this._last=null}var a=Collector.prototype;a.add=function(e){this._add.push(e)},a.rem=function(e){this._rem.push(e)},a.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,r,a,s=this._add,u=this._rem,l=this._key,c=Array(s.length-u.length);if(n.isObject(u[0]))if(l)for(a=n.toMap(u,l),e=0,t=0,r=s.length;e<r;++e)a.hasOwnProperty(l(s[e]))||(c[t++]=s[e]);else{for(e=0,r=u.length;e<r;++e)u[e][o]=1;for(e=0,t=0,r=s.length;e<r;++e)s[e][o]||(c[t++]=s[e]);for(e=0,r=u.length;e<r;++e)delete u[e][o]}else for(a=i.count.map(u),e=0,t=0,r=s.length;e<r;++e)a[s[e]]>0?a[s[e]]-=1:c[t++]=s[e];return this._rem=[],this._add=c},a.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),r=i.extent.index(t,e);this._ext=[t[r[0]],t[r[1]]],this._get=e}return this._ext},a.argmin=function(e){return this.extent(e)[0]},a.argmax=function(e){return this.extent(e)[1]},a.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):1/0},a.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):-1/0},a.quartile=function(e){return this._get===e&&this._q||(this._q=i.quartile(this.values(),e),this._get=e),this._q},a.q1=function(e){return this.quartile(e)[0]},a.q2=function(e){return this.quartile(e)[1]},a.q3=function(e){return this.quartile(e)[2]},e.exports=Collector},"9yGG":function(e,t,r){"use strict";var n=r("DRWY"),i=r("4M4E");n.Observable.prototype.bufferCount=i.bufferCount},"A2D/":function(e,t,r){"use strict";var n=r("DRWY"),i=r("a2dV");n.Observable.prototype.takeUntil=i.takeUntil},A2is:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},A390:function(e,t,r){"use strict";var n=r("DRWY"),i=r("yxdb");n.Observable.prototype.partition=i.partition},A3Tw:function(e,t,r){"use strict";var n=r("ENzA");t.skip=function(e){return n.skip(e)(this)}},A4BP:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("7cqj");!function(e){e.names=function(e,t){return n({},i.Attr.names(e),{alias:t})},e.values=function(e,t){return n({},i.Attr.values(e),{alias:t})},e.categorical=function(e,t,r){var o=i.Attr.Source.Field;return n({},i.Attr.categorical(e,t),{source:o,alias:r})},e.ordinal=function(e,t,r,o,a,s){var u=i.Attr.Source.Field;return n({},i.Attr.ordinal(e,t,o,a,s),{source:u,alias:r})},e.quantitative=function(e,t,r,o){var a=i.Attr.Source.Field;return n({},i.Attr.quantitative(e,t,o),{source:a,alias:r})}}(t.Field||(t.Field={}))},A9Q0:function(e,t,r){"use strict";var n=r("JXkC");t.multicast=function(e,t){return function(r){var o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new i(o,t));var a=Object.create(r,n.connectableObservableDescriptor);return a.source=r,a.subjectFactory=o,a}};var i=function(){function MulticastOperator(e,t){this.subjectFactory=e,this.selector=t}return MulticastOperator.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},MulticastOperator}();t.MulticastOperator=i},AHSE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Summary(e,t,r){this._field=e,this._op=t,this._alias=r||e}return Object.defineProperty(Summary.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(Summary.prototype,"alias",{get:function(){return this._alias},enumerable:!0,configurable:!0}),Object.defineProperty(Summary.prototype,"op",{get:function(){return this._op},enumerable:!0,configurable:!0}),Summary.prototype.compile=function(){return{field:this.field,as:[this.alias],ops:[this.op]}},Summary}();t.Summary=n},AHav:function(e,t,r){"use strict";var n=r("eHmA");t.forkJoin=n.ForkJoinObservable.create},AIUU:function(e,t,r){(function(n){function load(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=r("wMRL")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++i)}),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=load,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(load())}).call(t,r("pBGv"))},ARRY:function(e,t,r){"use strict";var n=r("DRWY"),i=r("pzw3");n.Observable.if=i._if},ATY1:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("+8et"),a=r("dHkR"),s=r("qUS9"),u=r("/sFx"),l=r("6pZQ"),c=750,f=function(e){function TestScheduler(t){e.call(this,l.VirtualAction,c),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return n(TestScheduler,e),TestScheduler.prototype.createTime=function(e){var t=e.indexOf("|");if(-1===t)throw new Error('marble diagram for time should have a completion marker "|"');return t*TestScheduler.frameTimeFactor},TestScheduler.prototype.createColdObservable=function(e,t,r){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var n=TestScheduler.parseMarbles(e,t,r),i=new a.ColdObservable(n,this);return this.coldObservables.push(i),i},TestScheduler.prototype.createHotObservable=function(e,t,r){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var n=TestScheduler.parseMarbles(e,t,r),i=new s.HotObservable(n,this);return this.hotObservables.push(i),i},TestScheduler.prototype.materializeInnerObservable=function(e,t){var r=this,n=[];return e.subscribe(function(e){n.push({frame:r.frame-t,notification:o.Notification.createNext(e)})},function(e){n.push({frame:r.frame-t,notification:o.Notification.createError(e)})},function(){n.push({frame:r.frame-t,notification:o.Notification.createComplete()})}),n},TestScheduler.prototype.expectObservable=function(e,t){var r=this;void 0===t&&(t=null);var n,a=[],s={actual:a,ready:!1},u=TestScheduler.parseMarblesAsSubscriptions(t).unsubscribedFrame;return this.schedule(function(){n=e.subscribe(function(e){var t=e;e instanceof i.Observable&&(t=r.materializeInnerObservable(t,r.frame)),a.push({frame:r.frame,notification:o.Notification.createNext(t)})},function(e){a.push({frame:r.frame,notification:o.Notification.createError(e)})},function(){a.push({frame:r.frame,notification:o.Notification.createComplete()})})},0),u!==Number.POSITIVE_INFINITY&&this.schedule(function(){return n.unsubscribe()},u),this.flushTests.push(s),{toBe:function(e,t,r){s.ready=!0,s.expected=TestScheduler.parseMarbles(e,t,r,!0)}}},TestScheduler.prototype.expectSubscriptions=function(e){var t={actual:e,ready:!1};return this.flushTests.push(t),{toBe:function(e){var r="string"==typeof e?[e]:e;t.ready=!0,t.expected=r.map(function(e){return TestScheduler.parseMarblesAsSubscriptions(e)})}}},TestScheduler.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var r=this.flushTests.filter(function(e){return e.ready});r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},TestScheduler.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new u.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,r=-1,n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<t;o++){var a=o*this.frameTimeFactor,s=e[o];switch(s){case"-":case" ":break;case"(":r=a;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:a;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:a;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+s+"'.")}}return i<0?new u.SubscriptionLog(n):new u.SubscriptionLog(n,i)},TestScheduler.parseMarbles=function(e,t,r,n){if(void 0===n&&(n=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=e.length,s=[],u=e.indexOf("^"),l=-1===u?0:u*-this.frameTimeFactor,c="object"!=typeof t?function(e){return e}:function(e){return n&&t[e]instanceof a.ColdObservable?t[e].messages:t[e]},f=-1,h=0;h<i;h++){var p=h*this.frameTimeFactor+l,d=void 0,y=e[h];switch(y){case"-":case" ":break;case"(":f=p;break;case")":f=-1;break;case"|":d=o.Notification.createComplete();break;case"^":break;case"#":d=o.Notification.createError(r||"error");break;default:d=o.Notification.createNext(c(y))}d&&s.push({frame:f>-1?f:p,notification:d})}return s},TestScheduler}(l.VirtualTimeScheduler);t.TestScheduler=f},AWyC:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("3Txa"),a=r("AHSE"),s=function(e){function Facet(t){var r=e.call(this)||this;return r._groupby=t,r._summaries=new Array,r}return i(Facet,e),Object.defineProperty(Facet.prototype,"groupby",{get:function(){return this._groupby},enumerable:!0,configurable:!0}),Object.defineProperty(Facet.prototype,"summaries",{get:function(){return this._summaries},enumerable:!0,configurable:!0}),Facet.prototype.sum=function(e,t){var r=new a.Summary(e,t,"sum");return this.summaries.push(r),r},Facet.prototype.count=function(e,t){var r=new a.Summary(e,t,"count");return this.summaries.push(r),r},Facet.prototype.compile=function(){var e={type:"facet",groupby:this.groupby},t=this.getSummarize();return t.length>0&&(e.summarize=t),e},Facet.prototype.getSummarize=function(){for(var e=new Array,t=0,r=this.summaries;t<r.length;t++){var n=r[t];e.push(n.compile())}return e},Facet}(o.Transform);t.Facet=s},AXdR:function(e,t,r){"use strict";var n=r("Mreq");t.webSocket=n.WebSocketSubject.create},AeEG:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("KBwi"),o=r("ITh/"),a=r("LGJh"),s=r("EIUo"),u=r("k+FJ"),l=r("pSKN");function zipStatic(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new i.ArrayObservable(e).lift(new c(r))}t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(zipStatic.apply(void 0,[t].concat(e)))}},t.zipStatic=zipStatic;var c=function(){function ZipOperator(e){this.project=e}return ZipOperator.prototype.call=function(e,t){return t.subscribe(new f(e,this.project))},ZipOperator}();t.ZipOperator=c;var f=function(e){function ZipSubscriber(t,r,n){void 0===n&&(n=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return n(ZipSubscriber,e),ZipSubscriber.prototype._next=function(e){var t=this.iterators;o.isArray(e)?t.push(new p(e)):"function"==typeof e[l.iterator]?t.push(new h(e[l.iterator]())):t.push(new d(this.destination,this,e))},ZipSubscriber.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},ZipSubscriber.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},ZipSubscriber.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++){if("function"==typeof(a=e[n]).hasValue&&!a.hasValue())return}var i=!1,o=[];for(n=0;n<t;n++){var a,s=(a=e[n]).next();if(a.hasCompleted()&&(i=!0),s.done)return void r.complete();o.push(s.value)}this.project?this._tryProject(o):r.next(o),i&&r.complete()},ZipSubscriber.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},ZipSubscriber}(a.Subscriber);t.ZipSubscriber=f;var h=function(){function StaticIterator(e){this.iterator=e,this.nextResult=e.next()}return StaticIterator.prototype.hasValue=function(){return!0},StaticIterator.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},StaticIterator.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},StaticIterator}(),p=function(){function StaticArrayIterator(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return StaticArrayIterator.prototype[l.iterator]=function(){return this},StaticArrayIterator.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index},StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index},StaticArrayIterator}(),d=function(e){function ZipBufferIterator(t,r,n){e.call(this,t),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return n(ZipBufferIterator,e),ZipBufferIterator.prototype[l.iterator]=function(){return this},ZipBufferIterator.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0},ZipBufferIterator.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},ZipBufferIterator.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},ZipBufferIterator.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},ZipBufferIterator.prototype.subscribe=function(e,t){return u.subscribeToResult(this,this.observable,this,t)},ZipBufferIterator}(s.OuterSubscriber)},Amrj:function(e,t,r){"use strict";var n=r("DRWY"),i=r("s4Lk");n.Observable.prototype.subscribeOn=i.subscribeOn},AoWu:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("+8et");t.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new a(e,t))}};var a=function(){function ObserveOnOperator(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return ObserveOnOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))},ObserveOnOperator}();t.ObserveOnOperator=a;var s=function(e){function ObserveOnSubscriber(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return n(ObserveOnSubscriber,e),ObserveOnSubscriber.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},ObserveOnSubscriber.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new u(e,this.destination)))},ObserveOnSubscriber.prototype._next=function(e){this.scheduleMessage(o.Notification.createNext(e))},ObserveOnSubscriber.prototype._error=function(e){this.scheduleMessage(o.Notification.createError(e))},ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},ObserveOnSubscriber}(i.Subscriber);t.ObserveOnSubscriber=s;var u=function(){return function(e,t){this.notification=e,this.destination=t}}();t.ObserveOnMessage=u},AtlK:function(e,t,r){"use strict";var n=r("CsEb"),i=r("P23m"),o=r("ce5R");t.bufferTime=function(e){var t=arguments.length,r=n.async;i.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var a=null;t>=2&&(a=arguments[1]);var s=Number.POSITIVE_INFINITY;return t>=3&&(s=arguments[2]),o.bufferTime(e,a,s,r)(this)}},"B+CU":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PGData(t,r){var n=e.call(this,"vgd-"+r.yAlias+"-"+r.xAlias,t.tGrid)||this;return n._table=t,n._marks=r,n.addFilter(n.getFilterTest()),n}return i(PGData,e),Object.defineProperty(PGData.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(PGData.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),PGData.prototype.getFilterTest=function(){return"datum.trow.yAlias == '"+this.marks.yAlias+"' && datum.tcol.xAlias == '"+this.marks.xAlias+"'"},PGData}(r("qI4a").Data);t.PGData=o},"B51+":function(e,t,r){var n=r("yq3M"),i=new Date,o=new Date(0,0,1).setFullYear(0),a=new Date(Date.UTC(0,0,1)).setUTCFullYear(0);function date(e){return i.setTime(+e),i}function entry(e,t,r,n,i,o){var a={type:e,date:t,unit:r};return n?a.step=n:a.minstep=1,null!=i&&(a.min=i),null!=o&&(a.max=o),a}function create(e,t,r,n,i,o){return entry(e,function(e){return t.offset(r,e)},function(e){return t.count(r,e)},n,i,o)}var s=[create("second",n.second,o),create("minute",n.minute,o),create("hour",n.hour,o),create("day",n.day,o,[1,7]),create("month",n.month,o,[1,3,6]),create("year",n.year,o),entry("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return date(e).getSeconds()},null,0,59),entry("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return date(e).getMinutes()},null,0,59),entry("hours",function(e){return new Date(1970,0,1,e)},function(e){return date(e).getHours()},null,0,23),entry("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return date(e).getDay()},[1],0,6),entry("dates",function(e){return new Date(1970,0,e)},function(e){return date(e).getDate()},[1],1,31),entry("months",function(e){return new Date(1970,e%12,1)},function(e){return date(e).getMonth()},[1],0,11)],u=[create("second",n.utcSecond,a),create("minute",n.utcMinute,a),create("hour",n.utcHour,a),create("day",n.utcDay,a,[1,7]),create("month",n.utcMonth,a,[1,3,6]),create("year",n.utcYear,a),entry("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return date(e).getUTCSeconds()},null,0,59),entry("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return date(e).getUTCMinutes()},null,0,59),entry("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return date(e).getUTCHours()},null,0,23),entry("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return date(e).getUTCDay()},[1],0,6),entry("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return date(e).getUTCDate()},[1],1,31),entry("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return date(e).getUTCMonth()},[1],0,11)],l=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];function toUnitMap(e){var t,r,n={};for(t=0,r=e.length;t<r;++t)n[e[t].type]=e[t];return n.find=function(t,r,n){return function(e,t,r,n){var i,o,a,s=l[0];for(i=1,o=l.length;i<o;++i)if(t>(s=l[i])[0]){if((a=t/s[0])>n)return e[l[i-1][1]];if(a>=r)return e[s[1]]}return e[l[o-1][1]]}(e,t,r,n)},n}e.exports=toUnitMap(s),e.exports.utc=toUnitMap(u)},B6IU:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("X2xY"),a=r("BFbo"),s=function(e){function TSymbol(t,r){var n=e.call(this,a.MarkType.SYMBOL)||this;return n._table=t,n._marks=r,n._yc={field:"crows.layout_mid",offset:.5},n._xc={field:"ccols.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n._shape={value:"circle"},n}return i(TSymbol,e),Object.defineProperty(TSymbol.prototype,"yc",{get:function(){return this._yc},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"xc",{get:function(){return this._xc},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"shape",{get:function(){return this._shape},set:function(e){this._shape=e},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"isFilled",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"isStroked",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"stroke",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(TSymbol.prototype,"strokeWidth",{get:function(){return{value:this._strokeWidth}},set:function(e){this._strokeWidth=e},enumerable:!0,configurable:!0}),TSymbol.prototype.getProperties=function(){var e={enter:{yc:this.yc,xc:this.xc,size:this.size,shape:this.shape}};return this.isFilled&&(e.enter.fill=this.fill),this.isStroked&&(e.enter.stroke=this.stroke,e.enter.strokeWidth=this.strokeWidth),e},TSymbol}(o.MarkFrom);t.TSymbol=s},BBD6:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.exhaustMap=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function SwitchFirstMapOperator(e,t){this.project=e,this.resultSelector=t}return SwitchFirstMapOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector))},SwitchFirstMapOperator}(),s=function(e){function SwitchFirstMapSubscriber(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(SwitchFirstMapSubscriber,e),SwitchFirstMapSubscriber.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},SwitchFirstMapSubscriber.prototype.tryNext=function(e){var t=this.index++,r=this.destination;try{var n=this.project(e,t);this.hasSubscription=!0,this.add(o.subscribeToResult(this,n,e,t))}catch(e){r.error(e)}},SwitchFirstMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},SwitchFirstMapSubscriber.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,a=this.destination;o?this.trySelectResult(e,t,r,n):a.next(t)},SwitchFirstMapSubscriber.prototype.trySelectResult=function(e,t,r,n){var i=this.resultSelector,o=this.destination;try{var a=i(e,t,r,n);o.next(a)}catch(e){o.error(e)}},SwitchFirstMapSubscriber.prototype.notifyError=function(e){this.destination.error(e)},SwitchFirstMapSubscriber.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},SwitchFirstMapSubscriber}(i.OuterSubscriber)},BBGU:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)};function dispatch(e){var t=e.obj,r=e.keys,n=e.length,i=e.index,o=e.subscriber;if(i!==n){var a=r[i];o.next([a,t[a]]),e.index=i+1,this.schedule(e)}else o.complete()}var i=function(e){function PairsObservable(t,r){e.call(this),this.obj=t,this.scheduler=r,this.keys=Object.keys(t)}return n(PairsObservable,e),PairsObservable.create=function(e,t){return new PairsObservable(e,t)},PairsObservable.prototype._subscribe=function(e){var t=this.keys,r=this.scheduler,n=t.length;if(r)return r.schedule(dispatch,0,{obj:this.obj,keys:t,length:n,index:0,subscriber:e});for(var i=0;i<n;i++){var o=t[i];e.next([o,this.obj[o]])}e.complete()},PairsObservable}(r("DRWY").Observable);t.PairsObservable=i},BDNn:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VGData(t,r){var n=e.call(this,"vgd-"+r.yAlias,t.tGrid)||this;return n._table=t,n._marks=r,n.addFilter(n.getFilterExpr()),n}return i(VGData,e),Object.defineProperty(VGData.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(VGData.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),VGData.prototype.getFilterExpr=function(){return"datum.trow.yAlias === '"+this.marks.yAlias+"'"},VGData}(r("qI4a").Data);t.VGData=o},BDy2:function(e,t,r){var n=r("Sh+V");e.exports=function(e,t){var r=[];return n(e,function(n,i){r.push(t(n,i,e))}),r}},BEib:function(e,t,r){"use strict";var n=r("BBGU");t.pairs=n.PairsObservable.create},BFbo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ARC="ARC",e.AREA="AREA",e.GROUP="GROUP",e.IMAGE="IMAGE",e.LINE="LINE",e.PATH="PATH",e.RECT="RECT",e.RULE="RULE",e.SYMBOL="SYMBOL",e.TEXT="TEXT"}(t.MarkType||(t.MarkType={}))},BG6I:function(e,t,r){"use strict";t.isFunction=function(e){return"function"==typeof e}},"BJ/9":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function PArea(t,r){var n=e.call(this,a.MarkType.AREA)||this;return n._table=t,n._marks=r,n._y={scale:r.yScaleName,field:r.yAlias},n._y2={scale:r.yScaleName,value:0},n._x={scale:r.xScaleName,field:r.xAlias},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},n}return i(PArea,e),Object.defineProperty(PArea.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(PArea.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(PArea.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(PArea.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(PArea.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),PArea.prototype.getProperties=function(){return{enter:{y:this.y,y2:this.y2,x:this.x,fill:this.color,stroke:this.color,strokeCap:this.strokeCap,strokeWidth:{value:1},strokeOpacity:{value:1},opacity:{value:.65}}}},PArea}(o.Mark);t.PArea=s},BLlJ:function(e,t,r){"use strict";var n=r("wSeB");t.windowWhen=function(e){return n.windowWhen(e)(this)}},Bg76:function(e,t,r){"use strict";var n=r("IxkH");t.concatMapTo=function(e,t){return n.concatMapTo(e,t)(this)}},BliY:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function SubjectSubscription(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(SubjectSubscription,e),SubjectSubscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},SubjectSubscription}(r("I9Xa").Subscription);t.SubjectSubscription=i},Bw82:function(e,t,r){"use strict";var n=r("DRWY"),i=r("vCAM");n.Observable.prototype.race=i.race},"C/wd":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("I9Xa"),o=r("k+FJ"),a=r("EIUo");t.bufferToggle=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function BufferToggleOperator(e,t){this.openings=e,this.closingSelector=t}return BufferToggleOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},BufferToggleOperator}(),u=function(e){function BufferToggleSubscriber(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(o.subscribeToResult(this,r))}return n(BufferToggleSubscriber,e),BufferToggleSubscriber.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},BufferToggleSubscriber.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},BufferToggleSubscriber.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},BufferToggleSubscriber.prototype.notifyNext=function(e,t,r,n,i){e?this.closeBuffer(e):this.openBuffer(t)},BufferToggleSubscriber.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},BufferToggleSubscriber.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},BufferToggleSubscriber.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},BufferToggleSubscriber.prototype.trySubscribe=function(e){var t=this.contexts,r=new i.Subscription,n={buffer:[],subscription:r};t.push(n);var a=o.subscribeToResult(this,e,n);!a||a.closed?this.closeBuffer(n):(a.context=n,this.add(a),r.add(a))},BufferToggleSubscriber}(a.OuterSubscriber)},C3PX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("/YdO"),i=r("64my"),o=r("UEw3"),a=r("vw2U"),s=r("6n5O"),u=r("IyCH"),l=r("u6/t"),c=r("ouJl");!function(e){e.make=function(t,r){var n=new e.TestCallProvider(new e.TestCallTypeProvider,new e.TestCallRoleProvider),i=new e.TestDataTypeProvider,o=new e.TestDataRoleProvider(i);return{attrs:new e.TestAttrProvider(t,r),calls:n,types:i,roles:o}};var t=function(){function TestAttrProvider(e,t){this.model=e,this.relation=t,this.extended=e}return TestAttrProvider.prototype.extend=function(e){this.extended=s.Model.extend(this.extended,e)},TestAttrProvider.prototype.getReference=function(e){var t=null,r=null;switch(e.length){case 1:(t=s.Model.Views.findInRelation(this.extended,this.relation,this.relation.from))&&(r=u.View.Attrs.find(t,e[0]));break;case 2:(t=s.Model.Views.find(this.model,e[0]))?r=u.View.Attrs.find(t,e[1]):(t=s.Model.Views.find(this.extended,e[0]))&&(r=u.View.Attrs.find(t,e[1]))}if(null==t)throw new Error("Could not find view at path "+e);if(null==r)throw new Error("Could not find attribute at path "+e);return{view:t.name,name:r.name}},TestAttrProvider.prototype.getAttrByRef=function(e){if(null==e.view)return null;var t=s.Model.Views.find(this.extended,e.view);if(t)return u.View.Attrs.find(t,e.name);throw new Error("Unable to find attribute ["+e.view+"].["+e.name+"]")},TestAttrProvider}();e.TestAttrProvider=t;var r=function(){function TestCallProvider(e,t){this.types=e,this.roles=t}return TestCallProvider.prototype.make=function(e,t,r){return c.DefaultCall.make(t,this.types.make(e,t,r),this.roles.make(e,t,r))},TestCallProvider}();e.TestCallProvider=r;var f=function(){function TestDataTypeProvider(){}return TestDataTypeProvider.prototype.getNegated=function(e){return o.DataType.Float.make()},TestDataTypeProvider.prototype.getPlussed=function(e){return o.DataType.Float.make()},TestDataTypeProvider.prototype.getAdd=function(e,t){return e.name===o.DataType.Name.String||t.name===o.DataType.Name.String?o.DataType.String.make():e.name===o.DataType.Name.Regexp||t.name===o.DataType.Name.Regexp?o.DataType.String.make():o.DataType.Float.make()},TestDataTypeProvider.prototype.getMath=function(e,t){return o.DataType.Float.make()},TestDataTypeProvider.prototype.getAttr=function(e){return e.formula.type},TestDataTypeProvider.prototype.getCall=function(e){return e.type},TestDataTypeProvider.prototype.makeBoolean=function(){return o.DataType.Boolean.make()},TestDataTypeProvider.prototype.makeLiteral=function(e){switch(e){case n.Node.Type.NullLiteral:return o.DataType.Null.make();case n.Node.Type.StringLiteral:return o.DataType.String.make();case n.Node.Type.RegExpLiteral:return o.DataType.Regexp.make();case n.Node.Type.BooleanLiteral:return o.DataType.Boolean.make();case n.Node.Type.NumberLiteral:case n.Node.Type.HexLiteral:case n.Node.Type.DateLiteral:return o.DataType.Float.make();default:throw new Error("Unknown literal type for node "+e)}},TestDataTypeProvider}();e.TestDataTypeProvider=f;var h=function(){function TestDataRoleProvider(e){this.types=e}return TestDataRoleProvider.prototype.getNegated=function(e){return o.DataType.Float.make()},TestDataRoleProvider.prototype.getPlussed=function(e){return o.DataType.Float.make()},TestDataRoleProvider.prototype.getAdd=function(e,t){return o.DataType.Float.make()},TestDataRoleProvider.prototype.getMath=function(e,t){return o.DataType.Float.make()},TestDataRoleProvider.prototype.getAttr=function(e){return e.formula.role},TestDataRoleProvider.prototype.getCall=function(e){return e.role},TestDataRoleProvider.prototype.makeBoolean=function(){return this.types.makeBoolean()},TestDataRoleProvider.prototype.makeLiteral=function(e){return this.types.makeLiteral(e)},TestDataRoleProvider}();e.TestDataRoleProvider=h;var p=function(){function TestCallTypeProvider(){}return TestCallTypeProvider.prototype.make=function(e,t,r){switch(t){case"AVG":case"SUM":case"RUNNING_SUM":return o.DataType.Float.make();case"DATEPART":case"DATETRUNC":return o.DataType.Integer.make();case"COUNT":case"COUNTD":return o.DataType.Integer.make();case"MIN":case"MAX":return this.makeMinMaxType(e,t,r);default:throw new Error("Cannot determine data type for unknown function "+t)}},TestCallTypeProvider.prototype.makeMinMaxType=function(e,t,r){var n=l.Resolver.Nodes.id(r[0]);if(null==n)throw new Error("Cannot determine min/max type at node "+r[0]);var i=l.Resolver.Types.get(e,n);if(null==i)throw new Error("Cannot determine min/max type at node "+r[0]);return i},TestCallTypeProvider}();e.TestCallTypeProvider=p;var d=function(){function TestCallRoleProvider(){}return TestCallRoleProvider.prototype.make=function(e,t,r){switch(t){case"AVG":case"SUM":case"RUNNING_SUM":return this.makeAggRole(e,t,r);case"COUNT":case"COUNTD":return this.makeCountRole(e,t,r);case"MIN":case"MAX":return this.makeMinMaxRole(e,t,r);case"DATEPART":return this.makeDatePartRole(e,t,r);case"DATETRUNC":return this.makeDateTruncRole(e,t,r);default:throw new Error("Cannot determine role for unknown function "+t)}},TestCallRoleProvider.prototype.makeAggRole=function(e,t,r){return o.DataType.Float.make()},TestCallRoleProvider.prototype.makeCountRole=function(e,t,r){return o.DataType.Integer.make()},TestCallRoleProvider.prototype.makeMinMaxRole=function(e,t,r){var n=l.Resolver.Nodes.id(r[0]);if(null!=n){var i=l.Resolver.Roles.get(e,n);if(null!=i)return i;throw new Error("Cannot determine min/max role at node "+r[0])}throw new Error("Cannot determine min/max role at node "+r[0])},TestCallRoleProvider.prototype.makeDatePartRole=function(e,t,r){var o=r[0];switch(o.type){case n.Node.Type.StringLiteral:switch(a.DateTime.unit(o.value)){case a.DateTime.Unit.Year:return i.DataRole.DatePart.make(a.DateTime.Unit.Year);case a.DateTime.Unit.Quarter:return i.DataRole.DatePart.make(a.DateTime.Unit.Quarter);case a.DateTime.Unit.Month:return i.DataRole.DatePart.make(a.DateTime.Unit.Month);case a.DateTime.Unit.DayOfYear:return i.DataRole.DatePart.make(a.DateTime.Unit.DayOfYear);case a.DateTime.Unit.Day:return i.DataRole.DatePart.make(a.DateTime.Unit.Day);case a.DateTime.Unit.Weekday:return i.DataRole.DatePart.make(a.DateTime.Unit.Weekday);case a.DateTime.Unit.Week:return i.DataRole.DatePart.make(a.DateTime.Unit.Week);case a.DateTime.Unit.Hour:return i.DataRole.DatePart.make(a.DateTime.Unit.Hour);case a.DateTime.Unit.Minute:return i.DataRole.DatePart.make(a.DateTime.Unit.Minute);case a.DateTime.Unit.Second:return i.DataRole.DatePart.make(a.DateTime.Unit.Second);default:throw new Error("Cannot determine role of DATEPART unit "+o.value)}default:throw new Error("Cannot determine role of DATEPART unit at node "+o)}},TestCallRoleProvider.prototype.makeDateTruncRole=function(e,t,r){var o=r[0];switch(o.type){case n.Node.Type.StringLiteral:switch(a.DateTime.unit(o.value)){case a.DateTime.Unit.Year:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Year);case a.DateTime.Unit.Quarter:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Quarter);case a.DateTime.Unit.Month:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Month);case a.DateTime.Unit.DayOfYear:return i.DataRole.DateTrunc.make(a.DateTime.Unit.DayOfYear);case a.DateTime.Unit.Day:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Day);case a.DateTime.Unit.Weekday:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Weekday);case a.DateTime.Unit.Week:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Week);case a.DateTime.Unit.Hour:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Hour);case a.DateTime.Unit.Minute:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Minute);case a.DateTime.Unit.Second:return i.DataRole.DateTrunc.make(a.DateTime.Unit.Second);default:throw new Error("Cannot determine role of DATETRUNC unit "+o.value)}default:throw new Error("Cannot determine role of DATETRUNC unit at node "+o)}},TestCallRoleProvider}();e.TestCallRoleProvider=d}(t.DefaultProvider||(t.DefaultProvider={}))},C4z4:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Qxlz");n.Observable.prototype.take=i.take},CChH:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Uwi2");n.Observable.prototype.repeatWhen=i.repeatWhen},CKSt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("kdBv"),i=function(){function ResultSchema(){this._fields=new Array}return Object.defineProperty(ResultSchema.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),ResultSchema.prototype.addField=function(e){switch(e.type){case n.FieldType.VIEWCALC:this.fields.push({type:n.FieldType.VIEWCALC,name:e.alias,dataType:e.dataType,varType:e.varType,roleType:e.roleType,formula:e.formula.source});break;case n.FieldType.VIEWNAMES:this.fields.push({type:n.FieldType.VIEWNAMES,name:e.alias,dataType:e.dataType,varType:e.varType,roleType:e.roleType});break;case n.FieldType.VIEWVALUES:this.fields.push({type:n.FieldType.VIEWVALUES,name:e.alias,dataType:e.dataType,varType:e.varType,roleType:e.roleType})}},ResultSchema}();t.ResultSchema=i;var o=function(){function ResultSet(){this._data=new Array,this._schema=new i}return Object.defineProperty(ResultSet.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(ResultSet.prototype,"schema",{get:function(){return this._schema},enumerable:!0,configurable:!0}),Object.defineProperty(ResultSet.prototype,"size",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),ResultSet.prototype.get=function(e){return this.data[e]},ResultSet.prototype.add=function(e){this.data.push(e)},ResultSet.prototype.addSchemaField=function(e){this.schema.addField(e)},ResultSet}();t.ResultSet=o},CXf5:function(e,t,r){var n=r("4/4o")(Object.getPrototypeOf,Object);e.exports=n},Ch11:function(e,t,r){"use strict";var n=r("DRWY"),i=r("hMrR");n.Observable.prototype.windowToggle=i.windowToggle},CiRJ:function(e,t,r){"use strict";var n=r("DRWY"),i=r("ayiE");n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},Cjp5:function(e,t,r){"use strict";var n=r("DRWY"),i=r("5GPd");n.Observable.prototype.bufferToggle=i.bufferToggle},CoUi:function(e,t,r){"use strict";var n=r("/E++");t.from=n.FromObservable.create},CsEb:function(e,t,r){"use strict";var n=r("Wvrh"),i=r("h5qz");t.async=new i.AsyncScheduler(n.AsyncAction)},D4xe:function(e,t,r){"use strict";var n=r("YEzg"),i=r("pXYK");t.partition=function(e,t){return function(r){return[i.filter(e,t)(r),i.filter(n.not(e,t))(r)]}}},DBZT:function(e,t,r){"use strict";var n=r("CsEb"),i=r("b/Yl");t.delay=function(e,t){return void 0===t&&(t=n.async),i.delay(e,t)(this)}},DENg:function(e,t,r){var n=r("9R9K"),i="__types__",o={boolean:n.boolean,integer:n.number,number:n.number,date:n.date,string:function(e){return null==e||""===e?null:e+""}},a={boolean:function(e){return"true"===e||"false"===e||n.isBoolean(e)},integer:function(e){return a.number(e)&&(e=+e)==~~e},number:function(e){return!isNaN(+e)&&!n.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};function fieldNames(e){return n.keys(e)}function bracket(e){return"["+e+"]"}function type(e,t){var r,o,a;if(e=n.array(e),t=n.$(t),e[i]&&(r=t(e[i]),n.isString(r)))return r;for(o=0,a=e.length;!n.isValid(r)&&o<a;++o)r=t?t(e[o]):e[o];return n.isDate(r)?"date":n.isNumber(r)?"number":n.isBoolean(r)?"boolean":n.isString(r)?"string":null}function infer(e,t,r){var i,o,s;e=n.array(e),t=n.$(t);var u=["boolean","integer","number","date"];for(i=0;i<e.length;++i){for(s=t?t(e[i]):e[i],o=0;o<u.length;++o)r&&r.test(s)||!n.isValid(s)||a[u[o]](s)||(u.splice(o,1),o-=1);if(0===u.length)return"string"}return u[0]}type.annotation=function(e,t){if(!t)return e&&e[i]||null;e[i]=t},type.all=function(e,t){if(e.length){var r=t?n.identity:(t=fieldNames(e[0]),bracket);return t.reduce(function(t,n){return t[n]=type(e,r(n)),t},{})}},type.infer=infer,type.inferAll=function(e,t,r){var i=t?n.identity:(t=fieldNames(e[0]),bracket);return t.reduce(function(t,n){return t[n]=infer(e,i(n),r),t},{})},type.parsers=o,e.exports=type},DF1g:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Kw1N");n.Observable.prototype.mergeScan=i.mergeScan},DJxB:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("891W"),a=r("kdBv"),s=function(e){function Compiler(t,r,n){var i=e.call(this)||this;return i._fieldResolver=t,i._funcResolver=r,i._typeResolver=n,i._init=new Array,i._step=new Array,i._final=new Array,i._functions=new Array,i._dataFields=new Array,i}return i(Compiler,e),Object.defineProperty(Compiler.prototype,"fieldResolver",{get:function(){return this._fieldResolver},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"funcResolver",{get:function(){return this._funcResolver},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"typeResolver",{get:function(){return this._typeResolver},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"init",{get:function(){return this._init},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"final",{get:function(){return this._final},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"functions",{get:function(){return this._functions},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"returnType",{get:function(){return this.typeResolver.returnType},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"dataFields",{get:function(){return this._dataFields},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"isScalar",{get:function(){return!this.isAggregate},enumerable:!0,configurable:!0}),Object.defineProperty(Compiler.prototype,"isAggregate",{get:function(){return this.functions.filter(function(e){return"AGG"===e.type}).length>0},enumerable:!0,configurable:!0}),Compiler.prototype.visitIdentifierNode=function(e){this.final.push(function(){return e.name})},Compiler.prototype.visitNullLiteralNode=function(e){this.final.push(function(){return null})},Compiler.prototype.visitBooleanLiteralNode=function(e){this.final.push(function(){return e.value})},Compiler.prototype.visitNumberLiteralNode=function(e){this.final.push(function(){return e.value})},Compiler.prototype.visitHexLiteralNode=function(e){this.final.push(function(){return e.value})},Compiler.prototype.visitStringLiteralNode=function(e){this.final.push(function(){return e.value})},Compiler.prototype.visitRegExpLiteralNode=function(e){this.final.push(function(){return e.value})},Compiler.prototype.visitDateLiteralNode=function(e){this.final.push(function(){return e.value})},Compiler.prototype.visitFieldLiteralNode=function(e){this.pushField(e)},Compiler.prototype.visitUnaryExpressionNode=function(e){this.pushUnary(e)},Compiler.prototype.visitBinaryExpressionNode=function(e){this.pushBinary(e)},Compiler.prototype.visitLogicalExpressionNode=function(e){this.pushBinary(e)},Compiler.prototype.visitCaseExpressionNode=function(e){this.pushCase(e)},Compiler.prototype.visitCallExpressionNode=function(e){this.pushCall(e)},Compiler.prototype.pushUnary=function(e){var t=this.final.pop();switch(e.operator){case"NOT":this.final.push(function(e){return!t(e)});break;case"-":this.final.push(function(e){return-t(e)});break;case"+":this.final.push(function(e){return+t(e)})}},Compiler.prototype.pushBinary=function(e){var t=this.final.pop(),r=this.final.pop();switch(e.operator){case"OR":this.final.push(function(e){return r(e)||t(e)});break;case"AND":this.final.push(function(e){return r(e)&&t(e)});break;case"=":this.final.push(function(e){return r(e)===t(e)});break;case"<>":this.final.push(function(e){return r(e)!==t(e)});break;case">":this.final.push(function(e){return r(e)>t(e)});break;case"<":this.final.push(function(e){return r(e)<t(e)});break;case">=":this.final.push(function(e){return r(e)>=t(e)});break;case"<=":this.final.push(function(e){return r(e)<=t(e)});break;case"+":this.final.push(function(e){return r(e)+t(e)});break;case"-":this.final.push(function(e){return r(e)-t(e)});break;case"*":this.final.push(function(e){return r(e)*t(e)});break;case"/":this.final.push(function(e){return r(e)/t(e)});break;case"%":this.final.push(function(e){return r(e)%t(e)})}},Compiler.prototype.pushCase=function(e){var t=[],r=null;null!=e.else&&(r=this.final.pop());for(var n=0,i=e.when;n<i.length;n++){i[n];var o=this.final.pop(),a=this.final.pop();t.unshift([a,o])}this.final.push(function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e);return null!=r?r(e):null})},Compiler.prototype.pushField=function(e){var t=e.location.start,r=this.fieldResolver.getField(t.offset);if(null==r)throw new Error("("+t.line+":"+t.column+"): ERROR Unable to resolve field ["+e.value+"]");switch(r.type){case a.FieldType.DATA:var n=r.column.name;this.final.push(function(e){return e.row[n]});break;case a.FieldType.MODELCALC:var i=this.funcResolver.getCalcFunc(r);switch(this.functions.push(i),i.type){case"SCALAR":this.pushScalarCalc(e,i);break;case"AGG":this.pushInitCalc(e,i),this.pushStepCalc(e,i),this.pushFinalCalc(e,i)}}},Compiler.prototype.pushCall=function(e){var t=e.location.start,r=this.funcResolver.getFunc(t.offset);if(null==r)throw new Error("("+t.line+":"+t.column+"): ERROR Unable to resolve function ["+e.callee+"]");this.functions.push(r);for(var n=[],i=0;i<r.argc;i++)n.unshift(this.final.pop());switch(r.type){case"SCALAR":this.pushScalarCall(e,r,n);break;case"AGG":this.pushInitCall(e,r,n),this.pushStepCall(e,r,n),this.pushFinalCall(e,r,n)}},Compiler.prototype.pushInitCall=function(e,t,r){this.init.push(function(e){t.init(e)})},Compiler.prototype.pushInitCalc=function(e,t){this.init.push(function(e){t.init(e)})},Compiler.prototype.pushStepCall=function(e,t,r){this.step.push(function(e){t.step.apply(t,[e].concat(r))})},Compiler.prototype.pushStepCalc=function(e,t){this.step.push(function(e){t.step(e)})},Compiler.prototype.pushScalarCall=function(e,t,r){this.final.push(function(e){return t.value.apply(t,[e].concat(r))})},Compiler.prototype.pushScalarCalc=function(e,t){this.final.push(function(e){return t.value(e)})},Compiler.prototype.pushFinalCall=function(e,t,r){this.final.push(function(e){return t.final(e)})},Compiler.prototype.pushFinalCalc=function(e,t){this.final.push(function(e){return t.final(e)})},Compiler}(o.BaseVisitor);t.Compiler=s},DRWY:function(e,t,r){"use strict";var n=r("SgnA"),i=r("4qVc"),o=r("siyM"),a=r("5esv"),s=function(){function Observable(e){this._isScalar=!1,e&&(this._subscribe=e)}return Observable.prototype.lift=function(e){var t=new Observable;return t.source=this,t.operator=e,t},Observable.prototype.subscribe=function(e,t,r){var n=this.operator,o=i.toSubscriber(e,t,r);if(n?n.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},Observable.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},Observable.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var i;i=r.subscribe(function(t){if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)},n,t)})},Observable.prototype._subscribe=function(e){return this.source.subscribe(e)},Observable.prototype[o.observable]=function(){return this},Observable.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},Observable.prototype.toPromise=function(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},Observable.create=function(e){return new Observable(e)},Observable}();t.Observable=s},DVrn:function(e,t,r){"use strict";var n=r("DRWY"),i=r("kpGl");n.Observable.prototype.auditTime=i.auditTime},DazJ:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pkpF"),a=r("rKdS"),s=r("+1Bn"),u=r("WPAN"),l=r("F0T9"),c=function(e){function TBody(t){var r=e.call(this,"body")||this;return r._table=t,r._gData=new Array,r._mData=new Array,r._gTiles=new Array,r._mTiles=new Array,r.buildGridTiles(t),r.buildMarkTiles(t),r}return i(TBody,e),Object.defineProperty(TBody.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(TBody.prototype,"gData",{get:function(){return this._gData},enumerable:!0,configurable:!0}),Object.defineProperty(TBody.prototype,"mData",{get:function(){return this._mData},enumerable:!0,configurable:!0}),Object.defineProperty(TBody.prototype,"gTiles",{get:function(){return this._gTiles},enumerable:!0,configurable:!0}),Object.defineProperty(TBody.prototype,"mTiles",{get:function(){return this._mTiles},enumerable:!0,configurable:!0}),TBody.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.gTiles;r<n.length;r++){var i=n[r];t.push(i.compile())}for(var o=0,a=this.mTiles;o<a.length;o++){var s=a[o];t.push(s.compile())}return t},TBody.prototype.getProperties=function(){return{enter:{x:{signal:"BodyX"},y:{signal:"BodyY"},width:{signal:"BodyWidth"},height:{signal:"BodyHeight"}}}},TBody.prototype.buildGridTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new a.TGData(e,n),o=new s.TGPane(e,n,i);this.gData.push(i),this.gTiles.push(o)}},TBody.prototype.buildMarkTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new u.TMData(e,n),o=new l.TMPane(e,i,n);this.mData.push(i),this.mTiles.push(o)}},TBody}(o.Group);t.TBody=c},Ddit:function(e,t,r){"use strict";var n=r("+GNe");t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.withLatestFrom.apply(void 0,e)(this)}},Dl5L:function(e,t,r){"use strict";var n=r("8zNw");t.concatMap=function(e,t){return n.concatMap(e,t)(this)}},Dpwm:function(e,t,r){var n=r("aTxA"),i=r("VOuZ");e.exports=function(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,r){return e.addEventListener(t,r),{destroy:function(){e.removeEventListener(t,r)}}}(e,t,r);if(n.nodeList(e))return function(e,t,r){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,r)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,r)})}}}(e,t,r);if(n.string(e))return function(e,t,r){return i(document.body,e,t,r)}(e,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},Ds2V:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Fold(t,r,n){var i=e.call(this)||this;return i._fields=t,i._key=r||"key",i._value=n||"value",i}return i(Fold,e),Object.defineProperty(Fold.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(Fold.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(Fold.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Fold.prototype.compile=function(){return{type:"fold",fields:this.fields,output:{key:this.key,value:this.value}}},Fold}(r("3Txa").Transform);t.Fold=o},DvIW:function(e,t,r){"use strict";var n=r("DRWY"),i=r("RY6y");n.Observable.prototype.zip=i.zipProto},E36s:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Sort(t){var r=e.call(this)||this;return r._by=t,r}return i(Sort,e),Object.defineProperty(Sort.prototype,"by",{get:function(){return this._by},enumerable:!0,configurable:!0}),Sort.prototype.compile=function(){return{type:"sort",by:this.by}},Sort}(r("3Txa").Transform);t.Sort=o},E4ND:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOLEAN="BOOLEAN",e.INTEGER="INTEGER",e.FLOAT="FLOAT",e.NUMBER="NUMBER",e.DATE="DATE",e.DATETIME="DATETIME",e.DATEWKDAY="DATEWKDAY",e.DATEMONTH="DATEMONTH",e.DATEQTR="DATEQTR",e.STRING="STRING",e.REGEXP="REGEXP",e.NULL="NULL",e.UNDEFINED="UNDEFINED"}(t.DataType||(t.DataType={}))},EGxG:function(e,t,r){"use strict";var n=r("DRWY"),i=r("SV2+");n.Observable.prototype.shareReplay=i.shareReplay},EIUo:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function OuterSubscriber(){e.apply(this,arguments)}return n(OuterSubscriber,e),OuterSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},OuterSubscriber.prototype.notifyError=function(e,t){this.destination.error(e)},OuterSubscriber.prototype.notifyComplete=function(e){this.destination.complete()},OuterSubscriber}(r("LGJh").Subscriber);t.OuterSubscriber=i},ENzA:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.skip=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function SkipOperator(e){this.total=e}return SkipOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},SkipOperator}(),a=function(e){function SkipSubscriber(t,r){e.call(this,t),this.total=r,this.count=0}return n(SkipSubscriber,e),SkipSubscriber.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},SkipSubscriber}(i.Subscriber)},ES04:function(e,t,r){var n=r("e5TX"),i=r("CXf5"),o=r("OuyB"),a="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,f=l.call(Object);e.exports=function(e){if(!o(e)||n(e)!=a)return!1;var t=i(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==f}},EY3Q:function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,i,o){var s=e(r,i,o),u=s.dispatch,l=[],c={getState:s.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=a.default.apply(void 0,l)(s.dispatch),n({},s,{dispatch:u})}}};var i,o=r("uQY2"),a=(i=o)&&i.__esModule?i:{default:i}},EYua:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.X="X",e.Y="Y",e.X2="X2",e.Y2="Y2",e.ROW="ROW",e.COLUMN="COLUMN",e.VALUE="VALUE",e.SERIES="SERIES",e.COLOR="COLOR",e.SIZE="SIZE",e.LABEL="LABEL",e.TEXT="TEXT",e.DETAIL="DETAIL",e.TOOLTIP="TOOLTIP",e.SHAPE="SHAPE",e.ANGLE="ANGLE",e.PATH="PATH",e.STAR="*"}(t.Channel||(t.Channel={}))},EkL9:function(e,t,r){"use strict";var n=r("DRWY"),i=r("oU5A");n.Observable.empty=i.empty},EsIV:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("1IBE"),a=r("5UgM"),s=r("moUI"),u=function(e){function BoundCallbackObservable(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(BoundCallbackObservable,e),BoundCallbackObservable.create=function(e,t,r){return void 0===t&&(t=void 0),function(){for(var n=[],i=0;i<arguments.length;i++)n[i-0]=arguments[i];return new BoundCallbackObservable(e,t,n,this,r)}},BoundCallbackObservable.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,i=this.subject;if(n)return n.schedule(BoundCallbackObservable.dispatch,0,{source:this,subscriber:e,context:this.context});if(!i){i=this.subject=new s.AsyncSubject;var u=function handlerFn(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=handlerFn.source,n=r.selector,i=r.subject;if(n){var s=o.tryCatch(n).apply(this,e);s===a.errorObject?i.error(a.errorObject.e):(i.next(s),i.complete())}else i.next(e.length<=1?e[0]:e),i.complete()};u.source=this,o.tryCatch(t).apply(this.context,r.concat(u))===a.errorObject&&i.error(a.errorObject.e)}return i.subscribe(e)},BoundCallbackObservable.dispatch=function(e){var t=this,r=e.source,n=e.subscriber,i=e.context,u=r.callbackFunc,l=r.args,c=r.scheduler,f=r.subject;if(!f){f=r.subject=new s.AsyncSubject;var h=function handlerFn(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=handlerFn.source,i=n.selector,s=n.subject;if(i){var u=o.tryCatch(i).apply(this,e);u===a.errorObject?t.add(c.schedule(dispatchError,0,{err:a.errorObject.e,subject:s})):t.add(c.schedule(dispatchNext,0,{value:u,subject:s}))}else{var l=e.length<=1?e[0]:e;t.add(c.schedule(dispatchNext,0,{value:l,subject:s}))}};h.source=r,o.tryCatch(u).apply(i,l.concat(h))===a.errorObject&&f.error(a.errorObject.e)}t.add(f.subscribe(n))},BoundCallbackObservable}(i.Observable);function dispatchNext(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function dispatchError(e){var t=e.err;e.subject.error(t)}t.BoundCallbackObservable=u},Eyho:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TShape(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(TShape,e),Object.defineProperty(TShape.prototype,"isFilled",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(TShape.prototype,"isStroked",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(TShape.prototype,"strokeWidth",{get:function(){return{value:2}},enumerable:!0,configurable:!0}),TShape}(r("B6IU").TSymbol);t.TShape=o},F013:function(e,t,r){"use strict";var n=r("uaEH");t.publishLast=function(){return n.publishLast()(this)}},F0T9:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pkpF"),a=r("obqO"),s=function(e){function TMPane(t,r,n){var i=e.call(this,"vm-"+n.yAlias,r)||this;return i._table=t,i._marks=n,i._colorScale=n.buildColorScale(),i._sizeScale=n.buildSizeScale(),i}return i(TMPane,e),Object.defineProperty(TMPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(TMPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(TMPane.prototype,"colorScale",{get:function(){return this._colorScale},enumerable:!0,configurable:!0}),Object.defineProperty(TMPane.prototype,"sizeScale",{get:function(){return this._sizeScale},enumerable:!0,configurable:!0}),TMPane.prototype.getScales=function(){var t=e.prototype.getScales.call(this);if(this.marks instanceof a.TMBars){var r=this.marks.buildXScale();t.push(r.compile())}return t.push(this.colorScale.compile()),t.push(this.sizeScale.compile()),t},TMPane.prototype.getProperties=function(){return{enter:{x:{field:"tcols.layout_start"},y:{field:"trows.layout_start"},width:{field:"tcols.layout_width"},height:{field:"trows.layout_height"}}}},TMPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.marks.marks;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},TMPane}(o.Group);t.TMPane=s},F7ET:function(e,t,r){var n=r("9R9K");e.exports=function(e,t){var r=n.isObject(e)&&!n.isBuffer(e)?e:JSON.parse(e);return t&&t.property&&(r=n.accessor(t.property)(r)),r}},F888:function(e,t){e.exports=function(e,t){var r=!1;return function(){return r||(console.warn(t),r=!0),e.apply(this,arguments)}}},FILO:function(e,t,r){var n,i,o,a,s=r("9R9K"),u=r("yq3M"),l=r("KXrU"),c=r("YnVn"),f=c,h=l,p=new Date(2e3,0,1);function localeRef(e){return e.length>4&&"locale"+(e[0].toUpperCase()+e[1].toLowerCase()+e[3].toUpperCase()+e[4].toLowerCase())}function numberLocale(e){var t=s.isString(e)?c[localeRef(e)]:c.locale(e);if(null==t)throw Error("Unrecognized locale: "+e);f=t}function timeLocale(e){var t=s.isString(e)?l[localeRef(e)]:l.locale(e);if(null==t)throw Error("Unrecognized locale: "+e);h=t,n=i=o=a=null}e.exports={numberLocale:numberLocale,number:function(e){return f.format(e)},numberPrefix:function(e,t){return f.formatPrefix(e,t)},timeLocale:timeLocale,time:function(e){return h.format(e)},utc:function(e){return h.utcFormat(e)},locale:function(e){numberLocale(e),timeLocale(e)},auto:{number:function(e){var t=f.format(".1f")(1)[1];null==e&&(e=",");null==(e=c.formatSpecifier(e)).precision&&(e.precision=12);switch(e.type){case"%":e.precision-=2;break;case"e":e.precision-=1}return function(e,t){return function(r){var n=e(r),i=n.indexOf(t);if(i<0)return n;for(var o=function(e,t){var r,n=e.lastIndexOf("e");if(n>0)return n;for(n=e.length;--n>t;)if((r=e.charCodeAt(n))>=48&&r<=57)return n+1}(n,i),a=o<n.length?n.slice(o):"";--o>i;)if("0"!==n[o]){++o;break}return n.slice(0,o)+a}}(f.format(e),t)},linear:function(e,t,r){var n=function(e,t){e.length||(e=[0]);null==t&&(t=10);var r=e[0],n=e[e.length-1];n<r&&(a=n,n=r,r=a);var i=n-r||(t=1,r||n||1),o=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=i/t/o;a>=d?o*=10:a>=y?o*=5:a>=g&&(o*=2);return[Math.ceil(r/o)*o,Math.floor(n/o)*o+o/2,o]}(e,t);null==r&&(r=",f");switch((r=c.formatSpecifier(r)).type){case"s":var i=Math.max(Math.abs(n[0]),Math.abs(n[1]));return null==r.precision&&(r.precision=c.precisionPrefix(n[2],i)),f.formatPrefix(r,i);case"":case"e":case"g":case"p":case"r":null==r.precision&&(r.precision=c.precisionRound(n[2],Math.max(Math.abs(n[0]),Math.abs(n[1])))-("e"===r.type));break;case"f":case"%":null==r.precision&&(r.precision=c.precisionFixed(n[2])-2*("%"===r.type))}return f.format(r)},time:function(){return e=h.format,t=e(".%L"),r=e(":%S"),n=e("%I:%M"),i=e("%I %p"),o=e("%a %d"),a=e("%b %d"),s=e("%B"),l=e("%Y"),function(e){var c=+e;return(u.second(e)<c?t:u.minute(e)<c?r:u.hour(e)<c?n:u.day(e)<c?i:u.month(e)<c?u.week(e)<c?o:a:u.year(e)<c?s:l)(e)};var e,t,r,n,i,o,a,s,l},utc:function(){return e=h.utcFormat,t=e(".%L"),r=e(":%S"),n=e("%I:%M"),i=e("%I %p"),o=e("%a %d"),a=e("%b %d"),s=e("%B"),l=e("%Y"),function(e){var c=+e;return(u.utcSecond(e)<c?t:u.utcMinute(e)<c?r:u.utcHour(e)<c?n:u.utcDay(e)<c?i:u.utcMonth(e)<c?u.utcWeek(e)<c?o:a:u.utcYear(e)<c?s:l)(e)};var e,t,r,n,i,o,a,s,l}},month:function(e,t){var r=t?i||(i=h.format("%b")):n||(n=h.format("%B"));return p.setMonth(e),r(p)},day:function(e,t){var r=t?a||(a=h.format("%a")):o||(o=h.format("%A"));return p.setMonth(0),p.setDate(2+e),r(p)},quarter:function(e){return Math.floor(e.getMonth()/3)+1},utcQuarter:function(e){return Math.floor(e.getUTCMonth()/3)+1}};var d=Math.sqrt(50),y=Math.sqrt(10),g=Math.sqrt(2)},"FJ+F":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AUTO="AUTO",e.NORMAL="NORMAL",e.UP="UP",e.DOWN="DOWN"}(t.Direction||(t.Direction={}))},FMUF:function(e,t,r){"use strict";var n=r("DRWY"),i=r("tsny");n.Observable.prototype.switchMap=i.switchMap},FMeT:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function HMPane(t,r,n){var i=e.call(this,"vm-"+n.xAlias,r)||this;return i._table=t,i._marks=n,i._yScale=n.buildXScale(),i._colorScale=n.buildColorScale(),i._sizeScale=n.buildSizeScale(),i}return i(HMPane,e),Object.defineProperty(HMPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(HMPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(HMPane.prototype,"yScale",{get:function(){return this._yScale},enumerable:!0,configurable:!0}),Object.defineProperty(HMPane.prototype,"colorScale",{get:function(){return this._colorScale},enumerable:!0,configurable:!0}),Object.defineProperty(HMPane.prototype,"sizeScale",{get:function(){return this._sizeScale},enumerable:!0,configurable:!0}),HMPane.prototype.getScales=function(){var t=e.prototype.getScales.call(this);return t.push(this.yScale.compile()),t.push(this.colorScale.compile()),t.push(this.sizeScale.compile()),t},HMPane.prototype.getProperties=function(){return{enter:{x:{field:"tcols.layout_start"},y:{field:"trows.layout_start"},width:{field:"tcols.layout_width"},height:{field:"trows.layout_height"}}}},HMPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.marks.marks;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},HMPane}(r("pkpF").Group);t.HMPane=o},FOEW:function(e,t,r){"use strict";var n=r("DRWY"),i=r("yolV");n.Observable.prototype.windowCount=i.windowCount},FRdj:function(e,t,r){"use strict";var n=r("Ns7t");t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMapTo(e,t,r)(this)}},FRpO:function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,r,n,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(isUndefined(r=this._events[e]))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(isObject(r))for(i=Array.prototype.slice.call(arguments,1),n=(a=r.slice()).length,o=0;o<n;o++)a[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var r;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(r=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var r=!1;function g(){this.removeListener(e,g),r||(r=!0,t.apply(this,arguments))}return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var r,n,i,o;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||isFunction(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(r)){for(o=i;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},Ff4l:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HORIZONTAL="HORIZONTAL",e.NONE="NONE",e.PROPORTIONAL="PROPORTIONAL",e.TABULAR="TABULAR",e.VERTICAL="VERTICAL"}(t.Layout||(t.Layout={}))},Fv1s:function(e,t){function E(){}E.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function listener(){n.off(e,listener),t.apply(r,arguments)}return listener._=t,this.on(e,listener,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var o=0,a=n.length;o<a;o++)n[o].fn!==t&&n[o].fn._!==t&&i.push(n[o]);return i.length?r[e]=i:delete r[e],this}},e.exports=E},Fwk0:function(e,t,r){"use strict";var n=r("DRWY"),i=r("SEmT");n.Observable.prototype.find=i.find},G9fc:function(e,t,r){var n=r("9R9K"),i=r("uhvY");function dsv(e,t){if(e){var r=t.header;e=(r?r.join(t.delimiter)+"\n":"")+e}return i.dsv(t.delimiter).parse(e)}dsv.delimiter=function(e){var t={delimiter:e};return function(e,r){return dsv(e,r?n.extend(r,t):t)}},e.exports=dsv},GLq4:function(e,t,r){"use strict";var n=r("iS3x");t._throw=n.ErrorObservable.create},GM28:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("h9wN"),a=r("b28y"),s=r("UlDi"),u=function(e){function HBottom(t,r,n){var i=e.call(this,t)||this;return i._top=r,i._stack=n,i._xAxes=i.buildXAxes(t),i}return i(HBottom,e),Object.defineProperty(HBottom.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(HBottom.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),Object.defineProperty(HBottom.prototype,"xAxes",{get:function(){return this._xAxes},enumerable:!0,configurable:!0}),HBottom.prototype.getY=function(){return this.top.getHeight()},HBottom.prototype.getHeight=function(){return this.xAxes.getHeight()},HBottom.prototype.buildXAxes=function(e){for(var t=this.stack,r=(this.top.xAxisField,new a.HAxes(this.table,"xAxes")),n=0,i=e.marks;n<i.length;n++){var o=i[n];r.addAxis(new s.HAxis(e,o,t,r))}return r},HBottom.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.xAxes.compile()),t},HBottom}(o.Bottom);t.HBottom=u},Gf6Z:function(e,t,r){"use strict";var n=r("ITh/");t.isNumeric=function(e){return!n.isArray(e)&&e-parseFloat(e)+1>=0}},Gjim:function(e,t,r){"use strict";t.applyMixins=function(e,t){for(var r=0,n=t.length;r<n;r++)for(var i=t[r],o=Object.getOwnPropertyNames(i.prototype),a=0,s=o.length;a<s;a++){var u=o[a];e.prototype[u]=i.prototype[u]}}},GoA9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Tegp"),i=r("L0Xl"),o=function(){function DomainEngine(e,t){this._engine=e,this._query=t}return Object.defineProperty(DomainEngine.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),Object.defineProperty(DomainEngine.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),DomainEngine.prototype.execute=function(){var e=new i.DomainResult(this.query),t=new n.DomainCollect(this.query,e);return this.engine.dataset.data.forEach(function(e,r){t.collect(e,r)}),e},DomainEngine}();t.DomainEngine=o},GsTu:function(e,t,r){"use strict";var n=r("SgnA").root.Symbol;t.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},H49V:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STAR="*",e.X="X",e.Y="Y",e.X2="X2",e.Y2="Y2",e.ROW="ROW",e.COLUMN="COLUMN",e.VALUE="VALUE",e.SERIES="SERIES",e.COLOR="COLOR",e.SIZE="SIZE",e.TEXT="TEXT",e.DETAIL="DETAIL",e.TOOLTIP="TOOLTIP",e.SHAPE="SHAPE",e.ANGLE="ANGLE",e.PATH="PATH"}(t.Channel||(t.Channel={}))},H5Wr:function(e,t,r){"use strict";var n=r("tEFf"),i=r("b9YZ");t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.concat.apply(void 0,e)(this)}},H9L6:function(e,t,r){"use strict";var n=r("DRWY"),i=r("935o");n.Observable.prototype.takeWhile=i.takeWhile},HDAs:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Palettes(){}return Palettes.Tableau10=["#4e79a7","#f28e2b","#e05759","#76b7b2","#59a14f","#edc948","#b07aa1","#ff9da7","#9c755f","#bab0ac"],Palettes.TableauBlue=["#b9ddf1","#2a5783"],Palettes}();t.Palettes=n},HHJp:function(e,t,r){"use strict";var n=r("NHYo");t.sample=function(e){return n.sample(e)(this)}},HI3A:function(e,t,r){"use strict";var n=r("X1ih");t.subscribeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new i(e,t))}};var i=function(){function SubscribeOnOperator(e,t){this.scheduler=e,this.delay=t}return SubscribeOnOperator.prototype.call=function(e,t){return new n.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},SubscribeOnOperator}()},HL0p:function(e,t,r){"use strict";function peg$SyntaxError(e,t,r,n){this.message=e,this.expected=t,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}!function(e,t){function ctor(){this.constructor=e}ctor.prototype=t.prototype,e.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(e,t){var r={literal:function(e){return'"'+literalEscape(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?classEscape(e.parts[t][0])+"-"+classEscape(e.parts[t][1]):classEscape(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function hex(e){return e.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+hex(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+hex(e)})}function classEscape(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+hex(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+hex(e)})}return"Expected "+function(e){var t,n,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(i=e[t],r[i.type](i));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+literalEscape(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:peg$SyntaxError,parse:function(e,t){t=void 0!==t?t:{};var r,n={},i={Start:peg$parseStart},o=peg$parseStart,a=function(e){return buildNode(e)},s={type:"any"},u=peg$otherExpectation("WhiteSpace"),l="\t",c=peg$literalExpectation("\t",!1),f="\v",h=peg$literalExpectation("\v",!1),p="\f",d=peg$literalExpectation("\f",!1),y=" ",g=peg$literalExpectation(" ",!1),m="\xa0",v=peg$literalExpectation("\xa0",!1),b="\ufeff",_=peg$literalExpectation("\ufeff",!1),w=/^[\n\r\u2028\u2029]/,S=peg$classExpectation(["\n","\r","\u2028","\u2029"],!1,!1),E=peg$otherExpectation("End of Line"),C="\n",O=peg$literalExpectation("\n",!1),T="\r\n",A=peg$literalExpectation("\r\n",!1),x="\r",k=peg$literalExpectation("\r",!1),R="\u2028",P=peg$literalExpectation("\u2028",!1),D="\u2029",M=peg$literalExpectation("\u2029",!1),F=peg$otherExpectation("comment"),N="/*",I=peg$literalExpectation("/*",!1),j="*/",L=peg$literalExpectation("*/",!1),B="//",H=peg$literalExpectation("//",!1),U=function(e){return e},q=peg$otherExpectation("identifier"),V=function(e,t){return buildNode({type:"Identifier",name:e+t.join("")})},W="$",z=peg$literalExpectation("$",!1),Y="_",$=peg$literalExpectation("_",!1),G="\\",K=peg$literalExpectation("\\",!1),X=function(e){return e},J="\u200c",Q=peg$literalExpectation("\u200c",!1),Z="\u200d",ee=peg$literalExpectation("\u200d",!1),te="AND",re=peg$literalExpectation("AND",!1),ne="CASE",ie=peg$literalExpectation("CASE",!1),oe="ELSE",ae=peg$literalExpectation("ELSE",!1),se="END",ue=peg$literalExpectation("END",!1),le="FALSE",ce=peg$literalExpectation("FALSE",!1),fe="IF",he=peg$literalExpectation("IF",!1),pe="NOT",de=peg$literalExpectation("NOT",!1),ye="NULL",ge=peg$literalExpectation("NULL",!1),me="OR",ve=peg$literalExpectation("OR",!1),be="THEN",_e=peg$literalExpectation("THEN",!1),we="TRUE",Se=peg$literalExpectation("TRUE",!1),Ee="WHEN",Ce=peg$literalExpectation("WHEN",!1),Oe=function(){return buildNode({type:"NullLiteral",value:null})},Te=function(){return buildNode({type:"BooleanLiteral",value:!0})},Ae=function(){return buildNode({type:"BooleanLiteral",value:!1})},xe=peg$otherExpectation("number"),ke=function(e){return e},Re=".",Pe=peg$literalExpectation(".",!1),De=function(){return buildNode({type:"NumberLiteral",value:parseFloat(text())})},Me="0",Fe=peg$literalExpectation("0",!1),Ne=/^[0-9]/,Ie=peg$classExpectation([["0","9"]],!1,!1),je=/^[1-9]/,Le=peg$classExpectation([["1","9"]],!1,!1),Be="e",He=peg$literalExpectation("e",!0),Ue=/^[+\-]/,qe=peg$classExpectation(["+","-"],!1,!1),Ve="0x",We=peg$literalExpectation("0x",!0),ze=function(e){return buildNode({type:"HexLiteral",value:parseInt(e,16)})},Ye=/^[0-9a-f]/i,$e=peg$classExpectation([["0","9"],["a","f"]],!1,!0),Ge=peg$otherExpectation("field"),Ke="[",Xe=peg$literalExpectation("[",!1),Je="]",Qe=peg$literalExpectation("]",!1),Ze=function(e){return buildNode({type:"FieldLiteral",value:e.join("")})},et=function(){return text()},tt=peg$otherExpectation("date"),rt="#",nt=peg$literalExpectation("#",!1),it=function(e){return buildNode({type:"DateLiteral",value:t.moment.utc(e.join("")).valueOf()})},ot=peg$otherExpectation("string"),at='"',st=peg$literalExpectation('"',!1),ut=function(e){return buildNode({type:"StringLiteral",value:e.join("")})},lt="'",ct=peg$literalExpectation("'",!1),ft=function(){return""},ht=function(){return"\0"},pt="b",dt=peg$literalExpectation("b",!1),yt=function(){return"\b"},gt="f",mt=peg$literalExpectation("f",!1),vt=function(){return"\f"},bt="n",_t=peg$literalExpectation("n",!1),wt=function(){return"\n"},St="r",Et=peg$literalExpectation("r",!1),Ct=function(){return"\r"},Ot="t",Tt=peg$literalExpectation("t",!1),At=function(){return"\t"},xt="v",kt=peg$literalExpectation("v",!1),Rt=function(){return"\v"},Pt="x",Dt=peg$literalExpectation("x",!1),Mt="u",Ft=peg$literalExpectation("u",!1),Nt=function(e){return String.fromCharCode(parseInt(e,16))},It=peg$otherExpectation("regular expression"),jt="/",Lt=peg$literalExpectation("/",!1),Bt=function(e,t){var r;try{r=new RegExp(e,t)}catch(e){!function(e,t){throw t=void 0!==t?t:peg$computeLocation(tn,en),function(e,t){return new peg$SyntaxError(e,null,null,t)}(e,t)}(e.message)}return buildNode({type:"RegExpLiteral",value:r})},Ht=/^[*\\\/[]/,Ut=peg$classExpectation(["*","\\","/","["],!1,!1),qt=/^[\\\/[]/,Vt=peg$classExpectation(["\\","/","["],!1,!1),Wt=/^[\]\\]/,zt=peg$classExpectation(["]","\\"],!1,!1),Yt="(",$t=peg$literalExpectation("(",!1),Gt=")",Kt=peg$literalExpectation(")",!1),Xt=function(e){return e},Jt=function(e,t){return buildNode({type:"CallExpression",callee:e.name,arguments:t})},Qt=function(e,t){return buildNode({type:"CallExpression",arguments:t})},Zt=function(e,t){return t.reduce(function(e,t){return t.callee=e,t},e)},er=function(e){return null!==(t=(r=e)?r[0]:null)?t:[];var t,r},tr=",",rr=peg$literalExpectation(",",!1),nr=function(e,t){return function(e,t,r){return[e].concat(function(e,t){return e.map(function(e){return e[t]})}(t,r))}(e,t,3)},ir=function(e,t){return buildNode({type:"CaseExpression",when:e.reduce(function(e,t){return e.push(buildNode({type:"CaseWhen",condition:t[3],result:t[7]})),e},[]),else:null===t?null:buildNode({type:"CaseElse",result:t[3]})})},or=function(e,t){return buildNode({type:"UnaryExpression",operator:e,argument:t})},ar="+",sr=peg$literalExpectation("+",!1),ur="=",lr=peg$literalExpectation("=",!1),cr="-",fr=peg$literalExpectation("-",!1),hr=function(e,t){return function(e,t){return t.reduce(function(e,t){return buildNode({type:"BinaryExpression",operator:t[1],left:e,right:t[3]})},e)}(e,t)},pr="*",dr=peg$literalExpectation("*",!1),yr="%",gr=peg$literalExpectation("%",!1),mr=/^[+=]/,vr=peg$classExpectation(["+","="],!1,!1),br=/^[\-=]/,_r=peg$classExpectation(["-","="],!1,!1),wr="<=",Sr=peg$literalExpectation("<=",!1),Er=">=",Cr=peg$literalExpectation(">=",!1),Or="<",Tr=peg$literalExpectation("<",!1),Ar=">",xr=peg$literalExpectation(">",!1),kr="<>",Rr=peg$literalExpectation("<>",!1),Pr=function(e,t){return function(e,t){return t.reduce(function(e,t){return buildNode({type:"LogicalExpression",operator:t[1],left:e,right:t[3]})},e)}(e,t)},Dr=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,Mr=peg$classExpectation([["a","z"],"\xb5",["\xdf","\xf6"],["\xf8","\xff"],"\u0101","\u0103","\u0105","\u0107","\u0109","\u010b","\u010d","\u010f","\u0111","\u0113","\u0115","\u0117","\u0119","\u011b","\u011d","\u011f","\u0121","\u0123","\u0125","\u0127","\u0129","\u012b","\u012d","\u012f","\u0131","\u0133","\u0135",["\u0137","\u0138"],"\u013a","\u013c","\u013e","\u0140","\u0142","\u0144","\u0146",["\u0148","\u0149"],"\u014b","\u014d","\u014f","\u0151","\u0153","\u0155","\u0157","\u0159","\u015b","\u015d","\u015f","\u0161","\u0163","\u0165","\u0167","\u0169","\u016b","\u016d","\u016f","\u0171","\u0173","\u0175","\u0177","\u017a","\u017c",["\u017e","\u0180"],"\u0183","\u0185","\u0188",["\u018c","\u018d"],"\u0192","\u0195",["\u0199","\u019b"],"\u019e","\u01a1","\u01a3","\u01a5","\u01a8",["\u01aa","\u01ab"],"\u01ad","\u01b0","\u01b4","\u01b6",["\u01b9","\u01ba"],["\u01bd","\u01bf"],"\u01c6","\u01c9","\u01cc","\u01ce","\u01d0","\u01d2","\u01d4","\u01d6","\u01d8","\u01da",["\u01dc","\u01dd"],"\u01df","\u01e1","\u01e3","\u01e5","\u01e7","\u01e9","\u01eb","\u01ed",["\u01ef","\u01f0"],"\u01f3","\u01f5","\u01f9","\u01fb","\u01fd","\u01ff","\u0201","\u0203","\u0205","\u0207","\u0209","\u020b","\u020d","\u020f","\u0211","\u0213","\u0215","\u0217","\u0219","\u021b","\u021d","\u021f","\u0221","\u0223","\u0225","\u0227","\u0229","\u022b","\u022d","\u022f","\u0231",["\u0233","\u0239"],"\u023c",["\u023f","\u0240"],"\u0242","\u0247","\u0249","\u024b","\u024d",["\u024f","\u0293"],["\u0295","\u02af"],"\u0371","\u0373","\u0377",["\u037b","\u037d"],"\u0390",["\u03ac","\u03ce"],["\u03d0","\u03d1"],["\u03d5","\u03d7"],"\u03d9","\u03db","\u03dd","\u03df","\u03e1","\u03e3","\u03e5","\u03e7","\u03e9","\u03eb","\u03ed",["\u03ef","\u03f3"],"\u03f5","\u03f8",["\u03fb","\u03fc"],["\u0430","\u045f"],"\u0461","\u0463","\u0465","\u0467","\u0469","\u046b","\u046d","\u046f","\u0471","\u0473","\u0475","\u0477","\u0479","\u047b","\u047d","\u047f","\u0481","\u048b","\u048d","\u048f","\u0491","\u0493","\u0495","\u0497","\u0499","\u049b","\u049d","\u049f","\u04a1","\u04a3","\u04a5","\u04a7","\u04a9","\u04ab","\u04ad","\u04af","\u04b1","\u04b3","\u04b5","\u04b7","\u04b9","\u04bb","\u04bd","\u04bf","\u04c2","\u04c4","\u04c6","\u04c8","\u04ca","\u04cc",["\u04ce","\u04cf"],"\u04d1","\u04d3","\u04d5","\u04d7","\u04d9","\u04db","\u04dd","\u04df","\u04e1","\u04e3","\u04e5","\u04e7","\u04e9","\u04eb","\u04ed","\u04ef","\u04f1","\u04f3","\u04f5","\u04f7","\u04f9","\u04fb","\u04fd","\u04ff","\u0501","\u0503","\u0505","\u0507","\u0509","\u050b","\u050d","\u050f","\u0511","\u0513","\u0515","\u0517","\u0519","\u051b","\u051d","\u051f","\u0521","\u0523","\u0525","\u0527","\u0529","\u052b","\u052d","\u052f",["\u0561","\u0587"],["\u13f8","\u13fd"],["\u1d00","\u1d2b"],["\u1d6b","\u1d77"],["\u1d79","\u1d9a"],"\u1e01","\u1e03","\u1e05","\u1e07","\u1e09","\u1e0b","\u1e0d","\u1e0f","\u1e11","\u1e13","\u1e15","\u1e17","\u1e19","\u1e1b","\u1e1d","\u1e1f","\u1e21","\u1e23","\u1e25","\u1e27","\u1e29","\u1e2b","\u1e2d","\u1e2f","\u1e31","\u1e33","\u1e35","\u1e37","\u1e39","\u1e3b","\u1e3d","\u1e3f","\u1e41","\u1e43","\u1e45","\u1e47","\u1e49","\u1e4b","\u1e4d","\u1e4f","\u1e51","\u1e53","\u1e55","\u1e57","\u1e59","\u1e5b","\u1e5d","\u1e5f","\u1e61","\u1e63","\u1e65","\u1e67","\u1e69","\u1e6b","\u1e6d","\u1e6f","\u1e71","\u1e73","\u1e75","\u1e77","\u1e79","\u1e7b","\u1e7d","\u1e7f","\u1e81","\u1e83","\u1e85","\u1e87","\u1e89","\u1e8b","\u1e8d","\u1e8f","\u1e91","\u1e93",["\u1e95","\u1e9d"],"\u1e9f","\u1ea1","\u1ea3","\u1ea5","\u1ea7","\u1ea9","\u1eab","\u1ead","\u1eaf","\u1eb1","\u1eb3","\u1eb5","\u1eb7","\u1eb9","\u1ebb","\u1ebd","\u1ebf","\u1ec1","\u1ec3","\u1ec5","\u1ec7","\u1ec9","\u1ecb","\u1ecd","\u1ecf","\u1ed1","\u1ed3","\u1ed5","\u1ed7","\u1ed9","\u1edb","\u1edd","\u1edf","\u1ee1","\u1ee3","\u1ee5","\u1ee7","\u1ee9","\u1eeb","\u1eed","\u1eef","\u1ef1","\u1ef3","\u1ef5","\u1ef7","\u1ef9","\u1efb","\u1efd",["\u1eff","\u1f07"],["\u1f10","\u1f15"],["\u1f20","\u1f27"],["\u1f30","\u1f37"],["\u1f40","\u1f45"],["\u1f50","\u1f57"],["\u1f60","\u1f67"],["\u1f70","\u1f7d"],["\u1f80","\u1f87"],["\u1f90","\u1f97"],["\u1fa0","\u1fa7"],["\u1fb0","\u1fb4"],["\u1fb6","\u1fb7"],"\u1fbe",["\u1fc2","\u1fc4"],["\u1fc6","\u1fc7"],["\u1fd0","\u1fd3"],["\u1fd6","\u1fd7"],["\u1fe0","\u1fe7"],["\u1ff2","\u1ff4"],["\u1ff6","\u1ff7"],"\u210a",["\u210e","\u210f"],"\u2113","\u212f","\u2134","\u2139",["\u213c","\u213d"],["\u2146","\u2149"],"\u214e","\u2184",["\u2c30","\u2c5e"],"\u2c61",["\u2c65","\u2c66"],"\u2c68","\u2c6a","\u2c6c","\u2c71",["\u2c73","\u2c74"],["\u2c76","\u2c7b"],"\u2c81","\u2c83","\u2c85","\u2c87","\u2c89","\u2c8b","\u2c8d","\u2c8f","\u2c91","\u2c93","\u2c95","\u2c97","\u2c99","\u2c9b","\u2c9d","\u2c9f","\u2ca1","\u2ca3","\u2ca5","\u2ca7","\u2ca9","\u2cab","\u2cad","\u2caf","\u2cb1","\u2cb3","\u2cb5","\u2cb7","\u2cb9","\u2cbb","\u2cbd","\u2cbf","\u2cc1","\u2cc3","\u2cc5","\u2cc7","\u2cc9","\u2ccb","\u2ccd","\u2ccf","\u2cd1","\u2cd3","\u2cd5","\u2cd7","\u2cd9","\u2cdb","\u2cdd","\u2cdf","\u2ce1",["\u2ce3","\u2ce4"],"\u2cec","\u2cee","\u2cf3",["\u2d00","\u2d25"],"\u2d27","\u2d2d","\ua641","\ua643","\ua645","\ua647","\ua649","\ua64b","\ua64d","\ua64f","\ua651","\ua653","\ua655","\ua657","\ua659","\ua65b","\ua65d","\ua65f","\ua661","\ua663","\ua665","\ua667","\ua669","\ua66b","\ua66d","\ua681","\ua683","\ua685","\ua687","\ua689","\ua68b","\ua68d","\ua68f","\ua691","\ua693","\ua695","\ua697","\ua699","\ua69b","\ua723","\ua725","\ua727","\ua729","\ua72b","\ua72d",["\ua72f","\ua731"],"\ua733","\ua735","\ua737","\ua739","\ua73b","\ua73d","\ua73f","\ua741","\ua743","\ua745","\ua747","\ua749","\ua74b","\ua74d","\ua74f","\ua751","\ua753","\ua755","\ua757","\ua759","\ua75b","\ua75d","\ua75f","\ua761","\ua763","\ua765","\ua767","\ua769","\ua76b","\ua76d","\ua76f",["\ua771","\ua778"],"\ua77a","\ua77c","\ua77f","\ua781","\ua783","\ua785","\ua787","\ua78c","\ua78e","\ua791",["\ua793","\ua795"],"\ua797","\ua799","\ua79b","\ua79d","\ua79f","\ua7a1","\ua7a3","\ua7a5","\ua7a7","\ua7a9","\ua7b5","\ua7b7","\ua7fa",["\uab30","\uab5a"],["\uab60","\uab65"],["\uab70","\uabbf"],["\ufb00","\ufb06"],["\ufb13","\ufb17"],["\uff41","\uff5a"]],!1,!1),Fr=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,Nr=peg$classExpectation([["\u02b0","\u02c1"],["\u02c6","\u02d1"],["\u02e0","\u02e4"],"\u02ec","\u02ee","\u0374","\u037a","\u0559","\u0640",["\u06e5","\u06e6"],["\u07f4","\u07f5"],"\u07fa","\u081a","\u0824","\u0828","\u0971","\u0e46","\u0ec6","\u10fc","\u17d7","\u1843","\u1aa7",["\u1c78","\u1c7d"],["\u1d2c","\u1d6a"],"\u1d78",["\u1d9b","\u1dbf"],"\u2071","\u207f",["\u2090","\u209c"],["\u2c7c","\u2c7d"],"\u2d6f","\u2e2f","\u3005",["\u3031","\u3035"],"\u303b",["\u309d","\u309e"],["\u30fc","\u30fe"],"\ua015",["\ua4f8","\ua4fd"],"\ua60c","\ua67f",["\ua69c","\ua69d"],["\ua717","\ua71f"],"\ua770","\ua788",["\ua7f8","\ua7f9"],"\ua9cf","\ua9e6","\uaa70","\uaadd",["\uaaf3","\uaaf4"],["\uab5c","\uab5f"],"\uff70",["\uff9e","\uff9f"]],!1,!1),Ir=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,jr=peg$classExpectation(["\xaa","\xba","\u01bb",["\u01c0","\u01c3"],"\u0294",["\u05d0","\u05ea"],["\u05f0","\u05f2"],["\u0620","\u063f"],["\u0641","\u064a"],["\u066e","\u066f"],["\u0671","\u06d3"],"\u06d5",["\u06ee","\u06ef"],["\u06fa","\u06fc"],"\u06ff","\u0710",["\u0712","\u072f"],["\u074d","\u07a5"],"\u07b1",["\u07ca","\u07ea"],["\u0800","\u0815"],["\u0840","\u0858"],["\u08a0","\u08b4"],["\u0904","\u0939"],"\u093d","\u0950",["\u0958","\u0961"],["\u0972","\u0980"],["\u0985","\u098c"],["\u098f","\u0990"],["\u0993","\u09a8"],["\u09aa","\u09b0"],"\u09b2",["\u09b6","\u09b9"],"\u09bd","\u09ce",["\u09dc","\u09dd"],["\u09df","\u09e1"],["\u09f0","\u09f1"],["\u0a05","\u0a0a"],["\u0a0f","\u0a10"],["\u0a13","\u0a28"],["\u0a2a","\u0a30"],["\u0a32","\u0a33"],["\u0a35","\u0a36"],["\u0a38","\u0a39"],["\u0a59","\u0a5c"],"\u0a5e",["\u0a72","\u0a74"],["\u0a85","\u0a8d"],["\u0a8f","\u0a91"],["\u0a93","\u0aa8"],["\u0aaa","\u0ab0"],["\u0ab2","\u0ab3"],["\u0ab5","\u0ab9"],"\u0abd","\u0ad0",["\u0ae0","\u0ae1"],"\u0af9",["\u0b05","\u0b0c"],["\u0b0f","\u0b10"],["\u0b13","\u0b28"],["\u0b2a","\u0b30"],["\u0b32","\u0b33"],["\u0b35","\u0b39"],"\u0b3d",["\u0b5c","\u0b5d"],["\u0b5f","\u0b61"],"\u0b71","\u0b83",["\u0b85","\u0b8a"],["\u0b8e","\u0b90"],["\u0b92","\u0b95"],["\u0b99","\u0b9a"],"\u0b9c",["\u0b9e","\u0b9f"],["\u0ba3","\u0ba4"],["\u0ba8","\u0baa"],["\u0bae","\u0bb9"],"\u0bd0",["\u0c05","\u0c0c"],["\u0c0e","\u0c10"],["\u0c12","\u0c28"],["\u0c2a","\u0c39"],"\u0c3d",["\u0c58","\u0c5a"],["\u0c60","\u0c61"],["\u0c85","\u0c8c"],["\u0c8e","\u0c90"],["\u0c92","\u0ca8"],["\u0caa","\u0cb3"],["\u0cb5","\u0cb9"],"\u0cbd","\u0cde",["\u0ce0","\u0ce1"],["\u0cf1","\u0cf2"],["\u0d05","\u0d0c"],["\u0d0e","\u0d10"],["\u0d12","\u0d3a"],"\u0d3d","\u0d4e",["\u0d5f","\u0d61"],["\u0d7a","\u0d7f"],["\u0d85","\u0d96"],["\u0d9a","\u0db1"],["\u0db3","\u0dbb"],"\u0dbd",["\u0dc0","\u0dc6"],["\u0e01","\u0e30"],["\u0e32","\u0e33"],["\u0e40","\u0e45"],["\u0e81","\u0e82"],"\u0e84",["\u0e87","\u0e88"],"\u0e8a","\u0e8d",["\u0e94","\u0e97"],["\u0e99","\u0e9f"],["\u0ea1","\u0ea3"],"\u0ea5","\u0ea7",["\u0eaa","\u0eab"],["\u0ead","\u0eb0"],["\u0eb2","\u0eb3"],"\u0ebd",["\u0ec0","\u0ec4"],["\u0edc","\u0edf"],"\u0f00",["\u0f40","\u0f47"],["\u0f49","\u0f6c"],["\u0f88","\u0f8c"],["\u1000","\u102a"],"\u103f",["\u1050","\u1055"],["\u105a","\u105d"],"\u1061",["\u1065","\u1066"],["\u106e","\u1070"],["\u1075","\u1081"],"\u108e",["\u10d0","\u10fa"],["\u10fd","\u1248"],["\u124a","\u124d"],["\u1250","\u1256"],"\u1258",["\u125a","\u125d"],["\u1260","\u1288"],["\u128a","\u128d"],["\u1290","\u12b0"],["\u12b2","\u12b5"],["\u12b8","\u12be"],"\u12c0",["\u12c2","\u12c5"],["\u12c8","\u12d6"],["\u12d8","\u1310"],["\u1312","\u1315"],["\u1318","\u135a"],["\u1380","\u138f"],["\u1401","\u166c"],["\u166f","\u167f"],["\u1681","\u169a"],["\u16a0","\u16ea"],["\u16f1","\u16f8"],["\u1700","\u170c"],["\u170e","\u1711"],["\u1720","\u1731"],["\u1740","\u1751"],["\u1760","\u176c"],["\u176e","\u1770"],["\u1780","\u17b3"],"\u17dc",["\u1820","\u1842"],["\u1844","\u1877"],["\u1880","\u18a8"],"\u18aa",["\u18b0","\u18f5"],["\u1900","\u191e"],["\u1950","\u196d"],["\u1970","\u1974"],["\u1980","\u19ab"],["\u19b0","\u19c9"],["\u1a00","\u1a16"],["\u1a20","\u1a54"],["\u1b05","\u1b33"],["\u1b45","\u1b4b"],["\u1b83","\u1ba0"],["\u1bae","\u1baf"],["\u1bba","\u1be5"],["\u1c00","\u1c23"],["\u1c4d","\u1c4f"],["\u1c5a","\u1c77"],["\u1ce9","\u1cec"],["\u1cee","\u1cf1"],["\u1cf5","\u1cf6"],["\u2135","\u2138"],["\u2d30","\u2d67"],["\u2d80","\u2d96"],["\u2da0","\u2da6"],["\u2da8","\u2dae"],["\u2db0","\u2db6"],["\u2db8","\u2dbe"],["\u2dc0","\u2dc6"],["\u2dc8","\u2dce"],["\u2dd0","\u2dd6"],["\u2dd8","\u2dde"],"\u3006","\u303c",["\u3041","\u3096"],"\u309f",["\u30a1","\u30fa"],"\u30ff",["\u3105","\u312d"],["\u3131","\u318e"],["\u31a0","\u31ba"],["\u31f0","\u31ff"],["\u3400","\u4db5"],["\u4e00","\u9fd5"],["\ua000","\ua014"],["\ua016","\ua48c"],["\ua4d0","\ua4f7"],["\ua500","\ua60b"],["\ua610","\ua61f"],["\ua62a","\ua62b"],"\ua66e",["\ua6a0","\ua6e5"],"\ua78f","\ua7f7",["\ua7fb","\ua801"],["\ua803","\ua805"],["\ua807","\ua80a"],["\ua80c","\ua822"],["\ua840","\ua873"],["\ua882","\ua8b3"],["\ua8f2","\ua8f7"],"\ua8fb","\ua8fd",["\ua90a","\ua925"],["\ua930","\ua946"],["\ua960","\ua97c"],["\ua984","\ua9b2"],["\ua9e0","\ua9e4"],["\ua9e7","\ua9ef"],["\ua9fa","\ua9fe"],["\uaa00","\uaa28"],["\uaa40","\uaa42"],["\uaa44","\uaa4b"],["\uaa60","\uaa6f"],["\uaa71","\uaa76"],"\uaa7a",["\uaa7e","\uaaaf"],"\uaab1",["\uaab5","\uaab6"],["\uaab9","\uaabd"],"\uaac0","\uaac2",["\uaadb","\uaadc"],["\uaae0","\uaaea"],"\uaaf2",["\uab01","\uab06"],["\uab09","\uab0e"],["\uab11","\uab16"],["\uab20","\uab26"],["\uab28","\uab2e"],["\uabc0","\uabe2"],["\uac00","\ud7a3"],["\ud7b0","\ud7c6"],["\ud7cb","\ud7fb"],["\uf900","\ufa6d"],["\ufa70","\ufad9"],"\ufb1d",["\ufb1f","\ufb28"],["\ufb2a","\ufb36"],["\ufb38","\ufb3c"],"\ufb3e",["\ufb40","\ufb41"],["\ufb43","\ufb44"],["\ufb46","\ufbb1"],["\ufbd3","\ufd3d"],["\ufd50","\ufd8f"],["\ufd92","\ufdc7"],["\ufdf0","\ufdfb"],["\ufe70","\ufe74"],["\ufe76","\ufefc"],["\uff66","\uff6f"],["\uff71","\uff9d"],["\uffa0","\uffbe"],["\uffc2","\uffc7"],["\uffca","\uffcf"],["\uffd2","\uffd7"],["\uffda","\uffdc"]],!1,!1),Lr=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Br=peg$classExpectation(["\u01c5","\u01c8","\u01cb","\u01f2",["\u1f88","\u1f8f"],["\u1f98","\u1f9f"],["\u1fa8","\u1faf"],"\u1fbc","\u1fcc","\u1ffc"],!1,!1),Hr=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,Ur=peg$classExpectation([["A","Z"],["\xc0","\xd6"],["\xd8","\xde"],"\u0100","\u0102","\u0104","\u0106","\u0108","\u010a","\u010c","\u010e","\u0110","\u0112","\u0114","\u0116","\u0118","\u011a","\u011c","\u011e","\u0120","\u0122","\u0124","\u0126","\u0128","\u012a","\u012c","\u012e","\u0130","\u0132","\u0134","\u0136","\u0139","\u013b","\u013d","\u013f","\u0141","\u0143","\u0145","\u0147","\u014a","\u014c","\u014e","\u0150","\u0152","\u0154","\u0156","\u0158","\u015a","\u015c","\u015e","\u0160","\u0162","\u0164","\u0166","\u0168","\u016a","\u016c","\u016e","\u0170","\u0172","\u0174","\u0176",["\u0178","\u0179"],"\u017b","\u017d",["\u0181","\u0182"],"\u0184",["\u0186","\u0187"],["\u0189","\u018b"],["\u018e","\u0191"],["\u0193","\u0194"],["\u0196","\u0198"],["\u019c","\u019d"],["\u019f","\u01a0"],"\u01a2","\u01a4",["\u01a6","\u01a7"],"\u01a9","\u01ac",["\u01ae","\u01af"],["\u01b1","\u01b3"],"\u01b5",["\u01b7","\u01b8"],"\u01bc","\u01c4","\u01c7","\u01ca","\u01cd","\u01cf","\u01d1","\u01d3","\u01d5","\u01d7","\u01d9","\u01db","\u01de","\u01e0","\u01e2","\u01e4","\u01e6","\u01e8","\u01ea","\u01ec","\u01ee","\u01f1","\u01f4",["\u01f6","\u01f8"],"\u01fa","\u01fc","\u01fe","\u0200","\u0202","\u0204","\u0206","\u0208","\u020a","\u020c","\u020e","\u0210","\u0212","\u0214","\u0216","\u0218","\u021a","\u021c","\u021e","\u0220","\u0222","\u0224","\u0226","\u0228","\u022a","\u022c","\u022e","\u0230","\u0232",["\u023a","\u023b"],["\u023d","\u023e"],"\u0241",["\u0243","\u0246"],"\u0248","\u024a","\u024c","\u024e","\u0370","\u0372","\u0376","\u037f","\u0386",["\u0388","\u038a"],"\u038c",["\u038e","\u038f"],["\u0391","\u03a1"],["\u03a3","\u03ab"],"\u03cf",["\u03d2","\u03d4"],"\u03d8","\u03da","\u03dc","\u03de","\u03e0","\u03e2","\u03e4","\u03e6","\u03e8","\u03ea","\u03ec","\u03ee","\u03f4","\u03f7",["\u03f9","\u03fa"],["\u03fd","\u042f"],"\u0460","\u0462","\u0464","\u0466","\u0468","\u046a","\u046c","\u046e","\u0470","\u0472","\u0474","\u0476","\u0478","\u047a","\u047c","\u047e","\u0480","\u048a","\u048c","\u048e","\u0490","\u0492","\u0494","\u0496","\u0498","\u049a","\u049c","\u049e","\u04a0","\u04a2","\u04a4","\u04a6","\u04a8","\u04aa","\u04ac","\u04ae","\u04b0","\u04b2","\u04b4","\u04b6","\u04b8","\u04ba","\u04bc","\u04be",["\u04c0","\u04c1"],"\u04c3","\u04c5","\u04c7","\u04c9","\u04cb","\u04cd","\u04d0","\u04d2","\u04d4","\u04d6","\u04d8","\u04da","\u04dc","\u04de","\u04e0","\u04e2","\u04e4","\u04e6","\u04e8","\u04ea","\u04ec","\u04ee","\u04f0","\u04f2","\u04f4","\u04f6","\u04f8","\u04fa","\u04fc","\u04fe","\u0500","\u0502","\u0504","\u0506","\u0508","\u050a","\u050c","\u050e","\u0510","\u0512","\u0514","\u0516","\u0518","\u051a","\u051c","\u051e","\u0520","\u0522","\u0524","\u0526","\u0528","\u052a","\u052c","\u052e",["\u0531","\u0556"],["\u10a0","\u10c5"],"\u10c7","\u10cd",["\u13a0","\u13f5"],"\u1e00","\u1e02","\u1e04","\u1e06","\u1e08","\u1e0a","\u1e0c","\u1e0e","\u1e10","\u1e12","\u1e14","\u1e16","\u1e18","\u1e1a","\u1e1c","\u1e1e","\u1e20","\u1e22","\u1e24","\u1e26","\u1e28","\u1e2a","\u1e2c","\u1e2e","\u1e30","\u1e32","\u1e34","\u1e36","\u1e38","\u1e3a","\u1e3c","\u1e3e","\u1e40","\u1e42","\u1e44","\u1e46","\u1e48","\u1e4a","\u1e4c","\u1e4e","\u1e50","\u1e52","\u1e54","\u1e56","\u1e58","\u1e5a","\u1e5c","\u1e5e","\u1e60","\u1e62","\u1e64","\u1e66","\u1e68","\u1e6a","\u1e6c","\u1e6e","\u1e70","\u1e72","\u1e74","\u1e76","\u1e78","\u1e7a","\u1e7c","\u1e7e","\u1e80","\u1e82","\u1e84","\u1e86","\u1e88","\u1e8a","\u1e8c","\u1e8e","\u1e90","\u1e92","\u1e94","\u1e9e","\u1ea0","\u1ea2","\u1ea4","\u1ea6","\u1ea8","\u1eaa","\u1eac","\u1eae","\u1eb0","\u1eb2","\u1eb4","\u1eb6","\u1eb8","\u1eba","\u1ebc","\u1ebe","\u1ec0","\u1ec2","\u1ec4","\u1ec6","\u1ec8","\u1eca","\u1ecc","\u1ece","\u1ed0","\u1ed2","\u1ed4","\u1ed6","\u1ed8","\u1eda","\u1edc","\u1ede","\u1ee0","\u1ee2","\u1ee4","\u1ee6","\u1ee8","\u1eea","\u1eec","\u1eee","\u1ef0","\u1ef2","\u1ef4","\u1ef6","\u1ef8","\u1efa","\u1efc","\u1efe",["\u1f08","\u1f0f"],["\u1f18","\u1f1d"],["\u1f28","\u1f2f"],["\u1f38","\u1f3f"],["\u1f48","\u1f4d"],"\u1f59","\u1f5b","\u1f5d","\u1f5f",["\u1f68","\u1f6f"],["\u1fb8","\u1fbb"],["\u1fc8","\u1fcb"],["\u1fd8","\u1fdb"],["\u1fe8","\u1fec"],["\u1ff8","\u1ffb"],"\u2102","\u2107",["\u210b","\u210d"],["\u2110","\u2112"],"\u2115",["\u2119","\u211d"],"\u2124","\u2126","\u2128",["\u212a","\u212d"],["\u2130","\u2133"],["\u213e","\u213f"],"\u2145","\u2183",["\u2c00","\u2c2e"],"\u2c60",["\u2c62","\u2c64"],"\u2c67","\u2c69","\u2c6b",["\u2c6d","\u2c70"],"\u2c72","\u2c75",["\u2c7e","\u2c80"],"\u2c82","\u2c84","\u2c86","\u2c88","\u2c8a","\u2c8c","\u2c8e","\u2c90","\u2c92","\u2c94","\u2c96","\u2c98","\u2c9a","\u2c9c","\u2c9e","\u2ca0","\u2ca2","\u2ca4","\u2ca6","\u2ca8","\u2caa","\u2cac","\u2cae","\u2cb0","\u2cb2","\u2cb4","\u2cb6","\u2cb8","\u2cba","\u2cbc","\u2cbe","\u2cc0","\u2cc2","\u2cc4","\u2cc6","\u2cc8","\u2cca","\u2ccc","\u2cce","\u2cd0","\u2cd2","\u2cd4","\u2cd6","\u2cd8","\u2cda","\u2cdc","\u2cde","\u2ce0","\u2ce2","\u2ceb","\u2ced","\u2cf2","\ua640","\ua642","\ua644","\ua646","\ua648","\ua64a","\ua64c","\ua64e","\ua650","\ua652","\ua654","\ua656","\ua658","\ua65a","\ua65c","\ua65e","\ua660","\ua662","\ua664","\ua666","\ua668","\ua66a","\ua66c","\ua680","\ua682","\ua684","\ua686","\ua688","\ua68a","\ua68c","\ua68e","\ua690","\ua692","\ua694","\ua696","\ua698","\ua69a","\ua722","\ua724","\ua726","\ua728","\ua72a","\ua72c","\ua72e","\ua732","\ua734","\ua736","\ua738","\ua73a","\ua73c","\ua73e","\ua740","\ua742","\ua744","\ua746","\ua748","\ua74a","\ua74c","\ua74e","\ua750","\ua752","\ua754","\ua756","\ua758","\ua75a","\ua75c","\ua75e","\ua760","\ua762","\ua764","\ua766","\ua768","\ua76a","\ua76c","\ua76e","\ua779","\ua77b",["\ua77d","\ua77e"],"\ua780","\ua782","\ua784","\ua786","\ua78b","\ua78d","\ua790","\ua792","\ua796","\ua798","\ua79a","\ua79c","\ua79e","\ua7a0","\ua7a2","\ua7a4","\ua7a6","\ua7a8",["\ua7aa","\ua7ad"],["\ua7b0","\ua7b4"],"\ua7b6",["\uff21","\uff3a"]],!1,!1),qr=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,Vr=peg$classExpectation(["\u0903","\u093b",["\u093e","\u0940"],["\u0949","\u094c"],["\u094e","\u094f"],["\u0982","\u0983"],["\u09be","\u09c0"],["\u09c7","\u09c8"],["\u09cb","\u09cc"],"\u09d7","\u0a03",["\u0a3e","\u0a40"],"\u0a83",["\u0abe","\u0ac0"],"\u0ac9",["\u0acb","\u0acc"],["\u0b02","\u0b03"],"\u0b3e","\u0b40",["\u0b47","\u0b48"],["\u0b4b","\u0b4c"],"\u0b57",["\u0bbe","\u0bbf"],["\u0bc1","\u0bc2"],["\u0bc6","\u0bc8"],["\u0bca","\u0bcc"],"\u0bd7",["\u0c01","\u0c03"],["\u0c41","\u0c44"],["\u0c82","\u0c83"],"\u0cbe",["\u0cc0","\u0cc4"],["\u0cc7","\u0cc8"],["\u0cca","\u0ccb"],["\u0cd5","\u0cd6"],["\u0d02","\u0d03"],["\u0d3e","\u0d40"],["\u0d46","\u0d48"],["\u0d4a","\u0d4c"],"\u0d57",["\u0d82","\u0d83"],["\u0dcf","\u0dd1"],["\u0dd8","\u0ddf"],["\u0df2","\u0df3"],["\u0f3e","\u0f3f"],"\u0f7f",["\u102b","\u102c"],"\u1031","\u1038",["\u103b","\u103c"],["\u1056","\u1057"],["\u1062","\u1064"],["\u1067","\u106d"],["\u1083","\u1084"],["\u1087","\u108c"],"\u108f",["\u109a","\u109c"],"\u17b6",["\u17be","\u17c5"],["\u17c7","\u17c8"],["\u1923","\u1926"],["\u1929","\u192b"],["\u1930","\u1931"],["\u1933","\u1938"],["\u1a19","\u1a1a"],"\u1a55","\u1a57","\u1a61",["\u1a63","\u1a64"],["\u1a6d","\u1a72"],"\u1b04","\u1b35","\u1b3b",["\u1b3d","\u1b41"],["\u1b43","\u1b44"],"\u1b82","\u1ba1",["\u1ba6","\u1ba7"],"\u1baa","\u1be7",["\u1bea","\u1bec"],"\u1bee",["\u1bf2","\u1bf3"],["\u1c24","\u1c2b"],["\u1c34","\u1c35"],"\u1ce1",["\u1cf2","\u1cf3"],["\u302e","\u302f"],["\ua823","\ua824"],"\ua827",["\ua880","\ua881"],["\ua8b4","\ua8c3"],["\ua952","\ua953"],"\ua983",["\ua9b4","\ua9b5"],["\ua9ba","\ua9bb"],["\ua9bd","\ua9c0"],["\uaa2f","\uaa30"],["\uaa33","\uaa34"],"\uaa4d","\uaa7b","\uaa7d","\uaaeb",["\uaaee","\uaaef"],"\uaaf5",["\uabe3","\uabe4"],["\uabe6","\uabe7"],["\uabe9","\uabea"],"\uabec"],!1,!1),Wr=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,zr=peg$classExpectation([["\u0300","\u036f"],["\u0483","\u0487"],["\u0591","\u05bd"],"\u05bf",["\u05c1","\u05c2"],["\u05c4","\u05c5"],"\u05c7",["\u0610","\u061a"],["\u064b","\u065f"],"\u0670",["\u06d6","\u06dc"],["\u06df","\u06e4"],["\u06e7","\u06e8"],["\u06ea","\u06ed"],"\u0711",["\u0730","\u074a"],["\u07a6","\u07b0"],["\u07eb","\u07f3"],["\u0816","\u0819"],["\u081b","\u0823"],["\u0825","\u0827"],["\u0829","\u082d"],["\u0859","\u085b"],["\u08e3","\u0902"],"\u093a","\u093c",["\u0941","\u0948"],"\u094d",["\u0951","\u0957"],["\u0962","\u0963"],"\u0981","\u09bc",["\u09c1","\u09c4"],"\u09cd",["\u09e2","\u09e3"],["\u0a01","\u0a02"],"\u0a3c",["\u0a41","\u0a42"],["\u0a47","\u0a48"],["\u0a4b","\u0a4d"],"\u0a51",["\u0a70","\u0a71"],"\u0a75",["\u0a81","\u0a82"],"\u0abc",["\u0ac1","\u0ac5"],["\u0ac7","\u0ac8"],"\u0acd",["\u0ae2","\u0ae3"],"\u0b01","\u0b3c","\u0b3f",["\u0b41","\u0b44"],"\u0b4d","\u0b56",["\u0b62","\u0b63"],"\u0b82","\u0bc0","\u0bcd","\u0c00",["\u0c3e","\u0c40"],["\u0c46","\u0c48"],["\u0c4a","\u0c4d"],["\u0c55","\u0c56"],["\u0c62","\u0c63"],"\u0c81","\u0cbc","\u0cbf","\u0cc6",["\u0ccc","\u0ccd"],["\u0ce2","\u0ce3"],"\u0d01",["\u0d41","\u0d44"],"\u0d4d",["\u0d62","\u0d63"],"\u0dca",["\u0dd2","\u0dd4"],"\u0dd6","\u0e31",["\u0e34","\u0e3a"],["\u0e47","\u0e4e"],"\u0eb1",["\u0eb4","\u0eb9"],["\u0ebb","\u0ebc"],["\u0ec8","\u0ecd"],["\u0f18","\u0f19"],"\u0f35","\u0f37","\u0f39",["\u0f71","\u0f7e"],["\u0f80","\u0f84"],["\u0f86","\u0f87"],["\u0f8d","\u0f97"],["\u0f99","\u0fbc"],"\u0fc6",["\u102d","\u1030"],["\u1032","\u1037"],["\u1039","\u103a"],["\u103d","\u103e"],["\u1058","\u1059"],["\u105e","\u1060"],["\u1071","\u1074"],"\u1082",["\u1085","\u1086"],"\u108d","\u109d",["\u135d","\u135f"],["\u1712","\u1714"],["\u1732","\u1734"],["\u1752","\u1753"],["\u1772","\u1773"],["\u17b4","\u17b5"],["\u17b7","\u17bd"],"\u17c6",["\u17c9","\u17d3"],"\u17dd",["\u180b","\u180d"],"\u18a9",["\u1920","\u1922"],["\u1927","\u1928"],"\u1932",["\u1939","\u193b"],["\u1a17","\u1a18"],"\u1a1b","\u1a56",["\u1a58","\u1a5e"],"\u1a60","\u1a62",["\u1a65","\u1a6c"],["\u1a73","\u1a7c"],"\u1a7f",["\u1ab0","\u1abd"],["\u1b00","\u1b03"],"\u1b34",["\u1b36","\u1b3a"],"\u1b3c","\u1b42",["\u1b6b","\u1b73"],["\u1b80","\u1b81"],["\u1ba2","\u1ba5"],["\u1ba8","\u1ba9"],["\u1bab","\u1bad"],"\u1be6",["\u1be8","\u1be9"],"\u1bed",["\u1bef","\u1bf1"],["\u1c2c","\u1c33"],["\u1c36","\u1c37"],["\u1cd0","\u1cd2"],["\u1cd4","\u1ce0"],["\u1ce2","\u1ce8"],"\u1ced","\u1cf4",["\u1cf8","\u1cf9"],["\u1dc0","\u1df5"],["\u1dfc","\u1dff"],["\u20d0","\u20dc"],"\u20e1",["\u20e5","\u20f0"],["\u2cef","\u2cf1"],"\u2d7f",["\u2de0","\u2dff"],["\u302a","\u302d"],["\u3099","\u309a"],"\ua66f",["\ua674","\ua67d"],["\ua69e","\ua69f"],["\ua6f0","\ua6f1"],"\ua802","\ua806","\ua80b",["\ua825","\ua826"],"\ua8c4",["\ua8e0","\ua8f1"],["\ua926","\ua92d"],["\ua947","\ua951"],["\ua980","\ua982"],"\ua9b3",["\ua9b6","\ua9b9"],"\ua9bc","\ua9e5",["\uaa29","\uaa2e"],["\uaa31","\uaa32"],["\uaa35","\uaa36"],"\uaa43","\uaa4c","\uaa7c","\uaab0",["\uaab2","\uaab4"],["\uaab7","\uaab8"],["\uaabe","\uaabf"],"\uaac1",["\uaaec","\uaaed"],"\uaaf6","\uabe5","\uabe8","\uabed","\ufb1e",["\ufe00","\ufe0f"],["\ufe20","\ufe2f"]],!1,!1),Yr=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,$r=peg$classExpectation([["0","9"],["\u0660","\u0669"],["\u06f0","\u06f9"],["\u07c0","\u07c9"],["\u0966","\u096f"],["\u09e6","\u09ef"],["\u0a66","\u0a6f"],["\u0ae6","\u0aef"],["\u0b66","\u0b6f"],["\u0be6","\u0bef"],["\u0c66","\u0c6f"],["\u0ce6","\u0cef"],["\u0d66","\u0d6f"],["\u0de6","\u0def"],["\u0e50","\u0e59"],["\u0ed0","\u0ed9"],["\u0f20","\u0f29"],["\u1040","\u1049"],["\u1090","\u1099"],["\u17e0","\u17e9"],["\u1810","\u1819"],["\u1946","\u194f"],["\u19d0","\u19d9"],["\u1a80","\u1a89"],["\u1a90","\u1a99"],["\u1b50","\u1b59"],["\u1bb0","\u1bb9"],["\u1c40","\u1c49"],["\u1c50","\u1c59"],["\ua620","\ua629"],["\ua8d0","\ua8d9"],["\ua900","\ua909"],["\ua9d0","\ua9d9"],["\ua9f0","\ua9f9"],["\uaa50","\uaa59"],["\uabf0","\uabf9"],["\uff10","\uff19"]],!1,!1),Gr=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,Kr=peg$classExpectation([["\u16ee","\u16f0"],["\u2160","\u2182"],["\u2185","\u2188"],"\u3007",["\u3021","\u3029"],["\u3038","\u303a"],["\ua6e6","\ua6ef"]],!1,!1),Xr=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,Jr=peg$classExpectation(["_",["\u203f","\u2040"],"\u2054",["\ufe33","\ufe34"],["\ufe4d","\ufe4f"],"\uff3f"],!1,!1),Qr=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Zr=peg$classExpectation([" ","\xa0","\u1680",["\u2000","\u200a"],"\u202f","\u205f","\u3000"],!1,!1),en=0,tn=0,rn=[{line:1,column:1}],nn=0,on=[],an=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=i[t.startRule]}function text(){return e.substring(tn,en)}function peg$literalExpectation(e,t){return{type:"literal",text:e,ignoreCase:t}}function peg$classExpectation(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function peg$otherExpectation(e){return{type:"other",description:e}}function peg$computePosDetails(t){var r,n=rn[t];if(n)return n;for(r=t-1;!rn[r];)r--;for(n={line:(n=rn[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return rn[t]=n,n}function peg$computeLocation(e,t){var r=peg$computePosDetails(e),n=peg$computePosDetails(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function peg$fail(e){en<nn||(en>nn&&(nn=en,on=[]),on.push(e))}function peg$buildStructuredError(e,t,r){return new peg$SyntaxError(peg$SyntaxError.buildMessage(e,t),e,t,r)}function peg$parseStart(){var e,t,r;if(e=en,peg$parse__()!==n){for(t=[],r=peg$parseLogicalORExpression();r!==n;)t.push(r),r=peg$parseLogicalORExpression();t!==n&&(r=peg$parse__())!==n?(tn=e,e=a(t)):(en=e,e=n)}else en=e,e=n;return e}function peg$parseSourceCharacter(){var t;return e.length>en?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(s)),t}function peg$parseWhiteSpace(){var t;return an++,9===e.charCodeAt(en)?(t=l,en++):(t=n,0===an&&peg$fail(c)),t===n&&(11===e.charCodeAt(en)?(t=f,en++):(t=n,0===an&&peg$fail(h)),t===n&&(12===e.charCodeAt(en)?(t=p,en++):(t=n,0===an&&peg$fail(d)),t===n&&(32===e.charCodeAt(en)?(t=y,en++):(t=n,0===an&&peg$fail(g)),t===n&&(160===e.charCodeAt(en)?(t=m,en++):(t=n,0===an&&peg$fail(v)),t===n&&(65279===e.charCodeAt(en)?(t=b,en++):(t=n,0===an&&peg$fail(_)),t===n&&(t=function(){var t;return Qr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Zr)),t}())))))),an--,t===n&&0===an&&peg$fail(u),t}function peg$parseLineTerminator(){var t;return w.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(S)),t}function peg$parseLineTerminatorSequence(){var t;return an++,10===e.charCodeAt(en)?(t=C,en++):(t=n,0===an&&peg$fail(O)),t===n&&(e.substr(en,2)===T?(t=T,en+=2):(t=n,0===an&&peg$fail(A)),t===n&&(13===e.charCodeAt(en)?(t=x,en++):(t=n,0===an&&peg$fail(k)),t===n&&(8232===e.charCodeAt(en)?(t=R,en++):(t=n,0===an&&peg$fail(P)),t===n&&(8233===e.charCodeAt(en)?(t=D,en++):(t=n,0===an&&peg$fail(M)))))),an--,t===n&&0===an&&peg$fail(E),t}function peg$parseComment(){var t;return an++,(t=function(){var t,r,i,o,a,s;if(t=en,e.substr(en,2)===N?(r=N,en+=2):(r=n,0===an&&peg$fail(I)),r!==n){for(i=[],o=en,a=en,an++,e.substr(en,2)===j?(s=j,en+=2):(s=n,0===an&&peg$fail(L)),an--,s===n?a=void 0:(en=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(en=o,o=n);o!==n;)i.push(o),o=en,a=en,an++,e.substr(en,2)===j?(s=j,en+=2):(s=n,0===an&&peg$fail(L)),an--,s===n?a=void 0:(en=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(en=o,o=n);i!==n?(e.substr(en,2)===j?(o=j,en+=2):(o=n,0===an&&peg$fail(L)),o!==n?t=r=[r,i,o]:(en=t,t=n)):(en=t,t=n)}else en=t,t=n;return t}())===n&&(t=function(){var t,r,i,o,a,s;if(t=en,e.substr(en,2)===B?(r=B,en+=2):(r=n,0===an&&peg$fail(H)),r!==n){for(i=[],o=en,a=en,an++,s=peg$parseLineTerminator(),an--,s===n?a=void 0:(en=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(en=o,o=n);o!==n;)i.push(o),o=en,a=en,an++,s=peg$parseLineTerminator(),an--,s===n?a=void 0:(en=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(en=o,o=n);i!==n?t=r=[r,i]:(en=t,t=n)}else en=t,t=n;return t}()),an--,t===n&&0===an&&peg$fail(F),t}function peg$parseIdentifier(){var t,r,i;return t=en,r=en,an++,i=function(){var t;return(t=function(){var t;return(t=function(){var t,r,i,o;return t=en,e.substr(en,3)===te?(r=te,en+=3):(r=n,0===an&&peg$fail(re)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,4)===ne?(r=ne,en+=4):(r=n,0===an&&peg$fail(ie)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,4)===oe?(r=oe,en+=4):(r=n,0===an&&peg$fail(ae)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,3)===se?(r=se,en+=3):(r=n,0===an&&peg$fail(ue)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=peg$parseFalseToken())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,2)===fe?(r=fe,en+=2):(r=n,0===an&&peg$fail(he)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,3)===pe?(r=pe,en+=3):(r=n,0===an&&peg$fail(de)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=peg$parseNullToken())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,2)===me?(r=me,en+=2):(r=n,0===an&&peg$fail(ve)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,4)===be?(r=be,en+=4):(r=n,0===an&&peg$fail(_e)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}())===n&&(t=peg$parseTrueToken())===n&&(t=function(){var t,r,i,o;return t=en,e.substr(en,4)===Ee?(r=Ee,en+=4):(r=n,0===an&&peg$fail(Ce)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}()),t}())===n&&(t=peg$parseNullLiteral())===n&&(t=peg$parseBooleanLiteral()),t}(),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=function(){var e,t,r,i;if(an++,e=en,(t=peg$parseIdentifierStart())!==n){for(r=[],i=peg$parseIdentifierPart();i!==n;)r.push(i),i=peg$parseIdentifierPart();r!==n?(tn=e,t=V(t,r),e=t):(en=e,e=n)}else en=e,e=n;return an--,e===n&&(t=n,0===an&&peg$fail(q)),e}())!==n?(tn=t,t=r=U(i)):(en=t,t=n),t}function peg$parseIdentifierStart(){var t,r,i;return(t=function(){var t;return(t=function(){var t;return Hr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Ur)),t}())===n&&(t=function(){var t;return Dr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Mr)),t}())===n&&(t=function(){var t;return Lr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Br)),t}())===n&&(t=function(){var t;return Fr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Nr)),t}())===n&&(t=function(){var t;return Ir.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(jr)),t}())===n&&(t=function(){var t;return Gr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Kr)),t}()),t}())===n&&(36===e.charCodeAt(en)?(t=W,en++):(t=n,0===an&&peg$fail(z)),t===n&&(95===e.charCodeAt(en)?(t=Y,en++):(t=n,0===an&&peg$fail($)),t===n&&(t=en,92===e.charCodeAt(en)?(r=G,en++):(r=n,0===an&&peg$fail(K)),r!==n&&(i=peg$parseUnicodeEscapeSequence())!==n?(tn=t,t=r=X(i)):(en=t,t=n)))),t}function peg$parseIdentifierPart(){var t;return(t=peg$parseIdentifierStart())===n&&(t=function(){var t;return(t=function(){var t;return Wr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(zr)),t}())===n&&(t=function(){var t;return qr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Vr)),t}()),t}())===n&&(t=function(){var t;return Yr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail($r)),t}())===n&&(t=function(){var t;return Xr.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Jr)),t}())===n&&(8204===e.charCodeAt(en)?(t=J,en++):(t=n,0===an&&peg$fail(Q)),t===n&&(8205===e.charCodeAt(en)?(t=Z,en++):(t=n,0===an&&peg$fail(ee)))),t}function peg$parseFalseToken(){var t,r,i,o;return t=en,e.substr(en,5)===le?(r=le,en+=5):(r=n,0===an&&peg$fail(ce)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}function peg$parseNullToken(){var t,r,i,o;return t=en,e.substr(en,4)===ye?(r=ye,en+=4):(r=n,0===an&&peg$fail(ge)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}function peg$parseTrueToken(){var t,r,i,o;return t=en,e.substr(en,4)===we?(r=we,en+=4):(r=n,0===an&&peg$fail(Se)),r!==n?(i=en,an++,o=peg$parseIdentifierPart(),an--,o===n?i=void 0:(en=i,i=n),i!==n?t=r=[r,i]:(en=t,t=n)):(en=t,t=n),t}function peg$parseLiteral(){var t;return(t=peg$parseNullLiteral())===n&&(t=peg$parseBooleanLiteral())===n&&(t=function(){var t,r,i,o;if(an++,t=en,35===e.charCodeAt(en)?(r=rt,en++):(r=n,0===an&&peg$fail(nt)),r!==n){for(i=[],o=peg$parseDateCharacter();o!==n;)i.push(o),o=peg$parseDateCharacter();i!==n?(35===e.charCodeAt(en)?(o=rt,en++):(o=n,0===an&&peg$fail(nt)),o!==n?(tn=t,r=it(i),t=r):(en=t,t=n)):(en=t,t=n)}else en=t,t=n;return an--,t===n&&(r=n,0===an&&peg$fail(tt)),t}())===n&&(t=function(){var t,r,i,o;if(an++,t=en,91===e.charCodeAt(en)?(r=Ke,en++):(r=n,0===an&&peg$fail(Xe)),r!==n){for(i=[],o=peg$parseFieldNameCharacter();o!==n;)i.push(o),o=peg$parseFieldNameCharacter();i!==n?(93===e.charCodeAt(en)?(o=Je,en++):(o=n,0===an&&peg$fail(Qe)),o!==n?(tn=t,r=Ze(i),t=r):(en=t,t=n)):(en=t,t=n)}else en=t,t=n;return an--,t===n&&(r=n,0===an&&peg$fail(Ge)),t}())===n&&(t=function(){var t,r,i,o;return an++,t=en,(r=function(){var t,r,i,o,a;if(t=en,e.substr(en,2).toLowerCase()===Ve?(r=e.substr(en,2),en+=2):(r=n,0===an&&peg$fail(We)),r!==n){if(i=en,o=[],(a=peg$parseHexDigit())!==n)for(;a!==n;)o.push(a),a=peg$parseHexDigit();else o=n;(i=o!==n?e.substring(i,en):o)!==n?(tn=t,r=ze(i),t=r):(en=t,t=n)}else en=t,t=n;return t}())!==n?(i=en,an++,(o=peg$parseIdentifierStart())===n&&(o=peg$parseDecimalDigit()),an--,o===n?i=void 0:(en=i,i=n),i!==n?(tn=t,r=ke(r),t=r):(en=t,t=n)):(en=t,t=n),t===n&&(t=en,(r=function(){var t,r,i,o,a;if(t=en,(r=peg$parseDecimalIntegerLiteral())!==n)if(46===e.charCodeAt(en)?(i=Re,en++):(i=n,0===an&&peg$fail(Pe)),i!==n){for(o=[],a=peg$parseDecimalDigit();a!==n;)o.push(a),a=peg$parseDecimalDigit();o!==n?((a=peg$parseExponentPart())===n&&(a=null),a!==n?(tn=t,r=De(),t=r):(en=t,t=n)):(en=t,t=n)}else en=t,t=n;else en=t,t=n;if(t===n){if(t=en,46===e.charCodeAt(en)?(r=Re,en++):(r=n,0===an&&peg$fail(Pe)),r!==n){if(i=[],(o=peg$parseDecimalDigit())!==n)for(;o!==n;)i.push(o),o=peg$parseDecimalDigit();else i=n;i!==n?((o=peg$parseExponentPart())===n&&(o=null),o!==n?(tn=t,r=De(),t=r):(en=t,t=n)):(en=t,t=n)}else en=t,t=n;t===n&&(t=en,(r=peg$parseDecimalIntegerLiteral())!==n?((i=peg$parseExponentPart())===n&&(i=null),i!==n?(tn=t,r=De(),t=r):(en=t,t=n)):(en=t,t=n))}return t}())!==n?(i=en,an++,(o=peg$parseIdentifierStart())===n&&(o=peg$parseDecimalDigit()),an--,o===n?i=void 0:(en=i,i=n),i!==n?(tn=t,r=ke(r),t=r):(en=t,t=n)):(en=t,t=n)),an--,t===n&&(r=n,0===an&&peg$fail(xe)),t}())===n&&(t=function(){var t,r,i,o;if(an++,t=en,34===e.charCodeAt(en)?(r=at,en++):(r=n,0===an&&peg$fail(st)),r!==n){for(i=[],o=peg$parseDoubleStringCharacter();o!==n;)i.push(o),o=peg$parseDoubleStringCharacter();i!==n?(34===e.charCodeAt(en)?(o=at,en++):(o=n,0===an&&peg$fail(st)),o!==n?(tn=t,r=ut(i),t=r):(en=t,t=n)):(en=t,t=n)}else en=t,t=n;if(t===n)if(t=en,39===e.charCodeAt(en)?(r=lt,en++):(r=n,0===an&&peg$fail(ct)),r!==n){for(i=[],o=peg$parseSingleStringCharacter();o!==n;)i.push(o),o=peg$parseSingleStringCharacter();i!==n?(39===e.charCodeAt(en)?(o=lt,en++):(o=n,0===an&&peg$fail(ct)),o!==n?(tn=t,r=ut(i),t=r):(en=t,t=n)):(en=t,t=n)}else en=t,t=n;return an--,t===n&&(r=n,0===an&&peg$fail(ot)),t}())===n&&(t=function(){var t,r,i,o,a,s;return an++,t=en,47===e.charCodeAt(en)?(r=jt,en++):(r=n,0===an&&peg$fail(Lt)),r!==n?(i=en,o=function(){var t,r,i,o;if(t=en,(r=function(){var t,r,i;return t=en,r=en,an++,Ht.test(e.charAt(en))?(i=e.charAt(en),en++):(i=n,0===an&&peg$fail(Ut)),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(en=t,t=n),t===n&&(t=peg$parseRegularExpressionBackslashSequence())===n&&(t=peg$parseRegularExpressionClass()),t}())!==n){for(i=[],o=peg$parseRegularExpressionChar();o!==n;)i.push(o),o=peg$parseRegularExpressionChar();i!==n?t=r=[r,i]:(en=t,t=n)}else en=t,t=n;return t}(),(i=o!==n?e.substring(i,en):o)!==n?(47===e.charCodeAt(en)?(o=jt,en++):(o=n,0===an&&peg$fail(Lt)),o!==n?(a=en,s=function(){var e,t;for(e=[],t=peg$parseIdentifierPart();t!==n;)e.push(t),t=peg$parseIdentifierPart();return e}(),(a=s!==n?e.substring(a,en):s)!==n?(tn=t,r=Bt(i,a),t=r):(en=t,t=n)):(en=t,t=n)):(en=t,t=n)):(en=t,t=n),an--,t===n&&(r=n,0===an&&peg$fail(It)),t}()),t}function peg$parseNullLiteral(){var e,t;return e=en,(t=peg$parseNullToken())!==n&&(tn=e,t=Oe()),e=t}function peg$parseBooleanLiteral(){var e,t;return e=en,(t=peg$parseTrueToken())!==n&&(tn=e,t=Te()),(e=t)===n&&(e=en,(t=peg$parseFalseToken())!==n&&(tn=e,t=Ae()),e=t),e}function peg$parseDecimalIntegerLiteral(){var t,r,i,o;if(48===e.charCodeAt(en)?(t=Me,en++):(t=n,0===an&&peg$fail(Fe)),t===n)if(t=en,(r=function(){var t;return je.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Le)),t}())!==n){for(i=[],o=peg$parseDecimalDigit();o!==n;)i.push(o),o=peg$parseDecimalDigit();i!==n?t=r=[r,i]:(en=t,t=n)}else en=t,t=n;return t}function peg$parseDecimalDigit(){var t;return Ne.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(Ie)),t}function peg$parseExponentPart(){var t,r,i;return t=en,(r=function(){var t;return e.substr(en,1).toLowerCase()===Be?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail(He)),t}())!==n&&(i=function(){var t,r,i,o;if(t=en,Ue.test(e.charAt(en))?(r=e.charAt(en),en++):(r=n,0===an&&peg$fail(qe)),r===n&&(r=null),r!==n){if(i=[],(o=peg$parseDecimalDigit())!==n)for(;o!==n;)i.push(o),o=peg$parseDecimalDigit();else i=n;i!==n?t=r=[r,i]:(en=t,t=n)}else en=t,t=n;return t}())!==n?t=r=[r,i]:(en=t,t=n),t}function peg$parseHexDigit(){var t;return Ye.test(e.charAt(en))?(t=e.charAt(en),en++):(t=n,0===an&&peg$fail($e)),t}function peg$parseFieldNameCharacter(){var t,r,i;return t=en,r=en,an++,91===e.charCodeAt(en)?(i=Ke,en++):(i=n,0===an&&peg$fail(Xe)),i===n&&(93===e.charCodeAt(en)?(i=Je,en++):(i=n,0===an&&peg$fail(Qe)),i===n&&(92===e.charCodeAt(en)?(i=G,en++):(i=n,0===an&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator()))),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(tn=t,t=r=et()):(en=t,t=n),t===n&&(t=en,92===e.charCodeAt(en)?(r=G,en++):(r=n,0===an&&peg$fail(K)),r!==n&&(i=peg$parseEscapeSequence())!==n?(tn=t,t=r=X(i)):(en=t,t=n)),t}function peg$parseDateCharacter(){var t,r,i;return t=en,r=en,an++,35===e.charCodeAt(en)?(i=rt,en++):(i=n,0===an&&peg$fail(nt)),i===n&&(92===e.charCodeAt(en)?(i=G,en++):(i=n,0===an&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator())),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(tn=t,t=r=et()):(en=t,t=n),t}function peg$parseDoubleStringCharacter(){var t,r,i;return t=en,r=en,an++,34===e.charCodeAt(en)?(i=at,en++):(i=n,0===an&&peg$fail(st)),i===n&&(92===e.charCodeAt(en)?(i=G,en++):(i=n,0===an&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator())),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(tn=t,t=r=et()):(en=t,t=n),t===n&&(t=en,92===e.charCodeAt(en)?(r=G,en++):(r=n,0===an&&peg$fail(K)),r!==n&&(i=peg$parseEscapeSequence())!==n?(tn=t,t=r=X(i)):(en=t,t=n),t===n&&(t=peg$parseLineContinuation())),t}function peg$parseSingleStringCharacter(){var t,r,i;return t=en,r=en,an++,39===e.charCodeAt(en)?(i=lt,en++):(i=n,0===an&&peg$fail(ct)),i===n&&(92===e.charCodeAt(en)?(i=G,en++):(i=n,0===an&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator())),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(tn=t,t=r=et()):(en=t,t=n),t===n&&(t=en,92===e.charCodeAt(en)?(r=G,en++):(r=n,0===an&&peg$fail(K)),r!==n&&(i=peg$parseEscapeSequence())!==n?(tn=t,t=r=X(i)):(en=t,t=n),t===n&&(t=peg$parseLineContinuation())),t}function peg$parseLineContinuation(){var t,r;return t=en,92===e.charCodeAt(en)?(r=G,en++):(r=n,0===an&&peg$fail(K)),r!==n&&peg$parseLineTerminatorSequence()!==n?(tn=t,t=r=ft()):(en=t,t=n),t}function peg$parseEscapeSequence(){var t,r,i,o;return(t=function(){var t;return(t=peg$parseSingleEscapeCharacter())===n&&(t=function(){var t,r,i;return t=en,r=en,an++,(i=function(){var t;return(t=peg$parseSingleEscapeCharacter())===n&&(t=peg$parseDecimalDigit())===n&&(120===e.charCodeAt(en)?(t=Pt,en++):(t=n,0===an&&peg$fail(Dt)),t===n&&(117===e.charCodeAt(en)?(t=Mt,en++):(t=n,0===an&&peg$fail(Ft)))),t}())===n&&(i=peg$parseLineTerminator()),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(tn=t,r=et(),t=r):(en=t,t=n),t}()),t}())===n&&(t=en,48===e.charCodeAt(en)?(r=Me,en++):(r=n,0===an&&peg$fail(Fe)),r!==n?(i=en,an++,o=peg$parseDecimalDigit(),an--,o===n?i=void 0:(en=i,i=n),i!==n?(tn=t,t=r=ht()):(en=t,t=n)):(en=t,t=n),t===n&&(t=function(){var t,r,i,o,a,s;return t=en,120===e.charCodeAt(en)?(r=Pt,en++):(r=n,0===an&&peg$fail(Dt)),r!==n?(i=en,o=en,(a=peg$parseHexDigit())!==n&&(s=peg$parseHexDigit())!==n?o=a=[a,s]:(en=o,o=n),(i=o!==n?e.substring(i,en):o)!==n?(tn=t,r=Nt(i),t=r):(en=t,t=n)):(en=t,t=n),t}())===n&&(t=peg$parseUnicodeEscapeSequence())),t}function peg$parseSingleEscapeCharacter(){var t,r;return 39===e.charCodeAt(en)?(t=lt,en++):(t=n,0===an&&peg$fail(ct)),t===n&&(34===e.charCodeAt(en)?(t=at,en++):(t=n,0===an&&peg$fail(st)),t===n&&(92===e.charCodeAt(en)?(t=G,en++):(t=n,0===an&&peg$fail(K)),t===n&&(t=en,98===e.charCodeAt(en)?(r=pt,en++):(r=n,0===an&&peg$fail(dt)),r!==n&&(tn=t,r=yt()),(t=r)===n&&(t=en,102===e.charCodeAt(en)?(r=gt,en++):(r=n,0===an&&peg$fail(mt)),r!==n&&(tn=t,r=vt()),(t=r)===n&&(t=en,110===e.charCodeAt(en)?(r=bt,en++):(r=n,0===an&&peg$fail(_t)),r!==n&&(tn=t,r=wt()),(t=r)===n&&(t=en,114===e.charCodeAt(en)?(r=St,en++):(r=n,0===an&&peg$fail(Et)),r!==n&&(tn=t,r=Ct()),(t=r)===n&&(t=en,116===e.charCodeAt(en)?(r=Ot,en++):(r=n,0===an&&peg$fail(Tt)),r!==n&&(tn=t,r=At()),(t=r)===n&&(t=en,118===e.charCodeAt(en)?(r=xt,en++):(r=n,0===an&&peg$fail(kt)),r!==n&&(tn=t,r=Rt()),t=r)))))))),t}function peg$parseUnicodeEscapeSequence(){var t,r,i,o,a,s,u,l;return t=en,117===e.charCodeAt(en)?(r=Mt,en++):(r=n,0===an&&peg$fail(Ft)),r!==n?(i=en,o=en,(a=peg$parseHexDigit())!==n&&(s=peg$parseHexDigit())!==n&&(u=peg$parseHexDigit())!==n&&(l=peg$parseHexDigit())!==n?o=a=[a,s,u,l]:(en=o,o=n),(i=o!==n?e.substring(i,en):o)!==n?(tn=t,t=r=Nt(i)):(en=t,t=n)):(en=t,t=n),t}function peg$parseRegularExpressionChar(){var t,r,i;return t=en,r=en,an++,qt.test(e.charAt(en))?(i=e.charAt(en),en++):(i=n,0===an&&peg$fail(Vt)),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(en=t,t=n),t===n&&(t=peg$parseRegularExpressionBackslashSequence())===n&&(t=peg$parseRegularExpressionClass()),t}function peg$parseRegularExpressionBackslashSequence(){var t,r,i;return t=en,92===e.charCodeAt(en)?(r=G,en++):(r=n,0===an&&peg$fail(K)),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(en=t,t=n),t}function peg$parseRegularExpressionNonTerminator(){var e,t,r;return e=en,t=en,an++,r=peg$parseLineTerminator(),an--,r===n?t=void 0:(en=t,t=n),t!==n&&(r=peg$parseSourceCharacter())!==n?e=t=[t,r]:(en=e,e=n),e}function peg$parseRegularExpressionClass(){var t,r,i,o;if(t=en,91===e.charCodeAt(en)?(r=Ke,en++):(r=n,0===an&&peg$fail(Xe)),r!==n){for(i=[],o=peg$parseRegularExpressionClassChar();o!==n;)i.push(o),o=peg$parseRegularExpressionClassChar();i!==n?(93===e.charCodeAt(en)?(o=Je,en++):(o=n,0===an&&peg$fail(Qe)),o!==n?t=r=[r,i,o]:(en=t,t=n)):(en=t,t=n)}else en=t,t=n;return t}function peg$parseRegularExpressionClassChar(){var t,r,i;return t=en,r=en,an++,Wt.test(e.charAt(en))?(i=e.charAt(en),en++):(i=n,0===an&&peg$fail(zt)),an--,i===n?r=void 0:(en=r,r=n),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(en=t,t=n),t===n&&(t=peg$parseRegularExpressionBackslashSequence()),t}function peg$parse__(){var e,t;for(e=[],(t=peg$parseWhiteSpace())===n&&(t=peg$parseLineTerminatorSequence())===n&&(t=peg$parseComment());t!==n;)e.push(t),(t=peg$parseWhiteSpace())===n&&(t=peg$parseLineTerminatorSequence())===n&&(t=peg$parseComment());return e}function peg$parseArguments(){var t,r,i,o,a;return t=en,40===e.charCodeAt(en)?(r=Yt,en++):(r=n,0===an&&peg$fail($t)),r!==n&&peg$parse__()!==n?(i=en,(o=function(){var t,r,i,o,a,s,u,l;if(t=en,(r=peg$parseLogicalORExpression())!==n){for(i=[],o=en,(a=peg$parse__())!==n?(44===e.charCodeAt(en)?(s=tr,en++):(s=n,0===an&&peg$fail(rr)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l]:(en=o,o=n)):(en=o,o=n);o!==n;)i.push(o),o=en,(a=peg$parse__())!==n?(44===e.charCodeAt(en)?(s=tr,en++):(s=n,0===an&&peg$fail(rr)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l]:(en=o,o=n)):(en=o,o=n);i!==n?(tn=t,r=nr(r,i),t=r):(en=t,t=n)}else en=t,t=n;return t}())!==n&&(a=peg$parse__())!==n?i=o=[o,a]:(en=i,i=n),i===n&&(i=null),i!==n?(41===e.charCodeAt(en)?(o=Gt,en++):(o=n,0===an&&peg$fail(Kt)),o!==n?(tn=t,t=r=er(i)):(en=t,t=n)):(en=t,t=n)):(en=t,t=n),t}function peg$parseLeftHandSideExpression(){var t;return(t=function(){var e,t,r,i,o,a;if(e=en,t=en,(r=peg$parseIdentifier())!==n&&(i=peg$parse__())!==n&&(o=peg$parseArguments())!==n?(tn=t,t=r=Jt(r,o)):(en=t,t=n),t!==n){for(r=[],i=en,(o=peg$parse__())!==n&&(a=peg$parseArguments())!==n?(tn=i,i=o=Qt(t,a)):(en=i,i=n);i!==n;)r.push(i),i=en,(o=peg$parse__())!==n&&(a=peg$parseArguments())!==n?(tn=i,i=o=Qt(t,a)):(en=i,i=n);r!==n?(tn=e,e=t=Zt(t,r)):(en=e,e=n)}else en=e,e=n;return e}())===n&&(t=function(){var t,r,i,o,a,s,u,l,c,f,h,p;if(t=en,e.substr(en,4)===ne?(r=ne,en+=4):(r=n,0===an&&peg$fail(ie)),r!==n){if(i=[],o=en,(a=peg$parse__())!==n?(e.substr(en,4)===Ee?(s=Ee,en+=4):(s=n,0===an&&peg$fail(Ce)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n&&(c=peg$parse__())!==n?(e.substr(en,4)===be?(f=be,en+=4):(f=n,0===an&&peg$fail(_e)),f!==n&&(h=peg$parse__())!==n&&(p=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l,c,f,h,p]:(en=o,o=n)):(en=o,o=n)):(en=o,o=n),o!==n)for(;o!==n;)i.push(o),o=en,(a=peg$parse__())!==n?(e.substr(en,4)===Ee?(s=Ee,en+=4):(s=n,0===an&&peg$fail(Ce)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n&&(c=peg$parse__())!==n?(e.substr(en,4)===be?(f=be,en+=4):(f=n,0===an&&peg$fail(_e)),f!==n&&(h=peg$parse__())!==n&&(p=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l,c,f,h,p]:(en=o,o=n)):(en=o,o=n)):(en=o,o=n);else i=n;i!==n?(o=en,(a=peg$parse__())!==n?(e.substr(en,4)===oe?(s=oe,en+=4):(s=n,0===an&&peg$fail(ae)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l]:(en=o,o=n)):(en=o,o=n),o===n&&(o=null),o!==n&&(a=peg$parse__())!==n?(e.substr(en,3)===se?(s=se,en+=3):(s=n,0===an&&peg$fail(ue)),s!==n?(tn=t,t=r=ir(i,o)):(en=t,t=n)):(en=t,t=n)):(en=t,t=n)}else en=t,t=n;return t}())===n&&(t=function(){var t,r,i,o;return(t=peg$parseIdentifier())===n&&(t=peg$parseLiteral())===n&&(t=en,40===e.charCodeAt(en)?(r=Yt,en++):(r=n,0===an&&peg$fail($t)),r!==n&&peg$parse__()!==n&&(i=peg$parseLogicalORExpression())!==n&&peg$parse__()!==n?(41===e.charCodeAt(en)?(o=Gt,en++):(o=n,0===an&&peg$fail(Kt)),o!==n?(tn=t,t=r=Xt(i)):(en=t,t=n)):(en=t,t=n)),t}()),t}function peg$parseUnaryExpression(){var t,r,i;return(t=peg$parseLeftHandSideExpression())===n&&(t=en,(r=function(){var t,r,i,o,a;return t=en,r=en,43===e.charCodeAt(en)?(i=ar,en++):(i=n,0===an&&peg$fail(sr)),i!==n?(o=en,an++,61===e.charCodeAt(en)?(a=ur,en++):(a=n,0===an&&peg$fail(lr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),(t=r!==n?e.substring(t,en):r)===n&&(t=en,r=en,45===e.charCodeAt(en)?(i=cr,en++):(i=n,0===an&&peg$fail(fr)),i!==n?(o=en,an++,61===e.charCodeAt(en)?(a=ur,en++):(a=n,0===an&&peg$fail(lr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),(t=r!==n?e.substring(t,en):r)===n&&(e.substr(en,3)===pe?(t=pe,en+=3):(t=n,0===an&&peg$fail(de)))),t}())!==n&&peg$parse__()!==n&&(i=peg$parseUnaryExpression())!==n?(tn=t,t=r=or(r,i)):(en=t,t=n)),t}function peg$parseMultiplicativeExpression(){var e,t,r,i,o,a,s,u;if(e=en,(t=peg$parseUnaryExpression())!==n){for(r=[],i=en,(o=peg$parse__())!==n&&(a=peg$parseMultiplicativeOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseUnaryExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);i!==n;)r.push(i),i=en,(o=peg$parse__())!==n&&(a=peg$parseMultiplicativeOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseUnaryExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);r!==n?(tn=e,e=t=hr(t,r)):(en=e,e=n)}else en=e,e=n;return e}function peg$parseMultiplicativeOperator(){var t,r,i,o,a;return t=en,r=en,42===e.charCodeAt(en)?(i=pr,en++):(i=n,0===an&&peg$fail(dr)),i!==n?(o=en,an++,61===e.charCodeAt(en)?(a=ur,en++):(a=n,0===an&&peg$fail(lr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),(t=r!==n?e.substring(t,en):r)===n&&(t=en,r=en,47===e.charCodeAt(en)?(i=jt,en++):(i=n,0===an&&peg$fail(Lt)),i!==n?(o=en,an++,61===e.charCodeAt(en)?(a=ur,en++):(a=n,0===an&&peg$fail(lr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),(t=r!==n?e.substring(t,en):r)===n&&(t=en,r=en,37===e.charCodeAt(en)?(i=yr,en++):(i=n,0===an&&peg$fail(gr)),i!==n?(o=en,an++,61===e.charCodeAt(en)?(a=ur,en++):(a=n,0===an&&peg$fail(lr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),t=r!==n?e.substring(t,en):r)),t}function peg$parseAdditiveExpression(){var e,t,r,i,o,a,s,u;if(e=en,(t=peg$parseMultiplicativeExpression())!==n){for(r=[],i=en,(o=peg$parse__())!==n&&(a=peg$parseAdditiveOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseMultiplicativeExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);i!==n;)r.push(i),i=en,(o=peg$parse__())!==n&&(a=peg$parseAdditiveOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseMultiplicativeExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);r!==n?(tn=e,e=t=hr(t,r)):(en=e,e=n)}else en=e,e=n;return e}function peg$parseAdditiveOperator(){var t,r,i,o,a;return t=en,r=en,43===e.charCodeAt(en)?(i=ar,en++):(i=n,0===an&&peg$fail(sr)),i!==n?(o=en,an++,mr.test(e.charAt(en))?(a=e.charAt(en),en++):(a=n,0===an&&peg$fail(vr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),(t=r!==n?e.substring(t,en):r)===n&&(t=en,r=en,45===e.charCodeAt(en)?(i=cr,en++):(i=n,0===an&&peg$fail(fr)),i!==n?(o=en,an++,br.test(e.charAt(en))?(a=e.charAt(en),en++):(a=n,0===an&&peg$fail(_r)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),t=r!==n?e.substring(t,en):r),t}function peg$parseRelationalExpression(){var e,t,r,i,o,a,s,u;if(e=en,(t=peg$parseAdditiveExpression())!==n){for(r=[],i=en,(o=peg$parse__())!==n&&(a=peg$parseRelationalOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseAdditiveExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);i!==n;)r.push(i),i=en,(o=peg$parse__())!==n&&(a=peg$parseRelationalOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseAdditiveExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);r!==n?(tn=e,e=t=hr(t,r)):(en=e,e=n)}else en=e,e=n;return e}function peg$parseRelationalOperator(){var t,r,i,o,a;return e.substr(en,2)===wr?(t=wr,en+=2):(t=n,0===an&&peg$fail(Sr)),t===n&&(e.substr(en,2)===Er?(t=Er,en+=2):(t=n,0===an&&peg$fail(Cr)),t===n&&(t=en,r=en,60===e.charCodeAt(en)?(i=Or,en++):(i=n,0===an&&peg$fail(Tr)),i!==n?(o=en,an++,60===e.charCodeAt(en)?(a=Or,en++):(a=n,0===an&&peg$fail(Tr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),(t=r!==n?e.substring(t,en):r)===n&&(t=en,r=en,62===e.charCodeAt(en)?(i=Ar,en++):(i=n,0===an&&peg$fail(xr)),i!==n?(o=en,an++,62===e.charCodeAt(en)?(a=Ar,en++):(a=n,0===an&&peg$fail(xr)),an--,a===n?o=void 0:(en=o,o=n),o!==n?r=i=[i,o]:(en=r,r=n)):(en=r,r=n),t=r!==n?e.substring(t,en):r))),t}function peg$parseEqualityExpression(){var e,t,r,i,o,a,s,u;if(e=en,(t=peg$parseRelationalExpression())!==n){for(r=[],i=en,(o=peg$parse__())!==n&&(a=peg$parseEqualityOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseRelationalExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);i!==n;)r.push(i),i=en,(o=peg$parse__())!==n&&(a=peg$parseEqualityOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseRelationalExpression())!==n?i=o=[o,a,s,u]:(en=i,i=n);r!==n?(tn=e,e=t=hr(t,r)):(en=e,e=n)}else en=e,e=n;return e}function peg$parseEqualityOperator(){var t;return 61===e.charCodeAt(en)?(t=ur,en++):(t=n,0===an&&peg$fail(lr)),t===n&&(e.substr(en,2)===kr?(t=kr,en+=2):(t=n,0===an&&peg$fail(Rr))),t}function peg$parseLogicalANDExpression(){var t,r,i,o,a,s,u,l;if(t=en,(r=peg$parseEqualityExpression())!==n){for(i=[],o=en,(a=peg$parse__())!==n?(e.substr(en,3)===te?(s=te,en+=3):(s=n,0===an&&peg$fail(re)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseEqualityExpression())!==n?o=a=[a,s,u,l]:(en=o,o=n)):(en=o,o=n);o!==n;)i.push(o),o=en,(a=peg$parse__())!==n?(e.substr(en,3)===te?(s=te,en+=3):(s=n,0===an&&peg$fail(re)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseEqualityExpression())!==n?o=a=[a,s,u,l]:(en=o,o=n)):(en=o,o=n);i!==n?(tn=t,t=r=Pr(r,i)):(en=t,t=n)}else en=t,t=n;return t}function peg$parseLogicalORExpression(){var t,r,i,o,a,s,u,l;if(t=en,(r=peg$parseLogicalANDExpression())!==n){for(i=[],o=en,(a=peg$parse__())!==n?(e.substr(en,2)===me?(s=me,en+=2):(s=n,0===an&&peg$fail(ve)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalANDExpression())!==n?o=a=[a,s,u,l]:(en=o,o=n)):(en=o,o=n);o!==n;)i.push(o),o=en,(a=peg$parse__())!==n?(e.substr(en,2)===me?(s=me,en+=2):(s=n,0===an&&peg$fail(ve)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalANDExpression())!==n?o=a=[a,s,u,l]:(en=o,o=n)):(en=o,o=n);i!==n?(tn=t,t=r=Pr(r,i)):(en=t,t=n)}else en=t,t=n;return t}function buildNode(e){return e.accept=function(e){e.visit(this)},e.location=peg$computeLocation(tn,en),e}if((r=o())!==n&&en===e.length)return r;throw r!==n&&en<e.length&&peg$fail({type:"end"}),peg$buildStructuredError(on,nn<e.length?e.charAt(nn):null,nn<e.length?peg$computeLocation(nn,nn+1):peg$computeLocation(nn,nn))}}},HalQ:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("m0oc"),a=r("pkpF"),s=r("IJWI"),u=r("MVwb"),l=function(e){function PGPane(t,r,n){var i=e.call(this,"vg-"+r.yAlias,n)||this;return i._table=t,i._marks=r,i._borders=new o.Borders,i._xScale=r.buildXScale(),i._yScale=r.buildYScale(),i._xAxis=new s.HGAxis(t,r),i._yAxis=new u.VGAxis(t,r),i.borders.right.display=!0,i.borders.bottom.display=!0,i}return i(PGPane,e),Object.defineProperty(PGPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(PGPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(PGPane.prototype,"borders",{get:function(){return this._borders},enumerable:!0,configurable:!0}),Object.defineProperty(PGPane.prototype,"xScale",{get:function(){return this._xScale},enumerable:!0,configurable:!0}),Object.defineProperty(PGPane.prototype,"yScale",{get:function(){return this._yScale},enumerable:!0,configurable:!0}),Object.defineProperty(PGPane.prototype,"xAxis",{get:function(){return this._xAxis},enumerable:!0,configurable:!0}),Object.defineProperty(PGPane.prototype,"yAxis",{get:function(){return this._yAxis},enumerable:!0,configurable:!0}),PGPane.prototype.getScales=function(){var t=e.prototype.getScales.call(this);return t.push(this.xScale.compile()),t.push(this.yScale.compile()),t},PGPane.prototype.getAxes=function(){var t=e.prototype.getAxes.call(this);return t.push(this.xAxis.compile()),t.push(this.yAxis.compile()),t},PGPane.prototype.getProperties=function(){return{enter:{x:{field:"tcol.layout_start"},y:{field:"trow.layout_start"},width:{field:"tcol.layout_width"},height:{field:"trow.layout_height"}}}},PGPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.borders.getDisplayed();r<n.length;r++){var i=n[r];t.push(i.compile())}return t},PGPane}(a.Group);t.PGPane=l},Hdo1:function(e,t,r){"use strict";var n=r("CsEb"),i=r("KBVm");t.TimeInterval=i.TimeInterval,t.timeInterval=function(e){return void 0===e&&(e=n.async),i.timeInterval(e)(this)}},HgjA:function(e,t,r){"use strict";var n=r("DRWY"),i=r("qGPV");n.Observable.prototype.startWith=i.startWith},Him7:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function TimeoutError(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return n(TimeoutError,e),TimeoutError}(Error);t.TimeoutError=i},Hm4U:function(e,t,r){"use strict";var n=r("DRWY"),i=r("kYqL");n.Observable.prototype.pairwise=i.pairwise},"I/LB":function(e,t,r){"use strict";var n=r("DRWY"),i=r("yEnm");n.Observable.prototype.reduce=i.reduce},"I/Nv":function(e,t,r){"use strict";var n=r("ngUQ");t.concatAll=function(){return n.mergeAll(1)}},I0Hz:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("X2xY"),a=r("BFbo"),s=function(e){function TBar(t,r){var n=e.call(this,a.MarkType.RECT)||this;return n._table=t,n._marks=r,0===r.size.fields.length?(n._x={field:"ccols.layout_start"},n._width={value:5}):(n._x={field:"ccols.layout_start"},n._width={scale:r.xScaleName,field:r.size.fields[0].alias}),n._yc={field:"crows.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},n._size={scale:r.sizeScaleName,value:"*"},n}return i(TBar,e),Object.defineProperty(TBar.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(TBar.prototype,"yc",{get:function(){return this._yc},enumerable:!0,configurable:!0}),Object.defineProperty(TBar.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(TBar.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(TBar.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),TBar.prototype.getProperties=function(){return{enter:{x:this.x,yc:this.yc,fill:this.color,height:this.size,width:this.width}}},TBar}(o.MarkFrom);t.TBar=s},I8rZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;!function(e){e.Scalar="SCALAR",e.Aggregate="AGGREGATE",e.Calculation="CALCULATION"}(e.Form||(e.Form={})),function(e){e.Deterministic="DETERMINISTIC",e.NonDeterministic="NON_DETERMINISTIC"}(e.ResultType||(e.ResultType={})),function(e){e.Any="ANY",e.Agg="AGG",e.Avg="AVG",e.Count="COUNT",e.CountD="COUNTD",e.Median="MEDIAN",e.Min="MIN",e.Max="MAX",e.StDev="STDEV",e.StDevP="STDEVP",e.Sum="SUM",e.Var="VAR",e.VarP="VARP"}(t=e.Name||(e.Name={})),e.name=function(e){switch(e.toUpperCase()){case t.Avg:return t.Avg;case t.Count:return t.Count;case t.CountD:return t.CountD;case t.Max:return t.Max;case t.Median:return t.Median;case t.Min:return t.Min;case t.StDev:return t.StDev;case t.StDevP:return t.StDevP;case t.Sum:return t.Sum;case t.Var:return t.Var;case t.VarP:return t.VarP;default:return t.Any}},e.isKnown=function(r){return e.name(r)!==t.Any},function(e){!function(e){e.Count="COUNT",e.Valid="VALID",e.Missing="MISSING",e.Distinct="DISTINCT",e.Min="MIN",e.Max="MAX",e.Mean="MEAN",e.Median="MEDIAN",e.Sum="SUM",e.StdDev="STD_DEV",e.StdDevP="STD_DEV_P",e.StdErr="STD_ERR",e.Variance="VARIANCE",e.VarianceP="VARIANCE_P",e.CILower="CI_LOWER",e.CIUpper="CI_UPPER",e.RowNumber="ROW_NUMBER",e.Lag="LAG",e.Lead="LEAD",e.NthValue="NTH_VALUE",e.LastValue="LAST_VALUE",e.FirstValue="FIRST_VALUE",e.NTile="NTILE",e.CumeDist="CUME_DIST",e.Rank="RANK",e.DenseRank="DENSE_RANK",e.PercentRank="PERCENT_RANK"}(e.Name||(e.Name={}))}(e.Aggregate||(e.Aggregate={}))}(t.Call||(t.Call={}))},I9Xa:function(e,t,r){"use strict";var n=r("ITh/"),i=r("gzZ3"),o=r("BG6I"),a=r("1IBE"),s=r("5UgM"),u=r("SY+v"),l=function(){function Subscription(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var e;return Subscription.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,l=this._parents,c=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,p=l?l.length:0;r;)r.remove(this),r=++h<p&&l[h]||null;if(o.isFunction(c))a.tryCatch(c).call(this)===s.errorObject&&(t=!0,e=e||(s.errorObject.e instanceof u.UnsubscriptionError?flattenUnsubscriptionErrors(s.errorObject.e.errors):[s.errorObject.e]));if(n.isArray(f))for(h=-1,p=f.length;++h<p;){var d=f[h];if(i.isObject(d))if(a.tryCatch(d.unsubscribe).call(d)===s.errorObject){t=!0,e=e||[];var y=s.errorObject.e;y instanceof u.UnsubscriptionError?e=e.concat(flattenUnsubscriptionErrors(y.errors)):e.push(y)}}if(t)throw new u.UnsubscriptionError(e)}},Subscription.prototype.add=function(e){if(!e||e===Subscription.EMPTY)return Subscription.EMPTY;if(e===this)return this;var t=e;switch(typeof e){case"function":t=new Subscription(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){var r=t;(t=new Subscription)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t},Subscription.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},Subscription.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},Subscription.EMPTY=((e=new Subscription).closed=!0,e),Subscription}();function flattenUnsubscriptionErrors(e){return e.reduce(function(e,t){return e.concat(t instanceof u.UnsubscriptionError?t.errors:t)},[])}t.Subscription=l},IA4p:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("lour"),a=r("uWZT"),s=r("Skk4"),u=r("9A1j"),l=r("SVcL"),c=function(e){function VLeft(t){var r=e.call(this,t)||this;return r.table.yAxisCount>0&&(r._stacks=r.buildStacks(),r._headers=r.buildHeaders(),r._yAxes=r.buildYAxes(t,r.yAxisStack,r.lastHeader)),r}return i(VLeft,e),Object.defineProperty(VLeft.prototype,"yAxes",{get:function(){return this._yAxes},enumerable:!0,configurable:!0}),Object.defineProperty(VLeft.prototype,"yAxisStack",{get:function(){return this.stacks[0]},enumerable:!0,configurable:!0}),Object.defineProperty(VLeft.prototype,"lastHeader",{get:function(){return this.headers[this.headers.length-1]},enumerable:!0,configurable:!0}),VLeft.prototype.buildStacks=function(){var e=this,t=new Array,r=this.getPaths(this.rfPath),n=this.buildYStack(r[0]||[]);t.push(n);var i=n;return this.rfPath.forEach(function(n,a){var s=new o.RStack(e.table,r[a],n.alias,i);t.push(s),i=s}),t},VLeft.prototype.buildHeaders=function(){var e,t=this,r=new Array;return this.fPath.forEach(function(n,i){var o=t.rStacks[i],a=new s.RHeader(t.table,n,o,e);r.push(a),e=a}),r},VLeft.prototype.buildYStack=function(e){var t=e.concat("yAlias");return new o.RStack(this.table,t,"yAlias")},VLeft.prototype.buildYAxes=function(e,t,r){for(var n=new u.VAxes(e,"yAxes",r),i=0,o=e.marks;i<o.length;i++){var a=o[i];n.addAxis(new l.VAxis(e,a,t,n))}return this.headers.push(n),n},VLeft}(a.Left);t.VLeft=c},IDkG:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("vw2U"),o=r("/YdO"),a=r("iZmh"),s=r("ejt7"),u=r("uH7x"),l=r("UbjR");!function(e){e.matches=function(e){var t=a.Tree.root(e);return t.type===o.Node.Type.CallExpression&&"DATEPART"===t.callee.toUpperCase()&&2===t.arguments.length&&t.arguments[0].type===o.Node.Type.StringLiteral&&o.Node.isAccess(t.arguments[1])},e.name=function(e){return e.unit+"("+e.ref.name+")"},e.parsed=function(e,t){var r=a.Tree.root(t);switch(r.type){case o.Node.Type.CallExpression:var c=r.arguments[0];if(c.type===o.Node.Type.StringLiteral){var f=i.DateTime.unit(c.value);if(f){var h=u.Reference.makeFromNode(r.arguments[1]),p=s.Expression.Form.DatePart,d=s.Expression.State.Parsed;return n({},e,{state:d,tree:t,form:p,unit:f,ref:h})}throw"Unknown DateTime unit "+f}throw"Unknown DateTime unit "+c;default:return l.Generic.parsed(e,t)}},e.compiled=function(e,t){return n({},e,{type:t,state:s.Expression.State.Compiled})}}(t.DatePart||(t.DatePart={}))},IHm5:function(e,t,r){"use strict";var n=r("oIyB");t.debounce=function(e){return n.debounce(e)(this)}},IIVN:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("7cqj"),o=r("ejt7"),a=r("LIE7"),s=r("jd1k"),u=r("IDkG"),l=r("iFUp"),c=r("UbjR");!function(e){var t;function match(e){return a.Access.matches(e)?o.Expression.Form.Access:u.DatePart.matches(e)?o.Expression.Form.DatePart:l.DateTrunc.matches(e)?o.Expression.Form.DateTrunc:s.Aggregate.matches(e)?o.Expression.Form.Aggregate:o.Expression.Form.Generic}!function(e){e.Source="SOURCE",e.Parsed="PARSED",e.Compiled="COMPILED"}(t=e.State||(e.State={})),e.match=match,e.make=function(e){return{name:e,expr:o.Expression.make(e),state:t.Source}},e.parsed=function(e,r){var i,f=t.Parsed;switch(match(r)){case o.Expression.Form.Access:i=a.Access.parsed(e.expr,r);break;case o.Expression.Form.DatePart:i=u.DatePart.parsed(e.expr,r);break;case o.Expression.Form.DateTrunc:i=l.DateTrunc.parsed(e.expr,r);break;case o.Expression.Form.Aggregate:i=s.Aggregate.parsed(e.expr,r);break;default:i=c.Generic.parsed(e.expr,r)}switch(i.form){case o.Expression.Form.Access:return n({},e,{state:f,expr:i,name:a.Access.name(i)});case o.Expression.Form.Aggregate:return n({},e,{state:f,expr:i,name:s.Aggregate.name(i)});case o.Expression.Form.DatePart:return n({},e,{state:f,expr:i,name:u.DatePart.name(i)});case o.Expression.Form.DateTrunc:return n({},e,{state:f,expr:i,name:l.DateTrunc.name(i)});case o.Expression.Form.Generic:return n({},e,{state:f,expr:i,name:c.Generic.name(i)})}},e.compiled=function(e,r,i,f){var h,p=t.Compiled;switch(e.expr.form){case o.Expression.Form.Access:h=a.Access.compiled(e.expr,r);break;case o.Expression.Form.DatePart:h=u.DatePart.compiled(e.expr,r);break;case o.Expression.Form.DateTrunc:h=l.DateTrunc.compiled(e.expr,r);break;case o.Expression.Form.Aggregate:h=s.Aggregate.compiled(e.expr,r);break;default:h=c.Generic.compiled(e.expr,r)}switch(h.form){case o.Expression.Form.Access:return n({},e,{state:p,expr:h,type:i,role:f,name:a.Access.name(h)});case o.Expression.Form.Aggregate:return n({},e,{state:p,expr:h,type:i,role:f,name:s.Aggregate.name(h)});case o.Expression.Form.DatePart:return n({},e,{state:p,expr:h,type:i,role:f,name:u.DatePart.name(h)});case o.Expression.Form.DateTrunc:return n({},e,{state:p,expr:h,type:i,role:f,name:l.DateTrunc.name(h)});case o.Expression.Form.Generic:return n({},e,{state:p,expr:h,type:i,role:f,name:c.Generic.name(h)})}},e.role=function(t){return e.isScalar(t)?i.Attr.Role.Dimension:i.Attr.Role.Measure},e.isScalar=function(e){return e.expr.type===o.Expression.Type.Scalar},e.isAggregate=function(e){return e.expr.type===o.Expression.Type.Aggregate},e.isCalculation=function(e){return e.expr.type===o.Expression.Type.Calculation}}(t.Formula||(t.Formula={}))},IJWI:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("vXch"),a=r("Wm/D"),s=function(e){function HGAxis(t,r){var n=e.call(this,a.AxisType.X)||this;return n._table=t,n._marks=r,n}return i(HGAxis,e),Object.defineProperty(HGAxis.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(HGAxis.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),HGAxis.prototype.getScale=function(){return this.marks.xScaleName},HGAxis.prototype.getTicks=function(){return 2},HGAxis.prototype.getProperties=function(){return{axis:{stroke:{value:"transparent"}},grid:{stroke:[{test:"datum.data == 0",value:"transparent"},{value:"#999999"}]},labels:{fill:{value:"transparent"}},ticks:{stroke:{value:"transparent"}}}},HGAxis}(o.Axis);t.HGAxis=s},IKQk:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VMData(t,r){return e.call(this,t,r,r.cells,r.alias)||this}return i(VMData,e),VMData.prototype.getFacetFields=function(e){return["trKey","tcKey"].concat(this.marks.seriesFields.map(function(e){return e.alias}))},VMData}(r("uIdv").MData);t.VMData=o},IKaF:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("sTlA"),a=r("w06A"),s=new Set([a.AggregateFunction.AVG,a.AggregateFunction.COUNT,a.AggregateFunction.COUNTD,a.AggregateFunction.MEDIAN,a.AggregateFunction.MIN,a.AggregateFunction.MAX,a.AggregateFunction.STDEV,a.AggregateFunction.STDEVP,a.AggregateFunction.SUM,a.AggregateFunction.VAR,a.AggregateFunction.VARP]),u=function(e){function AggFormula(t,r){var n=e.call(this,t,r)||this,i=t.root,o=i.arguments[0];switch(i.callee){case a.AggregateFunction.AVG:case a.AggregateFunction.COUNT:case a.AggregateFunction.COUNTD:case a.AggregateFunction.MEDIAN:case a.AggregateFunction.MIN:case a.AggregateFunction.MAX:case a.AggregateFunction.STDEV:case a.AggregateFunction.STDEVP:case a.AggregateFunction.SUM:case a.AggregateFunction.VAR:case a.AggregateFunction.VARP:n._funcName=i.callee;break;default:n._funcName=a.AggregateFunction.AGG}return n._fieldName=o.value,n}return i(AggFormula,e),AggFormula.Matches=function(e){if("CallExpression"!==e.root.type)return!1;var t=e.root;return!!s.has(t.callee)&&(1===t.arguments.length&&"FieldLiteral"===t.arguments[0].type)},Object.defineProperty(AggFormula.prototype,"form",{get:function(){return o.FormType.AGGFUNC},enumerable:!0,configurable:!0}),Object.defineProperty(AggFormula.prototype,"funcName",{get:function(){return this._funcName},enumerable:!0,configurable:!0}),Object.defineProperty(AggFormula.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),AggFormula}(o.Formula);t.AggFormula=u},ISCv:function(e,t,r){"use strict";var n=r("RzX6");t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.combineLatest.apply(void 0,e)(this)}},"ITh/":function(e,t,r){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},IUQD:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("CsEb"),o=r("UT3o"),a=r("EIUo"),s=r("k+FJ");t.timeoutWith=function(e,t,r){return void 0===r&&(r=i.async),function(n){var i=o.isDate(e),a=i?+e-r.now():Math.abs(e);return n.lift(new u(a,i,t,r))}};var u=function(){function TimeoutWithOperator(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return TimeoutWithOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},TimeoutWithOperator}(),l=function(e){function TimeoutWithSubscriber(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return n(TimeoutWithSubscriber,e),TimeoutWithSubscriber.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(s.subscribeToResult(e,t))},TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,this))},TimeoutWithSubscriber.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},TimeoutWithSubscriber.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},TimeoutWithSubscriber}(a.OuterSubscriber)},IVL3:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("VwPT");t.EMPTY_ENCODING={marks:{channel:"*",properties:n({},i.EMPTY_MARKS),series:[]},row:[],column:[],x:[],x2:[],y:[],y2:[],sorts:[],filter:[],value:[]},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("VwPT"))},Imxj:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("lour"),a=r("uWZT"),s=r("Skk4"),u=function(e){function HLeft(t){var r=e.call(this,t)||this;return r.table.yAxisCount>0&&(r._stacks=r.buildStacks(),r._headers=r.buildHeaders()),r}return i(HLeft,e),Object.defineProperty(HLeft.prototype,"yAxisStack",{get:function(){return this.stacks[0]},enumerable:!0,configurable:!0}),Object.defineProperty(HLeft.prototype,"yAxisField",{get:function(){return this.table.yAxisFields[0]},enumerable:!0,configurable:!0}),Object.defineProperty(HLeft.prototype,"lastHeader",{get:function(){return this.headers[this.headers.length-1]},enumerable:!0,configurable:!0}),HLeft.prototype.buildStacks=function(){var e=this,t=new Array,r=this.getPaths(this.rfPath),n=this.buildYStack(r[0]||[]);t.push(n);var i=n;return this.rfPath.forEach(function(n,a){var s=new o.RStack(e.table,r[a],n.alias,i);t.push(s),i=s}),t},HLeft.prototype.buildHeaders=function(){var e,t=this,r=new Array;return this.fPath.forEach(function(n,i){var o=t.rStacks[i],a=new s.RHeader(t.table,n,o,e);r.push(a),e=a}),r.push(this.buildYHeader(e)),r},HLeft.prototype.buildYStack=function(e){var t=e.concat(this.yAxisField.alias);return new o.RStack(this.table,t,this.yAxisField.alias)},HLeft.prototype.buildYHeader=function(e){var t=this.rStacks[this.rStacks.length-1];return new s.RHeader(this.table,this.yAxisField,t,e)},HLeft}(a.Left);t.HLeft=u},Isve:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Np/B"),i=r("iNrS"),o=r("PvBQ"),a=r("Ff4l"),s=function(){function Config(){this._fit=new i.Fit,this._formats=new o.Formats,this._encoding=new n.Encoding}return Object.defineProperty(Config.prototype,"fit",{get:function(){return this._fit},set:function(e){this._fit=e},enumerable:!0,configurable:!0}),Object.defineProperty(Config.prototype,"formats",{get:function(){return this._formats},enumerable:!0,configurable:!0}),Object.defineProperty(Config.prototype,"encoding",{get:function(){return this._encoding},enumerable:!0,configurable:!0}),Object.defineProperty(Config.prototype,"layout",{get:function(){return this.getLayout()},enumerable:!0,configurable:!0}),Config.prototype.getLayout=function(){for(var e=this.encoding.x.axes,t=this.encoding.y.axes,r=a.Layout.TABULAR,n=a.Layout.TABULAR,i=0,o=e;i<o.length;i++){if(o[i].field.isContinuous){r=a.Layout.PROPORTIONAL;break}}for(var s=0,u=t;s<u.length;s++){if(u[s].field.isContinuous){n=a.Layout.PROPORTIONAL;break}}return r===a.Layout.PROPORTIONAL?n===a.Layout.PROPORTIONAL?a.Layout.PROPORTIONAL:a.Layout.HORIZONTAL:n===a.Layout.PROPORTIONAL?a.Layout.VERTICAL:a.Layout.TABULAR},Config}();t.Config=s},IxkH:function(e,t,r){"use strict";var n=r("8zNw");t.concatMapTo=function(e,t){return n.concatMap(function(){return e},t)}},IyCH:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("7cqj"),o=r("SEpX");!function(e){var t,r;e.make=function(e,t,r){return void 0===r&&(r=[]),{source:e,name:t,attrs:r||[]}},function(e){function indexOf(e,t){for(var r=0;r<e.attrs.length;r++)if(e.attrs[r].name===t)return r;return-1}e.add=function(e,t){var r=indexOf(e,t.name);if(r>-1){var i=e.attrs.slice();return i[r]=t,n({},e,{attrs:i})}return n({},e,{attrs:e.attrs.concat([t])})},e.find=function(e,t){return e.attrs.find(function(e){return e.name===t})||null},e.indexOf=indexOf}(e.Attrs||(e.Attrs={})),function(e){function all(e){for(var t=new Array,r=0,n=e.attrs;r<n.length;r++){var o=n[r];o.source===i.Attr.Source.Calc&&t.push(o)}return t}e.all=all,e.filter=function(e,t){for(var i=new Array,o=0,a=all(e);o<a.length;o++){var s=a[o];t(s)&&i.push(s)}var u=r.all(e).concat(i);return n({},e,{attrs:u})},e.replace=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var o=new Map,a=0,s=all(e);a<s.length;a++){var u=s[a];o.set(u.name,u)}for(var l=0,c=t;l<c.length;l++)u=c[l],o.set(u.name,u);var f=r.all(e).concat(Array.from(o.values()));return n({},e,{attrs:f})}}(t=e.Calcs||(e.Calcs={})),function(e){function all(e){for(var t=new Array,r=0,n=e.attrs;r<n.length;r++){var o=n[r];o.source===i.Attr.Source.Column&&t.push(o)}return t}e.all=all,e.filter=function(e,r){for(var i=new Array,o=0,a=all(e);o<a.length;o++){var s=a[o];r(s)&&i.push(s)}var u=i.concat(t.all(e));return n({},e,{attrs:u})},e.merge=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];for(var a=new Map,s=0,u=all(e);s<u.length;s++){var l=u[s];a.set(l.name,l)}for(var c=0,f=r;c<f.length;c++){l=f[c];var h=a.get(l.name);null==h?a.set(l.name,l):a.set(l.name,o.Column.merge(h,l))}var p=Array.from(a.values()).concat(t.all(e));return n({},e,{attrs:p})},e.replace=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];for(var o=new Map,a=0,s=all(e);a<s.length;a++){var u=s[a];o.set(u.name,u)}for(var l=0,c=r;l<c.length;l++)u=c[l],o.set(u.name,u);var f=Array.from(o.values()).concat(t.all(e));return n({},e,{attrs:f})}}(r=e.Columns||(e.Columns={})),function(e){var t,r,i;!function(e){e.Query="QUERY",e.Table="TABLE"}(t=e.Type||(e.Type={})),e.table=function(e){return i.make(e)},e.query=function(e,t){return r.make(e,t)},e.merge=function(e,n){switch(e.type){case t.Query:return r.merge(e,n);case t.Table:return i.merge(e,n)}},function(e){e.make=function(e,r){return{name:e,source:r,type:t.Query}},e.merge=function(e,r){if(r.type===t.Query){var i=r.name,o=r.source;return n({},e,{name:i,source:o})}throw new Error("\n            Cannot merge incompatible view sources:\n            ("+e.name+", "+e.type+") <- ("+r.name+", "+r.type+")")}}(r=e.Query||(e.Query={})),function(e){e.make=function(e){return{name:e,type:t.Table}},e.merge=function(e,r){if(r.type===t.Table){var i=r.name;return n({},e,{name:i})}throw new Error("\n            Cannot merge incompatible view sources:\n            ("+e.name+", "+e.type+") <- ("+r.name+", "+r.type+")")}}(i=e.Table||(e.Table={}))}(e.Source||(e.Source={}))}(t.View||(t.View={}))},J5XV:function(e,t,r){"use strict";var n=r("CsEb"),i=r("mjDY");t.debounceTime=function(e,t){return void 0===t&&(t=n.async),i.debounceTime(e,t)(this)}},J631:function(e,t,r){var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){var e={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},t={"*":!0};function notReallyPercentEncode(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}function uriTemplateSubstitution(r){var n="";e[r.charAt(0)]&&(n=r.charAt(0),r=r.substring(1));var i="",o="",a=!0,s=!1,u=!1;"+"==n?a=!1:"."==n?(o=".",i="."):"/"==n?(o="/",i="/"):"#"==n?(o="#",a=!1):";"==n?(o=";",i=";",s=!0,u=!0):"?"==n?(o="?",i="&",s=!0):"&"==n&&(o="&",i="&",s=!0);for(var l=[],c=r.split(","),f=[],h={},p=0;p<c.length;p++){var d=c[p],y=null;if(-1!=d.indexOf(":")){var g=d.split(":");d=g[0],y=parseInt(g[1])}for(var m={};t[d.charAt(d.length-1)];)m[d.charAt(d.length-1)]=!0,d=d.substring(0,d.length-1);var v={truncate:y,name:d,suffices:m};f.push(v),h[d]=v,l.push(d)}var b=function(e){for(var t="",r=0,n=0;n<f.length;n++){var l=f[n],c=e(l.name);if(null==c||Array.isArray(c)&&0==c.length||"object"==typeof c&&0==Object.keys(c).length)r++;else if(t+=n==r?o:i||",",Array.isArray(c)){s&&(t+=l.name+"=");for(var h=0;h<c.length;h++)h>0&&(t+=l.suffices["*"]&&i||",",l.suffices["*"]&&s&&(t+=l.name+"=")),t+=a?encodeURIComponent(c[h]).replace(/!/g,"%21"):notReallyPercentEncode(c[h])}else if("object"==typeof c){s&&!l.suffices["*"]&&(t+=l.name+"=");var p=!0;for(var d in c)p||(t+=l.suffices["*"]&&i||","),p=!1,t+=a?encodeURIComponent(d).replace(/!/g,"%21"):notReallyPercentEncode(d),t+=l.suffices["*"]?"=":",",t+=a?encodeURIComponent(c[d]).replace(/!/g,"%21"):notReallyPercentEncode(c[d])}else s&&(t+=l.name,u&&""==c||(t+="=")),null!=l.truncate&&(c=c.substring(0,l.truncate)),t+=a?encodeURIComponent(c).replace(/!/g,"%21"):notReallyPercentEncode(c)}return t};return b.varNames=l,{prefix:o,substitution:b,unSubstitution:function(e,t){if(o){if(e.substring(0,o.length)!=o)return null;e=e.substring(o.length)}if(1==f.length&&f[0].suffices["*"]){for(var r=(_=f[0]).name,n=_.suffices["*"]?e.split(i||","):[e],u=a&&-1!=e.indexOf("="),l=1;l<n.length;l++)e=n[l],u&&-1==e.indexOf("=")&&(n[l-1]+=(i||",")+e,n.splice(l,1),l--);for(l=0;l<n.length;l++){e=n[l],a&&-1!=e.indexOf("=")&&(u=!0);for(var c=e.split(","),p=0;p<c.length;p++)a&&(c[p]=decodeURIComponent(c[p]));1==c.length?n[l]=c[0]:n[l]=c}if(s||u){var d=t[r]||{};for(p=0;p<n.length;p++){var y=e;if(!s||y){if("string"==typeof n[p]){var g=(e=n[p]).split("=",1)[0];y=e=e.substring(g.length+1)}else g=(e=n[p][0]).split("=",1)[0],e=e.substring(g.length+1),n[p][0]=e,y=n[p];void 0!==d[g]?Array.isArray(d[g])?d[g].push(y):d[g]=[d[g],y]:d[g]=y}}1==Object.keys(d).length&&void 0!==d[r]?t[r]=d[r]:t[r]=d}else void 0!==t[r]?Array.isArray(t[r])?t[r]=t[r].concat(n):t[r]=[t[r]].concat(n):1!=n.length||_.suffices["*"]?t[r]=n:t[r]=n[0]}else{n=1==f.length?[e]:e.split(i||",");var m={};for(l=0;l<n.length;l++){for(var v=0;v<f.length-1&&v<l&&!f[v].suffices["*"];v++);if(v!=l){for(var b=f.length-1;b>0&&f.length-b<n.length-l&&!f[b].suffices["*"];b--);f.length-b!=n.length-l?m[l]=v:m[l]=b}else m[l]=l}for(l=0;l<n.length;l++)if((e=n[l])||!s){if(c=e.split(","),u=!1,s){r=(e=c[0]).split("=",1)[0],e=e.substring(r.length+1),c[0]=e;var _=h[r]||f[0]}else r=(_=f[m[l]]).name;for(p=0;p<c.length;p++)a&&(c[p]=decodeURIComponent(c[p]));(s||_.suffices["*"])&&void 0!==t[r]?Array.isArray(t[r])?t[r]=t[r].concat(c):t[r]=[t[r]].concat(c):1!=c.length||_.suffices["*"]?t[r]=c:t[r]=c[0]}}}}}function UriTemplate(e){if(!(this instanceof UriTemplate))return new UriTemplate(e);for(var t=e.split("{"),r=[t.shift()],n=[],i=[],o=[],a=[];t.length>0;){var s=t.shift(),u=s.split("}")[0],l=s.substring(u.length+1),c=uriTemplateSubstitution(u);i.push(c.substitution),o.push(c.unSubstitution),n.push(c.prefix),r.push(l),a=a.concat(c.substitution.varNames)}this.fill=function(e){if(e&&"function"!=typeof e){var t=e;e=function(e){return t[e]}}for(var n=r[0],o=0;o<i.length;o++){n+=(0,i[o])(e),n+=r[o+1]}return n},this.fromUri=function(e){for(var t={},i=0;i<r.length;i++){var a=r[i];if(e.substring(0,a.length)!==a)return;if(e=e.substring(a.length),i>=r.length-1){if(""==e)break;return}for(var s=r[i+1],u=i;;){if(u==r.length-2){var l=e.substring(e.length-s.length);if(l!==s)return;var c=e.substring(0,e.length-s.length);e=l}else if(s){var f=e.indexOf(s);c=e.substring(0,f);e=e.substring(f)}else if(n[u+1]){-1===(f=e.indexOf(n[u+1]))&&(f=e.length);c=e.substring(0,f);e=e.substring(f)}else{if(r.length>u+2){s=r[++u+1];continue}c=e;e=""}break}o[i](c,t)}return t},this.varNames=a,this.template=e}return UriTemplate.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill(e)}},UriTemplate})?n.apply(t,i):n)||(e.exports=o)},J6VN:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Color(){this._fields=new Array}return Object.defineProperty(Color.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Color.prototype.addField=function(e){this._fields=this.fields.concat(e)},Color.prototype.addFields=function(e){this._fields=this.fields.concat(e)},Color}();t.Color=n},JQSV:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Dl5L");n.Observable.prototype.concatMap=i.concatMap},JV5w:function(e,t,r){"use strict";var n=r("DRWY"),i=r("nPVE");n.Observable.prototype.exhaust=i.exhaust},JXkC:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("DRWY"),a=r("LGJh"),s=r("I9Xa"),u=r("y3NY"),l=function(e){function ConnectableObservable(t,r){e.call(this),this.source=t,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(ConnectableObservable,e),ConnectableObservable.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},ConnectableObservable.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.Subscription).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed?(this._connection=null,e=s.Subscription.EMPTY):this._connection=e),e},ConnectableObservable.prototype.refCount=function(){return u.refCount()(this)},ConnectableObservable}(o.Observable);t.ConnectableObservable=l;var c=l.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var f=function(e){function ConnectableSubscriber(t,r){e.call(this,t),this.connectable=r}return n(ConnectableSubscriber,e),ConnectableSubscriber.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},ConnectableSubscriber.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},ConnectableSubscriber.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},ConnectableSubscriber}(i.SubjectSubscriber),h=(function(){function RefCountOperator(e){this.connectable=e}RefCountOperator.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new h(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i}}(),function(e){function RefCountSubscriber(t,r){e.call(this,t),this.connectable=r}return n(RefCountSubscriber,e),RefCountSubscriber.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},RefCountSubscriber}(a.Subscriber))},JcJc:function(e,t,r){var n=r("9R9K"),i=r("3xhV"),o=r("9uLw");function Aggregator(){this._cells={},this._aggr=[],this._stream=!1}var a=Aggregator.Flags={ADD_CELL:1,MOD_CELL:2},s=Aggregator.prototype;s.stream=function(e){return null==e?this._stream:(this._stream=!!e,this._aggr=[],this)},s.key=function(e){return null==e?this._key:(this._key=n.$(e),this)},s.groupby=function(e){return this._dims=n.array(e).map(function(e,t){if(null==(e=n.isString(e)?{name:e,get:n.$(e)}:n.isFunction(e)?{name:n.name(e)||e.name||"_"+t,get:e}:e.name&&n.isFunction(e.get)?e:null))throw"Invalid groupby argument: "+e;return e}),this.clear()},s.summarize=function(e){e=function(e){if(n.isArray(e))return e;if(null==e)return[];var t,r,i=[];for(t in e)r=n.array(e[t]),i.push({name:t,ops:r});return i}(e),this._count=!0;var t,r,o,a,s,u,l,c=this._aggr=[];for(o=0;o<e.length;++o){for(a=0,t=[],r=e[o];a<r.ops.length;++a)"count"!==(s=r.ops[a])&&(this._count=!1),u=r.as&&r.as[a]||s+("*"===r.name?"":"_"+r.name),t.push(i[s](u));l=r.get&&n.$(r.get)||("*"===r.name?n.identity:n.$(r.name)),c.push({name:r.name,measures:i.create(t,this._stream,l,this._assign)})}return this.clear()},s.count=function(){return this.summarize({"*":"count"})},s._assign=function(e,t,r){e[t]=r},s.clear=function(){return this._cells={},this},s._cellkey=function(e){var t,r=this._dims,n=r.length,i=String(r[0].get(e));for(t=1;t<n;++t)i+="|"+r[t].get(e);return i},s._cell=function(e){var t=this._dims.length?this._cellkey(e):"";return this._cells[t]||(this._cells[t]=this._newcell(e,t))},s._newcell=function(e,t){var r,n={num:0,tuple:this._newtuple(e,t),flag:a.ADD_CELL,aggs:{}},i=this._aggr;for(r=0;r<i.length;++r)n.aggs[i[r].name]=new i[r].measures(n,n.tuple);return n.collect&&(n.data=new o(this._key)),n},s._newtuple=function(e){var t,r,n=this._dims,i={};for(t=0,r=n.length;t<r;++t)i[n[t].name]=n[t].get(e);return this._ingest(i)},s._ingest=n.identity,s._add=function(e){var t,r=this._cell(e),n=this._aggr;if(r.num+=1,!this._count)for(r.collect&&r.data.add(e),t=0;t<n.length;++t)r.aggs[n[t].name].add(e);r.flag|=a.MOD_CELL,this._on_add&&this._on_add(e,r)},s._rem=function(e){var t,r=this._cell(e),n=this._aggr;if(r.num-=1,!this._count)for(r.collect&&r.data.rem(e),t=0;t<n.length;++t)r.aggs[n[t].name].rem(e);r.flag|=a.MOD_CELL,this._on_rem&&this._on_rem(e,r)},s._mod=function(e,t){var r,i=this._cell(t),o=this._cell(e),s=this._aggr;for(i!==o?(i.num-=1,o.num+=1,i.collect&&i.data.rem(t),o.collect&&o.data.add(e)):i.collect&&!n.isObject(e)&&(i.data.rem(t),i.data.add(e)),r=0;r<s.length;++r)i.aggs[s[r].name].rem(t),o.aggs[s[r].name].add(e);i.flag|=a.MOD_CELL,o.flag|=a.MOD_CELL,this._on_mod&&this._on_mod(e,t,i,o)},s._markMod=function(e){this._cell(e).flag|=a.MOD_CELL},s.result=function(){var e,t,r,n=[],i=this._aggr;for(r in this._cells){if((e=this._cells[r]).num>0){for(e.collect&&e.data.values(),t=0;t<i.length;++t)e.aggs[i[t].name].set();n.push(e.tuple)}else delete this._cells[r];e.flag=0}return this._rems=!1,n},s.changes=function(e){var t,r,n,i,o=e||{add:[],rem:[],mod:[]},s=this._aggr;for(i in this._cells){for(r=(t=this._cells[i]).flag,t.collect&&t.data.values(),n=0;n<s.length;++n)t.aggs[s[n].name].set();t.num<=0?(o.rem.push(t.tuple),delete this._cells[i],this._on_drop&&this._on_drop(t)):(this._on_keep&&this._on_keep(t),r&a.ADD_CELL?o.add.push(t.tuple):r&a.MOD_CELL&&o.mod.push(t.tuple)),t.flag=0}return this._rems=!1,o},s.execute=function(e){return this.clear().insert(e).result()},s.insert=function(e){this._consolidate();for(var t=0;t<e.length;++t)this._add(e[t]);return this},s.remove=function(e){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var t=0;t<e.length;++t)this._rem(e[t]);return this._rems=!0,this},s._consolidate=function(){if(this._rems){for(var e in this._cells)this._cells[e].collect&&this._cells[e].data.values();this._rems=!1}},e.exports=Aggregator},JeX6:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Mwu5");n.Observable.using=i.using},JfTI:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("EIUo"),a=r("k+FJ");t.window=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function WindowOperator(e){this.windowBoundaries=e}return WindowOperator.prototype.call=function(e,t){var r=new u(e),n=t.subscribe(r);return n.closed||r.add(a.subscribeToResult(r,this.windowBoundaries)),n},WindowOperator}(),u=function(e){function WindowSubscriber(t){e.call(this,t),this.window=new i.Subject,t.next(this.window)}return n(WindowSubscriber,e),WindowSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},WindowSubscriber.prototype.notifyError=function(e,t){this._error(e)},WindowSubscriber.prototype.notifyComplete=function(e){this._complete()},WindowSubscriber.prototype._next=function(e){this.window.next(e)},WindowSubscriber.prototype._error=function(e){this.window.error(e),this.destination.error(e)},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete()},WindowSubscriber.prototype._unsubscribe=function(){this.window=null},WindowSubscriber.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new i.Subject;t.next(r)},WindowSubscriber}(o.OuterSubscriber)},JgNJ:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=l}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+p]=255&a,p+=d,a/=256,l-=8);e[r+p-d]|=128*y}},Jgtz:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PCircle(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(PCircle,e),PCircle}(r("sMza").PSymbol);t.PCircle=o},JkfO:function(e,t,r){"use strict";var n=r("JuPq");t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,n.expand(e,t,r)(this)}},JuPq:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("1IBE"),o=r("5UgM"),a=r("EIUo"),s=r("k+FJ");t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new u(e,t,r))}};var u=function(){function ExpandOperator(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return ExpandOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.concurrent,this.scheduler))},ExpandOperator}();t.ExpandOperator=u;var l=function(e){function ExpandSubscriber(t,r,n,i){e.call(this,t),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return n(ExpandSubscriber,e),ExpandSubscriber.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},ExpandSubscriber.prototype._next=function(e){var t=this.destination;if(t.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){t.next(e);var n=i.tryCatch(this.project)(e,r);if(n===o.errorObject)t.error(o.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:n,value:e,index:r};this.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,a))}else this.subscribeToProjection(n,e,r)}else this.buffer.push(e)}},ExpandSubscriber.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(s.subscribeToResult(this,e,t,r))},ExpandSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},ExpandSubscriber.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber}(a.OuterSubscriber);t.ExpandSubscriber=l},JueX:function(e,t,r){"use strict";var n=r("/kIf");t.skipUntil=function(e){return n.skipUntil(e)(this)}},K10V:function(e,t,r){"use strict";var n=r("DRWY"),i=r("jF3a");n.Observable.prototype.sequenceEqual=i.sequenceEqual},K6ye:function(e,t,r){"use strict";var n=r("ypNE");t.interval=n.IntervalObservable.create},KBVm:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("CsEb");t.timeInterval=function(e){return void 0===e&&(e=o.async),function(t){return t.lift(new s(e))}};var a=function(){return function(e,t){this.value=e,this.interval=t}}();t.TimeInterval=a;var s=function(){function TimeIntervalOperator(e){this.scheduler=e}return TimeIntervalOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler))},TimeIntervalOperator}(),u=function(e){function TimeIntervalSubscriber(t,r){e.call(this,t),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return n(TimeIntervalSubscriber,e),TimeIntervalSubscriber.prototype._next=function(e){var t=this.scheduler.now(),r=t-this.lastTime;this.lastTime=t,this.destination.next(new a(e,r))},TimeIntervalSubscriber}(i.Subscriber)},KBwi:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("qGnd"),a=r("33Jt"),s=r("P23m"),u=function(e){function ArrayObservable(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(ArrayObservable,e),ArrayObservable.create=function(e,t){return new ArrayObservable(e,t)},ArrayObservable.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var n=e.length;return n>1?new ArrayObservable(e,r):1===n?new o.ScalarObservable(e[0],r):new a.EmptyObservable(r)},ArrayObservable.dispatch=function(e){var t=e.array,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t[r]),i.closed||(e.index=r+1,this.schedule(e)))},ArrayObservable.prototype._subscribe=function(e){var t=this.array,r=t.length,n=this.scheduler;if(n)return n.schedule(ArrayObservable.dispatch,0,{array:t,index:0,count:r,subscriber:e});for(var i=0;i<r&&!e.closed;i++)e.next(t[i]);e.complete()},ArrayObservable}(i.Observable);t.ArrayObservable=u},KMrg:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("+jxi"),a=function(e){function BehaviorSubject(t){e.call(this),this._value=t}return n(BehaviorSubject,e),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),BehaviorSubject.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},BehaviorSubject.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},BehaviorSubject.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},BehaviorSubject}(i.Subject);t.BehaviorSubject=a},KXNp:function(e,t,r){"use strict";var n=r("DRWY"),i=r("8Ylw");n.Observable.prototype.map=i.map},KXrU:function(e,t,r){(function(e,t){"use strict";function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newYear(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function locale$1(e){var t=e.dateTime,n=e.date,i=e.time,o=e.periods,a=e.days,s=e.shortDays,u=e.months,l=e.shortMonths,c=formatRe(o),f=formatLookup(o),h=formatRe(a),p=formatLookup(a),d=formatRe(s),y=formatLookup(s),g=formatRe(u),m=formatLookup(u),v=formatRe(l),b=formatLookup(l),_={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(e){return o[+(e.getHours()>=12)]},S:formatSeconds,U:formatWeekNumberSunday,w:formatWeekdayNumber,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},w={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(e){return o[+(e.getUTCHours()>=12)]},S:formatUTCSeconds,U:formatUTCWeekNumberSunday,w:formatUTCWeekdayNumber,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},S={a:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=y[n[0].toLowerCase()],r+n[0].length):-1},A:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=p[n[0].toLowerCase()],r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=b[n[0].toLowerCase()],r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=m[n[0].toLowerCase()],r+n[0].length):-1},c:function(e,r,n){return parseSpecifier(e,t,r,n)},d:parseDayOfMonth,e:parseDayOfMonth,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=f[n[0].toLowerCase()],r+n[0].length):-1},S:parseSeconds,U:parseWeekNumberSunday,w:parseWeekdayNumber,W:parseWeekNumberMonday,x:function(e,t,r){return parseSpecifier(e,n,t,r)},X:function(e,t,r){return parseSpecifier(e,i,t,r)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(e,t){return function(n){var i,o,a,s=[],u=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(s.push(e.slice(l,u)),null!=(o=r[i=e.charAt(++u)])?i=e.charAt(++u):o="e"===i?" ":"0",(a=t[i])&&(i=a(n,o)),s.push(i),l=u+1);return s.push(e.slice(l,u)),s.join("")}}function newParse(e,t){return function(r){var n=newYear(1900);if(parseSpecifier(n,e,r+="",0)!=r.length)return null;if("p"in n&&(n.H=n.H%12+12*n.p),"W"in n||"U"in n){"w"in n||(n.w="W"in n?1:0);var i="Z"in n?utcDate(newYear(n.y)).getUTCDay():t(newYear(n.y)).getDay();n.m=0,n.d="W"in n?(n.w+6)%7+7*n.W-(i+5)%7:n.w+7*n.U-(i+6)%7}return"Z"in n?(n.H+=n.Z/100|0,n.M+=n.Z%100,utcDate(n)):t(n)}}function parseSpecifier(e,t,n,i){for(var o,a,s=0,u=t.length,l=n.length;s<u;){if(i>=l)return-1;if(37===(o=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=S[o in r?t.charAt(s++):o])||(i=a(e,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}return _.x=newFormat(n,_),_.X=newFormat(i,_),_.c=newFormat(t,_),w.x=newFormat(n,w),w.X=newFormat(i,w),w.c=newFormat(t,w),{format:function(e){var t=newFormat(e+="",_);return t.parse=newParse(e,localDate),t.toString=function(){return e},t},utcFormat:function(e){var t=newFormat(e+="",w);return t.parse=newParse(e,utcDate),t.toString=function(){return e},t}}}var r={"-":"",_:" ",0:"0"},n=/^\s*\d+/,i=/^%/,o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function pad(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function requote(e){return e.replace(o,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function parseWeekdayNumber(e,t,r){var i=n.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function parseWeekNumberSunday(e,t,r){var i=n.exec(t.slice(r));return i?(e.U=+i[0],r+i[0].length):-1}function parseWeekNumberMonday(e,t,r){var i=n.exec(t.slice(r));return i?(e.W=+i[0],r+i[0].length):-1}function parseFullYear(e,t,r){var i=n.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function parseYear(e,t,r){var i=n.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function parseZone(e,t,r){var n=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function parseMonthNumber(e,t,r){var i=n.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function parseDayOfMonth(e,t,r){var i=n.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function parseDayOfYear(e,t,r){var i=n.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function parseHour24(e,t,r){var i=n.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function parseMinutes(e,t,r){var i=n.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function parseSeconds(e,t,r){var i=n.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function parseMilliseconds(e,t,r){var i=n.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function parseLiteralPercent(e,t,r){var n=i.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,r){return pad(1+t.day.count(t.year(e),e),r,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekNumberSunday(e,r){return pad(t.sunday.count(t.year(e),e),r,2)}function formatWeekdayNumber(e){return e.getDay()}function formatWeekNumberMonday(e,r){return pad(t.monday.count(t.year(e),e),r,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,r){return pad(1+t.utcDay.count(t.utcYear(e),e),r,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekNumberSunday(e,r){return pad(t.utcSunday.count(t.utcYear(e),e),r,2)}function formatUTCWeekdayNumber(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,r){return pad(t.utcMonday.count(t.utcYear(e),e),r,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}var a=locale$1({dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),s=locale$1({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","mar\xe7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","mar\xe7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]}),u=locale$1({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),l=locale$1({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),c=locale$1({dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),f=locale$1({dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),h=locale$1({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],shortDays:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]}),p=locale$1({dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kes\xe4","Hein\xe4","Elo","Syys","Loka","Marras","Joulu"]}),d=locale$1({dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],shortMonths:["jan","f\xe9v","mar","avr","mai","jui","jul","ao\xfb","sep","oct","nov","d\xe9c"]}),y=locale$1({dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],shortMonths:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."]}),g=locale$1({dateTime:"%A, %e \u05d1%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],shortDays:["\u05d0\u05f3","\u05d1\u05f3","\u05d2\u05f3","\u05d3\u05f3","\u05d4\u05f3","\u05d5\u05f3","\u05e9\u05f3"],months:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],shortMonths:["\u05d9\u05e0\u05d5\u05f3","\u05e4\u05d1\u05e8\u05f3","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05f3","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05f3","\u05e1\u05e4\u05d8\u05f3","\u05d0\u05d5\u05e7\u05f3","\u05e0\u05d5\u05d1\u05f3","\u05d3\u05e6\u05de\u05f3"]}),m=locale$1({dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"],shortDays:["V","H","K","Sze","Cs","P","Szo"],months:["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"],shortMonths:["jan.","feb.","m\xe1r.","\xe1pr.","m\xe1j.","j\xfan.","j\xfal.","aug.","szept.","okt.","nov.","dec."]}),v=locale$1({dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}),b=locale$1({dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],shortDays:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],months:["\u7766\u6708","\u5982\u6708","\u5f25\u751f","\u536f\u6708","\u7690\u6708","\u6c34\u7121\u6708","\u6587\u6708","\u8449\u6708","\u9577\u6708","\u795e\u7121\u6708","\u971c\u6708","\u5e2b\u8d70"],shortMonths:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"]}),_=locale$1({dateTime:"%Y/%m/%d %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["\uc624\uc804","\uc624\ud6c4"],days:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],shortDays:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],shortMonths:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"]}),w=locale$1({dateTime:"%A, %e %B %Y \u0433. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["\u043d\u0435\u0434\u0435\u043b\u0430","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a","\u043f\u0435\u0442\u043e\u043a","\u0441\u0430\u0431\u043e\u0442\u0430"],shortDays:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0432\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0430\u0431"],months:["\u0458\u0430\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d\u0438","\u0458\u0443\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],shortMonths:["\u0458\u0430\u043d","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0435","\u0434\u0435\u043a"]}),S=locale$1({dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]}),E=locale$1({dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","\u015ar.","Czw.","Pt.","Sob."],months:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Pa\u017adz.","Listop.","Grudz."]}),C=locale$1({dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),O=locale$1({dateTime:"%A, %e %B %Y \u0433. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],shortDays:["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],months:["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"],shortMonths:["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"]}),T=locale$1({dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"],days:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],shortDays:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]}),A=locale$1({dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["\u4e0a\u5348","\u4e0b\u5348"],days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],shortDays:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],shortMonths:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]});function formatIsoNative(e){return e.toISOString()}formatIsoNative.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},formatIsoNative.toString=function(){return"%Y-%m-%dT%H:%M:%S.%LZ"};var x=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?formatIsoNative:a.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),k=a.format,R=a.utcFormat;e.version="0.2.1",e.format=k,e.utcFormat=R,e.locale=locale$1,e.localeCaEs=s,e.localeDeCh=u,e.localeDeDe=l,e.localeEnCa=c,e.localeEnGb=f,e.localeEnUs=a,e.localeEsEs=h,e.localeFiFi=p,e.localeFrCa=d,e.localeFrFr=y,e.localeHeIl=g,e.localeHuHu=m,e.localeItIt=v,e.localeJaJp=b,e.localeKoKr=_,e.localeMkMk=w,e.localeNlNl=S,e.localePlPl=E,e.localePtBr=C,e.localeRuRu=O,e.localeSvSe=T,e.localeZhCn=A,e.isoFormat=x})(t,r("yq3M"))},Kuu2:function(e,t,r){var n,i;i=function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=6)}([function(e,t){var r="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",n=new RegExp("["+r+"]"),i=new RegExp("["+r+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&n.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e))))}},function(e,t,r){var n=r(3).mergeOpts,i=r(0),o=r(4).Output,a=r(7).Tokenizer;function remove_redundant_indentation(e,t){if(!t.multiline_frame&&t.mode!==c.ForInitializer&&t.mode!==c.Conditional){var r=t.start_line_index;e.remove_indent(r)}}function in_array(e,t){for(var r=0;r<t.length;r+=1)if(t[r]===e)return!0;return!1}var s=["before-newline","after-newline","preserve-newline"],u=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].replace(/-/g,"_")]=e[r];return t}(s),l=[u.before_newline,u.preserve_newline],c={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};e.exports.Beautifier=function(e,t){"use strict";var r,f,h,p,d,y,g,m,v,b,_,w,S,E=[],C="";function create_flags(e,t){var n=0;return e&&(n=e.indentation_level,!r.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:r.get_line_number(),ternary_depth:0}}w={TK_START_EXPR:function(){start_of_statement()||handle_whitespace_and_comments(p);var e=c.Expression;if("["===p.text){if("TK_WORD"===d||")"===m.last_text)return"TK_RESERVED"===d&&in_array(m.last_text,h.line_starters)&&(r.space_before_token=!0),set_mode(e),print_token(),indent(),void(S.space_in_paren&&(r.space_before_token=!0));e=c.ArrayLiteral,is_array(m.mode)&&("["!==m.last_text&&(","!==m.last_text||"]"!==y&&"}"!==y)||S.keep_array_indentation||print_newline())}else"TK_RESERVED"===d&&"for"===m.last_text?e=c.ForInitializer:"TK_RESERVED"===d&&in_array(m.last_text,["if","while"])&&(e=c.Conditional);";"===m.last_text||"TK_START_BLOCK"===d?print_newline():"TK_END_EXPR"===d||"TK_START_EXPR"===d||"TK_END_BLOCK"===d||"."===m.last_text?allow_wrap_or_preserved_newline(p.wanted_newline):"TK_RESERVED"===d&&"("===p.text||"TK_WORD"===d||"TK_OPERATOR"===d?"TK_RESERVED"===d&&("function"===m.last_word||"typeof"===m.last_word)||"*"===m.last_text&&(in_array(y,["function","yield"])||m.mode===c.ObjectLiteral&&in_array(y,["{",","]))?S.space_after_anon_function&&(r.space_before_token=!0):"TK_RESERVED"!==d||!in_array(m.last_text,h.line_starters)&&"catch"!==m.last_text||S.space_before_conditional&&(r.space_before_token=!0):r.space_before_token=!0,"("===p.text&&"TK_RESERVED"===d&&in_array(m.last_word,["await","async"])&&(r.space_before_token=!0),"("===p.text&&("TK_EQUALS"!==d&&"TK_OPERATOR"!==d||start_of_object_property()||allow_wrap_or_preserved_newline()),"("===p.text&&"TK_WORD"!==d&&"TK_RESERVED"!==d&&allow_wrap_or_preserved_newline(),set_mode(e),print_token(),S.space_in_paren&&(r.space_before_token=!0),indent()},TK_END_EXPR:function(){for(;m.mode===c.Statement;)restore_mode();handle_whitespace_and_comments(p),m.multiline_frame&&allow_wrap_or_preserved_newline("]"===p.text&&is_array(m.mode)&&!S.keep_array_indentation),S.space_in_paren&&("TK_START_EXPR"!==d||S.space_in_empty_paren?r.space_before_token=!0:(r.trim(),r.space_before_token=!1)),"]"===p.text&&S.keep_array_indentation?(print_token(),restore_mode()):(restore_mode(),print_token()),remove_redundant_indentation(r,v),m.do_while&&v.mode===c.Conditional&&(v.mode=c.Expression,m.do_block=!1,m.do_while=!1)},TK_START_BLOCK:function(){handle_whitespace_and_comments(p);var e=get_token(1),t=get_token(2);t&&(in_array(t.text,[":",","])&&in_array(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||in_array(e.text,["get","set","..."])&&in_array(t.type,["TK_WORD","TK_RESERVED"]))?in_array(y,["class","interface"])?set_mode(c.BlockStatement):set_mode(c.ObjectLiteral):"TK_OPERATOR"===d&&"=>"===m.last_text?set_mode(c.BlockStatement):in_array(d,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===d&&in_array(m.last_text,["return","throw","import","default"])?set_mode(c.ObjectLiteral):set_mode(c.BlockStatement);var n=!e.comments_before.length&&"}"===e.text&&"function"===m.last_word&&"TK_END_EXPR"===d;if(S.brace_preserve_inline){var i=0,o=null;m.inline_frame=!0;do{if((o=get_token(i+=1)).wanted_newline){m.inline_frame=!1;break}}while("TK_EOF"!==o.type&&("TK_END_BLOCK"!==o.type||o.opened!==p))}("expand"===S.brace_style||"none"===S.brace_style&&p.wanted_newline)&&!m.inline_frame?"TK_OPERATOR"!==d&&(n||"TK_EQUALS"===d||"TK_RESERVED"===d&&is_special_word(m.last_text)&&"else"!==m.last_text)?r.space_before_token=!0:print_newline(!1,!0):(!is_array(v.mode)||"TK_START_EXPR"!==d&&"TK_COMMA"!==d||(("TK_COMMA"===d||S.space_in_paren)&&(r.space_before_token=!0),("TK_COMMA"===d||"TK_START_EXPR"===d&&m.inline_frame)&&(allow_wrap_or_preserved_newline(),v.multiline_frame=v.multiline_frame||m.multiline_frame,m.multiline_frame=!1)),"TK_OPERATOR"!==d&&"TK_START_EXPR"!==d&&("TK_START_BLOCK"!==d||m.inline_frame?r.space_before_token=!0:print_newline())),print_token(),indent()},TK_END_BLOCK:function(){for(handle_whitespace_and_comments(p);m.mode===c.Statement;)restore_mode();var e="TK_START_BLOCK"===d;m.inline_frame&&!e?r.space_before_token=!0:"expand"===S.brace_style?e||print_newline():e||(is_array(m.mode)&&S.keep_array_indentation?(S.keep_array_indentation=!1,print_newline(),S.keep_array_indentation=!0):print_newline()),restore_mode(),print_token()},TK_WORD:handle_word,TK_RESERVED:handle_word,TK_SEMICOLON:function(){start_of_statement()?r.space_before_token=!1:handle_whitespace_and_comments(p);for(var e=get_token(1);!(m.mode!==c.Statement||m.if_block&&e&&"TK_RESERVED"===e.type&&"else"===e.text||m.do_block);)restore_mode();m.import_block&&(m.import_block=!1),print_token()},TK_STRING:function(){start_of_statement()?r.space_before_token=!0:(handle_whitespace_and_comments(p),"TK_RESERVED"===d||"TK_WORD"===d||m.inline_frame?r.space_before_token=!0:"TK_COMMA"===d||"TK_START_EXPR"===d||"TK_EQUALS"===d||"TK_OPERATOR"===d?start_of_object_property()||allow_wrap_or_preserved_newline():print_newline()),print_token()},TK_EQUALS:function(){start_of_statement()||handle_whitespace_and_comments(p),m.declaration_statement&&(m.declaration_assignment=!0),r.space_before_token=!0,print_token(),r.space_before_token=!0},TK_OPERATOR:function(){var e="*"===p.text&&("TK_RESERVED"===d&&in_array(m.last_text,["function","yield"])||in_array(d,["TK_START_BLOCK","TK_COMMA","TK_END_BLOCK","TK_SEMICOLON"])),t=in_array(p.text,["-","+"])&&(in_array(d,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||in_array(m.last_text,h.line_starters)||","===m.last_text);if(start_of_statement());else{var n=!e;handle_whitespace_and_comments(p,n)}if("TK_RESERVED"===d&&is_special_word(m.last_text))return r.space_before_token=!0,void print_token();if("*"!==p.text||"TK_DOT"!==d)if("::"!==p.text){if("TK_OPERATOR"===d&&in_array(S.operator_position,l)&&allow_wrap_or_preserved_newline(),":"===p.text&&m.in_case)return m.case_body=!0,indent(),print_token(),print_newline(),void(m.in_case=!1);var i=!0,o=!0,a=!1;if(":"===p.text?0===m.ternary_depth?i=!1:(m.ternary_depth-=1,a=!0):"?"===p.text&&(m.ternary_depth+=1),!t&&!e&&S.preserve_newlines&&in_array(p.text,h.positionable_operators)){var s=":"===p.text,f=s&&a,y=s&&!a;switch(S.operator_position){case u.before_newline:return r.space_before_token=!y,print_token(),s&&!f||allow_wrap_or_preserved_newline(),void(r.space_before_token=!0);case u.after_newline:return r.space_before_token=!0,!s||f?get_token(1).wanted_newline?print_newline(!1,!0):allow_wrap_or_preserved_newline():r.space_before_token=!1,print_token(),void(r.space_before_token=!0);case u.preserve_newline:return y||allow_wrap_or_preserved_newline(),i=!(r.just_added_newline()||y),r.space_before_token=i,print_token(),void(r.space_before_token=!0)}}if(e){allow_wrap_or_preserved_newline(),i=!1;var g=get_token(1);o=g&&in_array(g.type,["TK_WORD","TK_RESERVED"])}else"..."===p.text?(allow_wrap_or_preserved_newline(),i="TK_START_BLOCK"===d,o=!1):(in_array(p.text,["--","++","!","~"])||t)&&(i=!1,o=!1,!p.wanted_newline||"--"!==p.text&&"++"!==p.text||print_newline(!1,!0),";"===m.last_text&&is_expression(m.mode)&&(i=!0),"TK_RESERVED"===d?i=!0:"TK_END_EXPR"===d?i=!("]"===m.last_text&&("--"===p.text||"++"===p.text)):"TK_OPERATOR"===d&&(i=in_array(p.text,["--","-","++","+"])&&in_array(m.last_text,["--","-","++","+"]),in_array(p.text,["+","-"])&&in_array(m.last_text,["--","++"])&&(o=!0)),(m.mode!==c.BlockStatement||m.inline_frame)&&m.mode!==c.Statement||"{"!==m.last_text&&";"!==m.last_text||print_newline());r.space_before_token=r.space_before_token||i,print_token(),r.space_before_token=o}else print_token();else print_token()},TK_COMMA:function(){handle_whitespace_and_comments(p,!0),print_token(),r.space_before_token=!0,m.declaration_statement?(is_expression(m.parent.mode)&&(m.declaration_assignment=!1),m.declaration_assignment?(m.declaration_assignment=!1,print_newline(!1,!0)):S.comma_first&&allow_wrap_or_preserved_newline()):m.mode===c.ObjectLiteral||m.mode===c.Statement&&m.parent.mode===c.ObjectLiteral?(m.mode===c.Statement&&restore_mode(),m.inline_frame||print_newline()):S.comma_first&&allow_wrap_or_preserved_newline()},TK_BLOCK_COMMENT:function(e){if(r.raw)return r.add_raw_token(p),void(p.directives&&"end"===p.directives.preserve&&(r.raw=S.test_output_raw));if(p.directives)return print_newline(!1,e),print_token(),"start"===p.directives.preserve&&(r.raw=!0),void print_newline(!1,!0);if(!i.newline.test(p.text)&&!p.wanted_newline)return r.space_before_token=!0,print_token(),void(r.space_before_token=!0);var t,n=function(e){for(var t=[],r=(e=e.replace(i.allLineBreaks,"\n")).indexOf("\n");-1!==r;)t.push(e.substring(0,r)),e=e.substring(r+1),r=e.indexOf("\n");return e.length&&t.push(e),t}(p.text),o=!1,a=!1,s=p.whitespace_before,u=s.length;for(print_newline(!1,e),n.length>1&&(o=function(e,t){for(var r=0;r<e.length;r++){var n=e[r].replace(/^\s+|\s+$/g,"");if(n.charAt(0)!==t)return!1}return!0}(n.slice(1),"*"),a=function(e,t){for(var r,n=0,i=e.length;n<i;n++)if((r=e[n])&&0!==r.indexOf(t))return!1;return!0}(n.slice(1),s)),print_token(n[0]),t=1;t<n.length;t++)print_newline(!1,!0),o?print_token(" "+n[t].replace(/^\s+/g,"")):a&&n[t].length>u?print_token(n[t].substring(u)):r.add_token(n[t]);print_newline(!1,e)},TK_COMMENT:function(e){p.wanted_newline?print_newline(!1,e):r.trim(!0),r.space_before_token=!0,print_token(),print_newline(!1,e)},TK_DOT:function(){start_of_statement()||handle_whitespace_and_comments(p,!0),"TK_RESERVED"===d&&is_special_word(m.last_text)?r.space_before_token=!0:allow_wrap_or_preserved_newline(")"===m.last_text&&S.break_chained_methods),print_token()},TK_UNKNOWN:function(e){print_token(),"\n"===p.text[p.text.length-1]&&print_newline(!1,e)},TK_EOF:function(){for(;m.mode===c.Statement;)restore_mode();handle_whitespace_and_comments(p)}},t=n(t=t||{},"js"),S={},"expand-strict"===t.brace_style?t.brace_style="expand":"collapse-preserve-inline"===t.brace_style?t.brace_style="collapse,preserve-inline":void 0!==t.braces_on_own_line?t.brace_style=t.braces_on_own_line?"expand":"collapse":t.brace_style||(t.brace_style="collapse");var O=t.brace_style.split(/[^a-zA-Z0-9_\-]+/);S.brace_preserve_inline=!1,S.brace_style="collapse";for(var T=0;T<O.length;T++)"preserve-inline"===O[T]?S.brace_preserve_inline=!0:S.brace_style=O[T];for(S.indent_size=t.indent_size?parseInt(t.indent_size,10):4,S.indent_char=t.indent_char?t.indent_char:" ",S.eol=t.eol?t.eol:"auto",S.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,S.unindent_chained_methods=void 0!==t.unindent_chained_methods&&t.unindent_chained_methods,S.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,S.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),S.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,S.space_in_empty_paren=void 0!==t.space_in_empty_paren&&t.space_in_empty_paren,S.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,S.space_after_anon_function=void 0!==t.space_after_anon_function&&t.space_after_anon_function,S.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,S.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,S.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,S.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),S.e4x=void 0!==t.e4x&&t.e4x,S.end_with_newline=void 0!==t.end_with_newline&&t.end_with_newline,S.comma_first=void 0!==t.comma_first&&t.comma_first,S.operator_position=function(e){if(!in_array(e=e||u.before_newline,s))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+s+"\nYou passed in: '"+e+"'");return e}(t.operator_position),S.test_output_raw=void 0!==t.test_output_raw&&t.test_output_raw,S.jslint_happy&&(S.space_after_anon_function=!0),t.indent_with_tabs&&(S.indent_char="\t",S.indent_size=1),"auto"===S.eol&&(S.eol="\n",e&&i.lineBreak.test(e||"")&&(S.eol=e.match(i.lineBreak)[0])),S.eol=S.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),g="";S.indent_size>0;)g+=S.indent_char,S.indent_size-=1;var A=0;if(e&&e.length){for(;" "===e.charAt(A)||"\t"===e.charAt(A);)A+=1;C=e.substring(0,A),e=e.substring(A)}function handle_whitespace_and_comments(e,t){for(var r=e.newlines,n=S.keep_array_indentation&&is_array(m.mode),i=p,o=0;o<e.comments_before.length;o++)handle_whitespace_and_comments(p=e.comments_before[o],t),w[p.type](t);if(p=i,n)for(var a=0;a<r;a+=1)print_newline(a>0,t);else if(S.max_preserve_newlines&&r>S.max_preserve_newlines&&(r=S.max_preserve_newlines),S.preserve_newlines&&e.newlines>1){print_newline(!1,t);for(var s=1;s<r;s+=1)print_newline(!0,t)}}d="TK_START_BLOCK",y="",(r=new o(g,C)).raw=S.test_output_raw,b=[],set_mode(c.BlockStatement),this.beautify=function(){for(h=new a(e,S,g),E=h.tokenize(),f=0,p=get_token();p;)w[p.type](),y=m.last_text,d=p.type,m.last_text=p.text,f+=1,p=get_token();return r.get_code(S.end_with_newline,S.eol)};var x=["break","continue","return","throw","yield"];function allow_wrap_or_preserved_newline(e){if(e=void 0!==e&&e,!r.just_added_newline()){var t=S.preserve_newlines&&p.wanted_newline||e;if(in_array(m.last_text,h.positionable_operators)||in_array(p.text,h.positionable_operators)){var n=in_array(m.last_text,h.positionable_operators)&&in_array(S.operator_position,l)||in_array(p.text,h.positionable_operators);t=t&&n}if(t)print_newline(!1,!0);else if(S.wrap_line_length){if("TK_RESERVED"===d&&in_array(m.last_text,x))return;r.current_line.get_character_count()+p.text.length+(r.space_before_token?1:0)>=S.wrap_line_length&&print_newline(!1,!0)}}}function print_newline(e,t){if(!t&&";"!==m.last_text&&","!==m.last_text&&"="!==m.last_text&&"TK_OPERATOR"!==d)for(var n=get_token(1);!(m.mode!==c.Statement||m.if_block&&n&&"TK_RESERVED"===n.type&&"else"===n.text||m.do_block);)restore_mode();r.add_new_line(e)&&(m.multiline_frame=!0)}function print_token_line_indentation(){r.just_added_newline()&&(S.keep_array_indentation&&is_array(m.mode)&&p.wanted_newline?(r.current_line.push(p.whitespace_before),r.space_before_token=!1):r.set_indent(m.indentation_level)&&(m.line_indent_level=m.indentation_level))}function print_token(e){if(r.raw)r.add_raw_token(p);else{if(S.comma_first&&"TK_COMMA"===d&&r.just_added_newline()&&","===r.previous_line.last()){var t=r.previous_line.pop();r.previous_line.is_empty()&&(r.previous_line.push(t),r.trim(!0),r.current_line.pop(),r.trim()),print_token_line_indentation(),r.add_token(","),r.space_before_token=!0}e=e||p.text,print_token_line_indentation(),r.add_token(e)}}function indent(){m.indentation_level+=1}function set_mode(e){m?(b.push(m),v=m):v=create_flags(null,e),m=create_flags(v,e)}function is_array(e){return e===c.ArrayLiteral}function is_expression(e){return in_array(e,[c.Expression,c.ForInitializer,c.Conditional])}function restore_mode(){b.length>0&&(v=m,m=b.pop(),v.mode!==c.Statement||S.unindent_chained_methods||remove_redundant_indentation(r,v))}function start_of_object_property(){return m.parent.mode===c.ObjectLiteral&&m.mode===c.Statement&&(":"===m.last_text&&0===m.ternary_depth||"TK_RESERVED"===d&&in_array(m.last_text,["get","set"]))}function start_of_statement(){return!!("TK_RESERVED"===d&&in_array(m.last_text,["var","let","const"])&&"TK_WORD"===p.type||"TK_RESERVED"===d&&"do"===m.last_text||"TK_RESERVED"===d&&in_array(m.last_text,x)&&!p.wanted_newline||"TK_RESERVED"===d&&"else"===m.last_text&&("TK_RESERVED"!==p.type||"if"!==p.text||p.comments_before.length)||"TK_END_EXPR"===d&&(v.mode===c.ForInitializer||v.mode===c.Conditional)||"TK_WORD"===d&&m.mode===c.BlockStatement&&!m.in_case&&"--"!==p.text&&"++"!==p.text&&"function"!==y&&"TK_WORD"!==p.type&&"TK_RESERVED"!==p.type||m.mode===c.ObjectLiteral&&(":"===m.last_text&&0===m.ternary_depth||"TK_RESERVED"===d&&in_array(m.last_text,["get","set"])))&&(set_mode(c.Statement),S.unindent_chained_methods||indent(),handle_whitespace_and_comments(p,!0),start_of_object_property()||allow_wrap_or_preserved_newline("TK_RESERVED"===p.type&&in_array(p.text,["do","for","if","while"])),!0)}function is_special_word(e){return in_array(e,["case","return","do","if","throw","else"])}function get_token(e){var t=f+(e||0);return t<0||t>=E.length?null:E[t]}function handle_word(){if("TK_RESERVED"===p.type&&(in_array(p.text,["set","get"])&&m.mode!==c.ObjectLiteral?p.type="TK_WORD":in_array(p.text,["as","from"])&&!m.import_block?p.type="TK_WORD":m.mode===c.ObjectLiteral&&":"===get_token(1).text&&(p.type="TK_WORD")),start_of_statement()?"TK_RESERVED"===d&&in_array(m.last_text,["var","let","const"])&&"TK_WORD"===p.type&&(m.declaration_statement=!0):!p.wanted_newline||is_expression(m.mode)||"TK_OPERATOR"===d&&"--"!==m.last_text&&"++"!==m.last_text||"TK_EQUALS"===d||!S.preserve_newlines&&"TK_RESERVED"===d&&in_array(m.last_text,["var","let","const","set","get"])?handle_whitespace_and_comments(p):(handle_whitespace_and_comments(p),print_newline()),m.do_block&&!m.do_while){if("TK_RESERVED"===p.type&&"while"===p.text)return r.space_before_token=!0,print_token(),r.space_before_token=!0,void(m.do_while=!0);print_newline(),m.do_block=!1}if(m.if_block)if(m.else_block||"TK_RESERVED"!==p.type||"else"!==p.text){for(;m.mode===c.Statement;)restore_mode();m.if_block=!1,m.else_block=!1}else m.else_block=!0;return"TK_RESERVED"===p.type&&("case"===p.text||"default"===p.text&&m.in_case_statement)?(print_newline(),(m.case_body||S.jslint_happy)&&(m.indentation_level>0&&(!m.parent||m.indentation_level>m.parent.indentation_level)&&(m.indentation_level-=1),m.case_body=!1),print_token(),m.in_case=!0,void(m.in_case_statement=!0)):("TK_COMMA"!==d&&"TK_START_EXPR"!==d&&"TK_EQUALS"!==d&&"TK_OPERATOR"!==d||start_of_object_property()||allow_wrap_or_preserved_newline(),"TK_RESERVED"===p.type&&"function"===p.text?((in_array(m.last_text,["}",";"])||r.just_added_newline()&&!in_array(m.last_text,["(","[","{",":","=",","])&&"TK_OPERATOR"!==d)&&(r.just_added_blankline()||p.comments_before.length||(print_newline(),print_newline(!0))),"TK_RESERVED"===d||"TK_WORD"===d?"TK_RESERVED"===d&&(in_array(m.last_text,["get","set","new","export","async"])||in_array(m.last_text,x))?r.space_before_token=!0:"TK_RESERVED"===d&&"default"===m.last_text&&"export"===y?r.space_before_token=!0:print_newline():"TK_OPERATOR"===d||"="===m.last_text?r.space_before_token=!0:(m.multiline_frame||!is_expression(m.mode)&&!is_array(m.mode))&&print_newline(),print_token(),void(m.last_word=p.text)):(_="NONE","TK_END_BLOCK"===d?v.inline_frame?_="SPACE":"TK_RESERVED"===p.type&&in_array(p.text,["else","catch","finally","from"])?"expand"===S.brace_style||"end-expand"===S.brace_style||"none"===S.brace_style&&p.wanted_newline?_="NEWLINE":(_="SPACE",r.space_before_token=!0):_="NEWLINE":"TK_SEMICOLON"===d&&m.mode===c.BlockStatement?_="NEWLINE":"TK_SEMICOLON"===d&&is_expression(m.mode)?_="SPACE":"TK_STRING"===d?_="NEWLINE":"TK_RESERVED"===d||"TK_WORD"===d||"*"===m.last_text&&(in_array(y,["function","yield"])||m.mode===c.ObjectLiteral&&in_array(y,["{",","]))?_="SPACE":"TK_START_BLOCK"===d?_=m.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===d&&(r.space_before_token=!0,_="NEWLINE"),"TK_RESERVED"===p.type&&in_array(p.text,h.line_starters)&&")"!==m.last_text&&(_=m.inline_frame||"else"===m.last_text||"export"===m.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===p.type&&in_array(p.text,["else","catch","finally"])?("TK_END_BLOCK"!==d||v.mode!==c.BlockStatement||"expand"===S.brace_style||"end-expand"===S.brace_style||"none"===S.brace_style&&p.wanted_newline)&&!m.inline_frame?print_newline():(r.trim(!0),"}"!==r.current_line.last()&&print_newline(),r.space_before_token=!0):"NEWLINE"===_?"TK_RESERVED"===d&&is_special_word(m.last_text)?r.space_before_token=!0:"TK_END_EXPR"!==d?"TK_START_EXPR"===d&&"TK_RESERVED"===p.type&&in_array(p.text,["var","let","const"])||":"===m.last_text||("TK_RESERVED"===p.type&&"if"===p.text&&"else"===m.last_text?r.space_before_token=!0:print_newline()):"TK_RESERVED"===p.type&&in_array(p.text,h.line_starters)&&")"!==m.last_text&&print_newline():m.multiline_frame&&is_array(m.mode)&&","===m.last_text&&"}"===y?print_newline():"SPACE"===_&&(r.space_before_token=!0),print_token(),m.last_word=p.text,void("TK_RESERVED"===p.type&&("do"===p.text?m.do_block=!0:"if"===p.text?m.if_block=!0:"import"===p.text?m.import_block=!0:m.import_block&&"TK_RESERVED"===p.type&&"from"===p.text&&(m.import_block=!1)))))}}},function(e,t){e.exports.InputScanner=function(e){var t=e,r=t.length,n=0;this.back=function(){n-=1},this.hasNext=function(){return n<r},this.next=function(){var e=null;return this.hasNext()&&(e=t.charAt(n),n+=1),e},this.peek=function(e){var i=null;return e=e||0,(e+=n)>=0&&e<r&&(i=t.charAt(e)),i},this.peekCharCode=function(e){var i=0;return e=e||0,(e+=n)>=0&&e<r&&(i=t.charCodeAt(e)),i},this.test=function(e,r){return r=r||0,e.lastIndex=n+r,e.test(t)},this.testChar=function(e,t){var r=this.peek(t);return null!==r&&e.test(r)},this.match=function(e){e.lastIndex=n;var r=e.exec(t);return r&&r.index===n?n+=r[0].length:r=null,r}}},function(e,t){e.exports.mergeOpts=function(e,t){var r,n={};for(r in e)r!==t&&(n[r]=e[r]);if(t in e)for(r in e[t])n[r]=e[t][r];return n}},function(e,t){e.exports.Output=function(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var r=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(e){var t=0,r=-1,n=[],i=!0;this.set_indent=function(n){t=e.baseIndentLength+n*e.indent_length,r=n},this.get_character_count=function(){return t},this.is_empty=function(){return i},this.last=function(){return this._empty?null:n[n.length-1]},this.push=function(e){n.push(e),t+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=n.pop(),t-=e.length,i=0===n.length),e},this.remove_indent=function(){r>0&&(r-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)n.pop(),t-=1;i=0===n.length},this.toString=function(){var t="";return this._empty||(r>=0&&(t=e.indent_cache[r]),t+=n.join("")),t}}(this),r.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return r.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var n=r.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(n+="\n"),"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},this.set_indent=function(e){if(r.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=r.length;e<t;)r[e].remove_indent(),e++},this.trim=function(n){for(n=void 0!==n&&n,this.current_line.trim(e,t);n&&r.length>1&&this.current_line.is_empty();)r.pop(),this.current_line=r[r.length-1],this.current_line.trim();this.previous_line=r.length>1?r[r.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===r.length||r[r.length-2].is_empty())}}},function(e,t){e.exports.Token=function(e,t,r,n,i){this.type=e,this.text=t,this.comments_before=[],this.comments_after=[],this.newlines=r||0,this.wanted_newline=r>0,this.whitespace_before=n||"",this.parent=i||null,this.opened=null,this.directives=null}},function(e,t,r){var n=r(1).Beautifier;e.exports=function(e,t){return new n(e,t).beautify()}},function(e,t,r){var n=r(2).InputScanner,i=r(5).Token,o=r(0);function in_array(e,t){for(var r=0;r<t.length;r+=1)if(t[r]===e)return!0;return!1}e.exports.Tokenizer=function(e,t){var r="\n\r\t ".split(""),a=/[0-9]/,s=/[01]/,u=/[01234567]/,l=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var c=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var f,h,p,d,y,g=this.line_starters.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),m=/([\s\S]*?)((?:\*\/)|$)/g,v=/([^\n\r\u2028\u2029]*)/g,b=/\/\* beautify( \w+[:]\w+)+ \*\//g,_=/ (\w+)[:](\w+)/g,w=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,S=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function tokenize_next(){var e,E=[];f=0,h="";var C,O=y.next();if(null===O)return["","TK_EOF"];for(C=d.length?d[d.length-1]:new i("TK_START_BLOCK","{");in_array(O,r);)if(o.newline.test(O)?"\n"===O&&"\r"===y.peek(-2)||(f+=1,E=[]):E.push(O),null===(O=y.next()))return["","TK_EOF"];if(E.length&&(h=E.join("")),a.test(O)||"."===O&&y.testChar(a)){var T=!0,A=!0,x=a;for("0"===O&&y.testChar(/[XxOoBb]/)?(T=!1,A=!1,x=y.testChar(/[Bb]/)?s:y.testChar(/[Oo]/)?u:l,O+=y.next()):"."===O?T=!1:(O="",y.back());y.testChar(x);)O+=y.next(),T&&"."===y.peek()&&(O+=y.next(),T=!1),A&&y.testChar(/[Ee]/)&&(O+=y.next(),y.testChar(/[+-]/)&&(O+=y.next()),A=!1,T=!1);return[O,"TK_WORD"]}if(o.isIdentifierStart(y.peekCharCode(-1))){if(y.hasNext())for(;o.isIdentifierChar(y.peekCharCode())&&(O+=y.next(),y.hasNext()););return"TK_DOT"===C.type||"TK_RESERVED"===C.type&&in_array(C.text,["set","get"])||!in_array(O,g)?[O,"TK_WORD"]:"in"===O||"of"===O?[O,"TK_OPERATOR"]:[O,"TK_RESERVED"]}if("("===O||"["===O)return[O,"TK_START_EXPR"];if(")"===O||"]"===O)return[O,"TK_END_EXPR"];if("{"===O)return[O,"TK_START_BLOCK"];if("}"===O)return[O,"TK_END_BLOCK"];if(";"===O)return[O,"TK_SEMICOLON"];if("/"===O){var k="";if("*"===y.peek()){y.next();var R=function(e){if(!e.match(b))return null;var t={};_.lastIndex=0;for(var r=_.exec(e);r;)t[r[1]]=r[2],r=_.exec(e);return t}(k="/*"+y.match(m)[0]);return R&&"start"===R.ignore&&(k+=y.match(w)[0]),[k=k.replace(o.allLineBreaks,"\n"),"TK_BLOCK_COMMENT",R]}if("/"===y.peek())return y.next(),[k="//"+y.match(v)[0],"TK_COMMENT"]}var P,D=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;if("`"===O||"'"===O||'"'===O||("/"===O||t.e4x&&"<"===O&&y.test(D,-1))&&("TK_RESERVED"===C.type&&in_array(C.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===C.type&&")"===C.text&&C.parent&&"TK_RESERVED"===C.parent.type&&in_array(C.parent.text,["if","while","for"])||in_array(C.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var M=O,F=!1,N=!1;if(e=O,"/"===M)for(var I=!1;y.hasNext()&&(F||I||y.peek()!==M)&&!y.testChar(o.newline);)e+=y.peek(),F?F=!1:(F="\\"===y.peek(),"["===y.peek()?I=!0:"]"===y.peek()&&(I=!1)),y.next();else if(t.e4x&&"<"===M){var j=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;y.back();var L="",B=y.match(D);if(B){for(var H=B[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),U=0===H.indexOf("{"),q=0;B;){var V=!!B[1],W=B[2];if(!(B[B.length-1]||"![CDATA["===W.slice(0,8))&&(W===H||U&&W.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(V?--q:++q),L+=B[0],q<=0)break;B=y.match(j)}return B||(L+=y.match(/[\s\S]*/g)[0]),[L=L.replace(o.allLineBreaks,"\n"),"TK_STRING"]}}else{var z=function(t,r,n){for(var i;y.hasNext()&&(i=y.peek(),F||i!==t&&(r||!o.newline.test(i)));)(F||r)&&o.newline.test(i)?("\r"===i&&"\n"===y.peek(1)&&(y.next(),i=y.peek()),e+="\n"):e+=i,F?("x"!==i&&"u"!==i||(N=!0),F=!1):F="\\"===i,y.next(),n&&-1!==e.indexOf(n,e.length-n.length)&&("`"===t?z("}",r,"`"):z("`",r,"${"),y.hasNext()&&(e+=y.next()))};"`"===M?z("`",!0,"${"):z(M)}if(N&&t.unescape_strings&&(e=function(e){for(var t="",r=0,i=new n(e),o=null;i.hasNext();)if((o=i.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=o[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())o=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){t+="\\",i.hasNext()&&(t+=i.next());continue}o=i.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return e;if((r=parseInt(o[1],16))>126&&r<=255&&0===o[0].indexOf("x"))return e;if(r>=0&&r<32){t+="\\"+o[0];continue}t+=34===r||39===r||92===r?"\\"+String.fromCharCode(r):String.fromCharCode(r)}return t}(e)),y.peek()===M&&(e+=M,y.next(),"/"===M))for(;y.hasNext()&&o.isIdentifierStart(y.peekCharCode());)e+=y.next();return[e,"TK_STRING"]}if("#"===O){if(0===d.length&&"!"===y.peek()){for(e=O;y.hasNext()&&"\n"!==O;)O=y.next(),e+=O;return[(P=e,P.replace(/^\s+|\s+$/g,"")+"\n"),"TK_UNKNOWN"]}var Y="#";if(y.hasNext()&&y.testChar(a)){do{Y+=O=y.next()}while(y.hasNext()&&"#"!==O&&"="!==O);return"#"===O||("["===y.peek()&&"]"===y.peek(1)?(Y+="[]",y.next(),y.next()):"{"===y.peek()&&"}"===y.peek(1)&&(Y+="{}",y.next(),y.next())),[Y,"TK_WORD"]}}if("<"===O&&("?"===y.peek()||"%"===y.peek())){y.back();var $=y.match(S);if($)return[O=(O=$[0]).replace(o.allLineBreaks,"\n"),"TK_STRING"]}if("<"===O&&y.match(/\!--/g)){for(O="\x3c!--";y.hasNext()&&!y.testChar(o.newline);)O+=y.next();return p=!0,[O,"TK_COMMENT"]}if("-"===O&&p&&y.match(/->/g))return p=!1,["--\x3e","TK_COMMENT"];if("."===O)return"."===y.peek()&&"."===y.peek(1)?[O+=y.next()+y.next(),"TK_OPERATOR"]:[O,"TK_DOT"];if(in_array(O,c)){for(;y.hasNext()&&in_array(O+y.peek(),c)&&(O+=y.next(),y.hasNext()););return","===O?[O,"TK_COMMA"]:"="===O?[O,"TK_EQUALS"]:[O,"TK_OPERATOR"]}return[O,"TK_UNKNOWN"]}this.tokenize=function(){var t,r,o;y=new n(e),p=!1,d=[];for(var a=null,s=[],u=[];!r||"TK_EOF"!==r.type;){for(o=tokenize_next(),t=new i(o[1],o[0],f,h);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=o[2]),u.push(t),o=tokenize_next(),t=new i(o[1],o[0],f,h);u.length&&(t.comments_before=u,u=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=r,s.push(a),a=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&a&&("]"===t.text&&"["===a.text||")"===t.text&&"("===a.text||"}"===t.text&&"{"===a.text)&&(t.parent=a.parent,t.opened=a,a=s.pop()),d.push(t),r=t}return d}}}]),void 0===(n=(function(){return{js_beautify:i}}).apply(t,[]))||(e.exports=n)},Kw1N:function(e,t,r){"use strict";var n=r("vMJw");t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeScan(e,t,r)(this)}},L0Xl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function DomainResult(e){this._query=e,this._domains=new Map}return Object.defineProperty(DomainResult.prototype,"domains",{get:function(){return this._domains},enumerable:!0,configurable:!0}),DomainResult.prototype.getDomain=function(e){return this.domains.get(e)},DomainResult.prototype.addDomain=function(e,t){this.domains.set(e,t)},DomainResult}();t.DomainResult=n},L6ih:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("33Jt");t.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?new o.EmptyObservable:e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}};var a=function(){function RepeatOperator(e,t){this.count=e,this.source=t}return RepeatOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},RepeatOperator}(),s=function(e){function RepeatSubscriber(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(RepeatSubscriber,e),RepeatSubscriber.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},RepeatSubscriber}(i.Subscriber)},LGJh:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("BG6I"),o=r("I9Xa"),a=r("cp1M"),s=r("GsTu"),u=function(e){function Subscriber(t,r,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!t){this.destination=a.empty;break}if("object"==typeof t){if(isTrustedSubscriber(t)){var i=t[s.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,r,n)}}return n(Subscriber,e),Subscriber.prototype[s.rxSubscriber]=function(){return this},Subscriber.create=function(e,t,r){var n=new Subscriber(e,t,r);return n.syncErrorThrowable=!1,n},Subscriber.prototype.next=function(e){this.isStopped||this._next(e)},Subscriber.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(e){this.destination.next(e)},Subscriber.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},Subscriber}(o.Subscription);t.Subscriber=u;var l=function(e){function SafeSubscriber(t,r,n,o){var s;e.call(this),this._parentSubscriber=t;var u=this;i.isFunction(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==a.empty&&(u=Object.create(r),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}return n(SafeSubscriber,e),SafeSubscriber.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},SafeSubscriber.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},SafeSubscriber.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},SafeSubscriber}(u);function isTrustedSubscriber(e){return e instanceof u||"syncErrorThrowable"in e&&e[s.rxSubscriber]}},LGff:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LINEAR="LINEAR",e.ORDINAL="ORDINAL"}(t.ScaleType||(t.ScaleType={}))},LIE7:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("/YdO"),o=r("iZmh"),a=r("ejt7"),s=r("uH7x"),u=r("UbjR");!function(e){e.matches=function(e){return i.Node.isAccess(o.Tree.root(e))},e.name=function(e){return e.ref.name},e.parsed=function(e,t){var r=o.Tree.root(t);switch(r.type){case i.Node.Type.AccessIdentifier:case i.Node.Type.AccessExpression:var l=s.Reference.makeFromNode(r),c=a.Expression.Form.Access,f=a.Expression.State.Parsed;return n({},e,{tree:t,form:c,ref:l,state:f});default:return u.Generic.parsed(e,t)}},e.compiled=function(e,t){return n({},e,{type:t,state:a.Expression.State.Compiled})}}(t.Access||(t.Access={}))},LM6W:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.switchMap=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function SwitchMapOperator(e,t){this.project=e,this.resultSelector=t}return SwitchMapOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector))},SwitchMapOperator}(),s=function(e){function SwitchMapSubscriber(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.index=0}return n(SwitchMapSubscriber,e),SwitchMapSubscriber.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},SwitchMapSubscriber.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,e,t,r))},SwitchMapSubscriber.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapSubscriber.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},SwitchMapSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)},SwitchMapSubscriber.prototype._tryNotifyNext=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},SwitchMapSubscriber}(i.OuterSubscriber)},LOiI:function(e,t,r){"use strict";var n=r("CsEb"),i=r("Gf6Z"),o=r("P23m"),a=r("oqNA");t.windowTime=function(e){var t=n.async,r=null,s=Number.POSITIVE_INFINITY;return o.isScheduler(arguments[3])&&(t=arguments[3]),o.isScheduler(arguments[2])?t=arguments[2]:i.isNumeric(arguments[2])&&(s=arguments[2]),o.isScheduler(arguments[1])?t=arguments[1]:i.isNumeric(arguments[1])&&(r=arguments[1]),a.windowTime(e,r,s,t)(this)}},LRef:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("vXch"),a=r("Wm/D"),s=function(e){function XAxis(t,r,n,i){var o=e.call(this,a.AxisType.X,n.name)||this;return o._table=t,o._parent=r,o._field=i,o}return i(XAxis,e),Object.defineProperty(XAxis.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(XAxis.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(XAxis.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),XAxis.prototype.getGrid=function(){return!1},XAxis.prototype.getFormat=function(){return"s"},XAxis.prototype.getFormatType=function(){return"number"},XAxis.prototype.getOffset=function(){return-1*this.parent.getHeight()+1},XAxis.prototype.getTicks=function(){return 2},XAxis.prototype.getTitle=function(){return this.field.name},XAxis.prototype.getTitleOffset=function(){return this.parent.getHeight()-10},XAxis.prototype.getProperties=function(){return{axis:{stroke:{value:"transparent"}},labels:{text:[{test:"datum.data == 0",template:"0"}],baseline:{value:"middle"},dx:[{test:"datum.data == 0",value:6}],dy:{value:5},fill:{value:"#666666"},fontSize:{value:12},fontWeight:{value:"100"}},ticks:{stroke:[{test:"datum.data == 0",value:"transparent"},{value:"#eeeeee"}]},title:{text:this.getTitleText(),fill:{value:"#666666"},fontSize:{value:12},fontWeight:{value:"400"}}}},XAxis.prototype.getTitleText=function(){var e=this.table.cellWidth;return[{test:"length(datum.data) <= "+e+" / 10",template:"{{ datum.data | trim }}"},{test:e+" >= 24 * 10",template:"{{ datum.data | trim | truncate: 24 }}"},{test:e+" >= 18 * 10",template:"{{ datum.data | trim | truncate: 18 }}"},{test:e+" >= 12 * 10",template:"{{ datum.data | trim | truncate: 12 }}"},{test:e+" >= 10 * 10",template:"{{ datum.data | trim | truncate: 10 }}"},{test:e+" >= 8 * 10",template:"{{ datum.data | trim | truncate: 8 }}"},{test:e+" >= 6 * 10",template:"{{ datum.data | trim | truncate: 6 }}"},{test:e+" >= 3 * 10",template:"{{ datum.data | trim | truncate: 3 }}"},{template:""}]},XAxis}(o.Axis);t.XAxis=s},Lkik:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function QueueAction(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(QueueAction,e),QueueAction.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},QueueAction.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},QueueAction.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},QueueAction}(r("Wvrh").AsyncAction);t.QueueAction=i},Lr0R:function(e,t,r){"use strict";var n=r("CsEb"),i=r("yu95");t.timeout=function(e,t){return void 0===t&&(t=n.async),i.timeout(e,t)(this)}},LwgF:function(e,t,r){"use strict";t.identity=function(e){return e}},Lwjo:function(e,t,r){(function(e){"use strict";function noop(){}function transformAbsolute(e){if(!e)return noop;var t,r,n=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=r=0),e[0]=(t+=e[0])*n+o,e[1]=(r+=e[1])*i+a}}function bisect(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>>1;e[i]<t?r=i+1:n=i}return r}function feature$1(e,t){var r={type:"Feature",id:t.id,properties:t.properties||{},geometry:object(e,t)};return null==t.id&&delete r.id,r}function object(e,t){var r=transformAbsolute(e.transform),n=e.arcs;function arc(e,t){t.length&&t.pop();for(var i,o=n[e<0?~e:e],a=0,s=o.length;a<s;++a)t.push(i=o[a].slice()),r(i,a);e<0&&function(e,t){for(var r,n=e.length,i=n-t;i<--n;)r=e[i],e[i++]=e[n],e[n]=r}(t,s)}function point(e){return e=e.slice(),r(e,0),e}function line(e){for(var t=[],r=0,n=e.length;r<n;++r)arc(e[r],t);return t.length<2&&t.push(t[0].slice()),t}function ring(e){for(var t=line(e);t.length<4;)t.push(t[0].slice());return t}function polygon(e){return e.map(ring)}var i={Point:function(e){return point(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(point)},LineString:function(e){return line(e.arcs)},MultiLineString:function(e){return e.arcs.map(line)},Polygon:function(e){return polygon(e.arcs)},MultiPolygon:function(e){return e.arcs.map(polygon)}};return function geometry(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(geometry)}:t in i?{type:t,coordinates:i[t](e)}:null}(t)}function stitchArcs(e,t){var r={},n={},i={},o=[],a=-1;function flush(e,t){for(var n in e){var i=e[n];delete t[i.start],delete i.start,delete i.end,i.forEach(function(e){r[e<0?~e:e]=1}),o.push(i)}}return t.forEach(function(r,n){var i,o=e.arcs[r<0?~r:r];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=r,t[n]=i)}),t.forEach(function(t){var r,o,a=function(t){var r,n=e.arcs[t<0?~t:t],i=n[0];e.transform?(r=[0,0],n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]})):r=n[n.length-1];return t<0?[r,i]:[i,r]}(t),s=a[0],u=a[1];if(r=i[s])if(delete i[r.end],r.push(t),r.end=u,o=n[u]){delete n[o.start];var l=o===r?r:r.concat(o);n[l.start=r.start]=i[l.end=o.end]=l}else n[r.start]=i[r.end]=r;else if(r=n[u])if(delete n[r.start],r.unshift(t),r.start=s,o=i[s]){delete i[o.end];var c=o===r?r:o.concat(r);n[c.start=o.start]=i[c.end=r.end]=c}else n[r.start]=i[r.end]=r;else n[(r=[t]).start=s]=i[r.end=u]=r}),flush(i,n),flush(n,i),t.forEach(function(e){r[e<0?~e:e]||o.push([e])}),o}function meshArcs(e,t,r){var n=[];function arc(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:i})}function line(e){e.forEach(arc)}function polygon(e){e.forEach(line)}if(arguments.length>1){var i,o=[],a={LineString:line,MultiLineString:polygon,Polygon:polygon,MultiPolygon:function(e){e.forEach(polygon)}};!function geometry(e){"GeometryCollection"===e.type?e.geometries.forEach(geometry):e.type in a&&(i=e,a[e.type](e.arcs))}(t),o.forEach(arguments.length<3?function(e){n.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&n.push(e[0].i)})}else for(var s=0,u=e.arcs.length;s<u;++s)n.push(s);return{type:"MultiLineString",arcs:stitchArcs(e,n)}}function cartesianTriangleArea(e){var t=e[0],r=e[1],n=e[2];return Math.abs((t[0]-n[0])*(r[1]-t[1])-(t[0]-r[0])*(n[1]-t[1]))}function mergeArcs(e,t){var r={},n=[],i=[];function register(e){e.forEach(function(t){t.forEach(function(t){(r[t=t<0?~t:t]||(r[t]=[])).push(e)})}),n.push(e)}function area(t){return Math.abs(function(e){for(var t,r=-1,n=e.length,i=e[n-1],o=0;++r<n;)t=i,i=e[r],o+=t[0]*i[1]-t[1]*i[0];return o/2}(object(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}return t.forEach(function(e){"Polygon"===e.type?register(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(register)}),n.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,i.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){r[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),n.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:i.map(function(t){var n,i=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){r[e<0?~e:e].length<2&&i.push(e)})})}),(n=(i=stitchArcs(e,i)).length)>1)for(var o,a,s=1,u=area(i[0]);s<n;++s)(o=area(i[s]))>u&&(a=i[0],i[0]=i[s],i[s]=a,u=o);return i})}}function compareArea(e,t){return e[1][2]-t[1][2]}e.version="1.6.27",e.mesh=function(e){return object(e,meshArcs.apply(this,arguments))},e.meshArcs=meshArcs,e.merge=function(e){return object(e,mergeArcs.apply(this,arguments))},e.mergeArcs=mergeArcs,e.feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return feature$1(e,t)})}:feature$1(e,t)},e.neighbors=function(e){var t={},r=e.map(function(){return[]});function line(e,r){e.forEach(function(e){e<0&&(e=~e);var n=t[e];n?n.push(r):t[e]=[r]})}function polygon(e,t){e.forEach(function(e){line(e,t)})}var n={LineString:line,MultiLineString:polygon,Polygon:polygon,MultiPolygon:function(e,t){e.forEach(function(e){polygon(e,t)})}};for(var i in e.forEach(function geometry(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){geometry(e,t)}):e.type in n&&n[e.type](e.arcs,t)}),t)for(var o=t[i],a=o.length,s=0;s<a;++s)for(var u=s+1;u<a;++u){var l,c=o[s],f=o[u];(l=r[c])[i=bisect(l,f)]!==f&&l.splice(i,0,f),(l=r[f])[i=bisect(l,c)]!==c&&l.splice(i,0,c)}return r},e.presimplify=function(e,t){var r=transformAbsolute(e.transform),n=function(e){if(!e)return noop;var t,r,n=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=r=0);var u=Math.round((e[0]-o)/n),l=Math.round((e[1]-a)/i);e[0]=u-t,e[1]=l-r,t=u,r=l}}(e.transform),i=function(){var e={},t=[],r=0;function up(e,r){for(;r>0;){var n=(r+1>>1)-1,i=t[n];if(compareArea(e,i)>=0)break;t[i._=r]=i,t[e._=r=n]=e}}function down(e,n){for(;;){var i=n+1<<1,o=i-1,a=n,s=t[a];if(o<r&&compareArea(t[o],s)<0&&(s=t[a=o]),i<r&&compareArea(t[i],s)<0&&(s=t[a=i]),a===n)break;t[s._=n]=s,t[e._=n=a]=e}}return e.push=function(e){return up(t[e._=r]=e,r++),r},e.pop=function(){if(!(r<=0)){var e,n=t[0];return--r>0&&(e=t[r],down(t[e._=0]=e,0)),n}},e.remove=function(e){var n,i=e._;if(t[i]===e)return i!==--r&&(compareArea(n=t[r],e)<0?up:down)(t[n._=i]=n,i),i},e}();function update(e){i.remove(e),e[1][2]=t(e),i.push(e)}return t||(t=cartesianTriangleArea),e.arcs.forEach(function(e){var o,a,s,u,l=[],c=0;for(a=0,s=e.length;a<s;++a)u=e[a],r(e[a]=[u[0],u[1],1/0],a);for(a=1,s=e.length-1;a<s;++a)(o=e.slice(a-1,a+2))[1][2]=t(o),l.push(o),i.push(o);for(a=0,s=l.length;a<s;++a)(o=l[a]).previous=l[a-1],o.next=l[a+1];for(;o=i.pop();){var f=o.previous,h=o.next;o[1][2]<c?o[1][2]=c:c=o[1][2],f&&(f.next=h,f[2]=o[2],update(f)),h&&(h.previous=f,h[0]=o[0],update(h))}e.forEach(n)}),e},Object.defineProperty(e,"__esModule",{value:!0})})(t)},MCIp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("r6gp"),i=r("uERQ"),o=r("/TTe"),a=r("/TTe"),s=r("/TTe"),u=r("/TTe"),l=function(){function TableMarks(e,t,r){this._table=e,this._field=t,this._series=r,this._marks=new Array,this._query=new i.MQuery(e,this)}return Object.defineProperty(TableMarks.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"fields",{get:function(){return this.field.isValues?this.valueFields:[this.field]},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"alias",{get:function(){return this.field.alias},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"type",{get:function(){return this.series.type},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"color",{get:function(){return this.series.color},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"size",{get:function(){return this.series.size},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"text",{get:function(){return this.series.text},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"detail",{get:function(){return this.series.detail},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"xScaleName",{get:function(){return"x"},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"yScaleName",{get:function(){return"y"},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"colorScaleName",{get:function(){return"color"},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"sizeScaleName",{get:function(){return"size"},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"stack",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"impute",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"valueFields",{get:function(){return this.table.valueFields},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"yAxisFields",{get:function(){return[].concat(this.table.yAxisFields,this.table.y2AxisFields)},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"xAxisFields",{get:function(){return[].concat(this.table.xAxisFields,this.table.x2AxisFields)},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"colorFields",{get:function(){return this.color.fields},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"sizeFields",{get:function(){return this.size.fields},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"textFields",{get:function(){return this.text.fields},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"detailFields",{get:function(){return this.detail.fields},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"seriesFields",{get:function(){return[].concat(this.colorFields,this.sizeFields,this.textFields,this.detailFields)},enumerable:!0,configurable:!0}),TableMarks.prototype.getStackFields=function(){return[].concat(this.table.facetFields,this.table.xAxisFields)},TableMarks.prototype.getStackFieldName=function(){return this.alias},TableMarks.prototype.getStackSorts=function(){return this.seriesFields},TableMarks.prototype.getSeriesNameFields=function(){var e=this,t=new Map,r=function(r){r.forEach(function(r){r.isValues?e.valueFields.forEach(function(e){t.set(e.alias,e)}):t.set(r.alias,r)})};if(0===this.series.fields.filter(function(e){return e.isValues}).length){var n=this.series.getField();null!=n&&r([n])}else r(this.valueFields);return Array.from(t.values())},Object.defineProperty(TableMarks.prototype,"cellWidth",{get:function(){return this.table.cellWidth},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"cellHeight",{get:function(){return this.table.cellHeight},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"sizeProp",{get:function(){return.25},enumerable:!0,configurable:!0}),Object.defineProperty(TableMarks.prototype,"sizeRatio",{get:function(){return this.size.fields.length>0?6:1},enumerable:!0,configurable:!0}),TableMarks.prototype.sizeMin=function(){return Math.ceil(this.sizeMax()/this.sizeRatio)},TableMarks.prototype.buildColorScale=function(e){var t=this.color.fields;return 0===t.length||t[0].isDiscrete?new a.DiscreteColor(this.colorScaleName,e,this.color.fields[0]):new o.ContinuousColor(this.colorScaleName,e,this.color.fields[0])},TableMarks.prototype.buildSizeScale=function(e){var t=this.size.fields,r=this.getSizeInterval();return 0===t.length||t[0].isDiscrete?new u.DiscreteSize(this.sizeScaleName,e,r,this.size.fields[0]):new s.ContinuousSize(this.sizeScaleName,e,r,this.size.fields[0])},TableMarks.prototype.buildAreaScale=function(e){var t=this.getSymbolInterval();return new u.DiscreteSize(this.sizeScaleName,e,t,this.size.fields[0])},TableMarks.prototype.getSizeInterval=function(){var e=this.sizeMin(),t=this.sizeMax();return this.getScaledInterval({min:e,max:t},this.sizeProp)},TableMarks.prototype.getSymbolInterval=function(){var e=this.getSizeInterval();return{min:Math.PI*Math.pow(e.min/2,2),max:Math.PI*Math.pow(e.max/2,2)}},TableMarks.prototype.getSizePaddedDomain=function(e,t,r){var n=this.getSizeInterval(),i=(r&&r.min||0)+n.max/2,o=(r&&r.max||0)+n.max/2;return this.getPaddedInterval(t,{max:e},{min:i,max:o})},TableMarks.prototype.getDomain=function(e){var t;return t=e.isValues?this.table.valueFields.map(function(e){return e.alias}):[e.alias],n.Range.Domain(this.query.result,t)},TableMarks.prototype.getStackedDomain=function(e,t){return n.Range.StackedDomain(this.query.result,e,t)},TableMarks.prototype.getMergedInterval=function(e){return n.Range.Merge(e)},TableMarks.prototype.getScaledInterval=function(e,t){return n.Range.Scale(e,t)},TableMarks.prototype.getPaddedInterval=function(e,t,r,i,o){return void 0===i&&(i=!0),void 0===o&&(o="LINEAR"),n.Range.Pad(e,t,r,i,o)},TableMarks}();t.TableMarks=l},ME1e:function(e,t,r){"use strict";var n=r("DRWY"),i=r("ch7s");n.Observable.prototype.window=i.window},MFa5:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("E4ND"),a=function(e){function LOG(t){return e.call(this,"LOG",t)||this}return i(LOG,e),LOG.prototype.getReturnType=function(e){return o.DataType.FLOAT},LOG.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Math.log(t[0](e))},LOG}(r("YWvS").FFuncScalar);t.LOG=a},MIhM:function(e,t,r){var n=r("j3D9"),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},MR7H:function(e,t,r){"use strict";var n=r("DRWY"),i=r("ne/m");n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},MTDT:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("1IBE"),a=r("5UgM"),s=r("moUI"),u=function(e){function BoundNodeCallbackObservable(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(BoundNodeCallbackObservable,e),BoundNodeCallbackObservable.create=function(e,t,r){return void 0===t&&(t=void 0),function(){for(var n=[],i=0;i<arguments.length;i++)n[i-0]=arguments[i];return new BoundNodeCallbackObservable(e,t,n,this,r)}},BoundNodeCallbackObservable.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,i=this.subject;if(n)return n.schedule(dispatch,0,{source:this,subscriber:e,context:this.context});if(!i){i=this.subject=new s.AsyncSubject;var u=function handlerFn(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=handlerFn.source,n=r.selector,i=r.subject,s=e.shift();if(s)i.error(s);else if(n){var u=o.tryCatch(n).apply(this,e);u===a.errorObject?i.error(a.errorObject.e):(i.next(u),i.complete())}else i.next(e.length<=1?e[0]:e),i.complete()};u.source=this,o.tryCatch(t).apply(this.context,r.concat(u))===a.errorObject&&i.error(a.errorObject.e)}return i.subscribe(e)},BoundNodeCallbackObservable}(i.Observable);function dispatch(e){var t=this,r=e.source,n=e.subscriber,i=e.context,u=r,l=u.callbackFunc,c=u.args,f=u.scheduler,h=r.subject;if(!h){h=r.subject=new s.AsyncSubject;var p=function handlerFn(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=handlerFn.source,i=n.selector,s=n.subject,u=e.shift();if(u)t.add(f.schedule(dispatchError,0,{err:u,subject:s}));else if(i){var l=o.tryCatch(i).apply(this,e);l===a.errorObject?t.add(f.schedule(dispatchError,0,{err:a.errorObject.e,subject:s})):t.add(f.schedule(dispatchNext,0,{value:l,subject:s}))}else{var c=e.length<=1?e[0]:e;t.add(f.schedule(dispatchNext,0,{value:c,subject:s}))}};p.source=r,o.tryCatch(l).apply(i,c.concat(p))===a.errorObject&&t.add(f.schedule(dispatchError,0,{err:a.errorObject.e,subject:h}))}t.add(h.subscribe(n))}function dispatchNext(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function dispatchError(e){var t=e.err;e.subject.error(t)}t.BoundNodeCallbackObservable=u},MVbb:function(e,t,r){"use strict";var n=r("DRWY"),i=r("A3Tw");n.Observable.prototype.skip=i.skip},MVwb:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("vXch"),a=r("Wm/D"),s=function(e){function VGAxis(t,r){var n=e.call(this,a.AxisType.Y)||this;return n._table=t,n._marks=r,n}return i(VGAxis,e),Object.defineProperty(VGAxis.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(VGAxis.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),VGAxis.prototype.getScale=function(){return this.marks.yScaleName},VGAxis.prototype.getTicks=function(){return 3},VGAxis.prototype.getProperties=function(){return{axis:{stroke:{value:"transparent"}},grid:{stroke:[{test:"datum.data == 0",value:"transparent"},{value:"#999999"}]},labels:{fill:{value:"transparent"}},ticks:{stroke:{value:"transparent"}}}},VGAxis}(o.Axis);t.VGAxis=s},MfNK:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Ncj4");n.Observable.prototype.switchMapTo=i.switchMapTo},Mjgd:function(e,t,r){"use strict";var n=r("30J0");t.retry=function(e){return void 0===e&&(e=-1),n.retry(e)(this)}},MoZO:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("1IBE"),a=r("5UgM");t.sequenceEqual=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function SequenceEqualOperator(e,t){this.compareTo=e,this.comparor=t}return SequenceEqualOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.compareTo,this.comparor))},SequenceEqualOperator}();t.SequenceEqualOperator=s;var u=function(e){function SequenceEqualSubscriber(t,r,n){e.call(this,t),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new l(t,this)))}return n(SequenceEqualSubscriber,e),SequenceEqualSubscriber.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},SequenceEqualSubscriber.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},SequenceEqualSubscriber.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparor;e.length>0&&t.length>0;){var n=e.shift(),i=t.shift(),s=!1;r?(s=o.tryCatch(r)(n,i))===a.errorObject&&this.destination.error(a.errorObject.e):s=n===i,s||this.emit(!1)}},SequenceEqualSubscriber.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},SequenceEqualSubscriber.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},SequenceEqualSubscriber}(i.Subscriber);t.SequenceEqualSubscriber=u;var l=function(e){function SequenceEqualCompareToSubscriber(t,r){e.call(this,t),this.parent=r}return n(SequenceEqualCompareToSubscriber,e),SequenceEqualCompareToSubscriber.prototype._next=function(e){this.parent.nextB(e)},SequenceEqualCompareToSubscriber.prototype._error=function(e){this.parent.error(e)},SequenceEqualCompareToSubscriber.prototype._complete=function(){this.parent._complete()},SequenceEqualCompareToSubscriber}(i.Subscriber)},Mreq:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("LGJh"),a=r("DRWY"),s=r("I9Xa"),u=r("SgnA"),l=r("Z7hs"),c=r("1IBE"),f=r("5UgM"),h=r("6yQc"),p=function(e){function WebSocketSubject(t,r){if(t instanceof a.Observable)e.call(this,r,t);else{if(e.call(this),this.WebSocketCtor=u.root.WebSocket,this._output=new i.Subject,"string"==typeof t?this.url=t:h.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new l.ReplaySubject}}return n(WebSocketSubject,e),WebSocketSubject.prototype.resultSelector=function(e){return JSON.parse(e.data)},WebSocketSubject.create=function(e){return new WebSocketSubject(e)},WebSocketSubject.prototype.lift=function(e){var t=new WebSocketSubject(this,this.destination);return t.operator=e,t},WebSocketSubject.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new l.ReplaySubject),this._output=new i.Subject},WebSocketSubject.prototype.multiplex=function(e,t,r){var n=this;return new a.Observable(function(i){var o=c.tryCatch(e)();o===f.errorObject?i.error(f.errorObject.e):n.next(o);var a=n.subscribe(function(e){var t=c.tryCatch(r)(e);t===f.errorObject?i.error(f.errorObject.e):t&&i.next(e)},function(e){return i.error(e)},function(){return i.complete()});return function(){var e=c.tryCatch(t)();e===f.errorObject?i.error(f.errorObject.e):n.next(e),a.unsubscribe()}})},WebSocketSubject.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void r.error(e)}var i=new s.Subscription(function(){e.socket=null,n&&1===n.readyState&&n.close()});n.onopen=function(t){var a=e.openObserver;a&&a.next(t);var s=e.destination;e.destination=o.Subscriber.create(function(e){return 1===n.readyState&&n.send(e)},function(t){var i=e.closingObserver;i&&i.next(void 0),t&&t.code?n.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()},function(){var t=e.closingObserver;t&&t.next(void 0),n.close(),e._resetState()}),s&&s instanceof l.ReplaySubject&&i.add(s.subscribe(e.destination))},n.onerror=function(t){e._resetState(),r.error(t)},n.onclose=function(t){e._resetState();var n=e.closeObserver;n&&n.next(t),t.wasClean?r.complete():r.error(t)},n.onmessage=function(t){var n=c.tryCatch(e.resultSelector)(t);n===f.errorObject?r.error(f.errorObject.e):r.next(n)}},WebSocketSubject.prototype._subscribe=function(e){var t=this,r=this.source;if(r)return r.subscribe(e);this.socket||this._connectSocket();var n=new s.Subscription;return n.add(this._output.subscribe(e)),n.add(function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())}),n},WebSocketSubject.prototype.unsubscribe=function(){var t=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),e.prototype.unsubscribe.call(this),t||(this.destination=new l.ReplaySubject)},WebSocketSubject}(i.AnonymousSubject);t.WebSocketSubject=p},MuiK:function(e,t,r){var n=r("Sh+V");e.exports=function merge(e){var t=Array.prototype.slice.call(arguments);return n(t,function(t){for(var r in t)t.hasOwnProperty(r)&&("object"==typeof e[r]&&"object"==typeof t[r]?e[r]=merge({},e[r],t[r]):void 0!==t[r]&&(e[r]=t[r]))}),e}},Mwu5:function(e,t,r){"use strict";var n=r("ovQD");t.using=n.UsingObservable.create},"N+Vq":function(e,t,r){"use strict";var n=r("DRWY"),i=r("1wSv");n.Observable.prototype.takeLast=i.takeLast},N0am:function(e,t,r){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}},N1TK:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function HLine(t,r){var n=e.call(this,a.MarkType.LINE)||this;return n._table=t,n._marks=r,n._y={field:"crows.layout_mid",offset:.5},n._x={scale:r.xScaleName,field:r.xAlias},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n}return i(HLine,e),Object.defineProperty(HLine.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(HLine.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(HLine.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(HLine.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(HLine.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),HLine.prototype.getProperties=function(){return{enter:{y:this.y,x:this.x,stroke:this.color,strokeWidth:this.size,strokeCap:this.strokeCap}}},HLine}(o.Mark);t.HLine=s},NHYo:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.sample=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function SampleOperator(e){this.notifier=e}return SampleOperator.prototype.call=function(e,t){var r=new s(e),n=t.subscribe(r);return n.add(o.subscribeToResult(r,this.notifier)),n},SampleOperator}(),s=function(e){function SampleSubscriber(){e.apply(this,arguments),this.hasValue=!1}return n(SampleSubscriber,e),SampleSubscriber.prototype._next=function(e){this.value=e,this.hasValue=!0},SampleSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},SampleSubscriber.prototype.notifyComplete=function(){this.emitValue()},SampleSubscriber.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},SampleSubscriber}(i.OuterSubscriber)},NPX4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("t9eG"),i=r("DJxB"),o=r("uYkN"),a=r("YWvS"),s=r("RGwM"),u=r("IKaF"),l=r("19lV"),c=r("UBmR"),f=r("44vW"),h=r("Nzv3"),p=function(){function FFactory(e,t,r){this._fields=e,this._funcs=t,this._types=r}return Object.defineProperty(FFactory.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(FFactory.prototype,"funcs",{get:function(){return this._funcs},enumerable:!0,configurable:!0}),Object.defineProperty(FFactory.prototype,"types",{get:function(){return this._types},enumerable:!0,configurable:!0}),FFactory.prototype.compile=function(e){var t=n.Tree.Parse(e),r=new o.FFieldResolver(this.fields),u=new a.FFuncResolver(this.funcs),l=new s.FTypeResolver(r,u,this.types);return this.compileFormula(t,new i.Compiler(r,u,l))},FFactory.prototype.validate=function(e){var t=n.Tree.Parse(e),r=new o.FFieldResolver(this.fields),u=new a.FFuncResolver(this.funcs),l=new s.FTypeResolver(r,u,this.types);return this.validateFormula(t,new i.Compiler(r,u,l))},FFactory.prototype.compileFormula=function(e,t){return u.AggFormula.Matches(e)?new u.AggFormula(e,t):l.DateFormula.Matches(e)?new l.DateFormula(e,t):c.FieldFormula.Matches(e)?new c.FieldFormula(e,t):h.NTileFormula.Matches(e)?new h.NTileFormula(e,t):new f.GenericFormula(e,t)},FFactory.prototype.validateFormula=function(e,t){return this.compileFormula(e,t).validate()},FFactory}();t.FFactory=p},NPiJ:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function GCells(t,r){var n=e.call(this,t,"gcells",r)||this;return n.addSeries(),n.addPipeline(),n}return i(GCells,e),GCells.prototype.getXFoldFields=function(){return this.getFoldFields([this.table.xAxisFields,this.table.x2AxisFields])},GCells.prototype.getYFoldFields=function(){return this.getFoldFields([this.table.yAxisFields,this.table.y2AxisFields])},GCells.prototype.getNamesFields=function(){return[].concat(this.table.facetFields,this.table.xAxisFields,this.table.yAxisFields).filter(function(e){return e.isNames})},GCells.prototype.getValuesFields=function(){return[].concat(this.table.facetFields,this.table.xAxisFields,this.table.yAxisFields).filter(function(e){return e.isValues})},GCells.prototype.getSeriesNameFields=function(){return this.table.getSeriesNameFields()},GCells.prototype.addSeries=function(){var e=this,t=this.getSeriesNameFields();if(t.length>0){var r=this.table.valuesField,n=this.table.namesField,i=t.map(function(e){return e.alias});this.addFold(i,n.name,r.name),this.addLookup("field-names","alias",[n.name],"names"),this.addFormula(n.name,"datum.names.name"),this.getNamesFields().forEach(function(t){e.addFormula(t.alias,"datum['"+n.name+"']")}),this.getValuesFields().forEach(function(t){e.addFormula(t.alias,"datum['"+r.name+"']")})}},GCells}(r("XV20").Cells);t.GCells=o},NXE7:function(e,t,r){"use strict";var n=r("DRWY"),i=r("hSU1");n.Observable.prototype.throttle=i.throttle},NZZi:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.catchError=function(e){return function(t){var r=new a(e),n=t.lift(r);return r.caught=n}};var a=function(){function CatchOperator(e){this.selector=e}return CatchOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.selector,this.caught))},CatchOperator}(),s=function(e){function CatchSubscriber(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return n(CatchSubscriber,e),CatchSubscriber.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,r))}},CatchSubscriber}(i.OuterSubscriber)},Ncj4:function(e,t,r){"use strict";var n=r("9H8a");t.switchMapTo=function(e,t){return n.switchMapTo(e,t)(this)}},NnX8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.?(\d{3}))?(?:(?:([-+]\d{2})(?::?(\d{2}))?)|Z)?)?$/,i=function(){function Dataset(e,t){if(this._schema=e,null==t)this._data=[];else{for(var r=new Array,i=0,o=e.columns;i<o.length;i++){var a=o[i];switch(a.type){case"DATE":case"DATETIME":r.push(a.name)}}if(0===r.length)this._data=t;else{this._data=new Array(t.length);for(var s=0,u=0,l=t;u<l.length;u++){var c=l[u],f={};Object.assign(f,c);for(var h=void 0,p=0,d=r;p<d.length;p++){var y=d[p];if(h=f[y],void 0===f[y])f[y]=null;else{if("string"==typeof h){var g=n.exec(f[y]);if(g){var m=+g[8]||0,v=(+g[9]||0)*(m<0?-1:1);h=Date.UTC(+g[1],+g[2]-1,+g[3],+(g[4]||0)-m,+(g[5]||0)-v,+(g[6]||0),+(g[7]||0))}}f[y]=null!=h?h:null}}this._data[s++]=f}}}}return Object.defineProperty(Dataset.prototype,"schema",{get:function(){return this._schema},enumerable:!0,configurable:!0}),Object.defineProperty(Dataset.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(Dataset.prototype,"size",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),Dataset.prototype.get=function(e){return this.data[e]},Dataset.prototype.getRows=function(e,t){var r=new Array;if(null==t)for(var n=0,i=e;n<i.length;n++){var o=i[n];r.push(this.get(o))}else for(var a=0,s=e;a<s.length;a++){o=s[a];var u=this.get(o);t(u)&&r.push(u)}return r},Dataset.prototype.eachRow=function(e,t){if(null==t)for(var r=0,n=this.data;r<n.length;r++){e(a=n[r])}else for(var i=0,o=this.data;i<o.length;i++){var a;t(a=o[i])&&e(a)}},Dataset.prototype.getValue=function(e,t){this.get(e);return this.get(e)[t]},Dataset.prototype.eachValue=function(e,t,r){if(null==r)for(var n=0,i=this.data;n<i.length;n++){t((s=i[n])[e])}else for(var o=0,a=this.data;o<a.length;o++){var s;r(s=a[o])&&t(s[e])}},Dataset.prototype.getKey=function(e,t){for(var r=new Array,n=0,i=t;n<i.length;n++){var o=i[n];r.push(e[o])}return r.join("|")},Dataset.prototype.getKeyCount=function(e){for(var t=new Set,r=0,n=this.data;r<n.length;r++){var i=n[r];t.add(this.getKey(i,e))}return t.size},Dataset.prototype.getKeyCombinations=function(e){var t=new Array;e.forEach(function(e){t.push(new Set)});for(var r=function(r){e.forEach(function(e,n){t[n].add(r[e])})},n=0,i=this.data;n<i.length;n++){r(i[n])}return t.map(function(e){return Array.from(e)}).reduce(function(e,t){return e.map(function(e){return t.map(function(t){return e.concat(t)})}).reduce(function(e,t){return e.concat(t)},[])},[[]])},Dataset}();t.Dataset=i},"Np/B":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("EYua"),i=r("lMYB"),o=r("iHET"),a=r("Pt7t"),s=r("7XmR"),u=r("6nSx"),l=function(){function Encoding(){this._value=new u.Value,this._row=new o.Facets,this._column=new o.Facets,this._x=new i.Axes,this._y=new i.Axes,this._x2=new i.Axes,this._y2=new i.Axes,this._sorts=new s.Sorts,this._series=new Array,this._fields=new Map}return Object.defineProperty(Encoding.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"x2",{get:function(){return this._x2},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"sorts",{get:function(){return this._sorts},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"channel",{get:function(){return this._channel},enumerable:!0,configurable:!0}),Object.defineProperty(Encoding.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Encoding.prototype.getField=function(e){return this.fields.get(e)},Encoding.prototype.getFieldBySource=function(e){return Array.from(this.fields.values()).find(function(t){return t.source===e})},Encoding.prototype.addField=function(e){this.fields.set(e.id,e)},Encoding.prototype.getMarks=function(e){for(var t=0,r=this.series;t<r.length;t++){var n=r[t];if(n.field===e.id)return n}},Encoding.prototype.getStarMark=function(){for(var e=0,t=this.series;e<t.length;e++){var r=t[e];if("*"===r.field)return r}},Encoding.prototype.addValue=function(e){this.value.addField(e),this.addField(e)},Encoding.prototype.addFacet=function(e,t){switch(e){case n.Channel.ROW:this.row.addField(t);break;case n.Channel.COLUMN:this.column.addField(t)}this.addField(t)},Encoding.prototype.addAxis=function(e,t){switch(e){case n.Channel.X:this.x.addField(t);break;case n.Channel.Y:this.y.addField(t);break;case n.Channel.X2:this.x2.addField(t);break;case n.Channel.Y2:this.y2.addField(t)}this.addField(t)},Encoding.prototype.addSort=function(e){this.sorts.addSort(e)},Encoding.prototype.addSeries=function(e,t){this.series.push(new a.Series(this,e,t))},Encoding.prototype.setChannel=function(e){switch(e){case"x":this._channel=n.Channel.X;break;case"y":this._channel=n.Channel.Y;break;case"*":default:this._channel=n.Channel.STAR}},Encoding}();t.Encoding=l},NpkY:function(e,t,r){"use strict";var n=r("DRWY"),i=r("uoyC");n.Observable.onErrorResumeNext=i.onErrorResumeNext},Ns7t:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),function(n){return n.lift(new a(e,t,r))}};var a=function(){function MergeMapToOperator(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return MergeMapToOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.ish,this.resultSelector,this.concurrent))},MergeMapToOperator}();t.MergeMapToOperator=a;var s=function(e){function MergeMapToSubscriber(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(MergeMapToSubscriber,e),MergeMapToSubscriber.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,t,e,r)}else this.buffer.push(e)},MergeMapToSubscriber.prototype._innerSub=function(e,t,r,n,i){this.add(o.subscribeToResult(this,e,n,i))},MergeMapToSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapToSubscriber.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,a=this.destination;o?this.trySelectResult(e,t,r,n):a.next(t)},MergeMapToSubscriber.prototype.trySelectResult=function(e,t,r,n){var i,o=this.resultSelector,a=this.destination;try{i=o(e,t,r,n)}catch(e){return void a.error(e)}a.next(i)},MergeMapToSubscriber.prototype.notifyError=function(e){this.destination.error(e)},MergeMapToSubscriber.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapToSubscriber}(i.OuterSubscriber);t.MergeMapToSubscriber=s},Ntk8:function(e,t,r){"use strict";var n=r("DRWY"),i=r("4ixW");n.Observable.prototype.elementAt=i.elementAt},Nzv3:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("sTlA"),a=function(e){function NTileFormula(t,r){var n=e.call(this,t,r)||this,i=t.root,o=i.arguments[0],a=i.arguments[1];return n._funcName=i.callee,n._fieldName=o.value,n._percentile=a.value,n}return i(NTileFormula,e),NTileFormula.Matches=function(e){if("CallExpression"!==e.root.type)return!1;var t=e.root;return-1!==["PERCENTILE"].indexOf(t.callee)&&(1===t.arguments.length&&"FieldLiteral"===t.arguments[0].type)},Object.defineProperty(NTileFormula.prototype,"form",{get:function(){return o.FormType.NTILEFUNC},enumerable:!0,configurable:!0}),Object.defineProperty(NTileFormula.prototype,"funcName",{get:function(){return this._funcName},enumerable:!0,configurable:!0}),Object.defineProperty(NTileFormula.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(NTileFormula.prototype,"percentile",{get:function(){return this._percentile},enumerable:!0,configurable:!0}),NTileFormula}(o.Formula);t.NTileFormula=a},O2Xe:function(e,t,r){"use strict";var n=r("DRWY"),i=r("lylt");n.Observable.prototype.retryWhen=i.retryWhen},O3mw:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function EmptyError(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return n(EmptyError,e),EmptyError}(Error);t.EmptyError=i},O7vc:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("lVEQ");t.skipLast=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function SkipLastOperator(e){if(this._skipCount=e,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return SkipLastOperator.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.Subscriber(e)):t.subscribe(new s(e,this._skipCount))},SkipLastOperator}(),s=function(e){function SkipLastSubscriber(t,r){e.call(this,t),this._skipCount=r,this._count=0,this._ring=new Array(r)}return n(SkipLastSubscriber,e),SkipLastSubscriber.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,i=this._ring,o=i[n];i[n]=e,this.destination.next(o)}},SkipLastSubscriber}(i.Subscriber)},O82P:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Names(t){var r=e.call(this,"field-names")||this;return r._table=t,r}return i(Names,e),Object.defineProperty(Names.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Names.prototype.compile=function(){return{name:this.name,values:this.getValues()}},Names.prototype.getValues=function(){var e=this,t=[];return[].concat(this.table.facetFields,this.table.valueFields,this.table.xAxisFields,this.table.x2AxisFields,this.table.x2AxisFields,this.table.yAxisFields,this.table.y2AxisFields,this.table.seriesFields).forEach(function(r){return r.isValues?e.table.valueFields.map(function(e){t.push({alias:e.alias,name:e.name})}):t.push({alias:r.alias,name:r.name})}),t},Names}(r("qI4a").Data);t.Names=o},OHH5:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function CCols(t,r){var n=e.call(this,"ccols",r)||this;return n.addFormula("layout_width","CellWidth"),n.addAggregate(["tcKey","cKey"]).summarize("layout_width","max"),n.addStack(["tcKey"],"layout_width",["_id"]),n}return i(CCols,e),CCols}(r("qI4a").Data);t.CCols=o},OJBd:function(e,t,r){var n;(function(){var r,i={},o="en",a=null,s="0,0",u=void 0!==e&&e.exports;function Numeral(e){this._value=e}function toFixed(e,t,r,n){var i,o,a=Math.pow(10,t);return o=(r(e*a)/a).toFixed(t),n&&(i=new RegExp("0{1,"+n+"}$"),o=o.replace(i,"")),o}function formatNumeral(e,t,r){return t.indexOf("$")>-1?function(e,t,r){var n,a,s=t.indexOf("$"),u=t.indexOf("("),l=t.indexOf("-"),c="";t.indexOf(" $")>-1?(c=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(c=" ",t=t.replace("$ ","")):t=t.replace("$","");a=formatNumber(e._value,t,r),s<=1?a.indexOf("(")>-1||a.indexOf("-")>-1?(a=a.split(""),n=1,(s<u||s<l)&&(n=0),a.splice(n,0,i[o].currency.symbol+c),a=a.join("")):a=i[o].currency.symbol+c+a:a.indexOf(")")>-1?((a=a.split("")).splice(-1,0,c+i[o].currency.symbol),a=a.join("")):a=a+c+i[o].currency.symbol;return a}(e,t,r):t.indexOf("%")>-1?function(e,t,r){var n,i="",o=100*e._value;t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%","");(n=formatNumber(o,t,r)).indexOf(")")>-1?((n=n.split("")).splice(-1,0,i+"%"),n=n.join("")):n=n+i+"%";return n}(e,t,r):t.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),r=Math.floor((e._value-60*t*60)/60),n=Math.round(e._value-60*t*60-60*r);return t+":"+(r<10?"0"+r:r)+":"+(n<10?"0"+n:n)}(e):formatNumber(e._value,t,r)}function unformatNumeral(e,t){var r,n,s,u,l,c=t,f=["KB","MB","GB","TB","PB","EB","ZB","YB"],h=!1;if(t.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),r=0;3===t.length?(r+=60*Number(t[0])*60,r+=60*Number(t[1]),r+=Number(t[2])):2===t.length&&(r+=60*Number(t[0]),r+=Number(t[1]));return Number(r)}(t);else if(t===a)e._value=0;else{for("."!==i[o].delimiters.decimal&&(t=t.replace(/\./g,"").replace(i[o].delimiters.decimal,".")),r=new RegExp("[^a-zA-Z]"+i[o].abbreviations.thousand+"(?:\\)|(\\"+i[o].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+i[o].abbreviations.million+"(?:\\)|(\\"+i[o].currency.symbol+")?(?:\\))?)?$"),s=new RegExp("[^a-zA-Z]"+i[o].abbreviations.billion+"(?:\\)|(\\"+i[o].currency.symbol+")?(?:\\))?)?$"),u=new RegExp("[^a-zA-Z]"+i[o].abbreviations.trillion+"(?:\\)|(\\"+i[o].currency.symbol+")?(?:\\))?)?$"),l=0;l<=f.length&&!(h=t.indexOf(f[l])>-1&&Math.pow(1024,l+1));l++);e._value=(h||1)*(c.match(r)?Math.pow(10,3):1)*(c.match(n)?Math.pow(10,6):1)*(c.match(s)?Math.pow(10,9):1)*(c.match(u)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=h?Math.ceil(e._value):e._value}return e._value}function formatNumber(e,t,r){var n,s,u,l,c,f,h=!1,p=!1,d=!1,y="",g=!1,m=!1,v=!1,b=!1,_=!1,w="",S="",E=Math.abs(e),C=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],O="",T=!1;if(0===e&&null!==a)return a;if(t.indexOf("(")>-1?(h=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(p=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(g=t.indexOf("aK")>=0,m=t.indexOf("aM")>=0,v=t.indexOf("aB")>=0,b=t.indexOf("aT")>=0,_=g||m||v||b,t.indexOf(" a")>-1?(y=" ",t=t.replace(" a","")):t=t.replace("a",""),E>=Math.pow(10,12)&&!_||b?(y+=i[o].abbreviations.trillion,e/=Math.pow(10,12)):E<Math.pow(10,12)&&E>=Math.pow(10,9)&&!_||v?(y+=i[o].abbreviations.billion,e/=Math.pow(10,9)):E<Math.pow(10,9)&&E>=Math.pow(10,6)&&!_||m?(y+=i[o].abbreviations.million,e/=Math.pow(10,6)):(E<Math.pow(10,6)&&E>=Math.pow(10,3)&&!_||g)&&(y+=i[o].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(w=" ",t=t.replace(" b","")):t=t.replace("b",""),u=0;u<=C.length;u++)if(n=Math.pow(1024,u),s=Math.pow(1024,u+1),e>=n&&e<s){w+=C[u],n>0&&(e/=n);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(S=" ",t=t.replace(" o","")):t=t.replace("o",""),S+=i[o].ordinal(e)),t.indexOf("[.]")>-1&&(d=!0,t=t.replace("[.]",".")),l=e.toString().split(".")[0],c=t.split(".")[1],f=t.indexOf(","),c?(l=(O=c.indexOf("[")>-1?toFixed(e,(c=(c=c.replace("]","")).split("["))[0].length+c[1].length,r,c[1].length):toFixed(e,c.length,r)).split(".")[0],O=O.split(".")[1].length?i[o].delimiters.decimal+O.split(".")[1]:"",d&&0===Number(O.slice(1))&&(O="")):l=toFixed(e,null,r),l.indexOf("-")>-1&&(l=l.slice(1),T=!0),f>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i[o].delimiters.thousands)),0===t.indexOf(".")&&(l=""),(h&&T?"(":"")+(!h&&T?"-":"")+(!T&&p?"+":"")+l+O+(S||"")+(y||"")+(w||"")+(h&&T?")":"")}function multiplier(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function correctionFactor(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var r=multiplier(e),n=multiplier(t);return r>n?r:n},-1/0)}(r=function(e){return r.isNumeral(e)?e=e.value():0===e||void 0===e?e=0:Number(e)||(e=r.fn.unformat(e)),new Numeral(Number(e))}).version="1.5.3",r.isNumeral=function(e){return e instanceof Numeral},r.language=function(e,t){if(!e)return o;if(e&&!t){if(!i[e])throw new Error("Unknown language : "+e);o=e}return!t&&i[e]||function(e,t){i[e]=t}(e,t),r},r.languageData=function(e){if(!e)return i[o];if(!i[e])throw new Error("Unknown language : "+e);return i[e]},r.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),r.zeroFormat=function(e){a="string"==typeof e?e:null},r.defaultFormat=function(e){s="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r,n,i=this.length>>>0,o=!1;for(1<arguments.length&&(n=t,o=!0),r=0;i>r;++r)this.hasOwnProperty(r)&&(o?n=e(n,this[r],r,this):(n=this[r],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return n}),r.fn=Numeral.prototype={clone:function(){return r(this)},format:function(e,t){return formatNumeral(this,e||s,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:unformatNumeral(this,e||s)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=correctionFactor.call(null,this._value,e);return this._value=[this._value,e].reduce(function(e,r,n,i){return e+t*r},0)/t,this},subtract:function(e){var t=correctionFactor.call(null,this._value,e);return this._value=[e].reduce(function(e,r,n,i){return e-t*r},this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce(function(e,t,r,n){var i=correctionFactor(e,t);return e*i*(t*i)/(i*i)},1),this},divide:function(e){return this._value=[this._value,e].reduce(function(e,t,r,n){var i=correctionFactor(e,t);return e*i/(t*i)}),this},difference:function(e){return Math.abs(r(this._value).subtract(e).value())}},u&&(e.exports=r),"undefined"==typeof ender&&(this.numeral=r),void 0===(n=(function(){return r}).apply(t,[]))||(e.exports=n)}).call(this)},OVOA:function(e,t,r){"use strict";var n=r("RzX6");t.combineAll=function(e){return function(t){return t.lift(new n.CombineLatestOperator(e))}}},OYnI:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.exhaust=function(){return function(e){return e.lift(new a)}};var a=function(){function SwitchFirstOperator(){}return SwitchFirstOperator.prototype.call=function(e,t){return t.subscribe(new s(e))},SwitchFirstOperator}(),s=function(e){function SwitchFirstSubscriber(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return n(SwitchFirstSubscriber,e),SwitchFirstSubscriber.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,e)))},SwitchFirstSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},SwitchFirstSubscriber.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},SwitchFirstSubscriber}(i.OuterSubscriber)},Orbh:function(e,t,r){"use strict";var n=r("CsEb"),i=r("f6vn"),o=r("0TL3");t.throttleTime=function(e,t,r){return void 0===t&&(t=n.async),void 0===r&&(r=i.defaultThrottleConfig),o.throttleTime(e,t,r)(this)}},OuyB:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},OxGv:function(e,t,r){"use strict";var n=r("DRWY"),i=r("uiIN");n.Observable.defer=i.defer},P23m:function(e,t,r){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},PBbl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("xS0M"),i=function(){function AlphaSort(e,t){this._field=e,this._order=t}return Object.defineProperty(AlphaSort.prototype,"type",{get:function(){return n.SortType.ALPHA},enumerable:!0,configurable:!0}),Object.defineProperty(AlphaSort.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(AlphaSort.prototype,"order",{get:function(){return this._order},enumerable:!0,configurable:!0}),AlphaSort}();t.AlphaSort=i},PCCV:function(e,t,r){"use strict";var n=r("Z7hs"),i=r("A9Q0");t.publishReplay=function(e,t,r,o){r&&"function"!=typeof r&&(o=r);var a="function"==typeof r?r:void 0,s=new n.ReplaySubject(e,t,o);return function(e){return i.multicast(function(){return s},a)(e)}}},PLER:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function BBorder(){return null!==e&&e.apply(this,arguments)||this}return i(BBorder,e),BBorder.prototype.getProperties=function(){var t=e.prototype.getProperties.call(this);return t.enter.x={value:.5},t.enter.x2={field:{group:"width"}},t.enter.y={field:{group:"height"}},t},BBorder}(r("sDUs").Border);t.BBorder=o},PesP:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var n=r("pxn2");t.ColumnType=n.ColumnType,t.DataColumn=n.DataColumn;var i=r("NnX8");t.Dataset=i.Dataset;var o=r("zVwf");t.Schema=o.Schema,__export(r("YyKR")),__export(r("xS0M"));var a=r("H49V");t.Channel=a.Channel;var s=r("E4ND");t.DataType=s.DataType;var u=r("kdBv");t.VariableType=u.VariableType,t.RoleType=u.RoleType;var l=r("kdBv");t.FieldType=l.FieldType;var c=r("6X6e");t.DataField=c.DataField;var f=r("Vle4");t.CalcField=f.CalcField,t.ModelCalcField=f.ModelCalcField,t.ViewCalcField=f.ViewCalcField;var h=r("niCK");t.ModelSystemField=h.ModelSystemField,t.ViewSystemField=h.ViewSystemField,t.SystemField=h.SystemField,t.SystemFieldName=h.SystemFieldName;var p=r("sTlA");t.Formula=p.Formula,t.FormType=p.FormType;var d=r("w06A");t.AggregateFunction=d.AggregateFunction;var y=r("qh62");t.DatePart=y.DatePart;var g=r("ckWE");t.Engine=g.Engine;var m=r("SIHM");t.DomainQuery=m.DomainQuery;var v=r("L0Xl");t.DomainResult=v.DomainResult;var b=r("iSoF");t.ContinuousDomain=b.ContinuousDomain,t.DiscreteDomain=b.DiscreteDomain;var _=r("Z73k");t.FilterQuery=_.FilterQuery;var w=r("Z2I5");t.FilterResult=w.FilterResult;var S=r("xd6E");t.Pivot=S.Pivot;var E=r("o0FP");t.PivotQuery=E.PivotQuery;var C=r("/dVp");t.PivotResult=C.PivotResult;var O=r("caK9");t.Model=O.Model},PjB1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Mark(){this._fields=new Array}return Object.defineProperty(Mark.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Mark.prototype.addField=function(e){this._fields=this.fields.concat(e)},Mark.prototype.addFields=function(e){this._fields=this.fields.concat(e)},Mark}();t.Mark=n},Pl9e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.make=function(e,t,r){var n=r.joins,i=r.attrs;return{name:e,from:t,joins:n||[],attrs:i||[]}},function(e){e.find=function(e,t){for(var r=0,n=e.joins;r<n.length;r++){var i=n[r];if(i.target.alias===t)return i}return null}}(e.Joins||(e.Joins={}))}(t.Relation||(t.Relation={}))},Pt7t:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Series(e,t,r){this._enc=e,this._field=t,this._marks=r}return Object.defineProperty(Series.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"fields",{get:function(){return[].concat(this.color.fields,this.size.fields,this.label.fields,this.text.fields,this.detail.fields,this.tooltip.fields)},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"isStar",{get:function(){return"*"===this.field},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"alias",{get:function(){return this.field},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"type",{get:function(){return this._marks.type},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"color",{get:function(){return this._marks.color},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"size",{get:function(){return this._marks.size},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"label",{get:function(){return this._marks.label},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"text",{get:function(){return this._marks.text},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"detail",{get:function(){return this._marks.detail},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"tooltip",{get:function(){return this._marks.tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"hasValuesField",{get:function(){return this.fields.filter(function(e){return e.isValues}).length>0},enumerable:!0,configurable:!0}),Object.defineProperty(Series.prototype,"hasValueNamesField",{get:function(){return this.fields.filter(function(e){return e.isNames}).length>0},enumerable:!0,configurable:!0}),Series.prototype.getField=function(){return this._enc.getField(this.field)},Series}();t.Series=n},Ptgh:function(e,t){var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},"Pu7/":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function PBar(t,r){var n=e.call(this,a.MarkType.RECT)||this;return n._table=t,n._marks=r,n._y={scale:r.yScaleName,field:r.yAlias},n._y2={scale:r.yScaleName,value:0},n._xc={scale:r.xScaleName,field:r.xAlias},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n}return i(PBar,e),Object.defineProperty(PBar.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(PBar.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(PBar.prototype,"xc",{get:function(){return this._xc},enumerable:!0,configurable:!0}),Object.defineProperty(PBar.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(PBar.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),PBar.prototype.getProperties=function(){return{enter:{y:this.y,y2:this.y2,xc:this.xc,fill:this.color,width:this.size}}},PBar}(o.Mark);t.PBar=s},PvBQ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("/UoH"),i=r("kxLg"),o=r("5jfQ"),a=r("6Znk"),s=function(){function Formats(){this._sheet=new a.SheetFormat,this._rows=new o.RowFormat,this._columns=new i.ColumnFormat,this._fields=new Map}return Object.defineProperty(Formats.prototype,"sheet",{get:function(){return this._sheet},enumerable:!0,configurable:!0}),Object.defineProperty(Formats.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(Formats.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(Formats.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Formats.prototype.getAlignment=function(e){return new n.Alignment},Formats.prototype.getFieldFormat=function(e){return this.fields.get(e)},Formats.prototype.addFieldFormat=function(e,t){this.fields.set(e.id,t)},Formats}();t.Formats=s},PxNp:function(e,t,r){"use strict";var n=r("lLuG");t.GroupedObservable=n.GroupedObservable,t.groupBy=function(e,t,r,i){return n.groupBy(e,t,r,i)(this)}},PxrE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("uQc9");t.PivotBuilder=n.PivotBuilder},Q8I2:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.pairwise=function(){return function(e){return e.lift(new o)}};var o=function(){function PairwiseOperator(){}return PairwiseOperator.prototype.call=function(e,t){return t.subscribe(new a(e))},PairwiseOperator}(),a=function(e){function PairwiseSubscriber(t){e.call(this,t),this.hasPrev=!1}return n(PairwiseSubscriber,e),PairwiseSubscriber.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},PairwiseSubscriber}(i.Subscriber)},QKhG:function(e,t,r){"use strict";var n=r("4Bm0");function AlgoliaSearchError(e,t){var n=r("Sh+V"),i=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):i.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=e||"Unknown error",t&&n(t,function(e,t){i[t]=e})}function createCustomError(e,t){function AlgoliaSearchCustomError(){var r=Array.prototype.slice.call(arguments,0);"string"!=typeof r[0]&&r.unshift(t),AlgoliaSearchError.apply(this,r),this.name="AlgoliaSearch"+e+"Error"}return n(AlgoliaSearchCustomError,AlgoliaSearchError),AlgoliaSearchCustomError}n(AlgoliaSearchError,Error),e.exports={AlgoliaSearchError:AlgoliaSearchError,UnparsableJSON:createCustomError("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:createCustomError("RequestTimeout","Request timedout before getting a response"),Network:createCustomError("Network","Network issue, see err.more for details"),JSONPScriptFail:createCustomError("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:createCustomError("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:createCustomError("Unknown","Unknown error occured")}},QStr:function(e,t,r){"use strict";e.exports=function(e,t){/\?/.test(e)?e+="&":e+="?";return e+n(t)};var n=r("bvhO")},QWia:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function CLabel(t,r){var n=e.call(this,a.MarkType.TEXT)||this;return n._parent=t,n._field=r,n}return i(CLabel,e),Object.defineProperty(CLabel.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"rotate",{get:function(){return this.parent.rotate},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"xc",{get:function(){return{field:{group:"width"},mult:.5}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"y",{get:function(){return{value:10}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"yc",{get:function(){return{field:{group:"height"},mult:.5}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"align",{get:function(){return this.rotate?{value:"right"}:{value:"center"}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"angle",{get:function(){return this.rotate?{value:-90}:{value:0}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"baseline",{get:function(){return{value:"middle"}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"fill",{get:function(){return{value:"#666666"}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"fontSize",{get:function(){return{value:12}},enumerable:!0,configurable:!0}),Object.defineProperty(CLabel.prototype,"text",{get:function(){return this.buildText()},enumerable:!0,configurable:!0}),CLabel.prototype.getProperties=function(){var e={enter:{xc:this.xc,angle:this.angle,align:this.align,baseline:this.baseline,fill:this.fill,fontSize:this.fontSize,text:this.text}};return this.rotate?e.enter.y=this.y:e.enter.yc=this.yc,e},CLabel.prototype.buildText=function(){var e;e=this.rotate?""+this.parent.getHeight():"parent['layout_width']";var t="Null";return this.field.isNames&&(t="No Measure Value"),[{test:"parent['"+this.field.alias+"'] == null",template:t},{test:"length(parent['"+this.field.alias+"']) <= "+e+" / 10",template:"{{ parent['"+this.field.alias+"'] | trim }}"},{test:e+" >= 12 * 10",template:"{{ parent['"+this.field.alias+"'] | trim | truncate: 12 }}"},{test:e+" >= 10 * 10",template:"{{ parent['"+this.field.alias+"'] | trim | truncate: 10 }}"},{test:e+" >= 8 * 10",template:"{{ parent['"+this.field.alias+"'] | trim | truncate: 8 }}"},{test:e+" >= 6 * 10",template:"{{ parent['"+this.field.alias+"'] | trim | truncate: 6 }}"}]},CLabel}(o.Mark);t.CLabel=s},Qd1I:function(e,t){},Qg1O:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("I8rZ"),i=r("iZmh"),o=r("ejt7"),a=r("IIVN"),s=r("u6/t");!function(e){var t,r,u;!function(e){var t;!function(e){e.Success="SUCCESS",e.Failure="FAILURE"}(t=e.Type||(e.Type={})),e.success=function(e){return{formula:e,type:t.Success}},e.failure=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return{formula:e,errors:r,type:t.Failure}}}(t=e.Result||(e.Result={})),e.compile=function(e,u,l){var c,f,h,p=a.Formula.make(l);try{c=i.Tree.make(l),h=a.Formula.parsed(p,c)}catch(e){return t.failure(p,e)}try{var d=r.make(e);f=r.resolve(c,u,d);var y=s.Resolver.Types.get(f),g=s.Resolver.Roles.get(f);if(null==y)return t.failure(h,"Cannot determine data type");if(null==g)return t.failure(h,"Cannot determine data role");var m=o.Expression.Type.Scalar,v=Array.from(f.calls.values());return v.some(function(e){return e.form===n.Call.Form.Aggregate})&&(m=o.Expression.Type.Aggregate),v.some(function(e){return e.form===n.Call.Form.Calculation})&&(m=o.Expression.Type.Calculation),t.success(a.Formula.compiled(h,m,y,g))}catch(e){return t.failure(h,e.message)}},e.references=function(e,t,r){var n=i.Tree.make(r);return Array.from(u.resolve(n,t,e).refs.values())},function(e){e.make=function(e){return i.Tree.Pipeline.make([s.Resolver.Nodes.make(e),s.Resolver.Attrs.make(e),s.Resolver.Calls.make(e),s.Resolver.Types.make(e),s.Resolver.Roles.make(e)])},e.resolve=function(e,t,r){return i.Tree.Pipeline.visit(t,e,r)}}(r=e.Visitor||(e.Visitor={})),function(e){function make(e){return i.Tree.Pipeline.make([s.Resolver.Nodes.make(e),s.Resolver.Attrs.make(e)])}e.make=make,e.resolve=function(e,t,r){return i.Tree.Pipeline.visit(t,e,make(r))}}(u=e.References||(e.References={}))}(t.Compiler||(t.Compiler={}))},Qs2N:function(e,t,r){var n=r("9R9K"),i=r("DENg"),o=r("amw2"),a=r("FILO").time;function read(e,t){var r=t&&t.type||"json";return e=o[r](e,t),t&&t.parse&&parse(e,t.parse),e}function parse(e,t){var r,o,s,u,l,c,f=e.length;for(t="auto"===t?i.inferAll(e):n.duplicate(t),o=(r=n.keys(t)).map(function(e){var r=t[e];if(r&&0===r.indexOf("date:")){var n=r.split(/:(.+)?/,2)[1];if(!("'"===n[0]&&"'"===n[n.length-1]||'"'===n[0]&&'"'===n[n.length-1]))throw Error("Format pattern must be quoted: "+n);return n=n.slice(1,-1),n=a(n),function(e){return n.parse(e)}}if(!i.parsers[r])throw Error("Illegal format pattern: "+e+":"+r);return i.parsers[r]}),u=0,c=r.length;u<f;++u)for(s=e[u],l=0;l<c;++l)s[r[l]]=o[l](s[r[l]]);i.annotation(e,t)}read.formats=o,e.exports=read},Qxlz:function(e,t,r){"use strict";var n=r("RI1+");t.take=function(e){return n.take(e)(this)}},R1xi:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("m0oc"),a=r("pkpF"),s=r("MVwb"),u=function(e){function VGPane(t,r,n){var i=e.call(this,"vg-"+r.yAlias,n)||this;return i._table=t,i._marks=r,i._borders=new o.Borders,i._yScale=r.buildYScale(),i._yAxis=new s.VGAxis(t,r),i.borders.right.display=!0,i.borders.bottom.display=!0,i}return i(VGPane,e),Object.defineProperty(VGPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(VGPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(VGPane.prototype,"borders",{get:function(){return this._borders},enumerable:!0,configurable:!0}),Object.defineProperty(VGPane.prototype,"yScale",{get:function(){return this._yScale},enumerable:!0,configurable:!0}),Object.defineProperty(VGPane.prototype,"yAxis",{get:function(){return this._yAxis},enumerable:!0,configurable:!0}),VGPane.prototype.getScales=function(){return e.prototype.getScales.call(this).concat(this.yScale.compile())},VGPane.prototype.getAxes=function(){return e.prototype.getAxes.call(this).concat(this.yAxis.compile())},VGPane.prototype.getProperties=function(){return{enter:{x:{field:"tcol.layout_start"},y:{field:"trow.layout_start"},width:{field:"tcol.layout_width"},height:{field:"trow.layout_height"}}}},VGPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.borders.getDisplayed();r<n.length;r++){var i=n[r];t.push(i.compile())}return t},VGPane}(a.Group);t.VGPane=u},R5VL:function(e,t,r){"use strict";var n=r("dXmF");t.min=function(e){return n.min(e)(this)}},R5wN:function(e,t,r){"use strict";var n=r("KMrg"),i=r("A9Q0");t.publishBehavior=function(e){return function(t){return i.multicast(new n.BehaviorSubject(e))(t)}}},RGwM:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("891W"),a=r("E4ND"),s=function(e){function FTypeResolver(t,r,n){var i=e.call(this)||this;return i._fieldResolver=t,i._funcResolver=r,i._typeProvider=n,i._stack=new Array,i._types=new Map,i}return i(FTypeResolver,e),Object.defineProperty(FTypeResolver.prototype,"fieldResolver",{get:function(){return this._fieldResolver},enumerable:!0,configurable:!0}),Object.defineProperty(FTypeResolver.prototype,"funcResolver",{get:function(){return this._funcResolver},enumerable:!0,configurable:!0}),Object.defineProperty(FTypeResolver.prototype,"typeProvider",{get:function(){return this._typeProvider},enumerable:!0,configurable:!0}),Object.defineProperty(FTypeResolver.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),Object.defineProperty(FTypeResolver.prototype,"types",{get:function(){return this._types},enumerable:!0,configurable:!0}),Object.defineProperty(FTypeResolver.prototype,"returnType",{get:function(){return this.stack[0]},enumerable:!0,configurable:!0}),FTypeResolver.prototype.visitIdentifierNode=function(e){this.pushType(e,a.DataType.NULL)},FTypeResolver.prototype.visitNullLiteralNode=function(e){this.pushType(e,a.DataType.NULL)},FTypeResolver.prototype.visitBooleanLiteralNode=function(e){this.pushType(e,a.DataType.BOOLEAN)},FTypeResolver.prototype.visitNumberLiteralNode=function(e){this.pushType(e,a.DataType.NUMBER)},FTypeResolver.prototype.visitHexLiteralNode=function(e){this.pushType(e,a.DataType.INTEGER)},FTypeResolver.prototype.visitStringLiteralNode=function(e){this.pushType(e,a.DataType.STRING)},FTypeResolver.prototype.visitRegExpLiteralNode=function(e){this.pushType(e,a.DataType.REGEXP)},FTypeResolver.prototype.visitDateLiteralNode=function(e){this.pushType(e,a.DataType.DATETIME)},FTypeResolver.prototype.visitFieldLiteralNode=function(e){this.pushField(e)},FTypeResolver.prototype.visitUnaryExpressionNode=function(e){this.pushUnary(e)},FTypeResolver.prototype.visitBinaryExpressionNode=function(e){this.pushBinary(e)},FTypeResolver.prototype.visitLogicalExpressionNode=function(e){this.pushBinary(e)},FTypeResolver.prototype.visitCallExpressionNode=function(e){this.pushCall(e)},FTypeResolver.prototype.pushType=function(e,t){this.stack.push(t),"number"==typeof e?this.types.set(e,t):this.types.set(this.getNodeId(e),t)},FTypeResolver.prototype.pushUnary=function(e){var t=this.stack.pop();switch(e.operator){case"NOT":this.pushType(e,a.DataType.BOOLEAN);break;case"-":case"+":this.pushType(e,this.typeProvider.getConvType(t))}},FTypeResolver.prototype.pushBinary=function(e){var t=this.stack.pop(),r=this.stack.pop();switch(e.operator){case"+":this.pushType(e,this.typeProvider.getAddType(r,t));break;case"-":case"*":case"/":case"%":this.pushType(e,this.typeProvider.getMathType(r,t));break;case"=":case"<>":case"<":case"<=":case">":case">=":case"AND":case"OR":this.pushType(e,a.DataType.BOOLEAN)}},FTypeResolver.prototype.pushField=function(e){var t=this.getNodeId(e),r=this.fieldResolver.getField(t);null!=r?this.pushType(e,this.typeProvider.getFieldType(r)):this.addError(e,"Cannot determine type of unknown field "+e.value)},FTypeResolver.prototype.pushCall=function(e){var t=this.getNodeId(e),r=this.funcResolver.getFunc(t);if(null!=r){for(var n=[],i=0;i<r.argc;i++)n.push(this.stack.pop());n.reverse(),this.pushType(e,this.typeProvider.getFuncReturnType(r,n))}else this.addError(e,"Cannot determine type of unknown function "+e.callee)},FTypeResolver}(o.Validator);t.FTypeResolver=s},"RI1+":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("lVEQ"),a=r("33Jt");t.take=function(e){return function(t){return 0===e?new a.EmptyObservable:t.lift(new s(e))}};var s=function(){function TakeOperator(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return TakeOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},TakeOperator}(),u=function(e){function TakeSubscriber(t,r){e.call(this,t),this.total=r,this.count=0}return n(TakeSubscriber,e),TakeSubscriber.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(i.Subscriber)},RLtT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("PbPb"),i=r("PesP"),o=r("H49V"),a=r("YWvS"),s=r("kdBv"),u=r("YyKR"),l=function(){function PivotFilterType(){this._baseFilters=new Map,this._layerFilters=new Map}return Object.defineProperty(PivotFilterType.prototype,"baseFilters",{get:function(){return this._baseFilters},enumerable:!0,configurable:!0}),Object.defineProperty(PivotFilterType.prototype,"layerFilters",{get:function(){return this._layerFilters},enumerable:!0,configurable:!0}),PivotFilterType.prototype.getBaseFilter=function(e){return this.baseFilters.get(e)},PivotFilterType.prototype.getLayerFilter=function(e,t){var r=this.layerFilters.get(e);if(void 0!==r)return r.get(t)},PivotFilterType.prototype.addBaseFilter=function(e,t){return this.baseFilters.has(e)||this.baseFilters.set(e,t),this},PivotFilterType.prototype.addLayerFilter=function(e,t,r){var n=this.layerFilters.get(e);return null==n&&(n=new Map,this.layerFilters.set(e,n)),n.has(t)||n.set(t,r),this},PivotFilterType}();t.PivotFilterType=l,function(e){function addBaseFilters(e,t,r,n){for(var o=0,a=n;o<a.length;o++){var s=a[o];switch(s.type){case i.FieldType.VIEWCALC:if(s.isDimension)break;case i.FieldType.VIEWNAMES:if(r.filters.has(s.name)){var u=r.filters.get(s.name);e=e.addBaseFilter(u.field.name,u)}}}return e}function addLayerFilters(e,t,r,n,o){for(var a=0,s=n;a<s.length;a++){var u=s[a];switch(u.type){case i.FieldType.VIEWCALC:if(u.isDimension)break;case i.FieldType.VIEWNAMES:if(r.filters.has(u.name)){var l=r.filters.get(u.name);e=e.addLayerFilter(o,l.field.name,l)}}}return e}function addMarkFilters(e,t,r,n){return[o.Channel.ROW,o.Channel.COLUMN,o.Channel.VALUE,o.Channel.COLOR,o.Channel.SIZE,o.Channel.TEXT,o.Channel.DETAIL,o.Channel.TOOLTIP,o.Channel.ANGLE,o.Channel.PATH].reduce(function(e,t){return addLayerFilters(e,0,r,n.fields.get(t)||[],n.name)},e)}function makeFilterFunc(e,t,r){switch(t.varType){case s.VariableType.DISCRETE:return function(e,t){var r=e.selection.selected,n=e.selection.mode;return function(i){var o=t(e.field,i);switch(n){case u.SelectionMode.ALL:return!0;case u.SelectionMode.INCLUDE:return!!r.has(o);case u.SelectionMode.EXCLUDE:return!r.has(o)}}}(t,r);case s.VariableType.CONTINUOUS:return function(e,t){var r,n,i=e.range,o=i.min,a=i.max;r=void 0===o||null===o||""===o?function(e){return!0}:i.includeMin?function(e){return e>=o}:function(e){return e>o};n=void 0===a||null===a||""===a?function(e){return!0}:i.includeMax?function(e){return e<=a}:function(e){return e<a};return function(o){var a=t(e.field,o);return null==a?i.includeNulls:r(a)&&n(a)}}(t,r)}}function makeCombinedFilterFunc(e,t,r){for(var n=null,i=function(e,t){n=null==n?makeFilterFunc(0,t,r):function(e){return n(e)&&makeFilterFunc(0,t,r)(e)}},o=0,a=Array.from(t);o<a.length;o++){var s=a[o];s[0];i(0,s[1])}return n||function(e){return!0}}e.makeCollectFilter=function(e,t){var r=new Array;return function(e,t,r){return function(n){for(var i=0,o=e;i<o.length;i++){var a=o[i];if(!makeFilterFunc(t,a,r)(n))return!1}return!0}}(r=function(e,t,r){for(var n=e.slice(),o=0,a=Array.from(r.filters);o<a.length;o++){var s=a[o],u=(s[0],s[1]);switch(u.field.type){case i.FieldType.VIEWCALC:u.field.isDimension&&(n=n.concat(u))}}return n}(r,0,t),e,function(e,t){return e.type===i.FieldType.VIEWCALC&&e.formula.expr.type===a.FFuncType.SCALAR?e.formula.expr.value({row:t}):null})},e.makeReduceFilter=function(e,t){var r=new l;r=addBaseFilters(r=addBaseFilters(r,e,t,t.rows.fields),e,t,t.columns.fields);for(var n=0,i=function(e){return e.layers.get(o.Channel.STAR).length>0?e.layers.get(o.Channel.STAR):e.layers.get(o.Channel.ROW).length>0?e.layers.get(o.Channel.ROW):e.layers.get(o.Channel.COLUMN).length>0?e.layers.get(o.Channel.COLUMN):new Array}(t);n<i.length;n++){var a=i[n];r=addMarkFilters(r=addLayerFilters(r=addLayerFilters(r,e,t,t.rows.fields,a.name),e,t,t.columns.fields,a.name),e,t,a)}return r},e.executeReduceFilter=function(e,t,r){var o=function(e,t){return e.type===i.FieldType.VIEWCALC?t[e.alias]:t["Measure Names"]},a=makeCombinedFilterFunc(e,r.baseFilters,o);null!=a&&(t.base.data=n.filter(t.base.data,a));for(var s=0,u=Array.from(r.layerFilters);s<u.length;s++){var l=u[s],c=l[0],f=l[1],h=t.getResultSet(c),p=makeCombinedFilterFunc(e,f,o);null!=h&&null!=p&&(h.data=n.filter(h.data,p))}return t}}(t.PivotFilter||(t.PivotFilter={}))},RToV:function(e,t,r){"use strict";var n=r("pXYK");t.filter=function(e,t){return n.filter(e,t)(this)}},RY6y:function(e,t,r){"use strict";var n=r("AeEG");t.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.zip.apply(void 0,e)(this)}},RbKJ:function(e,t,r){"use strict";var n=r("DRWY"),i=r("J5XV");n.Observable.prototype.debounceTime=i.debounceTime},ReDN:function(e,t,r){"use strict";var n=r("A9Q0");t.multicast=function(e,t){return n.multicast(e,t)(this)}},RgNB:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VSquare(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"square"},n}return i(VSquare,e),VSquare}(r("dMGK").VSymbol);t.VSquare=o},RltC:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.every=function(e,t){return function(r){return r.lift(new o(e,t,r))}};var o=function(){function EveryOperator(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return EveryOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},EveryOperator}(),a=function(e){function EverySubscriber(t,r,n,i){e.call(this,t),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return n(EverySubscriber,e),EverySubscriber.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},EverySubscriber.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},EverySubscriber.prototype._complete=function(){this.notifyComplete(!0)},EverySubscriber}(i.Subscriber)},Rnri:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("BG6I"),o=r("DRWY"),a=r("I9Xa"),s=function(e){function FromEventPatternObservable(t,r,n){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=n}return n(FromEventPatternObservable,e),FromEventPatternObservable.create=function(e,t,r){return new FromEventPatternObservable(e,t,r)},FromEventPatternObservable.prototype._subscribe=function(e){var t=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];t._callSelector(e,r)}:function(t){e.next(t)},o=this._callAddHandler(n,e);i.isFunction(r)&&e.add(new a.Subscription(function(){r(n,o)}))},FromEventPatternObservable.prototype._callSelector=function(e,t){try{var r=this.selector.apply(this,t);e.next(r)}catch(t){e.error(t)}},FromEventPatternObservable.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},FromEventPatternObservable}(o.Observable);t.FromEventPatternObservable=s},RzX6:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("KBwi"),o=r("ITh/"),a=r("EIUo"),s=r("k+FJ"),u={};t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&o.isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(new i.ArrayObservable([t].concat(e)),new l(r))}};var l=function(){function CombineLatestOperator(e){this.project=e}return CombineLatestOperator.prototype.call=function(e,t){return t.subscribe(new c(e,this.project))},CombineLatestOperator}();t.CombineLatestOperator=l;var c=function(e){function CombineLatestSubscriber(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(CombineLatestSubscriber,e),CombineLatestSubscriber.prototype._next=function(e){this.values.push(u),this.observables.push(e)},CombineLatestSubscriber.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(s.subscribeToResult(this,n,n,r))}}},CombineLatestSubscriber.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},CombineLatestSubscriber.prototype.notifyNext=function(e,t,r,n,i){var o=this.values,a=o[r],s=this.toRespond?a===u?--this.toRespond:this.toRespond:0;o[r]=t,0===s&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},CombineLatestSubscriber.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},CombineLatestSubscriber}(a.OuterSubscriber);t.CombineLatestSubscriber=c},S27b:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function AsapScheduler(){e.apply(this,arguments)}return n(AsapScheduler,e),AsapScheduler.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},AsapScheduler}(r("h5qz").AsyncScheduler);t.AsapScheduler=i},S7SM:function(e,t){e.exports=function(e){return JSON.parse(JSON.stringify(e))}},SB6h:function(e,t,r){"use strict";var n=r("DRWY"),i=r("eSNR");n.Observable.prototype.isEmpty=i.isEmpty},SEmT:function(e,t,r){"use strict";var n=r("mBMa");t.find=function(e,t){return n.find(e,t)(this)}},SEpX:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("UEw3"),o=r("7cqj"),a=r("yTj7");!function(e){var t;e.categorical=function(e,t,r){var i=o.Attr.Source.Column;return r=r||a.Defaults.make(o.Attr.Type.Discrete,r),n({},o.Attr.categorical(e,t),{source:i,defaults:r})},e.ordinal=function(e,t,r,i,s,u){var l=o.Attr.Source.Column;return u=u||a.Defaults.make(r,u),n({},o.Attr.ordinal(e,t,r,i,s),{source:l,defaults:u})},e.quantitative=function(e,t,r,i){var s=o.Attr.Source.Column;return i=i||a.Defaults.make(o.Attr.Type.Continuous,i),n({},o.Attr.quantitative(e,t,r),{source:s,defaults:i})},e.merge=function(e,r){return[t.scale,t.role,t.type].reduce(function(t,r){return r(e,t)},e)},function(t){t.scale=function(t,r){var a=r.scale,s=t.formula,u=t.name,l=t.type,c=t.role,f=t.defaults;switch(a){case o.Attr.Scale.Categorical:return e.categorical(s,u,f);case o.Attr.Scale.Ordinal:switch(t.scale){case o.Attr.Scale.Categorical:return e.ordinal(s,u,l,c);case o.Attr.Scale.Ordinal:case o.Attr.Scale.Quantitative:return e.ordinal(s,u,l,c,t.ordering)}case o.Attr.Scale.Quantitative:switch(s.type.name){case i.DataType.Name.Float:case i.DataType.Name.Integer:case i.DataType.Name.Decimal:case i.DataType.Name.String:switch(s.role.name){case i.DataType.Name.Null:case i.DataType.Name.Boolean:case i.DataType.Name.Regexp:case i.DataType.Name.Timestamp:return n({},t);default:var h=o.Attr.measure(s.source,s.name,s.type,s.role);switch(t.scale){case o.Attr.Scale.Categorical:return e.quantitative(h,u);case o.Attr.Scale.Ordinal:case o.Attr.Scale.Quantitative:return e.quantitative(h,u,t.ordering)}}default:return n({},t)}}},t.role=function(e,t){var r=t.role;switch(r){case o.Attr.Role.Dimension:switch(e.scale){case o.Attr.Scale.Categorical:case o.Attr.Scale.Ordinal:return n({},e,{role:r});default:return n({},e)}case o.Attr.Role.Measure:switch(e.scale){case o.Attr.Scale.Ordinal:case o.Attr.Scale.Quantitative:switch(e.formula.type.name){case i.DataType.Name.Float:case i.DataType.Name.Integer:case i.DataType.Name.Decimal:case i.DataType.Name.String:return n({},e,{role:r});default:return n({},e)}default:return n({},e)}}},t.type=function(e,t){var r=t.type;switch(r){case o.Attr.Type.Continuous:switch(e.scale){case o.Attr.Scale.Ordinal:case o.Attr.Scale.Quantitative:switch(e.formula.type.name){case i.DataType.Name.Float:case i.DataType.Name.Decimal:case i.DataType.Name.Decimal:return n({},e,{type:r});default:return n({},e)}default:return n({},e)}case o.Attr.Type.Discrete:switch(e.scale){case o.Attr.Scale.Categorical:case o.Attr.Scale.Ordinal:return n({},e,{type:r});default:return n({},e)}}}}(t=e.Merge||(e.Merge={}))}(t.Column||(t.Column={}))},SFto:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new o(e))}};var o=function(){function DefaultIfEmptyOperator(e){this.defaultValue=e}return DefaultIfEmptyOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},DefaultIfEmptyOperator}(),a=function(e){function DefaultIfEmptySubscriber(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return n(DefaultIfEmptySubscriber,e),DefaultIfEmptySubscriber.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},DefaultIfEmptySubscriber.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},DefaultIfEmptySubscriber}(i.Subscriber)},SGxi:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function CRows(t,r){var n=e.call(this,"crows",r)||this;return n.addFormula("layout_height","CellHeight"),n.addAggregate(["trKey","rKey"]).summarize("layout_height","max"),n.addStack(["trKey"],"layout_height",["_id"]),n}return i(CRows,e),CRows}(r("qI4a").Data);t.CRows=o},SHle:function(e,t,r){"use strict";var n=r("DRWY"),i=r("AHav");n.Observable.forkJoin=i.forkJoin},SIHM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function DomainQuery(){this._fields=new Array,this._filters=new Array,this._sorts=new Array}return Object.defineProperty(DomainQuery.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(DomainQuery.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(DomainQuery.prototype,"sorts",{get:function(){return this._sorts},enumerable:!0,configurable:!0}),DomainQuery.prototype.onField=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){return e.fields.push(t)}),this},DomainQuery.prototype.onFilter=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){return e.filters.push(t)}),this},DomainQuery.prototype.onSort=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){return e.sorts.push(t)}),this},DomainQuery}();t.DomainQuery=n},SMWO:function(e,t,r){"use strict";var n=r("DRWY"),i=r("8cka");n.Observable.prototype.mergeAll=i.mergeAll},SNuK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Axis(e){this._field=e}return Object.defineProperty(Axis.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"fields",{get:function(){return[this.field]},enumerable:!0,configurable:!0}),Axis}();t.Axis=n},SScF:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("k+FJ"),a=r("EIUo"),s=function(e){function IfObservable(t,r,n){e.call(this),this.condition=t,this.thenSource=r,this.elseSource=n}return n(IfObservable,e),IfObservable.create=function(e,t,r){return new IfObservable(e,t,r)},IfObservable.prototype._subscribe=function(e){var t=this.condition,r=this.thenSource,n=this.elseSource;return new u(e,t,r,n)},IfObservable}(i.Observable);t.IfObservable=s;var u=function(e){function IfSubscriber(t,r,n,i){e.call(this,t),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return n(IfSubscriber,e),IfSubscriber.prototype.tryIf=function(){var e=this.condition,t=this.thenSource,r=this.elseSource;try{var n=e()?t:r;n?this.add(o.subscribeToResult(this,n)):this._complete()}catch(e){this._error(e)}},IfSubscriber}(a.OuterSubscriber)},"SV2+":function(e,t,r){"use strict";var n=r("6Tub");t.shareReplay=function(e,t,r){return n.shareReplay(e,t,r)(this)}},SVcL:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("fGzK"),a=r("yf0c"),s=r("+73G"),u=r("z8FJ"),l=function(e){function VAxis(t,r,n,i){var o=e.call(this,t,r.yAlias,n,i)||this;return o.borders.top.display=!0,o._yScale=r.buildYScale(),r instanceof s.VMarks?o._yAxis=new u.YAxis(t,o,o.yScale,r.field):r instanceof a.PMarks&&(o._yAxis=new u.YAxis(t,o,o.yScale,r.yField)),o.addFilter("datum.yAlias == '"+r.yAlias+"'"),o}return i(VAxis,e),Object.defineProperty(VAxis.prototype,"yScale",{get:function(){return this._yScale},enumerable:!0,configurable:!0}),Object.defineProperty(VAxis.prototype,"yAxis",{get:function(){return this._yAxis},enumerable:!0,configurable:!0}),VAxis.prototype.getWidth=function(){return this.parent.getWidth()},VAxis.prototype.getXProp=function(){return{value:0}},VAxis.prototype.getYProp=function(){return{field:"layout_start",offset:.5}},VAxis.prototype.getHeightProp=function(){return{field:"layout_height"}},VAxis.prototype.getScales=function(){var t=e.prototype.getScales.call(this);return t.push(this.yScale.compile()),t},VAxis.prototype.getAxes=function(){var t=e.prototype.getAxes.call(this);return t.push(this.yAxis.compile()),t},VAxis}(o.RHead);t.VAxis=l},"SY+v":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function UnsubscriptionError(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(UnsubscriptionError,e),UnsubscriptionError}(Error);t.UnsubscriptionError=i},ScxB:function(e,t,r){"use strict";var n=r("DRWY"),i=r("yrg+");n.Observable.prototype.timestamp=i.timestamp},SdCE:function(e,t,r){"use strict";function defaultEqualityCheck(e,t){return e===t}function defaultMemoize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityCheck,r=null,n=null;return function(){return function(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}function createSelectorCreator(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=0,a=n.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var r=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}(n),u=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(r)),l=defaultMemoize(function(){for(var e=[],t=s.length,r=0;r<t;r++)e.push(s[r].apply(null,arguments));return u.apply(null,e)});return l.resultFunc=a,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}t.__esModule=!0,t.defaultMemoize=defaultMemoize,t.createSelectorCreator=createSelectorCreator,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){return e[r[n]]=t,e},{})})};var n=t.createSelector=createSelectorCreator(defaultMemoize)},SgnA:function(e,t,r){"use strict";(function(e){var r="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=r||void 0!==e&&e||n;t.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,r("h6ac"))},"Sh+V":function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,t,i){if("[object Function]"!==n.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)t.call(i,e[a],a,e);else for(var s in e)r.call(e,s)&&t.call(i,e[s],s,e)}},Skk4:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("fGzK"),a=r("ZXAY"),s=function(e){function RHeader(t,r,n,i){var o=e.call(this,t,r.alias,n,i)||this;return o.borders.top.display=!0,o._label=new a.RLabel(t,r),o}return i(RHeader,e),Object.defineProperty(RHeader.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),RHeader.prototype.getYProp=function(){return{field:"layout_start",offset:.5}},RHeader.prototype.getHeightProp=function(){return{field:"layout_height"}},RHeader.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.label.compile()),t},RHeader}(o.RHead);t.RHeader=s},SpBy:function(e,t,r){"use strict";var n=r("TJmw");t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilKeyChanged(e,t)(this)}},T3QO:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function Action(t,r){e.call(this)}return n(Action,e),Action.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},Action}(r("I9Xa").Subscription);t.Action=i},T4A1:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("zdYa"),a=r("sgHH"),s=r("mMt9"),u=r("Imxj"),l=r("7CtO"),c=r("hJUK"),f=r("hJUK"),h=r("hJUK"),p=r("hJUK"),d=r("hJUK"),y=r("hJUK"),g=function(e){function HTable(t){var r=e.call(this,t)||this;return r._marks=r.buildMarks(),r._top=new l.HTop(r),r._left=new u.HLeft(r),r._body=new s.HBody(r),r}return i(HTable,e),Object.defineProperty(HTable.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"topHeight",{get:function(){for(var e=0,t=0,r=this.columnFields;t<r.length;t++){r[t];e+=this.fit.getTopHeaderHeight()}return e},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"bottomHeight",{get:function(){var e=0;return this.yAxisCount>0&&(e+=this.fit.getBottomAxisHeight()),e},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"leftWidth",{get:function(){for(var e=0,t=0,r=this.rowFields;t<r.length;t++){r[t];e+=this.fit.getLeftHeaderWidth()}return this.yAxisCount>0&&(e+=this.fit.getLeftHeaderWidth()),e},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"rightWidth",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"cellWidth",{get:function(){return this.fit.getCellWidth(100)},enumerable:!0,configurable:!0}),Object.defineProperty(HTable.prototype,"cellHeight",{get:function(){return this.fit.getCellHeight(20)},enumerable:!0,configurable:!0}),HTable.prototype.compute=function(){e.prototype.compute.call(this);for(var t=0,r=this.marks;t<r.length;t++){var n=r[t];this.sheet.addData(n.query),this.sheet.addData(n.cells)}for(var i=0,o=this.body.gData;i<o.length;i++){var a=o[i];this.sheet.addData(a)}for(var s=0,u=this.body.mData;s<u.length;s++){a=u[s];this.sheet.addData(a)}for(var l=0,c=this.left.stacks;l<c.length;l++){var f=c[l];this.sheet.addData(f)}for(var h=0,p=this.top.stacks;h<p.length;h++){f=p[h];this.sheet.addData(f)}this.addFixedSignals(),this.addTopSignals(),this.addLeftSignals(),this.addBottomSignals(),this.addBodySignals()},HTable.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.body.compile()),this.xAxisCount>0&&(t.push(this.top.compile()),t.push(this.top.bottom.compile())),this.xAxisCount>0&&t.push(this.left.compile()),t},HTable.prototype.buildMarks=function(){for(var e=new Array,t=0,r=this.xAxisFields;t<r.length;t++){var n=r[t],i=this.encoding.getMarks(n),o=void 0;switch(i.type){case"bar":o=new f.HMBars(this,n,i);break;case"line":o=new p.HMLine(this,n,i);break;case"area":o=new c.HMArea(this,n,i);break;case"circle":o=new h.HMCircle(this,n,i);break;case"square":o=new y.HMSquare(this,n,i);break;case"shape":o=new d.HMShape(this,n,i)}e.push(o)}return e},HTable.prototype.addFixedSignals=function(){this.sheet.addSignal(new o.Signal("CellWidth",this.cellWidth)),this.sheet.addSignal(new o.Signal("CellHeight",this.cellHeight)),this.sheet.addSignal(new o.Signal("TopHeight",this.top.getHeight())),this.sheet.addSignal(new o.Signal("LeftWidth",this.left.getWidth()))},HTable.prototype.addTopSignals=function(){this.sheet.addSignal(new o.Signal("TopX",{expr:"LeftWidth"})),this.sheet.addSignal(new o.Signal("TopY",{expr:"0.5"})),this.sheet.addSignal(new o.Signal("TopWidth",{expr:"CellWidth * CCellCount"}))},HTable.prototype.addLeftSignals=function(){this.sheet.addSignal(new o.Signal("LeftY",{expr:"TopHeight"})),this.sheet.addSignal(new o.Signal("LeftX",{expr:"0.5"})),this.sheet.addSignal(new o.Signal("LeftHeight",{expr:"CellHeight * RCellCount"}))},HTable.prototype.addBottomSignals=function(){this.sheet.addSignal(new o.Signal("BottomX",{expr:"LeftWidth"})),this.sheet.addSignal(new o.Signal("BottomY",{expr:"TopHeight + LeftHeight"})),this.sheet.addSignal(new o.Signal("BottomWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new o.Signal("BottomHeight",{expr:""+this.fit.getBottomAxisHeight()}))},HTable.prototype.addBodySignals=function(){this.sheet.addSignal(new o.Signal("BodyX",{expr:"LeftWidth + 0.5"})),this.sheet.addSignal(new o.Signal("BodyY",{expr:"TopHeight + 0.5"})),this.sheet.addSignal(new o.Signal("BodyWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new o.Signal("BodyHeight",{expr:"CellHeight * RCellCount"}))},HTable}(a.Table);t.HTable=g},T6ZB:function(e,t,r){"use strict";var n=r("wZEL");t.first=function(e,t,r){return n.first(e,t,r)(this)}},TJmw:function(e,t,r){"use strict";var n=r("ZUnZ");t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}},TJoA:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Impute(t,r,n,i,o){var a=e.call(this)||this;return a._groupby=t,a._orderby=r,a._field=n,a._method=i,a._value=o,a}return i(Impute,e),Object.defineProperty(Impute.prototype,"groupby",{get:function(){return this._groupby},enumerable:!0,configurable:!0}),Object.defineProperty(Impute.prototype,"orderby",{get:function(){return this._orderby},enumerable:!0,configurable:!0}),Object.defineProperty(Impute.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(Impute.prototype,"method",{get:function(){return this._method},enumerable:!0,configurable:!0}),Object.defineProperty(Impute.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Impute.prototype.compile=function(){var e={type:"impute",groupby:this.groupby,orderby:this.orderby,field:this.field,method:this.method};return null!=this.value&&(e.value=this.value),e},Impute}(r("3Txa").Transform);t.Impute=o},TOc1:function(e,t,r){"use strict";var n=r("DRWY"),i=r("AtlK");n.Observable.prototype.bufferTime=i.bufferTime},TR9g:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=r("891W");!function(e){e.UNDEFINED_FIELD="UNDEFINED_FIELD",e.UKNOWN_FUNCTION="UNKNOWN_FUNCTION"}(o=t.FErrorType||(t.FErrorType={}));var s=function(){function FormulaErrorBase(e,t){this._line=e,this._column=t}return Object.defineProperty(FormulaErrorBase.prototype,"line",{get:function(){return this._line},enumerable:!0,configurable:!0}),Object.defineProperty(FormulaErrorBase.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),FormulaErrorBase}();t.FormulaErrorBase=s;var u=function(e){function UndefinedFieldError(t,r,n){var i=e.call(this,t,r)||this;return i._fieldName=n,i}return i(UndefinedFieldError,e),Object.defineProperty(UndefinedFieldError.prototype,"type",{get:function(){return o.UNDEFINED_FIELD},enumerable:!0,configurable:!0}),Object.defineProperty(UndefinedFieldError.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(UndefinedFieldError.prototype,"message",{get:function(){return"Reference to undefined field "+this.fieldName},enumerable:!0,configurable:!0}),UndefinedFieldError}(s);t.UndefinedFieldError=u;var l=function(e){function UnknownFunctionError(t,r,n){var i=e.call(this,t,r)||this;return i._functionName=n,i}return i(UnknownFunctionError,e),Object.defineProperty(UnknownFunctionError.prototype,"type",{get:function(){return o.UKNOWN_FUNCTION},enumerable:!0,configurable:!0}),Object.defineProperty(UnknownFunctionError.prototype,"functionName",{get:function(){return this._functionName},enumerable:!0,configurable:!0}),Object.defineProperty(UnknownFunctionError.prototype,"message",{get:function(){return"Unknown function "+this.functionName+" called"},enumerable:!0,configurable:!0}),UnknownFunctionError}(s);t.UnknownFunctionError=l;var c=function(e){function Validator(t,r){var n=e.call(this)||this;return n._fieldResolver=t,n._funcResolver=r,n._errors=new Array,n}return i(Validator,e),Object.defineProperty(Validator.prototype,"fieldResolver",{get:function(){return this._fieldResolver},enumerable:!0,configurable:!0}),Object.defineProperty(Validator.prototype,"funcResolver",{get:function(){return this._funcResolver},enumerable:!0,configurable:!0}),Object.defineProperty(Validator.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Validator.prototype.visitFieldLiteralNode=function(e){var t=e.location.start,r=this.fieldResolver.getField(t.offset);if(null!=r)switch(r.type){case"MODELCALC":null==this.funcResolver.getCalcFunc(r)&&this.errors.push(new u(t.line,t.column,e.value))}else this.errors.push(new u(t.line,t.column,e.value))},Validator.prototype.visitCallExpressionNode=function(e){var t=e.location.start;null==this.funcResolver.getFunc(t.offset)&&this.errors.push(new l(t.line,t.column,e.callee))},Validator}(a.BaseVisitor);t.Validator=c},TSV6:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function CStack(t,r,n,i){var o=e.call(this,t,r,n,i)||this,a=o.addAggregate(r);return o.hasParent?(a.sum("cellCount","cellCount"),a.sum("layout_width","layout_width")):(a.distinct("cKey","cellCount"),o.addFormula("layout_width","datum.cellCount * CellWidth")),o.addStack([],"layout_width",["_id"]),o}return i(CStack,e),CStack}(r("nS3z").FStack);t.CStack=o},Tegp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("kdBv"),i=r("iSoF"),o=function(){function DomainCollect(e,t){this._query=e,this._result=t,this._collect=this.buildCollect()}return Object.defineProperty(DomainCollect.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(DomainCollect.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(DomainCollect.prototype,"collect",{get:function(){return this._collect},enumerable:!0,configurable:!0}),DomainCollect.prototype.buildCollect=function(){var e=this,t=new Map;this.query.fields.forEach(function(r,o){switch(r.varType){case n.VariableType.DISCRETE:t.set(r.alias,new i.DiscreteDomain(r.dataType));break;case n.VariableType.CONTINUOUS:t.set(r.alias,new i.ContinuousDomain(r.dataType))}e.result.addDomain(r.alias,t.get(r.alias))});var r=null;return function(n,i){for(var o=0,a=e.query.fields;o<a.length;o++){var s=a[o];(r=t.get(s.alias))&&"VIEWCALC"===s.type&&"SCALAR"===s.formula.expr.type&&r.add(s.formula.expr.value({row:n}))}}},DomainCollect}();t.DomainCollect=o},TvGQ:function(e,t,r){var n=r("9R9K"),i=r("DENg"),o=r("ZrAa"),a=e.exports;function ztest1(e,t,r){var n=e&&e.nullh||0,i=o.random.normal(0,1),s=a.mean(t,r),u=a.stdev(t,r)/Math.sqrt(a.count.valid(t,r));if(0===u)return s-n==0?1:0;var l=(s-n)/u;return 2*i.cdf(-Math.abs(l))}function ztestP(e,t,r,i){var o,s=i?t.map(n.$(r)):t,u=i?t.map(n.$(i)):r,l=a.count(s),c=a.count(u),f=Array();if(l!==c)throw Error("Array lengths must match.");for(o=0;o<l;++o)n.isValid(s[o])&&n.isValid(u[o])&&f.push(s[o]-u[o]);return a.z.test(f,e&&e.nullh||0)}function ztest2(e,t,r,i){var s=i?t.map(n.$(r)):t,u=i?t.map(n.$(i)):r,l=a.count.valid(s),c=a.count.valid(u),f=o.random.normal(0,1),h=a.mean(s)-a.mean(u)-(e&&e.nullh||0),p=Math.sqrt(a.variance(s)/l+a.variance(u)/c);if(0===p)return 0===h?1:0;var d=h/p;return 2*f.cdf(-Math.abs(d))}a.unique=function(e,t,r){t=n.$(t),r=r||[];var i,o,a,s={};for(o=0,a=e.length;o<a;++o)(i=t?t(e[o]):e[o])in s||(s[i]=1,r.push(i));return r},a.count=function(e){return e&&e.length||0},a.count.valid=function(e,t){t=n.$(t);var r,i,o,a=0;for(i=0,o=e.length;i<o;++i)r=t?t(e[i]):e[i],n.isValid(r)&&(a+=1);return a},a.count.missing=function(e,t){t=n.$(t);var r,i,o=0;for(r=0,i=e.length;r<i;++r)null==(t?t(e[r]):e[r])&&(o+=1);return o},a.count.distinct=function(e,t){t=n.$(t);var r,i,o,a={},s=0;for(i=0,o=e.length;i<o;++i)(r=t?t(e[i]):e[i])in a||(a[r]=1,s+=1);return s},a.count.map=function(e,t){t=n.$(t);var r,i,o,a={};for(i=0,o=e.length;i<o;++i)a[r=t?t(e[i]):e[i]]=r in a?a[r]+1:1;return a},a.median=function(e,t){return t&&(e=e.map(n.$(t))),e=e.filter(n.isValid).sort(n.cmp),a.quantile(e,.5)},a.quartile=function(e,t){t&&(e=e.map(n.$(t))),e=e.filter(n.isValid).sort(n.cmp);var r=a.quantile;return[r(e,.25),r(e,.5),r(e,.75)]},a.quantile=function(e,t,r){void 0===r&&(r=t,t=n.identity),t=n.$(t);var i=(e.length-1)*r+1,o=Math.floor(i),a=+t(e[o-1]),s=i-o;return s?a+s*(t(e[o])-a):a},a.sum=function(e,t){t=n.$(t);for(var r,i=0,o=0,a=e.length;o<a;++o)r=t?t(e[o]):e[o],n.isValid(r)&&(i+=r);return i},a.mean=function(e,t){t=n.$(t);var r,i,o,a,s=0;for(r=0,o=0,i=e.length;r<i;++r)a=t?t(e[r]):e[r],n.isValid(a)&&(s+=(a-s)/++o);return s},a.mean.geometric=function(e,t){t=n.$(t);var r,i,o,a,s=1;for(a=0,r=0,i=e.length;a<i;++a)if(o=t?t(e[a]):e[a],n.isValid(o)){if(o<=0)throw Error("Geometric mean only defined for positive values.");s*=o,++r}return s=r>0?Math.pow(s,1/r):0},a.mean.harmonic=function(e,t){t=n.$(t);var r,i,o,a,s=0;for(a=0,r=0,i=e.length;a<i;++a)o=t?t(e[a]):e[a],n.isValid(o)&&(s+=1/o,++r);return r/s},a.variance=function(e,t){if(t=n.$(t),!n.isArray(e)||e.length<2)return 0;var r,i,o,a,s=0,u=0;for(i=0,o=0;i<e.length;++i)a=t?t(e[i]):e[i],n.isValid(a)&&(u+=(r=a-s)*(a-(s+=r/++o)));return u/=o-1},a.stdev=function(e,t){return Math.sqrt(a.variance(e,t))},a.modeskew=function(e,t){var r=a.mean(e,t),n=a.median(e,t),i=a.stdev(e,t);return 0===i?0:(r-n)/i},a.min=function(e,t){return a.extent(e,t)[0]},a.max=function(e,t){return a.extent(e,t)[1]},a.extent=function(e,t){t=n.$(t);var r,i,o,a,s=e.length;for(a=0;a<s;++a)if(o=t?t(e[a]):e[a],n.isValid(o)){r=i=o;break}for(;a<s;++a)o=t?t(e[a]):e[a],n.isValid(o)&&(o<r&&(r=o),o>i&&(i=o));return[r,i]},a.extent.index=function(e,t){t=n.$(t);var r,i,o,a,s=-1,u=-1,l=e.length;for(a=0;a<l;++a)if(o=t?t(e[a]):e[a],n.isValid(o)){r=i=o,s=u=a;break}for(;a<l;++a)o=t?t(e[a]):e[a],n.isValid(o)&&(o<r&&(r=o,s=a),o>i&&(i=o,u=a));return[s,u]},a.dot=function(e,t,r){var i,o,a=0;if(r)for(t=n.$(t),r=n.$(r),i=0;i<e.length;++i)(o=t(e[i])*r(e[i]))==o&&(a+=o);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(i=0;i<e.length;++i)(o=e[i]*t[i])==o&&(a+=o)}return a},a.dist=function(e,t,r,i){var o,a,s=n.isFunction(r)||n.isString(r),u=e,l=s?e:t,c=s?i:r,f=2===c||null==c,h=e.length,p=0;for(s&&(t=n.$(t),r=n.$(r)),a=0;a<h;++a)o=s?t(u[a])-r(l[a]):u[a]-l[a],p+=f?o*o:Math.pow(Math.abs(o),c);return f?Math.sqrt(p):Math.pow(p,1/c)},a.cohensd=function(e,t,r){var i=r?e.map(n.$(t)):e,o=r?e.map(n.$(r)):t,s=a.mean(i),u=a.mean(o),l=a.count.valid(i),c=a.count.valid(o);if(l+c-2<=0)return 0;var f=a.variance(i),h=a.variance(o),p=Math.sqrt(((l-1)*f+(c-1)*h)/(l+c-2));return 0===p?0:(s-u)/p},a.covariance=function(e,t,r){var i,o,s,u,l,c=r?e.map(n.$(t)):e,f=r?e.map(n.$(r)):t,h=c.length,p=a.mean(c),d=a.mean(f),y=0,g=0;if(h!==f.length)throw Error("Input lengths must match.");for(i=0;i<h;++i)if(o=c[i],u=n.isValid(o),s=f[i],l=n.isValid(s),u&&l)y+=(o-p)*(s-d),++g;else if(u||l)throw Error("Valid values must align.");return y/(g-1)},a.rank=function(e,t){t=n.$(t)||n.identity;var r,i,o,a=e.map(function(e,r){return{idx:r,val:t(e)}}).sort(n.comparator("val")),s=e.length,u=Array(s),l=-1,c={};for(r=0;r<s;++r){if(i=a[r].val,l<0&&c===i)l=r-1;else if(l>-1&&c!==i){for(o=1+(r-1+l)/2;l<r;++l)u[a[l].idx]=o;l=-1}u[a[r].idx]=r+1,c=i}if(l>-1)for(o=1+(s-1+l)/2;l<s;++l)u[a[l].idx]=o;return u},a.cor=function(e,t,r){var i=r;r=i?e.map(n.$(r)):t,t=i?e.map(n.$(t)):e;var o=a.dot(t,r),s=a.mean(t),u=a.mean(r),l=a.stdev(t),c=a.stdev(r),f=e.length;return(o-f*s*u)/((f-1)*l*c)},a.cor.rank=function(e,t,r){var n,i,o,s=r?a.rank(e,t):a.rank(e),u=r?a.rank(e,r):a.rank(t),l=e.length;for(n=0,i=0;n<l;++n)i+=(o=s[n]-u[n])*o;return 1-6*i/(l*(l*l-1))},a.cor.dist=function(e,t,r){var i,o,s,u,l=r?e.map(n.$(t)):e,c=r?e.map(n.$(r)):t,f=a.dist.mat(l),h=a.dist.mat(c),p=f.length;for(i=0,o=0,s=0,u=0;i<p;++i)o+=f[i]*f[i],s+=h[i]*h[i],u+=f[i]*h[i];return Math.sqrt(u/Math.sqrt(o*s))},a.linearRegression=function(e,t,r){var i,o,s=r?e.map(n.$(t)):e,u=r?e.map(n.$(r)):t,l=s.length,c=a.covariance(s,u),f=a.stdev(s),h=a.stdev(u),p=c/(f*f),d=a.mean(u)-p*a.mean(s),y={slope:p,intercept:d,R:c/(f*h),rss:0};for(o=0;o<l;++o)n.isValid(s[o])&&n.isValid(u[o])&&(i=p*s[o]+d-u[o],y.rss+=i*i);return y},a.bootstrap={},a.bootstrap.ci=function(e,t,r,i,s){var u,l,c,f,h,p,d;for(n.isFunction(t)||n.isString(t)?(u=e.map(n.$(t)),l=r,c=i,f=s):(u=e,l=t,c=r,f=i),l=l?+l:1e3,c=c||.05,h=o.random.bootstrap(u,f),d=0,p=Array(l);d<l;++d)p[d]=a.mean(h.samples(u.length));return p.sort(n.numcmp),[a.quantile(p,c/2),a.quantile(p,1-c/2)]},a.z={},a.z.ci=function(e,t,r){var i=e,s=t;(n.isFunction(t)||n.isString(t))&&(i=e.map(n.$(t)),s=r);var u=.05===(s=s||.05)?1.96:o.random.normal(0,1).icdf(1-s/2),l=a.mean(i),c=a.stdev(i)/Math.sqrt(a.count.valid(i));return[l-u*c,l+u*c]},a.z.test=function(e,t,r,i){return n.isFunction(r)||n.isString(r)?(i&&i.paired?ztestP:ztest2)(i,e,t,r):n.isArray(t)?(r&&r.paired?ztestP:ztest2)(r,e,t):n.isFunction(t)||n.isString(t)?ztest1(r,e,t):ztest1(t,e)},a.dist.mat=function(e){var t,r,n,i=e.length,a=i*i,s=Array(a),u=o.zeros(i),l=0;for(r=0;r<i;++r)for(s[r*i+r]=0,n=r+1;n<i;++n)s[r*i+n]=t=Math.abs(e[r]-e[n]),s[n*i+r]=t,u[r]+=t,u[n]+=t;for(r=0;r<i;++r)l+=u[r],u[r]/=i;for(l/=a,r=0;r<i;++r)for(n=r;n<i;++n)s[r*i+n]+=l-u[r]-u[n],s[n*i+r]=s[r*i+n];return s},a.entropy=function(e,t){t=n.$(t);var r,i,o=0,a=0,s=e.length;for(r=0;r<s;++r)o+=t?t(e[r]):e[r];if(0===o)return 0;for(r=0;r<s;++r)(i=(t?t(e[r]):e[r])/o)&&(a+=i*Math.log(i));return-a/Math.LN2},a.mutual=function(e,t,r,i){var o,a,s,u=i?e.map(n.$(t)):e,l=i?e.map(n.$(r)):t,c=i?e.map(n.$(i)):r,f={},h={},p=c.length,d=0,y=0,g=0;for(s=0;s<p;++s)f[u[s]]=0,h[l[s]]=0;for(s=0;s<p;++s)f[u[s]]+=c[s],h[l[s]]+=c[s],d+=c[s];for(a=1/(d*Math.LN2),s=0;s<p;++s)0!==c[s]&&(o=d*c[s]/(f[u[s]]*h[l[s]]),y+=c[s]*a*Math.log(o),g+=c[s]*a*Math.log(c[s]/d));return[y,1+y/g]},a.mutual.info=function(e,t,r,n){return a.mutual(e,t,r,n)[0]},a.mutual.dist=function(e,t,r,n){return a.mutual(e,t,r,n)[1]},a.profile=function(e,t){var r,o,s,u,l,c=0,f=0,h=0,p=0,d=null,y=null,g=0,m=[],v={};for(s=0;s<e.length;++s)v[u=t?t(e[s]):e[s]]=u in v?v[u]+1:(p+=1,1),null==u?++h:n.isValid(u)&&(l="string"==typeof u?u.length:u,(null===d||l<d)&&(d=l),(null===y||l>y)&&(y=l),g+=(r=l-c)*(l-(c+=r/++f)),m.push(l));return g/=f-1,o=Math.sqrt(g),m.sort(n.cmp),{type:i(e,t),unique:v,count:e.length,valid:f,missing:h,distinct:p,min:d,max:y,mean:c,stdev:o,median:u=a.quantile(m,.5),q1:a.quantile(m,.25),q3:a.quantile(m,.75),modeskew:0===o?0:(c-u)/o}},a.summary=function(e,t){var r=(t=t||n.keys(e[0])).map(function(t){var r=a.profile(e,n.$(t));return r.field=t,r});return r.__summary__=!0,r}},U0ap:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("SgnA"),o=r("DRWY"),a=r("pSKN"),s=function(e){function IteratorObservable(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[a.iterator];if(!t&&"string"==typeof e)return new u(e);if(!t&&void 0!==e.length)return new l(e);if(!t)throw new TypeError("object is not iterable");return e[a.iterator]()}(t)}return n(IteratorObservable,e),IteratorObservable.create=function(e,t){return new IteratorObservable(e,t)},IteratorObservable.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,i=e.subscriber;if(r)i.error(e.error);else{var o=n.next();o.done?i.complete():(i.next(o.value),e.index=t+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(e))}},IteratorObservable.prototype._subscribe=function(e){var t=this.iterator,r=this.scheduler;if(r)return r.schedule(IteratorObservable.dispatch,0,{index:0,iterator:t,subscriber:e});for(;;){var n=t.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed){"function"==typeof t.return&&t.return();break}}},IteratorObservable}(o.Observable);t.IteratorObservable=s;var u=function(){function StringIterator(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return StringIterator.prototype[a.iterator]=function(){return this},StringIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},StringIterator}(),l=function(){function ArrayIterator(e,t,r){void 0===t&&(t=0),void 0===r&&(r=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(r=t,"number"!=typeof r||!i.root.isFinite(r)))return t;var r;if((t=function(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0)return 0;if(t>c)return c;return t}(e)),this.arr=e,this.idx=t,this.len=r}return ArrayIterator.prototype[a.iterator]=function(){return this},ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},ArrayIterator}();var c=Math.pow(2,53)-1},UBmR:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("sTlA"),a=function(e){function FieldFormula(t,r){var n=e.call(this,t,r)||this,i=t.root;return n._fieldName=i.value,n}return i(FieldFormula,e),FieldFormula.Matches=function(e){return"FieldLiteral"===e.root.type},Object.defineProperty(FieldFormula.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(FieldFormula.prototype,"form",{get:function(){return o.FormType.FIELD},enumerable:!0,configurable:!0}),FieldFormula}(o.Formula);t.FieldFormula=a},UEw3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;!function(e){e.Null="NULL",e.Boolean="BOOLEAN",e.Float="FLOAT",e.Integer="INTEGER",e.Decimal="DECIMAL",e.Timestamp="TIMESTAMP",e.String="STRING",e.Regexp="REGEXP"}(t=e.Name||(e.Name={})),function(e){e.make=function(){return{name:t.Null}}}(e.Null||(e.Null={})),function(e){e.make=function(){return{name:t.Boolean}}}(e.Boolean||(e.Boolean={})),function(e){e.make=function(){return{name:t.Float}}}(e.Float||(e.Float={})),function(e){e.make=function(){return{name:t.Integer}}}(e.Integer||(e.Integer={})),function(e){e.make=function(e,r){return{precision:e,scale:r,name:t.Decimal}}}(e.Decimal||(e.Decimal={})),function(e){e.make=function(){return{name:t.Timestamp}}}(e.Timestamp||(e.Timestamp={})),function(e){e.make=function(){return{name:t.String}}}(e.String||(e.String={})),function(e){e.make=function(){return{name:t.Regexp}}}(e.Regexp||(e.Regexp={}))}(t.DataType||(t.DataType={}))},UT3o:function(e,t,r){"use strict";t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},UUrY:function(e,t,r){var n=r("9R9K"),i=r("543X"),o=r("Qs2N");e.exports=n.keys(o.formats).reduce(function(e,t){return e[t]=function(e,r,a){n.isString(e)&&(e={url:e}),2===arguments.length&&n.isFunction(r)&&(a=r,r=void 0),(r=n.extend({parse:"auto"},r)).type=t;var s=i(e,a?function(e,t){if(e)a(e,null);else try{t=o(t,r),a(null,t)}catch(e){a(e,null)}}:void 0);if(!a)return o(s,r)},e},{})},UbjR:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("ejt7");!function(e){e.name=function(e){if(e.state!==i.Expression.State.Compiled)return e.source;switch(e.type){case i.Expression.Type.Aggregate:case i.Expression.Type.Calculation:return"AGG("+e.source+")";default:return e.source}},e.parsed=function(e,t){var r=i.Expression.Form.Generic,o=i.Expression.State.Parsed;return n({},e,{tree:t,form:r,state:o})},e.compiled=function(e,t){var r=i.Expression.Form.Generic,o=i.Expression.State.Compiled;return n({},e,{form:r,type:t,state:o})}}(t.Generic||(t.Generic={}))},Ucq1:function(e,t,r){"use strict";var n=r("v4/0");t.zipAll=function(e){return n.zipAll(e)(this)}},Uei4:function(e,t,r){"use strict";var n=r("P23m"),i=r("ITh/"),o=r("KBwi"),a=r("RzX6");t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,s=null;return n.isScheduler(e[e.length-1])&&(s=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),new o.ArrayObservable(e,s).lift(new a.CombineLatestOperator(r))}},UkXh:function(e,t,r){"use strict";var n=r("DRWY"),i=r("AXdR");n.Observable.webSocket=i.webSocket},UlDi:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("v4Ul"),a=r("yf0c"),s=r("hJUK"),u=r("LRef"),l=function(e){function HAxis(t,r,n,i){var o=e.call(this,t,r.xAlias,n,i)||this;return o.borders.left.display=!0,o._xScale=r.buildXScale(),r instanceof s.HMarks?o._xAxis=new u.XAxis(t,o,o.xScale,r.field):r instanceof a.PMarks&&(o._xAxis=new u.XAxis(t,o,o.xScale,r.xField)),o.addFilter("datum.xAlias == '"+r.xAlias+"'"),o}return i(HAxis,e),Object.defineProperty(HAxis.prototype,"xScale",{get:function(){return this._xScale},enumerable:!0,configurable:!0}),Object.defineProperty(HAxis.prototype,"xAxis",{get:function(){return this._xAxis},enumerable:!0,configurable:!0}),HAxis.prototype.getHeight=function(){return this.parent.getHeight()},HAxis.prototype.getXProp=function(){return{field:"layout_start",offset:.5}},HAxis.prototype.getYProp=function(){return{value:0}},HAxis.prototype.getWidthProp=function(){return{field:"layout_width"}},HAxis.prototype.getScales=function(){var t=e.prototype.getScales.call(this);return t.push(this.xScale.compile()),t},HAxis.prototype.getAxes=function(){var t=e.prototype.getAxes.call(this);return t.push(this.xAxis.compile()),t},HAxis}(o.CHead);t.HAxis=l},Us1s:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("CsEb");t.sampleTime=function(e,t){return void 0===t&&(t=o.async),function(r){return r.lift(new a(e,t))}};var a=function(){function SampleTimeOperator(e,t){this.period=e,this.scheduler=t}return SampleTimeOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.period,this.scheduler))},SampleTimeOperator}(),s=function(e){function SampleTimeSubscriber(t,r,n){e.call(this,t),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(dispatchNotification,r,{subscriber:this,period:r}))}return n(SampleTimeSubscriber,e),SampleTimeSubscriber.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},SampleTimeSubscriber.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},SampleTimeSubscriber}(i.Subscriber);function dispatchNotification(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}},UtMs:function(e,t,r){"use strict";var n=r("DRWY"),i=r("BLlJ");n.Observable.prototype.windowWhen=i.windowWhen},Uwi2:function(e,t,r){"use strict";var n=r("Y51t");t.repeatWhen=function(e){return n.repeatWhen(e)(this)}},Uzcp:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function VArea(t,r){var n=e.call(this,a.MarkType.AREA)||this;return n._table=t,n._marks=r,n._y={scale:r.yScaleName,field:"layout_start"},n._y2={scale:r.yScaleName,field:"layout_end"},n._x={field:"ccols.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},n}return i(VArea,e),Object.defineProperty(VArea.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(VArea.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(VArea.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(VArea.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(VArea.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),VArea.prototype.getProperties=function(){return{enter:{y:this.y,y2:this.y2,x:this.x,fill:this.color,stroke:this.color,strokeCap:this.strokeCap,strokeWidth:{value:1},strokeOpacity:{value:1},opacity:{value:.65}}}},VArea}(o.Mark);t.VArea=s},VGqh:function(e,t,r){"use strict";var n=r("3IPk");t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMap(e,t,r)(this)}},VNVC:function(e,t,r){"use strict";var n=r("DRWY"),i=r("VGqh");n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},VOuZ:function(e,t,r){var n=r("Ptgh");function _delegate(e,t,r,i,o){var a=(function(e,t,r,i){return function(r){r.delegateTarget=n(r.target,t),r.delegateTarget&&i.call(e,r)}}).apply(this,arguments);return e.addEventListener(r,a,o),{destroy:function(){e.removeEventListener(r,a,o)}}}e.exports=function(e,t,r,n,i){return"function"==typeof e.addEventListener?_delegate.apply(null,arguments):"function"==typeof r?_delegate.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return _delegate(e,t,r,n,i)}))}},VTc6:function(e,t,r){"use strict";var n=r("O7vc");t.skipLast=function(e){return n.skipLast(e)(this)}},VUpT:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PSquare(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"square"},n}return i(PSquare,e),PSquare}(r("sMza").PSymbol);t.PSquare=o},VcYS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("b0ch"),i=function(){function Sheet(){this._default=new n.Group}return Object.defineProperty(Sheet.prototype,"default",{get:function(){return this._default},enumerable:!0,configurable:!0}),Sheet}();t.Sheet=i},ViRY:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Ddit");n.Observable.prototype.withLatestFrom=i.withLatestFrom},VkZK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t,r;!function(e){e.Ascending="ASCENDING",e.Descending="DESCENDING"}(t=e.Order||(e.Order={})),function(e){e.Data="DATA",e.Alpha="ALPHA",e.ByField="BY_FIELD",e.Manual="MANUAL"}(r=e.Type||(e.Type={})),function(e){e.make=function(e,n){return void 0===n&&(n=t.Ascending),{field:e,order:n,type:r.Data}}}(e.ByData||(e.ByData={})),function(e){e.make=function(e,n){return void 0===n&&(n=t.Ascending),{field:e,order:n,type:r.Alpha}}}(e.ByAlpha||(e.ByAlpha={})),function(e){e.make=function(e,n,i){return void 0===i&&(i=t.Ascending),{field:e,byField:n,order:i,type:r.ByField}}}(e.ByField||(e.ByField={})),function(t){t.make=function(t,n,i){return void 0===i&&(i=e.Order.Ascending),{field:t,items:n,order:i,type:r.Manual}}}(e.ByManual||(e.ByManual={}))}(t.Sort||(t.Sort={}))},Vle4:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("kdBv"),a=r("kdBv"),s=r("sTlA"),u=r("YWvS"),l=function(e){function CalcField(t,r){var n=e.call(this)||this;return n._formula=t,n._varType=r,n}return i(CalcField,e),Object.defineProperty(CalcField.prototype,"formula",{get:function(){return this._formula},enumerable:!0,configurable:!0}),Object.defineProperty(CalcField.prototype,"roleType",{get:function(){switch(this.formula.expr.type){case"AGG":return o.RoleType.MEASURE;case"SCALAR":return o.RoleType.DIMENSION}},enumerable:!0,configurable:!0}),Object.defineProperty(CalcField.prototype,"varType",{get:function(){return this._varType},enumerable:!0,configurable:!0}),CalcField}(a.BField);t.CalcField=l;var c=function(e){function ModelCalcField(t,r,n,i){var o=e.call(this,r,i)||this;return o._name=t,o._dataType=n,o}return i(ModelCalcField,e),Object.defineProperty(ModelCalcField.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(ModelCalcField.prototype,"type",{get:function(){return a.FieldType.MODELCALC},enumerable:!0,configurable:!0}),Object.defineProperty(ModelCalcField.prototype,"dataType",{get:function(){return this._dataType},enumerable:!0,configurable:!0}),ModelCalcField}(l);t.ModelCalcField=c;var f=function(e){function ViewCalcField(t,r,n,i){var o=e.call(this,t,r)||this;return o._id=n,o._sid=i||0,o}return i(ViewCalcField,e),Object.defineProperty(ViewCalcField.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(ViewCalcField.prototype,"sid",{get:function(){return this._sid},enumerable:!0,configurable:!0}),Object.defineProperty(ViewCalcField.prototype,"psid",{get:function(){return("00"+this.sid).substr(-2,2)},enumerable:!0,configurable:!0}),Object.defineProperty(ViewCalcField.prototype,"alias",{get:function(){return this.sid?"f-"+this.psid+"-"+this.id:this.id},enumerable:!0,configurable:!0}),Object.defineProperty(ViewCalcField.prototype,"name",{get:function(){return this.getFormattedName()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewCalcField.prototype,"source",{get:function(){return this.formula.source},enumerable:!0,configurable:!0}),Object.defineProperty(ViewCalcField.prototype,"type",{get:function(){return a.FieldType.VIEWCALC},enumerable:!0,configurable:!0}),Object.defineProperty(ViewCalcField.prototype,"dataType",{get:function(){return this.formula.expr.returnType},enumerable:!0,configurable:!0}),ViewCalcField.prototype.getFormattedName=function(){switch(this.formula.form){case s.FormType.AGGFUNC:var e=this.formula;return e.funcName+"("+e.fieldName+")";case s.FormType.DATEFUNC:var t=this.formula;return t.datePart.toUpperCase()+"("+t.fieldName+")";case s.FormType.FIELD:return this.formula.fieldName;case s.FormType.GENERIC:return this.formula.expr.type===u.FFuncType.SCALAR?this.formula.source:"AGG("+this.formula.source+")";case s.FormType.NTILEFUNC:var r=this.formula;return""+r.funcName+100*r.percentile+"("+r.fieldName+")"}},ViewCalcField}(l);t.ViewCalcField=f},VwPT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_MARKS={type:{automatic:!0},angle:{values:[]},color:{values:[]},detail:{values:[]},label:{values:[]},size:{values:[]},text:{values:[]},tooltip:{values:[]}}},Vx6u:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("E4ND"),a=r("YWvS"),s=function(){function FExprBase(e){this._returnType=e}return Object.defineProperty(FExprBase.prototype,"returnType",{get:function(){return this._returnType},enumerable:!0,configurable:!0}),FExprBase}();t.FExprBase=s;var u=function(e){function FExprScalar(t,r){var n=e.call(this,t)||this;return n._value=function(e){for(var t=0;t<r.length;t++){var i=r[t](e);return n.returnType===o.DataType.STRING&&"boolean"==typeof i?i?"true":"false":i}},n}return i(FExprScalar,e),Object.defineProperty(FExprScalar.prototype,"type",{get:function(){return a.FFuncType.SCALAR},enumerable:!0,configurable:!0}),Object.defineProperty(FExprScalar.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),FExprScalar}(s);t.FExprScalar=u;var l=function(e){function FExprAgg(t,r,n,i){var o=e.call(this,t)||this;return o._init=function(e){for(var t=0;t<r.length;t++)r[t](e)},o._step=function(e){for(var t=0;t<n.length;t++)n[t](e)},o._final=function(e){for(var t=0;t<i.length;t++)return i[t](e)},o}return i(FExprAgg,e),Object.defineProperty(FExprAgg.prototype,"type",{get:function(){return a.FFuncType.AGG},enumerable:!0,configurable:!0}),Object.defineProperty(FExprAgg.prototype,"init",{get:function(){return this._init},enumerable:!0,configurable:!0}),Object.defineProperty(FExprAgg.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(FExprAgg.prototype,"final",{get:function(){return this._final},enumerable:!0,configurable:!0}),FExprAgg}(s);t.FExprAgg=l},Vz5A:function(e,t,r){"use strict";(function(e){t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var n=_interopRequireDefault(r("0Ecd")),i=_interopRequireDefault(r("7fJc")),o=_interopRequireDefault(r("smd9")),a=_interopRequireDefault(r("EY3Q")),s=_interopRequireDefault(r("uQY2")),u=_interopRequireDefault(r("1C4T"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isCrushed(){}"production"!==e.env.NODE_ENV&&"string"==typeof isCrushed.name&&"isCrushed"!==isCrushed.name&&(0,u.default)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),t.createStore=n.default,t.combineReducers=i.default,t.bindActionCreators=o.default,t.applyMiddleware=a.default,t.compose=s.default}).call(t,r("pBGv"))},W4sE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7cqj");!function(e){var t;!function(e){e.Discrete="DISCRETE",e.Continuous="CONTINUOUS"}(t=e.Type||(e.Type={})),function(e){e.make=function(e,r){var i=t.Continuous;switch(e.type){case n.Attr.Type.Continuous:return{field:e,type:i,conds:{range:r.range||null}};default:throw new Error("Cannot create continuous filter from discrete field")}}}(e.Continuous||(e.Continuous={})),function(e){e.make=function(e,r){var i=t.Discrete;switch(e.type){case n.Attr.Type.Discrete:return{field:e,type:i,conds:{selection:r.selection||null,byField:r.byField||null,topByField:r.topByField||null}};default:throw new Error("Cannot create discrete filter from quantitative attribute")}}}(e.Discrete||(e.Discrete={}))}(t.Filter||(t.Filter={}))},WLoW:function(e,t,r){"use strict";var n=r("nvzG");t._do=function(e,t,r){return n.tap(e,t,r)(this)}},WPAN:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TMData(t,r){return e.call(this,t,r,r.cells,"*")||this}return i(TMData,e),TMData.prototype.getFacetFields=function(e){return["trKey","tcKey"]},TMData}(r("uIdv").MData);t.TMData=o},WPeo:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function HArea(t,r){var n=e.call(this,a.MarkType.AREA)||this;return n._table=t,n._marks=r,n._x={scale:r.xScaleName,field:"layout_start"},n._x2={scale:r.xScaleName,field:"layout_end"},n._y={field:"crows.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},n}return i(HArea,e),Object.defineProperty(HArea.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(HArea.prototype,"x2",{get:function(){return this._x2},enumerable:!0,configurable:!0}),Object.defineProperty(HArea.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(HArea.prototype,"orient",{get:function(){return{value:"horizontal"}},enumerable:!0,configurable:!0}),Object.defineProperty(HArea.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(HArea.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),HArea.prototype.getProperties=function(){return{enter:{x:this.x,x2:this.x2,y:this.y,orient:this.orient,fill:this.color,stroke:this.color,strokeCap:this.strokeCap,strokeWidth:{value:1},strokeOpacity:{value:1},opacity:{value:.65}}}},HArea}(o.Mark);t.HArea=s},"WR1+":function(e,t,r){"use strict";var n=r("Rnri");t.fromEventPattern=n.FromEventPatternObservable.create},WS1W:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("zdYa"),a=r("sgHH"),s=r("2Ba+"),u=r("IA4p"),l=r("8tNn"),c=r("+73G"),f=r("+73G"),h=r("+73G"),p=r("+73G"),d=r("+73G"),y=r("+73G"),g=function(e){function VTable(t){var r=e.call(this,t)||this;return r._marks=r.buildMarks(),r._top=new l.VTop(r),r._left=new u.VLeft(r),r._body=new s.VBody(r),r}return i(VTable,e),Object.defineProperty(VTable.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"topHeight",{get:function(){for(var e=0,t=0,r=this.columnFields;t<r.length;t++){r[t];e+=this.fit.getTopHeaderHeight()}return e},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"bottomHeight",{get:function(){var e=0;return this.xAxisCount>0&&(e+=this.fit.getBottomHeaderHeight()),e},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"leftWidth",{get:function(){for(var e=0,t=0,r=this.rowFields;t<r.length;t++){r[t];e+=this.fit.getLeftHeaderWidth()}return this.yAxisCount>0&&(e+=this.fit.getLeftAxisWidth()),e},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"rightWidth",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"cellWidth",{get:function(){return this.fit.getCellWidth(60)},enumerable:!0,configurable:!0}),Object.defineProperty(VTable.prototype,"cellHeight",{get:function(){return this.fit.getCellHeight(100)},enumerable:!0,configurable:!0}),VTable.prototype.compute=function(){e.prototype.compute.call(this);for(var t=0,r=this.marks;t<r.length;t++){var n=r[t];this.sheet.addData(n.query),this.sheet.addData(n.cells)}for(var i=0,o=this.body.gData;i<o.length;i++){var a=o[i];this.sheet.addData(a)}for(var s=0,u=this.body.mData;s<u.length;s++){a=u[s];this.sheet.addData(a)}for(var l=0,c=this.left.stacks;l<c.length;l++){var f=c[l];this.sheet.addData(f)}for(var h=0,p=this.top.stacks;h<p.length;h++){f=p[h];this.sheet.addData(f)}this.addFixedSignals(),this.addTopSignals(),this.addLeftSignals(),this.addBottomSignals(),this.addBodySignals()},VTable.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.body.compile()),this.xAxisCount>0&&(t.push(this.top.compile()),t.push(this.top.bottom.compile())),this.yAxisCount>0&&t.push(this.left.compile()),t},VTable.prototype.buildMarks=function(){for(var e=new Array,t=0,r=this.yAxisFields;t<r.length;t++){var n=r[t],i=this.encoding.getMarks(n),o=void 0;switch(i.type){case"bar":o=new f.VMBars(this,n,i);break;case"line":o=new p.VMLine(this,n,i);break;case"area":o=new c.VMArea(this,n,i);break;case"circle":o=new h.VMCircle(this,n,i);break;case"square":o=new y.VMSquare(this,n,i);break;case"shape":o=new d.VMShape(this,n,i)}e.push(o)}return e},VTable.prototype.addFixedSignals=function(){this.sheet.addSignal(new o.Signal("CellWidth",this.cellWidth)),this.sheet.addSignal(new o.Signal("CellHeight",this.cellHeight)),this.sheet.addSignal(new o.Signal("TopHeight",this.top.getHeight())),this.sheet.addSignal(new o.Signal("LeftWidth",this.left.getWidth()))},VTable.prototype.addTopSignals=function(){this.sheet.addSignal(new o.Signal("TopX",{expr:"LeftWidth"})),this.sheet.addSignal(new o.Signal("TopY",{expr:"0.5"})),this.sheet.addSignal(new o.Signal("TopWidth",{expr:"CellWidth * CCellCount"}))},VTable.prototype.addLeftSignals=function(){this.sheet.addSignal(new o.Signal("LeftY",{expr:"TopHeight"})),this.sheet.addSignal(new o.Signal("LeftX",{expr:"0.5"})),this.sheet.addSignal(new o.Signal("LeftHeight",{expr:"CellHeight * RCellCount"}))},VTable.prototype.addBottomSignals=function(){this.sheet.addSignal(new o.Signal("BottomX",{expr:"LeftWidth"})),this.sheet.addSignal(new o.Signal("BottomY",{expr:"TopHeight + LeftHeight"})),this.sheet.addSignal(new o.Signal("BottomWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new o.Signal("BottomHeight",{expr:""+this.fit.getBottomHeaderHeight()}))},VTable.prototype.addBodySignals=function(){this.sheet.addSignal(new o.Signal("BodyX",{expr:"LeftWidth + 0.5"})),this.sheet.addSignal(new o.Signal("BodyY",{expr:"TopHeight + 0.5"})),this.sheet.addSignal(new o.Signal("BodyWidth",{expr:"CellWidth * CCellCount"})),this.sheet.addSignal(new o.Signal("BodyHeight",{expr:"CellHeight * RCellCount"}))},VTable}(a.Table);t.VTable=g},WXQD:function(e,t,r){"use strict";var n=r("DRWY"),i=r("+0nQ");n.Observable.range=i.range},WiZw:function(e,t){function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=Backoff,Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},Backoff.prototype.reset=function(){this.attempts=0}},"Wm/D":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.X="X",e.Y="Y",e.X2="X2",e.Y2="Y2"}(t.AxisType||(t.AxisType={}))},WnHa:function(e,t,r){"use strict";var n=r("DRWY"),i=r("FRdj");n.Observable.prototype.flatMapTo=i.mergeMapTo,n.Observable.prototype.mergeMapTo=i.mergeMapTo},Wslh:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.mapTo=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function MapToOperator(e){this.value=e}return MapToOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},MapToOperator}(),a=function(e){function MapToSubscriber(t,r){e.call(this,t),this.value=r}return n(MapToSubscriber,e),MapToSubscriber.prototype._next=function(e){this.destination.next(this.value)},MapToSubscriber}(i.Subscriber)},Wtcn:function(e,t,r){"use strict";var n=r("CsEb"),i=r("3L1M");t.timestamp=function(e){return void 0===e&&(e=n.async),i.map(function(t){return new o(t,e.now())})};var o=function(){return function(e,t){this.value=e,this.timestamp=t}}();t.Timestamp=o},Wvrh:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("SgnA"),o=function(e){function AsyncAction(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return n(AsyncAction,e),AsyncAction.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},AsyncAction.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),i.root.setInterval(e.flush.bind(e,this),r)},AsyncAction.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;i.root.clearInterval(t)},AsyncAction.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},AsyncAction.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},AsyncAction}(r("T3QO").Action);t.AsyncAction=o},X0B2:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("LGJh"),a=r("I9Xa"),s=r("+jxi"),u=r("BliY"),l=r("GsTu"),c=function(e){function SubjectSubscriber(t){e.call(this,t),this.destination=t}return n(SubjectSubscriber,e),SubjectSubscriber}(o.Subscriber);t.SubjectSubscriber=c;var f=function(e){function Subject(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(Subject,e),Subject.prototype[l.rxSubscriber]=function(){return new c(this)},Subject.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},Subject.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},Subject.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},Subject.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},Subject.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},Subject.create=function(e,t){return new h(e,t)},Subject}(i.Observable);t.Subject=f;var h=function(e){function AnonymousSubject(t,r){e.call(this),this.destination=t,this.source=r}return n(AnonymousSubject,e),AnonymousSubject.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},AnonymousSubject.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},AnonymousSubject.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},AnonymousSubject}(f);t.AnonymousSubject=h},X1ih:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("5gRZ"),a=r("Gf6Z"),s=function(e){function SubscribeOnObservable(t,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=n,(!a.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(SubscribeOnObservable,e),SubscribeOnObservable.create=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=o.asap),new SubscribeOnObservable(e,t,r)},SubscribeOnObservable.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},SubscribeOnObservable.prototype._subscribe=function(e){var t=this.delayTime,r=this.source;return this.scheduler.schedule(SubscribeOnObservable.dispatch,t,{source:r,subscriber:e})},SubscribeOnObservable}(i.Observable);t.SubscribeOnObservable=s},X2xY:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("fxie"),s=r("69cc"),u=r("AWyC"),l=r("s2We"),c=r("Ds2V"),f=r("pXyS"),h=r("b7E1"),p=r("b07/"),d=function(e){function MarkFrom(t,r,n){var i=e.call(this,t,r)||this;return i._data=n,i._transforms=new Array,i}return i(MarkFrom,e),Object.defineProperty(MarkFrom.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(MarkFrom.prototype,"transforms",{get:function(){return this._transforms},enumerable:!0,configurable:!0}),MarkFrom.prototype.addTransform=function(e){this.transforms.push(e)},MarkFrom.prototype.addAggregate=function(e){var t=new a.Aggregate(e);return this.addTransform(t),t},MarkFrom.prototype.addCross=function(e,t,r){var n=new s.Cross(e,t,r);return this.addTransform(n),n},MarkFrom.prototype.addFacet=function(e){var t=new u.Facet(e);return this.addTransform(t),t},MarkFrom.prototype.addFilter=function(e){var t=new l.Filter(e);return this.addTransform(t),t},MarkFrom.prototype.addFold=function(e,t,r){var n=new c.Fold(e,t,r);return this.addTransform(n),n},MarkFrom.prototype.addFormula=function(e,t){var r=new f.Formula(e,t);return this.addTransform(r),r},MarkFrom.prototype.addLookup=function(e,t,r,n){var i=new h.Lookup(e,t,r,n);return this.addTransform(i),i},MarkFrom.prototype.addStack=function(e,t,r){var n=new p.Stack(e,t,r);return this.addTransform(n),n},MarkFrom.prototype.compile=function(){var t=e.prototype.compile.call(this),r=this.getFrom();return null!=r&&Object.keys(r).length>0&&(t.from=r),t},MarkFrom.prototype.getFrom=function(){var e={};if(null!=this.data&&(e.data=this.data.name),this.transforms.length>0){e.transform=new Array;for(var t=0,r=this.transforms;t<r.length;t++){var n=r[t];e.transform.push(n.compile())}}return e},MarkFrom}(o.Mark);t.MarkFrom=d},XDOr:function(e,t,r){"use strict";var n=r("4GoX");t.dematerialize=function(){return n.dematerialize()(this)}},XV20:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Cells(t,r,n){var i=e.call(this,r,n)||this;return i._table=t,i}return i(Cells,e),Object.defineProperty(Cells.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Cells.prototype.addPipeline=function(){this.addFold(this.getXFoldFields(),"xAlias","xValue"),this.addFold(this.getYFoldFields(),"yAlias","yValue"),this.addFormula("rKey",this.getRowKeyFormula()),this.addFormula("cKey",this.getColumnKeyFormula()),this.addFormula("trKey",this.getTileRowKeyFormula()),this.addFormula("tcKey",this.getTileColumnKeyFormula())},Cells.prototype.getTileRowKeyFields=function(){return this.table.rowFields.map(function(e){return e.alias}).concat("yAlias")},Cells.prototype.getTileColumnKeyFields=function(){return this.table.columnFields.map(function(e){return e.alias}).concat("xAlias")},Cells.prototype.getRowKeyFields=function(){return this.getTileRowKeyFields().concat(this.table.yAxisFields.filter(function(e){return e.isDiscrete}).map(function(e){return e.alias}))},Cells.prototype.getColumnKeyFields=function(){return this.getTileColumnKeyFields().concat(this.table.xAxisFields.filter(function(e){return e.isDiscrete}).map(function(e){return e.alias}))},Cells.prototype.getSortFields=function(){return[].concat(this.table.rowFields,this.table.columnFields,this.table.xAxisFields,this.table.yAxisFields).filter(function(e){return e.isDiscrete}).map(function(e){return e.alias})},Cells.prototype.getRowKeyFormula=function(){return this.getKeyFormula(this.getRowKeyFields())},Cells.prototype.getColumnKeyFormula=function(){return this.getKeyFormula(this.getColumnKeyFields())},Cells.prototype.getTileRowKeyFormula=function(){return this.getKeyFormula(this.getTileRowKeyFields())},Cells.prototype.getTileColumnKeyFormula=function(){return this.getKeyFormula(this.getTileColumnKeyFields())},Cells.prototype.getFoldFields=function(e){var t=new Array;return e.forEach(function(e){t=t.concat(function(e){return e.filter(function(e){return e.isContinuous}).map(function(e){return e.alias})}(e))}),0===t.length&&t.push("*"),t},Cells.prototype.getKeyFormula=function(e){return e.map(function(e){return"datum['"+e+"']"}).join(" + '|' + ")},Cells}(r("qI4a").Data);t.Cells=o},XWEk:function(e,t,r){(function(t){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),i=r(18),o=r(19),a=r(45),s=r(46),u=r(47),l=r(48),c=r(49),f=r(12),h=r(32),p=r(33),d=r(31),y=r(1),g={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:n.default,Format:i.default,Leaf:o.default,Embed:l.default,Scroll:a.default,Block:u.default,Inline:s.default,Text:c.default,Attributor:{Attribute:f.default,Class:h.default,Style:p.default,Store:d.default}};t.default=g},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function ParchmentError(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return i(ParchmentError,e),ParchmentError}(Error);t.ParchmentError=o;var a,s={},u={},l={},c={};function query(e,t){var r;if(void 0===t&&(t=a.ANY),"string"==typeof e)r=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?r=c.block:e&a.LEVEL&a.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var i in n)if(r=u[n[i]])break;r=r||l[e.tagName]}return null==r?null:t&a.LEVEL&r.scope&&t&a.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var r=query(e);if(null==r)throw new o("Unable to create "+e+" blot");var n=r;return new n(e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t),t)},t.find=function find(e,r){return void 0===r&&(r=!1),null==e?null:null!=e[t.DATA_KEY]?e[t.DATA_KEY].blot:r?find(e.parentNode,r):null},t.query=query,t.register=function register(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)return e.map(function(e){return register(e)});var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new o("Invalid definition");if("abstract"===r.blotName)throw new o("Cannot register abstract class");c[r.blotName||r.attrName]=r,"string"==typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(u[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(e){return e.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(e){null!=l[e]&&null!=r.className||(l[e]=r)})));return r}},function(e,t,r){var n=r(51),i=r(11),o=r(3),a=r(20),s=String.fromCharCode(0),u=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};u.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},u.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},u.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},u.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=o(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},u.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},u.prototype.filter=function(e){return this.ops.filter(e)},u.prototype.forEach=function(e){this.ops.forEach(e)},u.prototype.map=function(e){return this.ops.map(e)},u.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(n){(e(n)?t:r).push(n)}),[t,r]},u.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},u.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e},0)},u.prototype.length=function(){return this.reduce(function(e,t){return e+a.length(t)},0)},u.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=a.iterator(this.ops),i=0;i<t&&n.hasNext();){var o;i<e?o=n.next(e-i):(o=n.next(t-i),r.push(o)),i+=a.length(o)}return new u(r)},u.prototype.compose=function(e){for(var t=a.iterator(this.ops),r=a.iterator(e.ops),n=new u;t.hasNext()||r.hasNext();)if("insert"===r.peekType())n.push(r.next());else if("delete"===t.peekType())n.push(t.next());else{var i=Math.min(t.peekLength(),r.peekLength()),o=t.next(i),s=r.next(i);if("number"==typeof s.retain){var l={};"number"==typeof o.retain?l.retain=i:l.insert=o.insert;var c=a.attributes.compose(o.attributes,s.attributes,"number"==typeof o.retain);c&&(l.attributes=c),n.push(l)}else"number"==typeof s.delete&&"number"==typeof o.retain&&n.push(s)}return n.chop()},u.prototype.concat=function(e){var t=new u(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},u.prototype.diff=function(e,t){if(this.ops===e.ops)return new u;var r=[this,e].map(function(t){return t.map(function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),o=new u,l=n(r[0],r[1],t),c=a.iterator(this.ops),f=a.iterator(e.ops);return l.forEach(function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(f.peekLength(),t),o.push(f.next(r));break;case n.DELETE:r=Math.min(t,c.peekLength()),c.next(r),o.delete(r);break;case n.EQUAL:r=Math.min(c.peekLength(),f.peekLength(),t);var s=c.next(r),u=f.next(r);i(s.insert,u.insert)?o.retain(r,a.attributes.diff(s.attributes,u.attributes)):o.push(u).delete(r)}t-=r}}),o.chop()},u.prototype.eachLine=function(e,t){t=t||"\n";for(var r=a.iterator(this.ops),n=new u,i=0;r.hasNext();){if("insert"!==r.peekType())return;var o=r.peek(),s=a.length(o)-r.peekLength(),l="string"==typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(l<0)n.push(r.next());else if(l>0)n.push(r.next(l));else{if(!1===e(n,r.next(1).attributes||{},i))return;i+=1,n=new u}}n.length()>0&&e(n,{},i)},u.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=a.iterator(this.ops),n=a.iterator(e.ops),i=new u;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())i.push(n.next());else{var o=Math.min(r.peekLength(),n.peekLength()),s=r.next(o),l=n.next(o);if(s.delete)continue;l.delete?i.push(l):i.retain(o,a.attributes.transform(s.attributes,l.attributes,t))}else i.retain(a.length(r.next()));return i.chop()},u.prototype.transformPosition=function(e,t){t=!!t;for(var r=a.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var i=r.peekLength(),o=r.peekType();r.next(),"delete"!==o?("insert"===o&&(n<e||!t)&&(e+=i),n+=i):e-=Math.min(i,e-n)}return e},e.exports=u},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,i=r.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(t in e);return void 0===t||r.call(e,t)};e.exports=function extend(){var e,t,r,n,a,s,u=arguments[0],l=1,c=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},l=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});l<c;++l)if(null!=(e=arguments[l]))for(t in e)r=u[t],u!==(n=e[t])&&(f&&n&&(o(n)||(a=i(n)))?(a?(a=!1,s=r&&i(r)?r:[]):s=r&&o(r)?r:{},u[t]=extend(f,s,n)):void 0!==n&&(u[t]=n));return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(3)),a=_interopRequireDefault(r(2)),s=_interopRequireDefault(r(0)),u=_interopRequireDefault(r(16)),l=_interopRequireDefault(r(6)),c=_interopRequireDefault(r(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function BlockEmbed(){return _classCallCheck(this,BlockEmbed),_possibleConstructorReturn(this,(BlockEmbed.__proto__||Object.getPrototypeOf(BlockEmbed)).apply(this,arguments))}return _inherits(BlockEmbed,s.default.Embed),n(BlockEmbed,[{key:"attach",value:function(){i(BlockEmbed.prototype.__proto__||Object.getPrototypeOf(BlockEmbed.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,t,r){if("string"==typeof t&&t.endsWith("\n")){var n=s.default.create(h.blotName);this.parent.insertBefore(n,0===e?this:this.next),n.insertAt(0,t.slice(0,-1))}else i(BlockEmbed.prototype.__proto__||Object.getPrototypeOf(BlockEmbed.prototype),"insertAt",this).call(this,e,t,r)}}]),BlockEmbed}();f.scope=s.default.Scope.BLOCK_BLOT;var h=function(e){function Block(e){_classCallCheck(this,Block);var t=_possibleConstructorReturn(this,(Block.__proto__||Object.getPrototypeOf(Block)).call(this,e));return t.cache={},t}return _inherits(Block,s.default.Block),n(Block,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),bubbleFormats(t))},new a.default).insert("\n",bubbleFormats(this))),this.cache.delta}},{key:"deleteAt",value:function(e,t){i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"deleteAt",this).call(this,e,t),this.cache={}}},{key:"formatAt",value:function(e,t,r,n){t<=0||(s.default.query(r,s.default.Scope.BLOCK)?e+t===this.length()&&this.format(r,n):i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"formatAt",this).call(this,e,Math.min(t,this.length()-e-1),r,n),this.cache={})}},{key:"insertAt",value:function(e,t,r){if(null!=r)return i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"insertAt",this).call(this,e,t,r);if(0!==t.length){var n=t.split("\n"),o=n.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var a=this;n.reduce(function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length},e+o.length)}}},{key:"insertBefore",value:function(e,t){var r=this.children.head;i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"insertBefore",this).call(this,e,t),r instanceof u.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,t){i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"moveChildren",this).call(this,e,t),this.cache={}}},{key:"optimize",value:function(e){i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var n=i(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"split",this).call(this,e,t);return this.cache={},n}}]),Block}();function bubbleFormats(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:bubbleFormats(e.parent,t))}h.blotName="block",h.tagName="P",h.defaultChild="break",h.allowedChildren=[l.default,s.default.Embed,c.default],t.bubbleFormats=bubbleFormats,t.BlockEmbed=f,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();r(50);var a=_interopRequireDefault(r(2)),s=_interopRequireDefault(r(14)),u=_interopRequireDefault(r(8)),l=_interopRequireDefault(r(9)),c=_interopRequireDefault(r(0)),f=r(15),h=_interopRequireDefault(f),p=_interopRequireDefault(r(3)),d=_interopRequireDefault(r(10)),y=_interopRequireDefault(r(34));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=(0,d.default)("quill"),m=function(){function Quill(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Quill),this.options=expandConfig(e,r),this.container=this.options.container,null==this.container)return g.error("Invalid Quill container",e);this.options.debug&&Quill.debug(this.options.debug);var n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,function(e){e===u.default.events.TEXT_CHANGE&&t.root.classList.toggle("ql-blank",t.editor.isBlank())}),this.emitter.on(u.default.events.SCROLL_UPDATE,function(e,r){var n=t.selection.lastRange,i=n&&0===n.length?n.index:void 0;modify.call(t,function(){return t.editor.update(null,r,i)},e)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+n+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(Quill,null,[{key:"debug",value:function(e){!0===e&&(e="log"),d.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&g.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach(function(n){r.register(n,e[n],t)})}else null==this.imports[e]||n||g.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),o(Quill,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,o=overload(e,t,r),a=i(o,4);return e=a[0],t=a[1],r=a[3],modify.call(this,function(){return n.editor.deleteText(e,t)},r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;return modify.call(this,function(){var n=r.getSelection(!0),i=new a.default;if(null==n)return i;if(c.default.query(e,c.default.Scope.BLOCK))i=r.editor.formatLine(n.index,n.length,_defineProperty({},e,t));else{if(0===n.length)return r.selection.format(e,t),i;i=r.editor.formatText(n.index,n.length,_defineProperty({},e,t))}return r.setSelection(n,u.default.sources.SILENT),i},n)}},{key:"formatLine",value:function(e,t,r,n,o){var a,s=this,u=overload(e,t,r,n,o),l=i(u,4);return e=l[0],t=l[1],a=l[2],o=l[3],modify.call(this,function(){return s.editor.formatLine(e,t,a)},o,e,0)}},{key:"formatText",value:function(e,t,r,n,o){var a,s=this,u=overload(e,t,r,n,o),l=i(u,4);return e=l[0],t=l[1],a=l[2],o=l[3],modify.call(this,function(){return s.editor.formatText(e,t,a)},o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=overload(e,t),n=i(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=overload(e,t),n=i(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Quill.sources.API;return modify.call(this,function(){return n.editor.insertEmbed(e,t,r)},i,e)}},{key:"insertText",value:function(e,t,r,n,o){var a,s=this,u=overload(e,0,r,n,o),l=i(u,4);return e=l[0],a=l[2],o=l[3],modify.call(this,function(){return s.editor.insertText(e,t,a)},o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,o=overload(e,t,r),a=i(o,4);return e=a[0],t=a[1],r=a[3],modify.call(this,function(){return n.editor.removeFormat(e,t)},r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return modify.call(this,function(){e=new a.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),i=t.editor.applyDelta(e),o=i.ops[i.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),n.compose(i)},r)}},{key:"setSelection",value:function(e,t,r){if(null==e)this.selection.setRange(null,t||Quill.sources.API);else{var n=overload(e,t,r),o=i(n,4);e=o[0],t=o[1],r=o[3],this.selection.setRange(new f.Range(e,t),r),r!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API,r=(new a.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return modify.call(this,function(){return e=new a.default(e),t.editor.applyDelta(e,r)},r,!0)}}]),Quill}();function expandConfig(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==m.DEFAULTS.theme){if(t.theme=m.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=y.default;var r=(0,p.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var r=m.import("modules/"+t);return null==r?g.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},m.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e},{}),t}function modify(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===u.default.sources.USER)return new a.default;var i=null==r?null:this.getSelection(),o=this.editor.delta,s=e();if(null!=i&&(!0===r&&(r=i.index),null==n?i=shiftRange(i,s,t):0!==n&&(i=shiftRange(i,r,n,t)),this.setSelection(i,u.default.sources.SILENT)),s.length()>0){var l,c,f=[u.default.events.TEXT_CHANGE,s,o,t];if((l=this.emitter).emit.apply(l,[u.default.events.EDITOR_CHANGE].concat(f)),t!==u.default.sources.SILENT)(c=this.emitter).emit.apply(c,f)}return s}function overload(e,t,r,i,o){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=i,i=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=i,i=r,r=t,t=0),"object"===(void 0===r?"undefined":n(r))?(a=r,o=i):"string"==typeof r&&(null!=i?a[r]=i:o=r),[e,t,a,o=o||u.default.sources.API]}function shiftRange(e,t,r,n){if(null==e)return null;var o=void 0,s=void 0;if(t instanceof a.default){var l=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,n!==u.default.sources.USER)}),c=i(l,2);o=c[0],s=c[1]}else{var h=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&n===u.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)}),p=i(h,2);o=p[0],s=p[1]}return new f.Range(o,s-o)}m.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},m.events=u.default.events,m.sources=u.default.sources,m.version="1.3.6",m.imports={delta:a.default,parchment:c.default,"core/module":l.default,"core/theme":y.default},t.expandConfig=expandConfig,t.overload=overload,t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(7)),a=_interopRequireDefault(r(0));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function Inline(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Inline),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Inline.__proto__||Object.getPrototypeOf(Inline)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Inline,a.default.Inline),n(Inline,[{key:"formatAt",value:function(e,t,r,n){if(Inline.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var o=this.isolate(e,t);n&&o.wrap(r,n)}else i(Inline.prototype.__proto__||Object.getPrototypeOf(Inline.prototype),"formatAt",this).call(this,e,t,r,n)}},{key:"optimize",value:function(e){if(i(Inline.prototype.__proto__||Object.getPrototypeOf(Inline.prototype),"optimize",this).call(this,e),this.parent instanceof Inline&&Inline.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}],[{key:"compare",value:function(e,t){var r=Inline.order.indexOf(e),n=Inline.order.indexOf(t);return r>=0||n>=0?r-n:e===t?0:e<t?-1:1}}]),Inline}();s.allowedChildren=[s,a.default.Embed,o.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function TextBlot(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextBlot),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TextBlot.__proto__||Object.getPrototypeOf(TextBlot)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TextBlot,o.default.Text),TextBlot}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(54));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=(0,_interopRequireDefault(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)})})});var a=function(e){function Emitter(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Emitter);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Emitter.__proto__||Object.getPrototypeOf(Emitter)).call(this));return e.listeners={},e.on("error",o.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Emitter,i.default),n(Emitter,[{key:"emit",value:function(){o.log.apply(o,arguments),function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(Emitter.prototype.__proto__||Object.getPrototypeOf(Emitter.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach(function(t){var n=t.node,i=t.handler;(e.target===n||n.contains(e.target))&&i.apply(void 0,[e].concat(r))})}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),Emitter}();a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function Module(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Module),this.quill=e,this.options=t};n.DEFAULTS={},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],i="warn";function debug(e){if(n.indexOf(e)<=n.indexOf(i)){for(var t,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=console)[e].apply(t,o)}}function namespace(e){return n.reduce(function(t,r){return t[r]=debug.bind(console,r,e),t},{})}debug.level=namespace.level=function(e){i=e},t.default=namespace},function(e,t,r){var n=Array.prototype.slice,i=r(52),o=r(53),a=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var s,u;if(isUndefinedOrNull(e)||isUndefinedOrNull(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=n.call(e),t=n.call(t),a(e,t,r));if(isBuffer(e)){if(!isBuffer(t))return!1;if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}try{var l=i(e),c=i(t)}catch(e){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!=c[s])return!1;for(s=l.length-1;s>=0;s--)if(u=l[s],!a(e[u],t[u],r))return!1;return typeof e==typeof t}(e,t,r))};function isUndefinedOrNull(e){return null===e||void 0===e}function isBuffer(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(){function Attributor(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var i=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|i:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return Attributor.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},Attributor.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},Attributor.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},Attributor.prototype.remove=function(e){e.removeAttribute(this.keyName)},Attributor.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},Attributor}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=_interopRequireDefault(r(2)),s=_interopRequireDefault(r(0)),u=_interopRequireDefault(r(4)),l=_interopRequireDefault(r(6)),c=_interopRequireDefault(r(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function Code(){return _classCallCheck(this,Code),_possibleConstructorReturn(this,(Code.__proto__||Object.getPrototypeOf(Code)).apply(this,arguments))}return _inherits(Code,l.default),Code}();f.blotName="code",f.tagName="CODE";var h=function(e){function CodeBlock(){return _classCallCheck(this,CodeBlock),_possibleConstructorReturn(this,(CodeBlock.__proto__||Object.getPrototypeOf(CodeBlock)).apply(this,arguments))}return _inherits(CodeBlock,u.default),i(CodeBlock,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,r){return t.insert(r).insert("\n",e.formats())},new a.default)}},{key:"format",value:function(e,t){if(e!==this.statics.blotName||!t){var r=this.descendant(c.default,this.length()-1),i=n(r,1)[0];null!=i&&i.deleteAt(i.length()-1,1),o(CodeBlock.prototype.__proto__||Object.getPrototypeOf(CodeBlock.prototype),"format",this).call(this,e,t)}}},{key:"formatAt",value:function(e,t,r,n){if(0!==t&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||n!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+t)){var o=this.newlineIndex(e,!0)+1,a=i-o+1,u=this.isolate(o,a),l=u.next;u.format(r,n),l instanceof CodeBlock&&l.formatAt(0,e-o+t-a,r,n)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var i=this.descendant(c.default,e),o=n(i,2),a=o[0],s=o[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(CodeBlock.prototype.__proto__||Object.getPrototypeOf(CodeBlock.prototype),"optimize",this).call(this,e);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===t.statics.formats(t.domNode)&&(t.optimize(e),t.moveChildren(this),t.remove())}},{key:"replace",value:function(e){o(CodeBlock.prototype.__proto__||Object.getPrototypeOf(CodeBlock.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var t=o(CodeBlock.__proto__||Object.getPrototypeOf(CodeBlock),"create",this).call(this,e);return t.setAttribute("spellcheck",!1),t}},{key:"formats",value:function(){return!0}}]),CodeBlock}();h.blotName="code-block",h.tagName="PRE",h.TAB="  ",t.Code=f,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=_interopRequireDefault(r(2)),s=_interopRequireDefault(r(20)),u=_interopRequireDefault(r(0)),l=_interopRequireDefault(r(13)),c=_interopRequireDefault(r(24)),f=r(4),h=_interopRequireDefault(f),p=_interopRequireDefault(r(16)),d=_interopRequireDefault(r(21)),y=_interopRequireDefault(r(11)),g=_interopRequireDefault(r(3));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var m=/^[ -~]*$/,v=function(){function Editor(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Editor),this.scroll=e,this.delta=this.getDelta()}return o(Editor,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var r=(0,d.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,d.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)},new a.default)}(e)).reduce(function(e,a){var l=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var p=a.insert;p.endsWith("\n")&&r&&(r=!1,p=p.slice(0,-1)),e>=o&&!p.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,p);var d=t.scroll.line(e),y=i(d,2),m=y[0],v=y[1],b=(0,g.default)({},(0,f.bubbleFormats)(m));if(m instanceof h.default){var _=m.descendant(u.default.Leaf,v),w=i(_,1)[0];b=(0,g.default)(b,(0,f.bubbleFormats)(w))}c=s.default.attributes.diff(b,c)||{}}else if("object"===n(a.insert)){var S=Object.keys(a.insert)[0];if(null==S)return e;t.scroll.insertAt(e,S,a.insert[S])}o+=l}return Object.keys(c).forEach(function(r){t.scroll.formatAt(e,l,r,c[r])}),e+l},0),e.reduce(function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach(function(i){if(null==r.scroll.whitelist||r.scroll.whitelist[i]){var o=r.scroll.lines(e,Math.max(t,1)),a=t;o.forEach(function(t){var o=t.length();if(t instanceof l.default){var s=e-t.offset(r.scroll),u=t.newlineIndex(s+a)-s+1;t.formatAt(s,u,i,n[i])}else t.format(i,n[i]);a-=o})}}),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,d.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach(function(i){r.scroll.formatAt(e,t,i,n[i])}),this.update((new a.default).retain(e).retain(t,(0,d.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach(function(e){var t=i(e,1)[0];t instanceof h.default?r.push(t):t instanceof u.default.Leaf&&n.push(t)}):(r=this.scroll.lines(e,t),n=this.scroll.descendants(u.default.Leaf,e,t));var o=[r,n].map(function(e){if(0===e.length)return{};for(var t=(0,f.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=combineFormats((0,f.bubbleFormats)(r),t)}return t});return g.default.apply(g.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new a.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach(function(i){r.scroll.formatAt(e,t.length,i,n[i])}),this.update((new a.default).retain(e).insert(t,(0,d.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&(!(e.children.length>1)&&e.children.head instanceof p.default)}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),o=i(n,2),s=o[0],u=o[1],c=0,f=new a.default;null!=s&&(c=s instanceof l.default?s.newlineIndex(u)-u+1:s.length()-u,f=s.delta().slice(u,u+c-1).insert("\n"));var h=this.getContents(e,t+c).diff((new a.default).insert(r).concat(f)),p=(new a.default).retain(e).concat(h);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(m)&&u.default.find(t[0].target)){var i=u.default.find(t[0].target),o=(0,f.bubbleFormats)(i),s=i.offset(this.scroll),l=t[0].oldValue.replace(c.default.CONTENTS,""),h=(new a.default).insert(l),p=(new a.default).insert(i.value());e=(new a.default).retain(s).concat(h.diff(p,r)).reduce(function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)},new a.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,y.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),Editor}();function combineFormats(e,t){return Object.keys(t).reduce(function(r,n){return null==e[n]?r:(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]],r)},{})}t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=_interopRequireDefault(r(0)),a=_interopRequireDefault(r(21)),s=_interopRequireDefault(r(11)),u=_interopRequireDefault(r(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=(0,_interopRequireDefault(r(10)).default)("quill:selection"),c=function Range(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Range),this.index=e,this.length=t},f=function(){function Selection(e,t){var r=this;_classCallCheck(this,Selection),this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new c(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,u.default.sources.USER),1)}),this.emitter.on(u.default.events.EDITOR_CHANGE,function(e,t){e===u.default.events.TEXT_CHANGE&&t.length()>0&&r.update(u.default.sources.SILENT)}),this.emitter.on(u.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(u.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(u.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s)}}),this.update(u.default.sources.SILENT)}return i(Selection,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(u.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=o.default.find(r.start.node,!1);if(null==n)return;if(n instanceof o.default.Leaf){var i=n.split(r.start.offset);n.parent.insertBefore(this.cursor,i)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var i=void 0,o=this.scroll.leaf(e),a=n(o,2),s=a[0],u=a[1];if(null==s)return null;var l=s.position(u,!0),c=n(l,2);i=c[0],u=c[1];var f=document.createRange();if(t>0){f.setStart(i,u);var h=this.scroll.leaf(e+t),p=n(h,2);if(s=p[0],u=p[1],null==s)return null;var d=s.position(u,!0),y=n(d,2);return i=y[0],u=y[1],f.setEnd(i,u),f.getBoundingClientRect()}var g="left",m=void 0;return i instanceof Text?(u<i.data.length?(f.setStart(i,u),f.setEnd(i,u+1)):(f.setStart(i,u-1),f.setEnd(i,u),g="right"),m=f.getBoundingClientRect()):(m=s.domNode.getBoundingClientRect(),u>0&&(g="right")),{bottom:m.top+m.height,height:m.height,left:m[g],right:m[g],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return l.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var i=r.map(function(e){var r=n(e,2),i=r[0],a=r[1],s=o.default.find(i,!0),u=s.offset(t.scroll);return 0===a?u:s instanceof o.default.Container?u+s.length():u+s.index(i,a)}),a=Math.min(Math.max.apply(Math,_toConsumableArray(i)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(_toConsumableArray(i)));return new c(s,a-s)}},{key:"normalizeNative",value:function(e){if(!contains(this.root,e.startContainer)||!e.collapsed&&!contains(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r}),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],o=this.scroll.length();return r.forEach(function(e,r){e=Math.min(o-1,e);var a,s=t.scroll.leaf(e),u=n(s,2),l=u[0],c=u[1],f=l.position(c,0!==r),h=n(f,2);a=h[0],c=h[1],i.push(a,c)}),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var i=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,i)),a=n(o,1)[0],s=a;if(t.length>0){var u=this.scroll.line(Math.min(t.index+t.length,i));s=n(u,1)[0]}if(null!=a&&null!=s){var l=e.getBoundingClientRect();r.top<l.top?e.scrollTop-=l.top-r.top:r.bottom>l.bottom&&(e.scrollTop+=r.bottom-l.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||e!==a.startContainer||t!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(r,n),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t&&(r=t,t=!1),l.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,_toConsumableArray(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,t=this.lastRange,r=this.getRange(),i=n(r,2),o=i[0],l=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=l&&l.native.collapsed&&l.start.node!==this.cursor.textNode&&this.cursor.restore();var f,h=[u.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];if((c=this.emitter).emit.apply(c,[u.default.events.EDITOR_CHANGE].concat(h)),e!==u.default.sources.SILENT)(f=this.emitter).emit.apply(f,h)}}}]),Selection}();function contains(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=c,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function Break(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Break),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Break.__proto__||Object.getPrototypeOf(Break)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Break,a.default.Embed),i(Break,[{key:"insertInto",value:function(e,t){0===e.children.length?function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(Break.prototype.__proto__||Object.getPrototypeOf(Break.prototype),"insertInto",this).call(this,e,t):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),Break}();s.blotName="break",s.tagName="BR",t.default=s},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(44),a=r(30),s=r(1),u=function(e){function ContainerBlot(t){var r=e.call(this,t)||this;return r.build(),r}return i(ContainerBlot,e),ContainerBlot.prototype.appendChild=function(e){this.insertBefore(e)},ContainerBlot.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},ContainerBlot.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var r=makeBlot(t);e.insertBefore(r,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}})},ContainerBlot.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,r){e.deleteAt(t,r)})},ContainerBlot.prototype.descendant=function(e,t){var r=this.children.find(t),n=r[0],i=r[1];return null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e?[n,i]:n instanceof ContainerBlot?n.descendant(e,i):[null,-1]},ContainerBlot.prototype.descendants=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=Number.MAX_VALUE);var n=[],i=r;return this.children.forEachAt(t,r,function(t,r,o){(null==e.blotName&&e(t)||null!=e.blotName&&t instanceof e)&&n.push(t),t instanceof ContainerBlot&&(n=n.concat(t.descendants(e,r,i))),i-=o}),n},ContainerBlot.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},ContainerBlot.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,function(e,t,i){e.formatAt(t,i,r,n)})},ContainerBlot.prototype.insertAt=function(e,t,r){var n=this.children.find(e),i=n[0],o=n[1];if(i)i.insertAt(o,t,r);else{var a=null==r?s.create("text",t):s.create(t,r);this.appendChild(a)}},ContainerBlot.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},ContainerBlot.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},ContainerBlot.prototype.moveChildren=function(e,t){this.children.forEach(function(r){e.insertBefore(r,t)})},ContainerBlot.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=s.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},ContainerBlot.prototype.path=function(e,t){void 0===t&&(t=!1);var r=this.children.find(e,t),n=r[0],i=r[1],o=[[this,e]];return n instanceof ContainerBlot?o.concat(n.path(i,t)):(null!=n&&o.push([n,i]),o)},ContainerBlot.prototype.removeChild=function(e){this.children.remove(e)},ContainerBlot.prototype.replace=function(t){t instanceof ContainerBlot&&t.moveChildren(this),e.prototype.replace.call(this,t)},ContainerBlot.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),function(e,n,i){e=e.split(n,t),r.appendChild(e)}),r},ContainerBlot.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},ContainerBlot.prototype.update=function(e,t){var r=this,n=[],i=[];e.forEach(function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),i.push.apply(i,e.removedNodes))}),i.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}}),n.filter(function(e){return e.parentNode==r.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var n=makeBlot(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))})},ContainerBlot}(a.default);function makeBlot(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(r){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=u},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(12),a=r(31),s=r(17),u=r(1),l=function(e){function FormatBlot(t){var r=e.call(this,t)||this;return r.attributes=new a.default(r.domNode),r}return i(FormatBlot,e),FormatBlot.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},FormatBlot.prototype.format=function(e,t){var r=u.query(e);r instanceof o.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},FormatBlot.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},FormatBlot.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},FormatBlot.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some(function(e){return e.target===n.domNode&&"attributes"===e.type})&&this.attributes.build()},FormatBlot.prototype.wrap=function(t,r){var n=e.prototype.wrap.call(this,t,r);return n instanceof FormatBlot&&n.statics.scope===this.statics.scope&&this.attributes.move(n),n},FormatBlot}(s.default);t.default=l},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(30),a=r(1),s=function(e){function LeafBlot(){return null!==e&&e.apply(this,arguments)||this}return i(LeafBlot,e),LeafBlot.value=function(e){return!0},LeafBlot.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},LeafBlot.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},LeafBlot.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},LeafBlot.scope=a.Scope.INLINE_BLOT,LeafBlot}(o.default);t.default=s},function(e,t,r){var n=r(11),i=r(3),o={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=i(!0,{},t);for(var o in r||(n=Object.keys(n).reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{})),e)void 0!==e[o]&&void 0===t[o]&&(n[o]=e[o]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,i){return n(e[i],t[i])||(r[i]=void 0===t[i]?null:t[i]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce(function(r,n){return void 0===e[n]&&(r[n]=t[n]),r},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new Iterator(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function Iterator(e){this.ops=e,this.index=0,this.offset=0}Iterator.prototype.hasNext=function(){return this.peekLength()<1/0},Iterator.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=o.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(r,e):i.insert=t.insert,i}return{retain:1/0}},Iterator.prototype.peek=function(){return this.ops[this.index]},Iterator.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},Iterator.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=o},function(e,r){var n=function(){"use strict";function _instanceof(e,t){return null!=t&&e instanceof t}var e,r,n;try{e=Map}catch(t){e=function(){}}try{r=Set}catch(e){r=function(){}}try{n=Promise}catch(e){n=function(){}}function clone(i,o,a,s,u){"object"==typeof o&&(a=o.depth,s=o.prototype,u=o.includeNonEnumerable,o=o.circular);var l=[],c=[],f=void 0!==t;return void 0===o&&(o=!0),void 0===a&&(a=1/0),function _clone(i,a){if(null===i)return null;if(0===a)return i;var h,p;if("object"!=typeof i)return i;if(_instanceof(i,e))h=new e;else if(_instanceof(i,r))h=new r;else if(_instanceof(i,n))h=new n(function(e,t){i.then(function(t){e(_clone(t,a-1))},function(e){t(_clone(e,a-1))})});else if(clone.__isArray(i))h=[];else if(clone.__isRegExp(i))h=new RegExp(i.source,__getRegExpFlags(i)),i.lastIndex&&(h.lastIndex=i.lastIndex);else if(clone.__isDate(i))h=new Date(i.getTime());else{if(f&&t.isBuffer(i))return h=new t(i.length),i.copy(h),h;_instanceof(i,Error)?h=Object.create(i):void 0===s?(p=Object.getPrototypeOf(i),h=Object.create(p)):(h=Object.create(s),p=s)}if(o){var d=l.indexOf(i);if(-1!=d)return c[d];l.push(i),c.push(h)}for(var y in _instanceof(i,e)&&i.forEach(function(e,t){var r=_clone(t,a-1),n=_clone(e,a-1);h.set(r,n)}),_instanceof(i,r)&&i.forEach(function(e){var t=_clone(e,a-1);h.add(t)}),i){var g;p&&(g=Object.getOwnPropertyDescriptor(p,y)),g&&null==g.set||(h[y]=_clone(i[y],a-1))}if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);for(y=0;y<m.length;y++){var v=m[y];(!(_=Object.getOwnPropertyDescriptor(i,v))||_.enumerable||u)&&(h[v]=_clone(i[v],a-1),_.enumerable||Object.defineProperty(h,v,{enumerable:!1}))}}if(u){var b=Object.getOwnPropertyNames(i);for(y=0;y<b.length;y++){var _,w=b[y];(_=Object.getOwnPropertyDescriptor(i,w))&&_.enumerable||(h[w]=_clone(i[w],a-1),Object.defineProperty(h,w,{enumerable:!1}))}}return h}(i,a)}function __objToStr(e){return Object.prototype.toString.call(e)}function __getRegExpFlags(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return clone.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},clone.__objToStr=__objToStr,clone.__isDate=function(e){return"object"==typeof e&&"[object Date]"===__objToStr(e)},clone.__isArray=function(e){return"object"==typeof e&&"[object Array]"===__objToStr(e)},clone.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===__objToStr(e)},clone.__getRegExpFlags=__getRegExpFlags,clone}();"object"==typeof e&&e.exports&&(e.exports=n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=_interopRequireDefault(r(0)),s=_interopRequireDefault(r(8)),u=r(4),l=_interopRequireDefault(u),c=_interopRequireDefault(r(16)),f=_interopRequireDefault(r(13)),h=_interopRequireDefault(r(25));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isLine(e){return e instanceof l.default||e instanceof u.BlockEmbed}var p=function(e){function Scroll(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Scroll);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Scroll.__proto__||Object.getPrototypeOf(Scroll)).call(this,e));return r.emitter=t.emitter,Array.isArray(t.whitelist)&&(r.whitelist=t.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Scroll,a.default.Scroll),i(Scroll,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,t){var r=this.line(e),i=n(r,2),a=i[0],s=i[1],l=this.line(e+t),h=n(l,1)[0];if(o(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"deleteAt",this).call(this,e,t),null!=h&&a!==h&&s>0){if(a instanceof u.BlockEmbed||h instanceof u.BlockEmbed)return void this.optimize();if(a instanceof f.default){var p=a.newlineIndex(a.length(),!0);if(p>-1&&(a=a.split(p+1))===h)return void this.optimize()}else if(h instanceof f.default){var d=h.newlineIndex(0);d>-1&&h.split(d+1)}var y=h.children.head instanceof c.default?null:h.children.head;a.moveChildren(h,y),a.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,t,r,n){(null==this.whitelist||this.whitelist[r])&&(o(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"formatAt",this).call(this,e,t,r,n),this.optimize())}},{key:"insertAt",value:function(e,t,r){if(null==r||null==this.whitelist||this.whitelist[t]){if(e>=this.length())if(null==r||null==a.default.query(t,a.default.Scope.BLOCK)){var n=a.default.create(this.statics.defaultChild);this.appendChild(n),null==r&&t.endsWith("\n")&&(t=t.slice(0,-1)),n.insertAt(0,t,r)}else{var i=a.default.create(t,r);this.appendChild(i)}else o(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"insertAt",this).call(this,e,t,r);this.optimize()}}},{key:"insertBefore",value:function(e,t){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(e),e=r}o(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"insertBefore",this).call(this,e,t)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(isLine,e)}},{key:"lines",value:function(){return function getLines(e,t,r){var n=[],i=r;return e.children.forEachAt(t,r,function(e,t,r){isLine(e)?n.push(e):e instanceof a.default.Container&&(n=n.concat(getLines(e,t,i))),i-=r}),n}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"optimize",this).call(this,e,t),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,t))}},{key:"path",value:function(e){return o(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var t=s.default.sources.USER;"string"==typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,t,e),o(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,t,e)}}}]),Scroll}();p.blotName="scroll",p.className="ql-editor",p.tagName="DIV",p.defaultChild="block",p.allowedChildren=[l.default,u.BlockEmbed,h.default],t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=_interopRequireDefault(r(21)),s=_interopRequireDefault(r(11)),u=_interopRequireDefault(r(3)),l=_interopRequireDefault(r(2)),c=_interopRequireDefault(r(20)),f=_interopRequireDefault(r(0)),h=_interopRequireDefault(r(5)),p=_interopRequireDefault(r(10)),d=_interopRequireDefault(r(9));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,p.default)("quill:keyboard"),g=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",m=function(e){function Keyboard(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Keyboard);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Keyboard.__proto__||Object.getPrototypeOf(Keyboard)).call(this,e,t));return r.bindings={},Object.keys(r.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])}),r.addBinding({key:Keyboard.keys.ENTER,shiftKey:null},handleEnter),r.addBinding({key:Keyboard.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:Keyboard.keys.BACKSPACE},{collapsed:!0},handleBackspace),r.addBinding({key:Keyboard.keys.DELETE},{collapsed:!0},handleDelete)):(r.addBinding({key:Keyboard.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},handleBackspace),r.addBinding({key:Keyboard.keys.DELETE},{collapsed:!0,suffix:/^.?$/},handleDelete)),r.addBinding({key:Keyboard.keys.BACKSPACE},{collapsed:!1},handleDeleteRange),r.addBinding({key:Keyboard.keys.DELETE},{collapsed:!1},handleDeleteRange),r.addBinding({key:Keyboard.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},handleBackspace),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Keyboard,d.default),o(Keyboard,null,[{key:"match",value:function(e,t){return t=normalize(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(r){return!!t[r]!==e[r]&&null!==t[r]})&&t.key===(e.which||e.keyCode)}}]),o(Keyboard,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=normalize(e);if(null==n||null==n.key)return y.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=(0,u.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(t){if(!t.defaultPrevented){var r=t.which||t.keyCode,o=(e.bindings[r]||[]).filter(function(e){return Keyboard.match(t,e)});if(0!==o.length){var a=e.quill.getSelection();if(null!=a&&e.quill.hasFocus()){var u=e.quill.getLine(a.index),l=i(u,2),c=l[0],h=l[1],p=e.quill.getLeaf(a.index),d=i(p,2),y=d[0],g=d[1],m=0===a.length?[y,g]:e.quill.getLeaf(a.index+a.length),v=i(m,2),b=v[0],_=v[1],w=y instanceof f.default.Text?y.value().slice(0,g):"",S=b instanceof f.default.Text?b.value().slice(_):"",E={collapsed:0===a.length,empty:0===a.length&&c.length()<=1,format:e.quill.getFormat(a),offset:h,prefix:w,suffix:S};o.some(function(t){if(null!=t.collapsed&&t.collapsed!==E.collapsed)return!1;if(null!=t.empty&&t.empty!==E.empty)return!1;if(null!=t.offset&&t.offset!==E.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==E.format[e]}))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=E.format[e]:!1===t.format[e]?null==E.format[e]:(0,s.default)(t.format[e],E.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(E.prefix))&&(!(null!=t.suffix&&!t.suffix.test(E.suffix))&&!0!==t.handler.call(e,a,E))})&&t.preventDefault()}}}})}}]),Keyboard}();function makeEmbedArrowHandler(e,t){var r,n=e===m.keys.LEFT?"prefix":"suffix";return _defineProperty(r={key:e,shiftKey:t,altKey:null},n,/^$/),_defineProperty(r,"handler",function(r){var n=r.index;e===m.keys.RIGHT&&(n+=r.length+1);var o=this.quill.getLeaf(n);return!(i(o,1)[0]instanceof f.default.Embed)||(e===m.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index-1,h.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,h.default.sources.USER):this.quill.setSelection(r.index+r.length+1,h.default.sources.USER),!1)}),r}function handleBackspace(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=i(r,1)[0],o={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=i(a,1)[0];if(null!=s&&s.length()>1){var u=n.formats(),l=this.quill.getFormat(e.index-1,1);o=c.default.attributes.diff(u,l)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-f,f,h.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-f,f,o,h.default.sources.USER),this.quill.focus()}}function handleDelete(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},o=0,a=this.quill.getLine(e.index),s=i(a,1)[0];if(t.offset>=s.length()-1){var u=this.quill.getLine(e.index+1),l=i(u,1)[0];if(l){var f=s.formats(),p=this.quill.getFormat(e.index,1);n=c.default.attributes.diff(f,p)||{},o=l.length()}}this.quill.deleteText(e.index,r,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+o-1,r,n,h.default.sources.USER)}}function handleDeleteRange(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),i=t[t.length-1].formats();r=c.default.attributes.diff(i,n)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function handleEnter(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce(function(e,r){return f.default.query(r,f.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e},{});this.quill.insertText(e.index,"\n",n,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],h.default.sources.USER))})}function makeCodeBlockHandler(e){return{key:m.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=f.default.query("code-block"),n=t.index,o=t.length,a=this.quill.scroll.descendant(r,n),s=i(a,2),u=s[0],l=s[1];if(null!=u){var c=this.quill.getIndex(u),p=u.newlineIndex(l,!0)+1,d=u.newlineIndex(c+l+o),y=u.domNode.textContent.slice(p,d).split("\n");l=0,y.forEach(function(t,i){e?(u.insertAt(p+l,r.TAB),l+=r.TAB.length,0===i?n+=r.TAB.length:o+=r.TAB.length):t.startsWith(r.TAB)&&(u.deleteAt(p+l,r.TAB.length),l-=r.TAB.length,0===i?n-=r.TAB.length:o-=r.TAB.length),l+=t.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(n,o,h.default.sources.SILENT)}}}}function makeFormatHandler(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],h.default.sources.USER)}}}function normalize(e){if("string"==typeof e||"number"==typeof e)return normalize({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=m.keys[e.key.toUpperCase()])e.key=m.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[g]=e.shortKey,delete e.shortKey),e}m.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},m.DEFAULTS={bindings:{bold:makeFormatHandler("bold"),italic:makeFormatHandler("italic"),underline:makeFormatHandler("underline"),indent:{key:m.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:m.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:m.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":makeCodeBlockHandler(!0),"outdent code-block":makeCodeBlockHandler(!1),"remove tab":{key:m.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:m.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new l.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:m.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:m.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=i(t,2),n=r[0],o=r[1],a=(0,u.default)({},n.formats(),{list:"checked"}),s=(new l.default).retain(e.index).insert("\n",a).retain(n.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:m.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=i(r,2),o=n[0],a=n[1],s=(new l.default).retain(e.index).insert("\n",t.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),o=i(n,2),a=o[0],s=o[1];if(s>r)return!0;var u=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":u="unchecked";break;case"[x]":u="checked";break;case"-":case"*":u="bullet";break;default:u="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var c=(new l.default).retain(e.index-s).delete(r+1).retain(a.length()-2-s).retain(1,{list:u});this.quill.updateContents(c,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,h.default.sources.SILENT)}},"code exit":{key:m.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=i(t,2),n=r[0],o=r[1],a=(new l.default).retain(e.index+n.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,h.default.sources.USER)}},"embed left":makeEmbedArrowHandler(m.keys.LEFT,!1),"embed left shift":makeEmbedArrowHandler(m.keys.LEFT,!0),"embed right":makeEmbedArrowHandler(m.keys.RIGHT,!1),"embed right shift":makeEmbedArrowHandler(m.keys.RIGHT,!0)}},t.default=m,t.SHORTKEY=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=_interopRequireDefault(r(0)),s=_interopRequireDefault(r(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function Cursor(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Cursor);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Cursor.__proto__||Object.getPrototypeOf(Cursor)).call(this,e));return r.selection=t,r.textNode=document.createTextNode(Cursor.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Cursor,a.default.Embed),o(Cursor,null,[{key:"value",value:function(){}}]),o(Cursor,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,t){if(0!==this._length)return i(Cursor.prototype.__proto__||Object.getPrototypeOf(Cursor.prototype),"format",this).call(this,e,t);for(var r=this,n=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)n+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=Cursor.CONTENTS.length,r.optimize(),r.formatAt(n,Cursor.CONTENTS.length,e,t),this._length=0)}},{key:"index",value:function(e,t){return e===this.textNode?0:i(Cursor.prototype.__proto__||Object.getPrototypeOf(Cursor.prototype),"index",this).call(this,e,t)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(Cursor.prototype.__proto__||Object.getPrototypeOf(Cursor.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,t=this.selection.getNativeRange(),r=void 0,i=void 0,o=void 0;if(null!=t&&t.start.node===e&&t.end.node===e){var u=[e,t.start.offset,t.end.offset];r=u[0],i=u[1],o=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==Cursor.CONTENTS){var l=this.textNode.data.split(Cursor.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=Cursor.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(Cursor.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var c=[i,o].map(function(e){return Math.max(0,Math.min(r.data.length,e-1))}),f=n(c,2);return i=f[0],o=f[1],{startNode:r,startOffset:i,endNode:r,endOffset:o}}}}},{key:"update",value:function(e,t){var r=this;if(e.some(function(e){return"characterData"===e.type&&e.target===r.textNode})){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),Cursor}();u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(0)),i=r(4),o=_interopRequireDefault(i);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function Container(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Container),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Container.__proto__||Object.getPrototypeOf(Container)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Container,n.default.Container),Container}();a.allowedChildren=[o.default,i.BlockEmbed,a],t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function ColorAttributor(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColorAttributor),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ColorAttributor.__proto__||Object.getPrototypeOf(ColorAttributor)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ColorAttributor,a.default.Attributor.Style),i(ColorAttributor,[{key:"value",value:function(e){var t=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(ColorAttributor.prototype.__proto__||Object.getPrototypeOf(ColorAttributor.prototype),"value",this).call(this,e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+t.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):t}}]),ColorAttributor}(),u=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),l=new s("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=s,t.ColorClass=u,t.ColorStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(6),s=(n=a)&&n.__esModule?n:{default:n};var u=function(e){function Link(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Link),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Link.__proto__||Object.getPrototypeOf(Link)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Link,s.default),i(Link,[{key:"format",value:function(e,t){if(e!==this.statics.blotName||!t)return o(Link.prototype.__proto__||Object.getPrototypeOf(Link.prototype),"format",this).call(this,e,t);t=this.constructor.sanitize(t),this.domNode.setAttribute("href",t)}}],[{key:"create",value:function(e){var t=o(Link.__proto__||Object.getPrototypeOf(Link),"create",this).call(this,e);return e=this.sanitize(e),t.setAttribute("href",e),t.setAttribute("target","_blank"),t}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return _sanitize(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),Link}();function _sanitize(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=u,t.sanitize=_sanitize},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=_interopRequireDefault(r(23)),a=_interopRequireDefault(r(107));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=0;function toggleAriaAttribute(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function Picker(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Picker),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){t.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case o.default.keys.ENTER:t.togglePicker();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return i(Picker,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),toggleAriaAttribute(this.label,"aria-expanded"),toggleAriaAttribute(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",function(){t.selectItem(r,!0)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+s,s+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),Picker}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(0)),i=_interopRequireDefault(r(5)),o=r(4),a=_interopRequireDefault(o),s=_interopRequireDefault(r(16)),u=_interopRequireDefault(r(25)),l=_interopRequireDefault(r(24)),c=_interopRequireDefault(r(35)),f=_interopRequireDefault(r(6)),h=_interopRequireDefault(r(22)),p=_interopRequireDefault(r(7)),d=_interopRequireDefault(r(55)),y=_interopRequireDefault(r(42)),g=_interopRequireDefault(r(23));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}i.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":u.default,"blots/cursor":l.default,"blots/embed":c.default,"blots/inline":f.default,"blots/scroll":h.default,"blots/text":p.default,"modules/clipboard":d.default,"modules/history":y.default,"modules/keyboard":g.default}),n.default.register(a.default,s.default,l.default,f.default,h.default,p.default),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(){function ShadowBlot(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(ShadowBlot.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),ShadowBlot.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},ShadowBlot.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},ShadowBlot.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},ShadowBlot.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},ShadowBlot.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},ShadowBlot.prototype.formatAt=function(e,t,r,i){var o=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&i)o.wrap(r,i);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);o.wrap(a),a.format(r,i)}},ShadowBlot.prototype.insertAt=function(e,t,r){var i=null==r?n.create("text",t):n.create(t,r),o=this.split(e);this.parent.insertBefore(i,o)},ShadowBlot.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},ShadowBlot.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},ShadowBlot.prototype.length=function(){return 1},ShadowBlot.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},ShadowBlot.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},ShadowBlot.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},ShadowBlot.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},ShadowBlot.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},ShadowBlot.prototype.split=function(e,t){return 0===e?this:this.next},ShadowBlot.prototype.update=function(e,t){},ShadowBlot.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},ShadowBlot.blotName="abstract",ShadowBlot}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),i=r(32),o=r(33),a=r(1),s=function(){function AttributorStore(e){this.attributes={},this.domNode=e,this.build()}return AttributorStore.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},AttributorStore.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=i.default.keys(this.domNode),s=o.default.keys(this.domNode);t.concat(r).concat(s).forEach(function(t){var r=a.query(t,a.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)})},AttributorStore.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)})},AttributorStore.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},AttributorStore.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=e.attributes[r].value(e.domNode),t},{})},AttributorStore}();t.default=s},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function match(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function ClassAttributor(){return null!==e&&e.apply(this,arguments)||this}return i(ClassAttributor,e),ClassAttributor.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},ClassAttributor.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},ClassAttributor.prototype.remove=function(e){match(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},ClassAttributor.prototype.value=function(e){var t=(match(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},ClassAttributor}(r(12).default);t.default=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function camelize(e){var t=e.split("-"),r=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function StyleAttributor(){return null!==e&&e.apply(this,arguments)||this}return i(StyleAttributor,e),StyleAttributor.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},StyleAttributor.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[camelize(this.keyName)]=t,!0)},StyleAttributor.prototype.remove=function(e){e.style[camelize(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},StyleAttributor.prototype.value=function(e){var t=e.style[camelize(this.keyName)];return this.canAdd(e,t)?t:""},StyleAttributor}(r(12).default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function Theme(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Theme),this.quill=e,this.options=t,this.modules={}}return n(Theme,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),Theme}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(0)),o=_interopRequireDefault(r(7));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a="\ufeff",s=function(e){function Embed(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Embed);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Embed.__proto__||Object.getPrototypeOf(Embed)).call(this,e));return t.contentNode=document.createElement("span"),t.contentNode.setAttribute("contenteditable",!1),[].slice.call(t.domNode.childNodes).forEach(function(e){t.contentNode.appendChild(e)}),t.leftGuard=document.createTextNode(a),t.rightGuard=document.createTextNode(a),t.domNode.appendChild(t.leftGuard),t.domNode.appendChild(t.contentNode),t.domNode.appendChild(t.rightGuard),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Embed,i.default.Embed),n(Embed,[{key:"index",value:function(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(Embed.prototype.__proto__||Object.getPrototypeOf(Embed.prototype),"index",this).call(this,e,t)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(a).join("");if(e===this.leftGuard)if(this.prev instanceof o.default){var s=this.prev.length();this.prev.insertAt(s,n),t={startNode:this.prev.domNode,startOffset:s+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=a,t}},{key:"update",value:function(e,t){var r=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}})}}]),Embed}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,i=r(0),o=(n=i)&&n.__esModule?n:{default:n};var a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",a),u=new o.default.Attributor.Class("align","ql-align",a),l=new o.default.Attributor.Style("align","text-align",a);t.AlignAttribute=s,t.AlignClass=u,t.AlignStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,i=r(0),o=(n=i)&&n.__esModule?n:{default:n},a=r(26);var s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,i=r(0),o=(n=i)&&n.__esModule?n:{default:n};var a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",a),u=new o.default.Attributor.Class("direction","ql-direction",a),l=new o.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=s,t.DirectionClass=u,t.DirectionStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(0),a=(n=o)&&n.__esModule?n:{default:n};var s={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new a.default.Attributor.Class("font","ql-font",s),l=new(function(e){function FontStyleAttributor(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FontStyleAttributor),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(FontStyleAttributor.__proto__||Object.getPrototypeOf(FontStyleAttributor)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FontStyleAttributor,a.default.Attributor.Style),i(FontStyleAttributor,[{key:"value",value:function(e){return function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(FontStyleAttributor.prototype.__proto__||Object.getPrototypeOf(FontStyleAttributor.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),FontStyleAttributor}())("font","font-family",s);t.FontStyle=l,t.FontClass=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,i=r(0),o=(n=i)&&n.__esModule?n:{default:n};var a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=s},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(0)),o=_interopRequireDefault(r(5)),a=_interopRequireDefault(r(9));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function History(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,History);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(History.__proto__||Object.getPrototypeOf(History)).call(this,e,t));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(o.default.events.EDITOR_CHANGE,function(e,t,n,i){e!==o.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==o.default.sources.USER?r.transform(t):r.record(t,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(History,a.default),n(History,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],o.default.sources.USER),this.ignoreChange=!1;var n=getLastChangeIndex(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var i=this.stack.undo.pop();r=r.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),History}();function getLastChangeIndex(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=i.default.query(e,i.default.Scope.BLOCK)}))}(e)&&(r-=1),r}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=getLastChangeIndex},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(3)),o=_interopRequireDefault(r(2)),a=_interopRequireDefault(r(8)),s=_interopRequireDefault(r(23)),u=_interopRequireDefault(r(34)),l=_interopRequireDefault(r(59)),c=_interopRequireDefault(r(60)),f=_interopRequireDefault(r(28)),h=_interopRequireDefault(r(61));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=[!1,"center","right","justify"],d=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],y=[!1,"serif","monospace"],g=["1","2","3",!1],m=["small",!1,"large","huge"],v=function(e){function BaseTheme(e,t){_classCallCheck(this,BaseTheme);var r=_possibleConstructorReturn(this,(BaseTheme.__proto__||Object.getPrototypeOf(BaseTheme)).call(this,e,t));return e.emitter.listenDOM("click",document.body,function listener(t){if(!document.body.contains(e.root))return document.body.removeEventListener("click",listener);null==r.tooltip||r.tooltip.root.contains(t.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(e){e.container.contains(t.target)||e.close()})}),r}return _inherits(BaseTheme,u.default),n(BaseTheme,[{key:"addModule",value:function(e){var t=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(BaseTheme.prototype.__proto__||Object.getPrototypeOf(BaseTheme.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(t),t}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(r){if(r.startsWith("ql-")&&(r=r.slice("ql-".length),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"==typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}})})}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&fillSelect(e,p),new c.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&fillSelect(e,d,"background"===r?"#ffffff":"#000000"),new l.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?fillSelect(e,y):e.classList.contains("ql-header")?fillSelect(e,g):e.classList.contains("ql-size")&&fillSelect(e,m)),new f.default(e)});this.quill.on(a.default.events.EDITOR_CHANGE,function(){r.pickers.forEach(function(e){e.update()})})}}]),BaseTheme}();v.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new o.default).retain(n.index).delete(n.length).insert({image:r.target.result}),a.default.sources.USER),e.quill.setSelection(n.index+1,a.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var b=function(e){function BaseTooltip(e,t){_classCallCheck(this,BaseTooltip);var r=_possibleConstructorReturn(this,(BaseTooltip.__proto__||Object.getPrototypeOf(BaseTooltip)).call(this,e,t));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return _inherits(BaseTooltip,h.default),n(BaseTooltip,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,a.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0";if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/";return e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",a.default.sources.USER),this.quill.setSelection(n+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),BaseTooltip}();function fillSelect(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)})}t.BaseTooltip=b,t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function LinkedList(){this.head=this.tail=null,this.length=0}return LinkedList.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},LinkedList.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},LinkedList.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},LinkedList.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},LinkedList.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},LinkedList.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},LinkedList.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var i=r.length();if(e<i||t&&e===i&&(null==r.next||0!==r.next.length()))return[r,e];e-=i}return[null,0]},LinkedList.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},LinkedList.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,i=this.find(e),o=i[0],a=e-i[1],s=this.iterator(o);(n=s())&&a<e+t;){var u=n.length();e>a?r(n,e-a,Math.min(t,a+u-e)):r(n,0,Math.min(u,e+t-a)),a+=u}},LinkedList.prototype.map=function(e){return this.reduce(function(t,r){return t.push(e(r)),t},[])},LinkedList.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},LinkedList}();t.default=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(17),a=r(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=function(e){function ScrollBlot(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver(function(e){r.update(e)}),r.observer.observe(r.domNode,s),r.attach(),r}return i(ScrollBlot,e),ScrollBlot.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},ScrollBlot.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,r)},ScrollBlot.prototype.formatAt=function(t,r,n,i){this.update(),e.prototype.formatAt.call(this,t,r,n,i)},ScrollBlot.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},ScrollBlot.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},u=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(u),e.optimize(r))},l=t,c=0;l.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=a.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(u),i=(l=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},ScrollBlot.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map(function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],r)}),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(t,r)},ScrollBlot.blotName="scroll",ScrollBlot.defaultChild="block",ScrollBlot.scope=a.Scope.BLOCK_BLOT,ScrollBlot.tagName="DIV",ScrollBlot}(o.default);t.default=u},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),a=r(1);var s=function(e){function InlineBlot(){return null!==e&&e.apply(this,arguments)||this}return i(InlineBlot,e),InlineBlot.formats=function(t){if(t.tagName!==InlineBlot.tagName)return e.formats.call(this,t)},InlineBlot.prototype.format=function(t,r){var n=this;t!==this.statics.blotName||r?e.prototype.format.call(this,t,r):(this.children.forEach(function(e){e instanceof o.default||(e=e.wrap(InlineBlot.blotName,!0)),n.attributes.copy(e)}),this.unwrap())},InlineBlot.prototype.formatAt=function(t,r,n,i){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,i):e.prototype.formatAt.call(this,t,r,n,i)},InlineBlot.prototype.optimize=function(t){e.prototype.optimize.call(this,t);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var n=this.next;n instanceof InlineBlot&&n.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(r,n.formats())&&(n.moveChildren(this),n.remove())},InlineBlot.blotName="inline",InlineBlot.scope=a.Scope.INLINE_BLOT,InlineBlot.tagName="SPAN",InlineBlot}(o.default);t.default=s},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),a=r(1),s=function(e){function BlockBlot(){return null!==e&&e.apply(this,arguments)||this}return i(BlockBlot,e),BlockBlot.formats=function(t){var r=a.query(BlockBlot.blotName).tagName;if(t.tagName!==r)return e.formats.call(this,t)},BlockBlot.prototype.format=function(t,r){null!=a.query(t,a.Scope.BLOCK)&&(t!==this.statics.blotName||r?e.prototype.format.call(this,t,r):this.replaceWith(BlockBlot.blotName))},BlockBlot.prototype.formatAt=function(t,r,n,i){null!=a.query(n,a.Scope.BLOCK)?this.format(n,i):e.prototype.formatAt.call(this,t,r,n,i)},BlockBlot.prototype.insertAt=function(t,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var i=this.split(t),o=a.create(r,n);i.parent.insertBefore(o,i)}},BlockBlot.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},BlockBlot.blotName="block",BlockBlot.scope=a.Scope.BLOCK_BLOT,BlockBlot.tagName="P",BlockBlot}(o.default);t.default=s},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function EmbedBlot(){return null!==e&&e.apply(this,arguments)||this}return i(EmbedBlot,e),EmbedBlot.formats=function(e){},EmbedBlot.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},EmbedBlot.prototype.formatAt=function(t,r,n,i){0===t&&r===this.length()?this.format(n,i):e.prototype.formatAt.call(this,t,r,n,i)},EmbedBlot.prototype.formats=function(){return this.statics.formats(this.domNode)},EmbedBlot}(r(19).default);t.default=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),a=r(1),s=function(e){function TextBlot(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return i(TextBlot,e),TextBlot.create=function(e){return document.createTextNode(e)},TextBlot.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},TextBlot.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},TextBlot.prototype.index=function(e,t){return this.domNode===e?t:-1},TextBlot.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},TextBlot.prototype.length=function(){return this.text.length},TextBlot.prototype.optimize=function(t){e.prototype.optimize.call(this,t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof TextBlot&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},TextBlot.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},TextBlot.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=a.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},TextBlot.prototype.update=function(e,t){var r=this;e.some(function(e){return"characterData"===e.type&&e.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},TextBlot.prototype.value=function(){return this.text},TextBlot.blotName="text",TextBlot.scope=a.Scope.INLINE_BLOT,TextBlot}(o.default);t.default=s},function(e,t,r){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,i=arguments[1],o=0;o<n;o++)if(t=r[o],e.call(i,t,o,r))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1,n=1,i=0;function diff_main(e,t,o){if(e==t)return e?[[i,e]]:[];(o<0||e.length<o)&&(o=null);var a=diff_commonPrefix(e,t),s=e.substring(0,a);a=diff_commonSuffix(e=e.substring(a),t=t.substring(a));var u=e.substring(e.length-a),l=function(e,t){var o;if(!e)return[[n,t]];if(!t)return[[r,e]];var a=e.length>t.length?e:t,s=e.length>t.length?t:e,u=a.indexOf(s);if(-1!=u)return o=[[n,a.substring(0,u)],[i,s],[n,a.substring(u+s.length)]],e.length>t.length&&(o[0][0]=o[2][0]=r),o;if(1==s.length)return[[r,e],[n,t]];var l=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function diff_halfMatchI_(e,t,r){for(var n,i,o,a,s=e.substring(r,r+Math.floor(e.length/4)),u=-1,l="";-1!=(u=t.indexOf(s,u+1));){var c=diff_commonPrefix(e.substring(r),t.substring(u)),f=diff_commonSuffix(e.substring(0,r),t.substring(0,u));l.length<f+c&&(l=t.substring(u-f,u)+t.substring(u,u+c),n=e.substring(0,r-f),i=e.substring(r+c),o=t.substring(0,u-f),a=t.substring(u+c))}return 2*l.length>=e.length?[n,i,o,a,l]:null}var i,o,a,s,u,l=diff_halfMatchI_(r,n,Math.ceil(r.length/4)),c=diff_halfMatchI_(r,n,Math.ceil(r.length/2));if(!l&&!c)return null;i=c?l&&l[4].length>c[4].length?l:c:l;e.length>t.length?(o=i[0],a=i[1],s=i[2],u=i[3]):(s=i[0],u=i[1],o=i[2],a=i[3]);var f=i[4];return[o,a,s,u,f]}(e,t);if(l){var c=l[0],f=l[1],h=l[2],p=l[3],d=l[4],y=diff_main(c,h),g=diff_main(f,p);return y.concat([[i,d]],g)}return function(e,t){for(var i=e.length,o=t.length,a=Math.ceil((i+o)/2),s=a,u=2*a,l=new Array(u),c=new Array(u),f=0;f<u;f++)l[f]=-1,c[f]=-1;l[s+1]=0,c[s+1]=0;for(var h=i-o,p=h%2!=0,d=0,y=0,g=0,m=0,v=0;v<a;v++){for(var b=-v+d;b<=v-y;b+=2){for(var _=s+b,w=(T=b==-v||b!=v&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-b;T<i&&w<o&&e.charAt(T)==t.charAt(w);)T++,w++;if(l[_]=T,T>i)y+=2;else if(w>o)d+=2;else if(p){var S=s+h-b;if(S>=0&&S<u&&-1!=c[S]){var E=i-c[S];if(T>=E)return diff_bisectSplit_(e,t,T,w)}}}for(var C=-v+g;C<=v-m;C+=2){for(var S=s+C,O=(E=C==-v||C!=v&&c[S-1]<c[S+1]?c[S+1]:c[S-1]+1)-C;E<i&&O<o&&e.charAt(i-E-1)==t.charAt(o-O-1);)E++,O++;if(c[S]=E,E>i)m+=2;else if(O>o)g+=2;else if(!p){var _=s+h-C;if(_>=0&&_<u&&-1!=l[_]){var T=l[_],w=s+T-_;if(T>=(E=i-E))return diff_bisectSplit_(e,t,T,w)}}}}return[[r,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-a),t=t.substring(0,t.length-a));return s&&l.unshift([i,s]),u&&l.push([i,u]),function diff_cleanupMerge(e){e.push([i,""]);var t=0;var o=0;var a=0;var s="";var u="";var l;for(;t<e.length;)switch(e[t][0]){case n:a++,u+=e[t][1],t++;break;case r:o++,s+=e[t][1],t++;break;case i:o+a>1?(0!==o&&0!==a&&(0!==(l=diff_commonPrefix(u,s))&&(t-o-a>0&&e[t-o-a-1][0]==i?e[t-o-a-1][1]+=u.substring(0,l):(e.splice(0,0,[i,u.substring(0,l)]),t++),u=u.substring(l),s=s.substring(l)),0!==(l=diff_commonSuffix(u,s))&&(e[t][1]=u.substring(u.length-l)+e[t][1],u=u.substring(0,u.length-l),s=s.substring(0,s.length-l))),0===o?e.splice(t-a,o+a,[n,u]):0===a?e.splice(t-o,o+a,[r,s]):e.splice(t-o-a,o+a,[r,s],[n,u]),t=t-o-a+(o?1:0)+(a?1:0)+1):0!==t&&e[t-1][0]==i?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,a=0,o=0,s="",u=""}""===e[e.length-1][1]&&e.pop();var c=!1;t=1;for(;t<e.length-1;)e[t-1][0]==i&&e[t+1][0]==i&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)==e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),c=!0):e[t][1].substring(0,e[t+1][1].length)==e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),c=!0)),t++;c&&diff_cleanupMerge(e)}(l),null!=o&&(l=function(e,t){var n=function(e,t){if(0===t)return[i,e];for(var n=0,o=0;o<e.length;o++){var a=e[o];if(a[0]===r||a[0]===i){var s=n+a[1].length;if(t===s)return[o+1,e];if(t<s){e=e.slice();var u=t-n,l=[a[0],a[1].slice(0,u)],c=[a[0],a[1].slice(u)];return e.splice(o,1,l,c),[o+1,e]}n=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),o=n[1],a=n[0],s=o[a],u=o[a+1];if(null==s)return e;if(s[0]!==i)return e;if(null!=u&&s[1]+u[1]===u[1]+s[1])return o.splice(a,2,u,s),merge_tuples(o,a,2);if(null!=u&&0===u[1].indexOf(s[1])){o.splice(a,2,[u[0],s[1]],[0,s[1]]);var l=u[1].slice(s[1].length);return l.length>0&&o.splice(a+2,0,[u[0],l]),merge_tuples(o,a,3)}return e}(l,o)),l=function(e){for(var t=!1,o=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)e[a-2][0]===i&&((s=e[a-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319)&&e[a-1][0]===r&&o(e[a-1][1])&&e[a][0]===n&&o(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var s;if(!t)return e;for(var u=[],a=0;a<e.length;a+=1)e[a][1].length>0&&u.push(e[a]);return u}(l)}function diff_bisectSplit_(e,t,r,n){var i=e.substring(0,r),o=t.substring(0,n),a=e.substring(r),s=t.substring(n),u=diff_main(i,o),l=diff_main(a,s);return u.concat(l)}function diff_commonPrefix(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i}function diff_commonSuffix(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i}var o=diff_main;function merge_tuples(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var i=e[n],o=e[n+1];i[0]===o[1]&&e.splice(n,2,[i[0],i[1]+o[1]])}return e}o.INSERT=n,o.DELETE=r,o.EQUAL=i,e.exports=o},function(e,t){function shim(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"==typeof Object.keys?Object.keys:shim).shim=shim},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function supported(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function unsupported(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?supported:unsupported).supported=supported,t.unsupported=unsupported},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function Events(){}function EE(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(n=!1)),EventEmitter.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)r.call(e,t)&&i.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},EventEmitter.prototype.listeners=function(e,t){var r=n?n+e:e,i=this._events[r];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},EventEmitter.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},EventEmitter.prototype.on=function(e,t,r){var i=new EE(t,r||this),o=n?n+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},EventEmitter.prototype.once=function(e,t,r){var i=new EE(t,r||this,!0),o=n?n+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},EventEmitter.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new Events:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new Events:delete this._events[o]);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==t||i&&!a[s].once||r&&a[s].context!==r)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new Events:delete this._events[o]}return this},EventEmitter.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new Events:delete this._events[t])):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=n,EventEmitter.EventEmitter=EventEmitter,void 0!==e&&(e.exports=EventEmitter)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=_interopRequireDefault(r(3)),s=_interopRequireDefault(r(2)),u=_interopRequireDefault(r(0)),l=_interopRequireDefault(r(5)),c=_interopRequireDefault(r(10)),f=_interopRequireDefault(r(9)),h=r(36),p=r(37),d=_interopRequireDefault(r(13)),y=r(26),g=r(38),m=r(39),v=r(40);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=(0,c.default)("quill:clipboard"),_="__ql-matcher",w=[[Node.TEXT_NODE,matchText],[Node.TEXT_NODE,matchNewline],["br",function(e,t){deltaEndsWith(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,matchNewline],[Node.ELEMENT_NODE,matchBlot],[Node.ELEMENT_NODE,matchSpacing],[Node.ELEMENT_NODE,matchAttributor],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};n.fontStyle&&"italic"===computeStyle(e).fontStyle&&(r.italic=!0);n.fontWeight&&(computeStyle(e).fontWeight.startsWith("bold")||parseInt(computeStyle(e).fontWeight)>=700)&&(r.bold=!0);Object.keys(r).length>0&&(t=applyFormat(t,r));parseFloat(n.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t));return t}],["li",function(e,t){var r=u.default.query(e);if(null==r||"list-item"!==r.blotName||!deltaEndsWith(t,"\n"))return t;var n=-1,i=e.parentNode;for(;!i.classList.contains("ql-clipboard");)"list"===(u.default.query(i)||{}).blotName&&(n+=1),i=i.parentNode;return n<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",matchAlias.bind(matchAlias,"bold")],["i",matchAlias.bind(matchAlias,"italic")],["style",function(){return new s.default}]],S=[h.AlignAttribute,g.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),E=[h.AlignStyle,p.BackgroundStyle,y.ColorStyle,g.DirectionStyle,m.FontStyle,v.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),C=function(e){function Clipboard(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Clipboard);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this,e,t));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],w.concat(r.options.matchers).forEach(function(e){var n=i(e,2),o=n[0],a=n[1];(t.matchVisual||a!==matchSpacing)&&r.addMatcher(o,a)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Clipboard,f.default),o(Clipboard,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[d.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(r,_defineProperty({},d.default.blotName,t[d.default.blotName]))}var n=this.prepareMatching(),o=i(n,2),a=o[0],u=o[1],l=function traverse(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,r){return r(e,t)},new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(n,i){var o=traverse(i,t,r);return i.nodeType===e.ELEMENT_NODE&&(o=t.reduce(function(e,t){return t(i,e)},o),o=(i[_]||[]).reduce(function(e,t){return t(i,e)},o)),n.concat(o)},new s.default):new s.default}(this.container,a,u);return deltaEndsWith(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new s.default).retain(l.length()-1).delete(1))),b.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,l.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new s.default).retain(r.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout(function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,l.default.sources.USER),t.quill.setSelection(n.length()-r.length,l.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach(function(n){var o=i(n,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:r.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),function(e){e[_]=e[_]||[],e[_].push(s)})}}),[t,r]}}]),Clipboard}();function applyFormat(e,t,r){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce(function(e,r){return applyFormat(e,r,t[r])},e):e.reduce(function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,a.default)({},_defineProperty({},t,r),n.attributes))},new s.default)}function computeStyle(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function deltaEndsWith(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var i=e.ops[n];if("string"!=typeof i.insert)break;r=i.insert+r}return r.slice(-1*t.length)===t}function isLine(e){if(0===e.childNodes.length)return!1;var t=computeStyle(e);return["block","list-item"].indexOf(t.display)>-1}function matchAlias(e,t,r){return applyFormat(r,e,!0)}function matchAttributor(e,t){var r=u.default.Attributor.Attribute.keys(e),n=u.default.Attributor.Class.keys(e),i=u.default.Attributor.Style.keys(e),o={};return r.concat(n).concat(i).forEach(function(t){var r=u.default.query(t,u.default.Scope.ATTRIBUTE);null!=r&&(o[r.attrName]=r.value(e),o[r.attrName])||(null==(r=S[t])||r.attrName!==t&&r.keyName!==t||(o[r.attrName]=r.value(e)||void 0),null==(r=E[t])||r.attrName!==t&&r.keyName!==t||(r=E[t],o[r.attrName]=r.value(e)||void 0))}),Object.keys(o).length>0&&(t=applyFormat(t,o)),t}function matchBlot(e,t){var r=u.default.query(e);if(null==r)return t;if(r.prototype instanceof u.default.Embed){var n={},i=r.value(e);null!=i&&(n[r.blotName]=i,t=(new s.default).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=applyFormat(t,r.blotName,r.formats(e)));return t}function matchNewline(e,t){return deltaEndsWith(t,"\n")||(isLine(e)||t.length()>0&&e.nextSibling&&isLine(e.nextSibling))&&t.insert("\n"),t}function matchSpacing(e,t){if(isLine(e)&&null!=e.nextElementSibling&&!deltaEndsWith(t,"\n\n")){var r=e.offsetHeight+parseFloat(computeStyle(e).marginTop)+parseFloat(computeStyle(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function matchText(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!computeStyle(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&isLine(e.parentNode)||null!=e.previousSibling&&isLine(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&isLine(e.parentNode)||null!=e.nextSibling&&isLine(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}C.DEFAULTS={matchers:[],matchVisual:!0},t.default=C,t.matchAttributor=matchAttributor,t.matchBlot=matchBlot,t.matchNewline=matchNewline,t.matchSpacing=matchSpacing,t.matchText=matchText},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(6),s=(n=a)&&n.__esModule?n:{default:n};var u=function(e){function Bold(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Bold),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Bold.__proto__||Object.getPrototypeOf(Bold)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Bold,s.default),i(Bold,[{key:"optimize",value:function(e){o(Bold.prototype.__proto__||Object.getPrototypeOf(Bold.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(Bold.__proto__||Object.getPrototypeOf(Bold),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),Bold}();u.blotName="bold",u.tagName=["STRONG","B"],t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=_interopRequireDefault(r(2)),a=_interopRequireDefault(r(0)),s=_interopRequireDefault(r(5)),u=_interopRequireDefault(r(10)),l=_interopRequireDefault(r(9));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=(0,u.default)("quill:toolbar"),f=function(e){function Toolbar(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Toolbar);var r,i=_possibleConstructorReturn(this,(Toolbar.__proto__||Object.getPrototypeOf(Toolbar)).call(this,e,t));if(Array.isArray(i.options.container)){var o=document.createElement("div");addControls(o,i.options.container),e.container.parentNode.insertBefore(o,e.container),i.container=o}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(e){i.addHandler(e,i.options.handlers[e])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(e){i.attach(e)}),i.quill.on(s.default.events.EDITOR_CHANGE,function(e,t){e===s.default.events.SELECTION_CHANGE&&i.update(t)}),i.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)}),i):(r=c.error("Container required for toolbar",i.options),_possibleConstructorReturn(i,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Toolbar,l.default),i(Toolbar,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(r){if(r=r.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void c.warn("ignoring attaching to disabled format",r,e);if(null==a.default.query(r))return void c.warn("ignoring attaching to nonexistent format",r,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,function(i){var u=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var l=e.options[e.selectedIndex];u=!l.hasAttribute("selected")&&(l.value||!1)}else u=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),f=n(c,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,u);else if(a.default.query(r).prototype instanceof a.default.Embed){if(!(u=prompt("Enter "+r)))return;t.quill.updateContents((new o.default).retain(f.index).delete(f.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,u)),s.default.sources.USER)}else t.quill.format(r,u,s.default.sources.USER);t.update(f)}),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(r){var i=n(r,2),o=i[0],a=i[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[o])s=a.querySelector("option[selected]");else if(!Array.isArray(t[o])){var u=t[o];"string"==typeof u&&(u=u.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+u+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var l=t[o]===a.getAttribute("value")||null!=t[o]&&t[o].toString()===a.getAttribute("value")||null==t[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",l)}else a.classList.toggle("ql-active",null!=t[o])})}}]),Toolbar}();function addButton(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function addControls(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)addButton(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)}),e.appendChild(n)}(r,t,n):addButton(r,t,n)}}),e.appendChild(r)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===r.direction&&(i*=-1),this.quill.format("indent",n+i,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=f,t.addControls=addControls},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(28),s=(n=a)&&n.__esModule?n:{default:n};var u=function(e){function ColorPicker(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColorPicker);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ColorPicker.__proto__||Object.getPrototypeOf(ColorPicker)).call(this,e));return r.label.innerHTML=t,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ColorPicker,s.default),i(ColorPicker,[{key:"buildItem",value:function(e){var t=o(ColorPicker.prototype.__proto__||Object.getPrototypeOf(ColorPicker.prototype),"buildItem",this).call(this,e);return t.style.backgroundColor=e.getAttribute("value")||"",t}},{key:"selectItem",value:function(e,t){o(ColorPicker.prototype.__proto__||Object.getPrototypeOf(ColorPicker.prototype),"selectItem",this).call(this,e,t);var r=this.label.querySelector(".ql-color-label"),n=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=n:r.style.fill=n)}}]),ColorPicker}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(28),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function IconPicker(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IconPicker);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(IconPicker.__proto__||Object.getPrototypeOf(IconPicker)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=t[e.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(IconPicker,a.default),i(IconPicker,[{key:"selectItem",value:function(e,t){(function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(IconPicker.prototype.__proto__||Object.getPrototypeOf(IconPicker.prototype),"selectItem",this).call(this,e,t),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),IconPicker}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function Tooltip(e,t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tooltip),this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return n(Tooltip,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>n.right&&(o=n.right-i.right,this.root.style.left=t+o+"px"),i.left<n.left&&(o=n.left-i.left,this.root.style.left=t+o+"px"),i.bottom>n.bottom){var a=i.bottom-i.top,s=e.bottom-e.top+a;this.root.style.top=r-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),Tooltip}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=_interopRequireDefault(r(3)),s=_interopRequireDefault(r(8)),u=r(43),l=_interopRequireDefault(u),c=_interopRequireDefault(r(27)),f=r(15),h=_interopRequireDefault(r(41));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],d=function(e){function SnowTheme(e,t){_classCallCheck(this,SnowTheme),null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=p);var r=_possibleConstructorReturn(this,(SnowTheme.__proto__||Object.getPrototypeOf(SnowTheme)).call(this,e,t));return r.quill.container.classList.add("ql-snow"),r}return _inherits(SnowTheme,l.default),o(SnowTheme,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,r){e.handlers.link.call(e,!r.format.link)})}}]),SnowTheme}();d.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var y=function(e){function SnowTooltip(e,t){_classCallCheck(this,SnowTooltip);var r=_possibleConstructorReturn(this,(SnowTooltip.__proto__||Object.getPrototypeOf(SnowTooltip)).call(this,e,t));return r.preview=r.root.querySelector("a.ql-preview"),r}return _inherits(SnowTooltip,u.BaseTooltip),o(SnowTooltip,[{key:"listen",value:function(){var e=this;i(SnowTooltip.prototype.__proto__||Object.getPrototypeOf(SnowTooltip.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(t,r,i){if(null!=t){if(0===t.length&&i===s.default.sources.USER){var o=e.quill.scroll.descendant(c.default,t.index),a=n(o,2),u=a[0],l=a[1];if(null!=u){e.linkRange=new f.Range(t.index-l,u.length());var h=c.default.formats(u.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){i(SnowTooltip.prototype.__proto__||Object.getPrototypeOf(SnowTooltip.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),SnowTooltip}();y.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(29)),i=r(36),o=r(38),a=r(64),s=_interopRequireDefault(r(65)),u=_interopRequireDefault(r(66)),l=r(67),c=_interopRequireDefault(l),f=r(37),h=r(26),p=r(39),d=r(40),y=_interopRequireDefault(r(56)),g=_interopRequireDefault(r(68)),m=_interopRequireDefault(r(27)),v=_interopRequireDefault(r(69)),b=_interopRequireDefault(r(70)),_=_interopRequireDefault(r(71)),w=_interopRequireDefault(r(72)),S=_interopRequireDefault(r(73)),E=r(13),C=_interopRequireDefault(E),O=_interopRequireDefault(r(74)),T=_interopRequireDefault(r(75)),A=_interopRequireDefault(r(57)),x=_interopRequireDefault(r(41)),k=_interopRequireDefault(r(28)),R=_interopRequireDefault(r(59)),P=_interopRequireDefault(r(60)),D=_interopRequireDefault(r(61)),M=_interopRequireDefault(r(108)),F=_interopRequireDefault(r(62));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":f.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":d.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":f.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":d.SizeStyle},!0),n.default.register({"formats/align":i.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":f.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":p.FontClass,"formats/size":d.SizeClass,"formats/blockquote":s.default,"formats/code-block":C.default,"formats/header":u.default,"formats/list":c.default,"formats/bold":y.default,"formats/code":E.Code,"formats/italic":g.default,"formats/link":m.default,"formats/script":v.default,"formats/strike":b.default,"formats/underline":_.default,"formats/image":w.default,"formats/video":S.default,"formats/list/item":l.ListItem,"modules/formula":O.default,"modules/syntax":T.default,"modules/toolbar":A.default,"themes/bubble":M.default,"themes/snow":F.default,"ui/icons":x.default,"ui/picker":k.default,"ui/icon-picker":P.default,"ui/color-picker":R.default,"ui/tooltip":D.default},!0),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(0),s=(n=a)&&n.__esModule?n:{default:n};var u=new(function(e){function IdentAttributor(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IdentAttributor),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(IdentAttributor.__proto__||Object.getPrototypeOf(IdentAttributor)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(IdentAttributor,s.default.Attributor.Class),i(IdentAttributor,[{key:"add",value:function(e,t){if("+1"===t||"-1"===t){var r=this.value(e)||0;t="+1"===t?r+1:r-1}return 0===t?(this.remove(e),!0):o(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"add",this).call(this,e,t)}},{key:"canAdd",value:function(e,t){return o(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"canAdd",this).call(this,e,t)||o(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"canAdd",this).call(this,e,parseInt(t))}},{key:"value",value:function(e){return parseInt(o(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"value",this).call(this,e))||void 0}}]),IdentAttributor}())("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(4),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function Blockquote(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Blockquote),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Blockquote.__proto__||Object.getPrototypeOf(Blockquote)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Blockquote,o.default),Blockquote}();a.blotName="blockquote",a.tagName="blockquote",t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(4),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function Header(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Header),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Header.__proto__||Object.getPrototypeOf(Header)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Header,a.default),i(Header,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),Header}();s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},o=_interopRequireDefault(r(0)),a=_interopRequireDefault(r(4)),s=_interopRequireDefault(r(25));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function ListItem(){return _classCallCheck(this,ListItem),_possibleConstructorReturn(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).apply(this,arguments))}return _inherits(ListItem,a.default),n(ListItem,[{key:"format",value:function(e,t){e!==l.blotName||t?i(ListItem.prototype.__proto__||Object.getPrototypeOf(ListItem.prototype),"format",this).call(this,e,t):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(ListItem.prototype.__proto__||Object.getPrototypeOf(ListItem.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,t){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,t),this):(this.parent.unwrap(),i(ListItem.prototype.__proto__||Object.getPrototypeOf(ListItem.prototype),"replaceWith",this).call(this,e,t))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:i(ListItem.__proto__||Object.getPrototypeOf(ListItem),"formats",this).call(this,e)}}]),ListItem}();u.blotName="list-item",u.tagName="LI";var l=function(e){function List(e){_classCallCheck(this,List);var t=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this,e)),r=function(r){if(r.target.parentNode===e){var n=t.statics.formats(e),i=o.default.find(r.target);"checked"===n?i.format("list","unchecked"):"unchecked"===n&&i.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),t}return _inherits(List,s.default),n(List,null,[{key:"create",value:function(e){var t="ordered"===e?"OL":"UL",r=i(List.__proto__||Object.getPrototypeOf(List),"create",this).call(this,t);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(List,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,t){if(e instanceof u)i(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"insertBefore",this).call(this,e,t);else{var r=null==t?this.length():t.offset(this),n=this.split(r);n.parent.insertBefore(e,n)}}},{key:"optimize",value:function(e){i(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"optimize",this).call(this,e);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(t.moveChildren(this),t.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var t=o.default.create(this.statics.defaultChild);e.moveChildren(t),this.appendChild(t)}i(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"replace",this).call(this,e)}}]),List}();l.blotName="list",l.scope=o.default.Scope.BLOCK_BLOT,l.tagName=["OL","UL"],l.defaultChild="list-item",l.allowedChildren=[u],t.ListItem=u,t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(56),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function Italic(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Italic),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Italic.__proto__||Object.getPrototypeOf(Italic)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Italic,o.default),Italic}();a.blotName="italic",a.tagName=["EM","I"],t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(6),a=(n=o)&&n.__esModule?n:{default:n};var s=function(e){function Script(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Script),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Script.__proto__||Object.getPrototypeOf(Script)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Script,a.default),i(Script,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(Script.__proto__||Object.getPrototypeOf(Script),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),Script}();s.blotName="script",s.tagName=["SUB","SUP"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(6),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function Strike(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Strike),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Strike.__proto__||Object.getPrototypeOf(Strike)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Strike,o.default),Strike}();a.blotName="strike",a.tagName="S",t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(6),o=(n=i)&&n.__esModule?n:{default:n};var a=function(e){function Underline(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Underline),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Underline.__proto__||Object.getPrototypeOf(Underline)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Underline,o.default),Underline}();a.blotName="underline",a.tagName="U",t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(0),s=(n=a)&&n.__esModule?n:{default:n},u=r(27);var l=["alt","height","width"],c=function(e){function Image(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Image),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Image.__proto__||Object.getPrototypeOf(Image)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Image,s.default.Embed),i(Image,[{key:"format",value:function(e,t){l.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):o(Image.prototype.__proto__||Object.getPrototypeOf(Image.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=o(Image.__proto__||Object.getPrototypeOf(Image),"create",this).call(this,e);return"string"==typeof e&&t.setAttribute("src",this.sanitize(e)),t}},{key:"formats",value:function(e){return l.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,u.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),Image}();c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},a=r(4),s=r(27),u=(n=s)&&n.__esModule?n:{default:n};var l=["height","width"],c=function(e){function Video(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Video),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Video.__proto__||Object.getPrototypeOf(Video)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Video,a.BlockEmbed),i(Video,[{key:"format",value:function(e,t){l.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):o(Video.prototype.__proto__||Object.getPrototypeOf(Video.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=o(Video.__proto__||Object.getPrototypeOf(Video),"create",this).call(this,e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen",!0),t.setAttribute("src",this.sanitize(e)),t}},{key:"formats",value:function(e){return l.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"sanitize",value:function(e){return u.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),Video}();c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(35)),o=_interopRequireDefault(r(5)),a=_interopRequireDefault(r(9));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(e){function FormulaBlot(){return _classCallCheck(this,FormulaBlot),_possibleConstructorReturn(this,(FormulaBlot.__proto__||Object.getPrototypeOf(FormulaBlot)).apply(this,arguments))}return _inherits(FormulaBlot,i.default),n(FormulaBlot,null,[{key:"create",value:function(e){var t=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(FormulaBlot.__proto__||Object.getPrototypeOf(FormulaBlot),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),FormulaBlot}();s.blotName="formula",s.className="ql-formula",s.tagName="SPAN";var u=function(e){function Formula(){_classCallCheck(this,Formula);var e=_possibleConstructorReturn(this,(Formula.__proto__||Object.getPrototypeOf(Formula)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return _inherits(Formula,a.default),n(Formula,null,[{key:"register",value:function(){o.default.register(s,!0)}}]),Formula}();t.FormulaBlot=s,t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=_interopRequireDefault(r(0)),o=_interopRequireDefault(r(5)),a=_interopRequireDefault(r(9)),s=_interopRequireDefault(r(13));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function SyntaxCodeBlock(){return _classCallCheck(this,SyntaxCodeBlock),_possibleConstructorReturn(this,(SyntaxCodeBlock.__proto__||Object.getPrototypeOf(SyntaxCodeBlock)).apply(this,arguments))}return _inherits(SyntaxCodeBlock,s.default),n(SyntaxCodeBlock,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(SyntaxCodeBlock.prototype.__proto__||Object.getPrototypeOf(SyntaxCodeBlock.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),SyntaxCodeBlock}();u.className="ql-syntax";var l=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),c=function(e){function Syntax(e,t){_classCallCheck(this,Syntax);var r=_possibleConstructorReturn(this,(Syntax.__proto__||Object.getPrototypeOf(Syntax)).call(this,e,t));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var n=null;return r.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(n),n=setTimeout(function(){r.highlight(),n=null},r.options.interval)}),r.highlight(),r}return _inherits(Syntax,a.default),n(Syntax,null,[{key:"register",value:function(){o.default.register(l,!0),o.default.register(u,!0)}}]),n(Syntax,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(o.default.sources.SILENT),null!=t&&this.quill.setSelection(t,o.default.sources.SILENT)}}}]),Syntax}();c.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=u,t.CodeToken=l,t.default=c},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=_interopRequireDefault(r(3)),a=_interopRequireDefault(r(8)),s=r(43),u=_interopRequireDefault(s),l=r(15),c=_interopRequireDefault(r(41));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],h=function(e){function BubbleTheme(e,t){_classCallCheck(this,BubbleTheme),null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=f);var r=_possibleConstructorReturn(this,(BubbleTheme.__proto__||Object.getPrototypeOf(BubbleTheme)).call(this,e,t));return r.quill.container.classList.add("ql-bubble"),r}return _inherits(BubbleTheme,u.default),i(BubbleTheme,[{key:"extendToolbar",value:function(e){this.tooltip=new p(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),BubbleTheme}();h.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var p=function(e){function BubbleTooltip(e,t){_classCallCheck(this,BubbleTooltip);var r=_possibleConstructorReturn(this,(BubbleTooltip.__proto__||Object.getPrototypeOf(BubbleTooltip)).call(this,e,t));return r.quill.on(a.default.events.EDITOR_CHANGE,function(e,t,n,i){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(t.index,t.length);if(1===o.length)r.position(r.quill.getBounds(t));else{var s=o[o.length-1],u=r.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-u),f=r.quill.getBounds(new l.Range(u,c));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return _inherits(BubbleTooltip,s.BaseTooltip),i(BubbleTooltip,[{key:"listen",value:function(){var e=this;n(BubbleTooltip.prototype.__proto__||Object.getPrototypeOf(BubbleTooltip.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var t=n(BubbleTooltip.prototype.__proto__||Object.getPrototypeOf(BubbleTooltip.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===t)return t;r.style.marginLeft=-1*t-r.offsetWidth/2+"px"}}]),BubbleTooltip}();p.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=p,t.default=h},function(e,t,r){e.exports=r(63)}]).default},e.exports=r()}).call(t,r("dskh").Buffer)},Xl0y:function(e,t,r){var n,i,o;!function(r,a){"use strict";i=[],void 0===(o="function"==typeof(n=a)?n.apply(t,i):n)||(e.exports=o)}(0,function(){"use strict";var e={bind:!!(function(){}).bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};function Debouncer(e){this.callback=e,this.ticking=!1}function Headroom(e,t){var r;t=function extend(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var t,r,n,i=e||{};for(r=1;r<arguments.length;r++){var o=arguments[r]||{};for(t in o)"object"!=typeof i[t]||(n=i[t])&&"undefined"!=typeof window&&(n===window||n.nodeType)?i[t]=i[t]||o[t]:i[t]=extend(i[t],o[t])}return i}(t,Headroom.options),this.lastKnownScrollY=0,this.elem=e,this.tolerance=(r=t.tolerance)===Object(r)?r:{down:r,up:r},this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop,this.onBottom=t.onBottom,this.onNotBottom=t.onNotBottom}return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,Debouncer.prototype={constructor:Debouncer,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},Headroom.prototype={constructor:Headroom,init:function(){if(Headroom.cutsTheMustard)return this.debouncer=new Debouncer(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var e=this.classes;this.initialised=!1,this.elem.classList.remove(e.unpinned,e.pinned,e.top,e.notTop,e.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;!e.contains(t.pinned)&&e.contains(t.unpinned)||(e.add(t.unpinned),e.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.bottom)||(e.add(t.bottom),e.remove(t.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notBottom)||(e.add(t.notBottom),e.remove(t.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(e){return Math.max(e.offsetHeight,e.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=e<0,r=e+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return t||r},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var r=e>this.lastKnownScrollY,n=e>=this.offset;return r&&n&&t},shouldPin:function(e,t){var r=e<this.lastKnownScrollY,n=e<=this.offset;return r&&t||n},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",r=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),e+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(e,r)?this.unpin():this.shouldPin(e,r)&&this.pin(),this.lastKnownScrollY=e)}},Headroom.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},Headroom.cutsTheMustard=void 0!==e&&e.rAF&&e.bind&&e.classList,Headroom})},XpGX:function(e,t,r){"use strict";var n=r("DRWY"),i=r("SpBy");n.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},Xvgo:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Mjgd");n.Observable.prototype.retry=i.retry},"Y/qi":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("b0ch"),i=function(){function Columns(){this._default=new n.Group}return Object.defineProperty(Columns.prototype,"default",{get:function(){return this._default},enumerable:!0,configurable:!0}),Columns}();t.Columns=i},Y51t:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("1IBE"),a=r("5UgM"),s=r("EIUo"),u=r("k+FJ");t.repeatWhen=function(e){return function(t){return t.lift(new l(e))}};var l=function(){function RepeatWhenOperator(e){this.notifier=e}return RepeatWhenOperator.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,t))},RepeatWhenOperator}(),c=function(e){function RepeatWhenSubscriber(t,r,n){e.call(this,t),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return n(RepeatWhenSubscriber,e),RepeatWhenSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},RepeatWhenSubscriber.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},RepeatWhenSubscriber.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},RepeatWhenSubscriber.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},RepeatWhenSubscriber.prototype._unsubscribeAndRecycle=function(){var t=this.notifications,r=this.retries,n=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=t,this.retries=r,this.retriesSubscription=n,this},RepeatWhenSubscriber.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var t=o.tryCatch(this.notifier)(this.notifications);if(t===a.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=u.subscribeToResult(this,t)},RepeatWhenSubscriber}(s.OuterSubscriber)},YEzg:function(e,t,r){"use strict";t.not=function(e,t){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}return notPred.pred=e,notPred.thisArg=t,notPred}},YHqs:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VCircle(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(VCircle,e),VCircle}(r("dMGK").VSymbol);t.VCircle=o},YMHf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Spec(){this._data=new Array,this._marks=new Array,this._scales=new Array,this._signals=new Array}return Object.defineProperty(Spec.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(Spec.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(Spec.prototype,"scales",{get:function(){return this._scales},enumerable:!0,configurable:!0}),Object.defineProperty(Spec.prototype,"signals",{get:function(){return this._signals},enumerable:!0,configurable:!0}),Object.defineProperty(Spec.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!0,configurable:!0}),Object.defineProperty(Spec.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!0,configurable:!0}),Spec.prototype.addData=function(e){this.data.push(e)},Spec.prototype.addMark=function(e){this.marks.push(e)},Spec.prototype.addScale=function(e){this.scales.push(e)},Spec.prototype.addSignal=function(e){this.signals.push(e)},Spec.prototype.compile=function(){var e=new Object;if(e.width=this.width,e.height=this.height,this.signals.length>0){e.signals=new Array;for(var t=0,r=this.signals;t<r.length;t++){var n=r[t];e.signals.push(n.compile())}}if(this.data.length>0){e.data=new Array;for(var i=0,o=this.data;i<o.length;i++){var a=o[i];e.data.push(a.compile())}}if(this.scales.length>0){e.scales=new Array;for(var s=0,u=this.scales;s<u.length;s++){var l=u[s];e.scales.push(l.compile())}}if(this.marks.length>0){e.marks=new Array;for(var c=0,f=this.marks;c<f.length;c++){var h=f[c];e.marks.push(h.compile())}}return e},Spec}();t.Spec=n},YRA8:function(e,t,r){"use strict";(function(e,n){var i=r("SgnA"),o=function(){function ImmediateDefinition(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function clearImmediate(e){delete clearImmediate.instance.tasksByHandle[e]};t.instance=this,this.clearImmediate=t}}return ImmediateDefinition.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},ImmediateDefinition.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},ImmediateDefinition.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},ImmediateDefinition.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},ImmediateDefinition.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},ImmediateDefinition.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=function result(){var e=result.handler,t=result.args;"function"==typeof e?e.apply(void 0,t):new Function(""+e)()};return n.handler=e,n.args=t,n},ImmediateDefinition.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},ImmediateDefinition.prototype.createProcessNextTickSetImmediate=function(){var e=function setImmediate(){var e=setImmediate.instance,t=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,t)),t};return e.instance=this,e},ImmediateDefinition.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function globalMessageHandler(r){var n=globalMessageHandler.instance;r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&n.runIfPresent(+r.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var n=function setImmediate(){var e=setImmediate.messagePrefix,t=setImmediate.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.postMessage(e+r,"*"),r};return n.instance=this,n.messagePrefix=t,n},ImmediateDefinition.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},ImmediateDefinition.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function setImmediate(){var e=setImmediate.channel,t=setImmediate.instance.addFromSetImmediateArguments(arguments);return e.port2.postMessage(t),t};return r.channel=t,r.instance=this,r},ImmediateDefinition.prototype.createReadyStateChangeSetImmediate=function(){var e=function setImmediate(){var e=setImmediate.instance,t=e.root.document,r=t.documentElement,n=e.addFromSetImmediateArguments(arguments),i=t.createElement("script");return i.onreadystatechange=function(){e.runIfPresent(n),i.onreadystatechange=null,r.removeChild(i),i=null},r.appendChild(i),n};return e.instance=this,e},ImmediateDefinition.prototype.createSetTimeoutSetImmediate=function(){var e=function setImmediate(){var e=setImmediate.instance,t=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,t),0),t};return e.instance=this,e},ImmediateDefinition}();t.ImmediateDefinition=o,t.Immediate=new o(i.root)}).call(t,r("6orE").clearImmediate,r("6orE").setImmediate)},YSI4:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("I9Xa"),a=r("1IBE"),s=r("5UgM"),u=r("EIUo"),l=r("k+FJ");t.windowToggle=function(e,t){return function(r){return r.lift(new c(e,t))}};var c=function(){function WindowToggleOperator(e,t){this.openings=e,this.closingSelector=t}return WindowToggleOperator.prototype.call=function(e,t){return t.subscribe(new f(e,this.openings,this.closingSelector))},WindowToggleOperator}(),f=function(e){function WindowToggleSubscriber(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,r,r))}return n(WindowToggleSubscriber,e),WindowToggleSubscriber.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},WindowToggleSubscriber.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},WindowToggleSubscriber.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},WindowToggleSubscriber.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},WindowToggleSubscriber.prototype.notifyNext=function(e,t,r,n,u){if(e===this.openings){var c=this.closingSelector,f=a.tryCatch(c)(t);if(f===s.errorObject)return this.error(s.errorObject.e);var h=new i.Subject,p=new o.Subscription,d={window:h,subscription:p};this.contexts.push(d);var y=l.subscribeToResult(this,f,d);y.closed?this.closeWindow(this.contexts.length-1):(y.context=d,p.add(y)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(e))},WindowToggleSubscriber.prototype.notifyError=function(e){this.error(e)},WindowToggleSubscriber.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},WindowToggleSubscriber.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},WindowToggleSubscriber}(u.OuterSubscriber)},YWvS:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=r("891W");!function(e){e.AGG="AGG",e.SCALAR="SCALAR"}(o=t.FFuncType||(t.FFuncType={}));var s=function(){function FFuncBase(e,t){this._name=e,this._args=t,this._argc=(t||[]).length,this._id="F-"+e+"-"+Math.random().toString(16).slice(2,6)}return Object.defineProperty(FFuncBase.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(FFuncBase.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(FFuncBase.prototype,"args",{get:function(){return this._args},enumerable:!0,configurable:!0}),Object.defineProperty(FFuncBase.prototype,"argc",{get:function(){return this._argc},enumerable:!0,configurable:!0}),FFuncBase}();t.FFuncBase=s;var u=function(e){function FFuncAgg(){return null!==e&&e.apply(this,arguments)||this}return i(FFuncAgg,e),Object.defineProperty(FFuncAgg.prototype,"type",{get:function(){return o.AGG},enumerable:!0,configurable:!0}),FFuncAgg}(s);t.FFuncAgg=u;var l=function(e){function FFuncScalar(){return null!==e&&e.apply(this,arguments)||this}return i(FFuncScalar,e),Object.defineProperty(FFuncScalar.prototype,"type",{get:function(){return o.SCALAR},enumerable:!0,configurable:!0}),FFuncScalar}(s);t.FFuncScalar=l;var c=function(e){function FCalcAgg(t,r){var n=e.call(this,t)||this;return n._expr=r,n}return i(FCalcAgg,e),Object.defineProperty(FCalcAgg.prototype,"expr",{get:function(){return this._expr},enumerable:!0,configurable:!0}),FCalcAgg.prototype.init=function(e){this.expr.init(e)},FCalcAgg.prototype.step=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.expr.step(e)},FCalcAgg.prototype.final=function(e){return this.expr.final(e)},FCalcAgg.prototype.getReturnType=function(e){return this.expr.returnType},FCalcAgg}(u);t.FCalcAgg=c;var f=function(e){function FCalcScalar(t,r){var n=e.call(this,t)||this;return n._expr=r,n}return i(FCalcScalar,e),Object.defineProperty(FCalcScalar.prototype,"expr",{get:function(){return this._expr},enumerable:!0,configurable:!0}),FCalcScalar.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.expr.value(e)},FCalcScalar.prototype.getReturnType=function(e){return this.expr.returnType},FCalcScalar}(l);t.FCalcScalar=f;var h=function(e){function FFuncResolver(t){var r=e.call(this)||this;return r._provider=t,r._functions=new Map,r}return i(FFuncResolver,e),Object.defineProperty(FFuncResolver.prototype,"provider",{get:function(){return this._provider},enumerable:!0,configurable:!0}),Object.defineProperty(FFuncResolver.prototype,"functions",{get:function(){return this._functions},enumerable:!0,configurable:!0}),FFuncResolver.prototype.getFunc=function(e){return this.functions.get(e)},FFuncResolver.prototype.getCalcFunc=function(e){return this.provider.getCalcFunc(e)},FFuncResolver.prototype.visitCallExpressionNode=function(e){var t=this.provider.getFunc(e.callee,e.arguments);null!=t?this.functions.set(this.getNodeId(e),t):this.addError(e,"Unknown function "+e.callee)},FFuncResolver}(a.Validator);t.FFuncResolver=h},YZC0:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("X0B2");t.windowCount=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new a(e,t))}};var a=function(){function WindowCountOperator(e,t){this.windowSize=e,this.startWindowEvery=t}return WindowCountOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.windowSize,this.startWindowEvery))},WindowCountOperator}(),s=function(e){function WindowCountSubscriber(t,r,n){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=n,this.windows=[new o.Subject],this.count=0,t.next(this.windows[0])}return n(WindowCountSubscriber,e),WindowCountSubscriber.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,a=i.length,s=0;s<a&&!this.closed;s++)i[s].next(e);var u=this.count-n+1;if(u>=0&&u%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var l=new o.Subject;i.push(l),r.next(l)}},WindowCountSubscriber.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},WindowCountSubscriber.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},WindowCountSubscriber.prototype._unsubscribe=function(){this.count=0,this.windows=null},WindowCountSubscriber}(i.Subscriber)},YcrN:function(e,t,r){var n=r("9R9K"),i=r("DENg"),o=r("TvGQ"),a=r("p05M");e.exports={table:function(e,t){var r=(t=n.extend({separator:" ",minwidth:8,maxwidth:15},t)).fields||n.keys(e[0]),l=i.all(e);if(t.start||t.limit){var c=t.start||0,f=t.limit?c+t.limit:e.length;e=e.slice(c,f)}var h=r.map(function(r){var n=s[l[r]]||"",i=a("{{"+r+n+"}}"),u=o.max(e,function(e){return i(e).length});return u=Math.max(Math.min(r.length,t.minwidth),u),t.maxwidth>0?Math.min(u,t.maxwidth):u}),p=r.map(function(e,t){return n.truncate(n.pad(e,h[t],"center"),h[t])}).join(t.separator),d=a(r.map(function(e,t){return"{{"+e+(s[l[e]]||"")+"|pad:"+h[t]+","+(u[l[e]]||"right")+"|truncate:"+h[t]+"}}"}).join(t.separator));return p+"\n"+e.map(d).join("\n")},summary:function(e){e=e?e.__summary__?e:o.summary(e):this;var t,r,n=[];for(t=0,r=e.length;t<r;++t)n.push("-- "+e[t].field+" --"),"string"===e[t].type||e[t].distinct<10?n.push(printCategoricalProfile(e[t])):n.push(["valid:    "+(i=e[t]).valid,"missing:  "+i.missing,"distinct: "+i.distinct,"min:      "+i.min,"max:      "+i.max,"median:   "+i.median,"mean:     "+i.mean,"stdev:    "+i.stdev,"modeskew: "+i.modeskew].join("\n")),n.push("");var i;return n.join("\n")}};var s={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},u={number:"left",integer:"left"};function printCategoricalProfile(e){var t=["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"top values: "],r=e.unique,i=n.keys(r).sort(function(e,t){return r[t]-r[e]}).slice(0,6).map(function(e){return" '"+e+"' ("+r[e]+")"});return t.concat(i).join("\n")}},YdeL:function(e,t,r){"use strict";var n=r("o0fr");t.materialize=function(){return n.materialize()(this)}},YnVn:function(e,t,r){(function(e){"use strict";function formatDecimal(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function exponent(e){return(e=formatDecimal(Math.abs(e)))?e[1]:NaN}var t;function formatRounded(e,t){var r=formatDecimal(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var r={"":function(e,t){e=e.toPrecision(t);e:for(var r,n=e.length,i=1,o=-1;i<n;++i)switch(e[i]){case".":o=r=i;break;case"0":0===o&&(o=i),r=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(r+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return formatRounded(100*e,t)},r:formatRounded,s:function(e,r){var n=formatDecimal(e,r);if(!n)return e+"";var i=n[0],o=n[1],a=o-(t=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+formatDecimal(e,Math.max(0,r+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},n=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function formatSpecifier(e){return new FormatSpecifier(e)}function FormatSpecifier(e){if(!(t=n.exec(e)))throw new Error("invalid format: "+e);var t,i=t[1]||" ",o=t[2]||">",a=t[3]||"-",s=t[4]||"",u=!!t[5],l=t[6]&&+t[6],c=!!t[7],f=t[8]&&+t[8].slice(1),h=t[9]||"";"n"===h?(c=!0,h="g"):r[h]||(h=""),(u||"0"===i&&"="===o)&&(u=!0,i="0",o="="),this.fill=i,this.align=o,this.sign=a,this.symbol=s,this.zero=u,this.width=l,this.comma=c,this.precision=f,this.type=h}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var i=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function identity(e){return e}function locale(e){var n,o,a=e.grouping&&e.thousands?(n=e.grouping,o=e.thousands,function(e,t){for(var r=e.length,i=[],a=0,s=n[0],u=0;r>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),i.push(e.substring(r-=s,r+s)),!((u+=s+1)>t));)s=n[a=(a+1)%n.length];return i.reverse().join(o)}):identity,s=e.currency,u=e.decimal;function format(e){var n=(e=formatSpecifier(e)).fill,o=e.align,l=e.sign,c=e.symbol,f=e.zero,h=e.width,p=e.comma,d=e.precision,y=e.type,g="$"===c?s[0]:"#"===c&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",m="$"===c?s[1]:/[%p]/.test(y)?"%":"",v=r[y],b=!y||/[defgprs%]/.test(y);return d=null==d?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),function(e){var r=g,s=m;if("c"===y)s=v(e)+s,e="";else{var c=((e=+e)<0||1/e<0)&&(e*=-1,!0);if(e=v(e,d),c){var _=-1,w=e.length;for(c=!1;++_<w;)if(48<(S=e.charCodeAt(_))&&S<58||"x"===y&&96<S&&S<103||"X"===y&&64<S&&S<71){c=!0;break}}if(r=(c?"("===l?l:"-":"-"===l||"("===l?"":l)+r,s=s+("s"===y?i[8+t/3]:"")+(c&&"("===l?")":""),b){var S;for(_=-1,w=e.length;++_<w;)if(48>(S=e.charCodeAt(_))||S>57){s=(46===S?u+e.slice(_+1):e.slice(_))+s,e=e.slice(0,_);break}}}p&&!f&&(e=a(e,1/0));var E=r.length+e.length+s.length,C=E<h?new Array(h-E+1).join(n):"";switch(p&&f&&(e=a(C+e,C.length?h-s.length:1/0),C=""),o){case"<":return r+e+s+C;case"=":return r+C+e+s;case"^":return C.slice(0,E=C.length>>1)+r+e+s+C.slice(E)}return C+r+e+s}}return{format:format,formatPrefix:function(e,t){var r=format(((e=formatSpecifier(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(exponent(t)/3))),o=Math.pow(10,-n),a=i[8+n/3];return function(e){return r(o*e)+a}}}}var o=locale({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),a=locale({decimal:",",thousands:".",grouping:[3],currency:["","\xa0\u20ac"]}),s=locale({decimal:",",thousands:"\xa0",grouping:[3],currency:["","\xa0K\u010d"]}),u=locale({decimal:",",thousands:"'",grouping:[3],currency:["","\xa0CHF"]}),l=locale({decimal:",",thousands:".",grouping:[3],currency:["","\xa0\u20ac"]}),c=locale({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),f=locale({decimal:".",thousands:",",grouping:[3],currency:["\xa3",""]}),h=locale({decimal:",",thousands:".",grouping:[3],currency:["","\xa0\u20ac"]}),p=locale({decimal:",",thousands:"\xa0",grouping:[3],currency:["","\xa0\u20ac"]}),d=locale({decimal:",",thousands:"\xa0",grouping:[3],currency:["","$"]}),y=locale({decimal:",",thousands:".",grouping:[3],currency:["","\xa0\u20ac"]}),g=locale({decimal:".",thousands:",",grouping:[3],currency:["\u20aa",""]}),m=locale({decimal:",",thousands:"\xa0",grouping:[3],currency:["","\xa0Ft"]}),v=locale({decimal:",",thousands:".",grouping:[3],currency:["\u20ac",""]}),b=locale({decimal:".",thousands:",",grouping:[3],currency:["","\u5186"]}),_=locale({decimal:".",thousands:",",grouping:[3],currency:["\u20a9",""]}),w=locale({decimal:",",thousands:".",grouping:[3],currency:["","\xa0\u0434\u0435\u043d."]}),S=locale({decimal:",",thousands:".",grouping:[3],currency:["\u20ac\xa0",""]}),E=locale({decimal:",",thousands:".",grouping:[3],currency:["","z\u0142"]}),C=locale({decimal:",",thousands:".",grouping:[3],currency:["R$",""]}),O=locale({decimal:",",thousands:"\xa0",grouping:[3],currency:["","\xa0\u0440\u0443\u0431."]}),T=locale({decimal:",",thousands:"\xa0",grouping:[3],currency:["","SEK"]}),A=locale({decimal:".",thousands:",",grouping:[3],currency:["\xa5",""]});var x=o.format,k=o.formatPrefix;e.version="0.4.2",e.format=x,e.formatPrefix=k,e.locale=locale,e.localeCaEs=a,e.localeCsCz=s,e.localeDeCh=u,e.localeDeDe=l,e.localeEnCa=c,e.localeEnGb=f,e.localeEnUs=o,e.localeEsEs=h,e.localeFiFi=p,e.localeFrCa=d,e.localeFrFr=y,e.localeHeIl=g,e.localeHuHu=m,e.localeItIt=v,e.localeJaJp=b,e.localeKoKr=_,e.localeMkMk=w,e.localeNlNl=S,e.localePlPl=E,e.localePtBr=C,e.localeRuRu=O,e.localeSvSe=T,e.localeZhCn=A,e.formatSpecifier=formatSpecifier,e.precisionFixed=function(e){return Math.max(0,-exponent(Math.abs(e)))},e.precisionPrefix=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))-exponent(Math.abs(e)))},e.precisionRound=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}})(t)},YnxP:function(e,t,r){"use strict";var n=r("DRWY"),i=r("wCz2");n.Observable.prototype.repeat=i.repeat},Yu17:function(e,t,r){e.exports=function(e,t){return function(r,i,o){if("function"==typeof r&&"object"==typeof i||"object"==typeof o)throw new n.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof r?(o=r,r=""):1!==arguments.length&&"function"!=typeof i||(o=i,i=void 0),"object"==typeof r&&null!==r?(i=r,r=void 0):void 0!==r&&null!==r||(r="");var a,s="";return void 0!==r&&(s+=e+"="+encodeURIComponent(r)),void 0!==i&&(i.additionalUA&&(a=i.additionalUA,delete i.additionalUA),s=this.as._getSearchParams(i,s)),this._search(s,t,o,a)}};var n=r("QKhG")},YuCF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("PbPb"),i=r("pTYf"),o=(r("PesP"),r("H49V")),a=r("xS0M"),s=r("o0FP"),u=function(){function PivotSortType(){this._baseSorts=new Map,this._layerSorts=new Map}return Object.defineProperty(PivotSortType.prototype,"baseSorts",{get:function(){return this._baseSorts},enumerable:!0,configurable:!0}),Object.defineProperty(PivotSortType.prototype,"layerSorts",{get:function(){return this._layerSorts},enumerable:!0,configurable:!0}),PivotSortType.prototype.getBaseSort=function(e){return this.baseSorts.get(e)},PivotSortType.prototype.getLayerSort=function(e,t){var r=this.layerSorts.get(e);if(void 0!==r)return r.get(t)},PivotSortType.prototype.addBaseSort=function(e,t){return this.baseSorts.has(e)||this.baseSorts.set(e,t),this},PivotSortType.prototype.addLayerSort=function(e,t,r){var n=this.layerSorts.get(e);return null==n&&(n=new Map,this.layerSorts.set(e,n)),n.has(t)||n.set(t,r),this},PivotSortType}();t.PivotSortType=u,function(e){function makeSortFunc(e,t,r){for(var n=null,o=0,a=Array.from(r);o<a.length;o++){var s=a[o],u=(s[0],s[1]),l=makeSortOrder(u),c=makeCompareFunc(e,t,u);n=null==n?i(c,l):n.thenBy(c,l)}return n}function getLayers(e){return e.layers.get(o.Channel.STAR).length>0?e.layers.get(o.Channel.STAR):e.layers.get(o.Channel.ROW).length>0?e.layers.get(o.Channel.ROW):e.layers.get(o.Channel.COLUMN).length>0?e.layers.get(o.Channel.COLUMN):new Array}function addBaseSorts(e,t,r,n){for(var i=0,o=n;i<o.length;i++){var s=o[i],u=void 0;u=r.sorts.has(s.name)?r.sorts.get(s.name):t.buildDataSort(s,a.SortOrder.ASC),e=e.addBaseSort(u.field.name,u)}return e}function addLayerSorts(e,t,r,n,i){for(var o=0,s=n;o<s.length;o++){var u=s[o],l=void 0;l=r.sorts.has(u.name)?r.sorts.get(u.name):t.buildDataSort(u,a.SortOrder.ASC),e=e.addLayerSort(i,l.field.name,l)}return e}function addMarkSorts(e,t,r,n){return[o.Channel.ROW,o.Channel.COLUMN,o.Channel.VALUE,o.Channel.COLOR,o.Channel.SIZE,o.Channel.TEXT,o.Channel.DETAIL,o.Channel.TOOLTIP,o.Channel.ANGLE,o.Channel.PATH].reduce(function(e,i){return addLayerSorts(e,t,r,n.dimensions.get(i)||[],n.name)},e)}function makeSortOrder(e){return"ASC"===e.order?1:-1}function makeCompareFunc(e,t,r){switch(r.type){case a.SortType.DATA:return function(e){return function(t,r){var n=t[e.field.alias],i=r[e.field.alias];return n===i?0:n>i?1:-1}}(r);case a.SortType.ALPHA:return function(e,t){var r=function(e,t){var r="["+t.field.alias+"]";switch(t.field.dataType){case"DATEQTR":r="DATENAME('quarter', DATEPARSE('Q', "+r+"))";break;case"DATEMONTH":r="DATENAME('month', DATEPARSE('M', "+r+"))";break;case"DATEWKDAY":r="DATENAME('weekday', DATEPARSE('d', "+r+"))";break;default:r="STR("+r+")"}return e.compile(r)}(e,t);return function(e,t){var n=r.expr.value({row:e}),i=r.expr.value({row:t});return n===i?0:n>i?1:-1}}(e,r);case a.SortType.FIELD:return function(e,t,r){var i=function(e,t,r){var i=e.onPivot(function(e){e.onRows(function(e){e.onField(r.field);for(var n=0,i=t.rows.fields;n<i.length;n++){var o=i[n];o.isDiscrete&&e.onField(o)}for(var a=0,s=t.columns.fields;a<s.length;a++){var o=s[a];o.isDiscrete&&e.onField(o)}e.onLayer(r.byField)}),r.byField.isValues&&e.onValues(function(e){e.onField.apply(e,t.values.fields)}),e.filterBy.apply(e,Array.from(t.filters.values()))}).execute(e).getResultSet(r.byField.alias).data,o=n.reduce(i,function(e,t){var n=t[r.field.alias],i=t[r.byField.alias];return e.has(n)?e.set(n,e.get(n)+i):e.set(n,i)},new Map),s=n.sortBy(Array.from(o),function(e){return e[1]});r.order===a.SortOrder.DESC&&(s=s.reverse());return new Map(s)}(e,t,r);return function(e,t){var n=i.get(e[r.field.alias]),o=i.get(t[r.field.alias]);return n===o?0:n>o?1:-1}}(e,t,r)}}e.makePivotSort=function(e,t){var r=new u;switch(t.sortOrder){case s.PivotSortOrder.ANY:case s.PivotSortOrder.ROW:return function(e,t,r){e=addBaseSorts(e=addBaseSorts(e,t,r,r.rows.dimensions),t,r,r.columns.dimensions);for(var n=0,i=getLayers(r);n<i.length;n++){var o=i[n];e=addMarkSorts(e=addLayerSorts(e=addLayerSorts(e,t,r,r.rows.dimensions,o.name),t,r,r.columns.dimensions,o.name),t,r,o)}return e}(r,e,t);case s.PivotSortOrder.COLUMN:return function(e,t,r){e=addBaseSorts(e=addBaseSorts(e,t,r,r.columns.dimensions),t,r,r.rows.dimensions);for(var n=0,i=getLayers(r);n<i.length;n++){var o=i[n];e=addMarkSorts(e=addLayerSorts(e=addLayerSorts(e,t,r,r.columns.dimensions,o.name),t,r,r.rows.dimensions,o.name),t,r,o)}return e}(r,e,t);default:return r}},e.executePivotSort=function(e,t,r,n){var i=makeSortFunc(e,t,n.baseSorts);null!=i&&r.base.data.sort(i);for(var o=0,a=Array.from(n.layerSorts);o<a.length;o++){var s=a[o],u=s[0],l=s[1],c=r.getResultSet(u),f=makeSortFunc(e,t,l);null!=c&&null!=f&&c.data.sort(f)}return r}}(t.PivotSort||(t.PivotSort={}))},YuqC:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},YyKR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o=r("kdBv");!function(e){e.ALL="ALL",e.INCLUDE="INCLUDE",e.EXCLUDE="EXCLUDE"}(n=t.SelectionMode||(t.SelectionMode={})),function(e){e.RANGE="RANGE",e.RELATIVE_DATE="RELATIVE_DATE",e.SELECTION="SELECTION"}(i=t.ConditionType||(t.ConditionType={})),function(e){e.Discrete="DISCRETE",e.DiscreteBoolean="DISCRETE_BOOLEAN",e.Continuous="CONTINUOUS",e.ContinuousDate="CONTINUOUS_DATE",e.RelativeDate="RELATIVE_DATE"}(t.FilterType||(t.FilterType={})),function(e){e.makeFilter=function(t,r){switch(t.varType){case o.VariableType.CONTINUOUS:if(r.type===i.RANGE)return e.makeContinuousFilter(t,r);break;case o.VariableType.DISCRETE:if(r.type===i.SELECTION)return e.makeDiscreteFilter(t,r)}},e.makeContinuousFilter=function(e,t){if(e.varType===o.VariableType.CONTINUOUS)return{field:e,varType:o.VariableType.CONTINUOUS,range:{type:i.RANGE,min:t.min||null,max:t.max||null,includeMin:!0===t.includeMin,includeMax:!0===t.includeMax,includeNulls:!0===t.includeNulls}}},e.makeDiscreteFilter=function(e,t){if(e.varType===o.VariableType.DISCRETE)return{field:e,varType:o.VariableType.DISCRETE,selection:{type:i.SELECTION,mode:t.mode||n.INCLUDE,selected:t.selected||new Set}}}}(t.Filter||(t.Filter={}))},Z2I5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("CKSt"),i=function(){function FilterResult(e){this._query=e,this._result=new n.ResultSet}return Object.defineProperty(FilterResult.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(FilterResult.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),FilterResult.prototype.addRow=function(e){this.result.add(e)},FilterResult}();t.FilterResult=i},Z73k:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function FilterQuery(){this._filters=new Map}return Object.defineProperty(FilterQuery.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),FilterQuery.prototype.where=function(e){return this.filters.set(e.field.name,e),this},FilterQuery}();t.FilterQuery=n},Z7hs:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("i4XC"),a=r("I9Xa"),s=r("AoWu"),u=r("+jxi"),l=r("BliY"),c=function(e){function ReplaySubject(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return n(ReplaySubject,e),ReplaySubject.prototype.next=function(t){var r=this._getNow();this._events.push(new f(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},ReplaySubject.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?t=a.Subscription.EMPTY:this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new l.SubjectSubscription(this,e)),n&&e.add(e=new s.ObserveOnSubscriber(e,n));for(var i=r.length,o=0;o<i&&!e.closed;o++)e.next(r[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},ReplaySubject.prototype._getNow=function(){return(this.scheduler||o.queue).now()},ReplaySubject.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},ReplaySubject}(i.Subject);t.ReplaySubject=c;var f=function(){return function(e,t){this.time=e,this.value=t}}()},Z8wL:function(e,t,r){"use strict";var n=r("DRWY"),i=r("7mfc");n.Observable.bindCallback=i.bindCallback},ZE8M:function(e,t,r){"use strict";var n=r("DRWY"),i=r("9IAS");n.Observable.prototype.mapTo=i.mapTo},ZF5b:function(e,t,r){"use strict";var n=r("PCCV");t.publishReplay=function(e,t,r,i){return n.publishReplay(e,t,r,i)(this)}},ZJtM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Detail(){this._fields=new Array}return Object.defineProperty(Detail.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Detail.prototype.addField=function(e){this._fields=this.fields.concat(e)},Detail.prototype.addFields=function(e){this._fields=this.fields.concat(e)},Detail}();t.Detail=n},ZLbu:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function HBar(t,r){var n=e.call(this,a.MarkType.RECT)||this;return n._table=t,n._marks=r,n._x={scale:r.xScaleName,field:"layout_start"},n._x2={scale:r.xScaleName,field:"layout_end"},n._yc={field:"crows.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n}return i(HBar,e),Object.defineProperty(HBar.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(HBar.prototype,"x2",{get:function(){return this._x2},enumerable:!0,configurable:!0}),Object.defineProperty(HBar.prototype,"yc",{get:function(){return this._yc},enumerable:!0,configurable:!0}),Object.defineProperty(HBar.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(HBar.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),HBar.prototype.getProperties=function(){return{enter:{x:this.x,x2:this.x2,yc:this.yc,fill:this.color,height:this.size}}},HBar}(o.Mark);t.HBar=s},ZR2D:function(e,t,r){"use strict";var n=r("oxBv");t.ajax=n.AjaxObservable.create},ZRXU:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.count=function(e){return function(t){return t.lift(new o(e,t))}};var o=function(){function CountOperator(e,t){this.predicate=e,this.source=t}return CountOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},CountOperator}(),a=function(e){function CountSubscriber(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.count=0,this.index=0}return n(CountSubscriber,e),CountSubscriber.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},CountSubscriber.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},CountSubscriber.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},CountSubscriber}(i.Subscriber)},"ZT+n":function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("/Cw+"),o=r("E4ND"),a=r("kdBv"),s=r("niCK"),u=function(){function BatchEncoder(e){this._encoder=i.Encoder.newEncoder(e)}return BatchEncoder.prototype.addField=function(e,t,r){var n=this.convertField(e);n&&(this._encoder.addField(n,t,r),this._encoder.autoEncode())},BatchEncoder.prototype.addEncField=function(e,t,r){return e.id||(e.id=a.BField.GenerateID()),this._encoder.addField(e,t,r),this._encoder.autoEncode(),e},BatchEncoder.prototype.addFieldToSeries=function(e,t,r,n){var i=this;if(r){var o=this.convertField(e);if(!o)throw new Error(e.name+" not found in the dataset");this._encoder.addFieldToSeries(r,o,t,n)}else this._encoder.addFieldToAllSeries(function(){return i.convertField(e)},t);this._encoder.autoEncode()},BatchEncoder.prototype.addEncFieldToSeries=function(e,t,r,i){if(r)return e.id||(e.id=a.BField.GenerateID()),this._encoder.addFieldToSeries(r,e,t,i),this._encoder.autoEncode(),[e.id];var o=[];this._encoder.addFieldToAllSeries(function(){var t=a.BField.GenerateID();return o.push(t),n({},e,{id:t})},t,i),this._encoder.autoEncode()},BatchEncoder.prototype.addSort=function(e,t,r,n){void 0===r&&(r=!1),this._encoder.addSort(e,t,r,n)},BatchEncoder.prototype.removeSort=function(e){this._encoder.removeSort(e)},BatchEncoder.prototype.clearSorts=function(){this._encoder.clearSorts()},BatchEncoder.prototype.addFilter=function(e,t,r){var i=this.convertField(e);return this.addEncFilter(n({},i,t),r)},BatchEncoder.prototype.addEncFilter=function(e,t){return e.id||(e.id=a.BField.GenerateID()),this._encoder.addFilterField(e,t),e},BatchEncoder.prototype.removeFilter=function(e){this._encoder.removeFilter(e)},BatchEncoder.prototype.clearFilters=function(){this._encoder.clearFilters()},BatchEncoder.prototype.autoEncode=function(){this._encoder.autoEncode()},BatchEncoder.prototype.toggleDualAxisField=function(e){return this._encoder.toggleDualAxis(e)},BatchEncoder.prototype.updateMarkType=function(e,t){this._encoder.updateMarkType(e,null==e,t),null==e&&this._encoder.autoEncode()},BatchEncoder.prototype.updateMarkColor=function(e,t){return this._encoder.updateMarkColor(e,t)},BatchEncoder.prototype.updateMarkLabel=function(e,t){return this._encoder.updateMarkLabel(e,t)},BatchEncoder.prototype.updateMarkSize=function(e,t){return this._encoder.updateMarkSize(e,t)},BatchEncoder.prototype.updateField=function(e){this._encoder.updateField(e),this._encoder.autoEncode()},BatchEncoder.prototype.removeField=function(e){this._encoder.removeField(e),this._encoder.autoEncode()},BatchEncoder.prototype.removeFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this._encoder.removeField(n)}this._encoder.autoEncode()},BatchEncoder.prototype.swapRowsColumns=function(){this._encoder.swapRowsColumns(),this._encoder.autoEncode()},BatchEncoder.prototype.complete=function(){return{encoding:this._encoder.serialize(),summary:this._encoder.getMarksRollup()}},Object.defineProperty(BatchEncoder.prototype,"__encoder",{get:function(){return this._encoder},enumerable:!0,configurable:!0}),BatchEncoder.prototype.convertField=function(e){var t={type:e.varType,level:"ordinal"},r=a.BField.GenerateID(),i="";switch(e.type){case a.FieldType.MODELNAMES:case a.FieldType.VIEWNAMES:i=s.SystemFieldName.NAMES;break;case a.FieldType.MODELVALUES:case a.FieldType.VIEWVALUES:i=s.SystemFieldName.VALUES;break;case a.FieldType.DATA:"DATE"!==e.dataType&&"DATETIME"!==e.dataType?i=e.isMeasure?e.defaultAggregate.toUpperCase()+"(["+e.name+"])":"["+e.name+"]":(i="DATETRUNC('day', ["+e.name+"])",t=n({},t,{type:a.VariableType.CONTINUOUS}));break;case a.FieldType.MODELCALC:i="["+e.name+"]";break;case a.FieldType.VIEWCALC:i=e.formula.source;break;default:throw new Error("Invalid field type")}return{formula:i,variable:t,id:r}},BatchEncoder.prototype.getFieldType=function(e){switch(e.dataType){case o.DataType.DATE:return"date";case o.DataType.DATETIME:return"datetime";case o.DataType.NUMBER:return"number";case o.DataType.FLOAT:return"decimal";case o.DataType.BOOLEAN:return"boolean";case o.DataType.STRING:default:return"text"}},BatchEncoder}();t.BatchEncoder=u;var l=function(){function Guide(){}return Object.defineProperty(Guide.prototype,"encoder",{get:function(){return this._encoder.__encoder},enumerable:!0,configurable:!0}),Guide.prototype.addField=function(e,t,r,n){return this.encode(e,function(e){return e.addField(t,r,n)})},Guide.prototype.addEncField=function(e,t,r,n){return this.encode(e,function(e){return e.addEncField(t,r,n)})},Guide.prototype.addFieldToSeries=function(e,t,r,n,i){return this.encode(e,function(e){return e.addFieldToSeries(t,r,n,i)})},Guide.prototype.addEncFieldToSeries=function(e,t,r,n,i){return this.encode(e,function(e){return e.addEncFieldToSeries(t,r,n,i)})},Guide.prototype.addSort=function(e,t,r,n,i){return void 0===n&&(n=!1),this.encode(e,function(e){return e.addSort(t,r,n,i)})},Guide.prototype.removeSort=function(e,t){return this.encode(e,function(e){return e.removeSort(t)})},Guide.prototype.clearSorts=function(e){return this.encode(e,function(e){return e.clearSorts()})},Guide.prototype.addFilter=function(e,t,r,n){return this.encode(e,function(e){return e.addFilter(t,r,n)})},Guide.prototype.addEncFilter=function(e,t,r){return this.encode(e,function(e){return e.addEncFilter(t,r)})},Guide.prototype.removeFilter=function(e,t){return this.encode(e,function(e){return e.removeFilter(t)})},Guide.prototype.clearFilters=function(e){return this.encode(e,function(e){return e.clearFilters()})},Guide.prototype.toggleDualAxisField=function(e,t){return this.encode(e,function(e){return e.toggleDualAxisField(t)})},Guide.prototype.updateMarkType=function(e,t,r){return this.encode(e,function(e){return e.updateMarkType(t,r)})},Guide.prototype.updateMarkColor=function(e,t,r){return this.encode(e,function(e){return e.updateMarkColor(t,r)})},Guide.prototype.updateMarkLabel=function(e,t,r){return this.encode(e,function(e){return e.updateMarkLabel(t,r)})},Guide.prototype.updateMarkSize=function(e,t,r){return this.encode(e,function(e){return e.updateMarkSize(t,r)})},Guide.prototype.updateField=function(e,t){return this.encode(e,function(e){return e.updateField(t)})},Guide.prototype.removeField=function(e,t){return this.encode(e,function(e){return e.removeField(t)})},Guide.prototype.removeFields=function(e,t){return this.encode(e,function(e){return e.removeFields(t)})},Guide.prototype.swapRowsColumns=function(e){return this.encode(e,function(e){return e.swapRowsColumns()})},Guide.prototype.load=function(e){return this.encode(e,function(e){return e.autoEncode()})},Guide.prototype.newBatchOperation=function(e){return new u(e)},Guide.prototype.encode=function(e,t){return this._encoder=new u(e),t(this._encoder),this._encoder.complete()},Guide}();t.Guide=l},ZTns:function(e,t,r){"use strict";var n=r("SgnA");function minimalSetImpl(){return function(){function MinimalSet(){this._values=[]}return MinimalSet.prototype.add=function(e){this.has(e)||this._values.push(e)},MinimalSet.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(MinimalSet.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),MinimalSet.prototype.clear=function(){this._values.length=0},MinimalSet}()}t.minimalSetImpl=minimalSetImpl,t.Set=n.root.Set||minimalSetImpl()},ZUP2:function(e,t,r){"use strict";var n=r("DRWY"),i=r("CoUi");n.Observable.from=i.from},ZUnZ:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("1IBE"),a=r("5UgM");t.distinctUntilChanged=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function DistinctUntilChangedOperator(e,t){this.compare=e,this.keySelector=t}return DistinctUntilChangedOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))},DistinctUntilChangedOperator}(),u=function(e){function DistinctUntilChangedSubscriber(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(DistinctUntilChangedSubscriber,e),DistinctUntilChangedSubscriber.prototype.compare=function(e,t){return e===t},DistinctUntilChangedSubscriber.prototype._next=function(e){var t=e;if(this.keySelector&&(t=o.tryCatch(this.keySelector)(e))===a.errorObject)return this.destination.error(a.errorObject.e);var r=!1;if(this.hasKey){if((r=o.tryCatch(this.compare)(this.key,t))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},DistinctUntilChangedSubscriber}(i.Subscriber)},ZXAY:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function RLabel(t,r){var n=e.call(this,a.MarkType.TEXT)||this;return n._field=r,n}return i(RLabel,e),Object.defineProperty(RLabel.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),RLabel.prototype.getProperties=function(){return{update:{text:{template:"{{ parent['"+this.field.alias+"'] | trim | truncate: 12 }}"},yc:{signal:"CellHeight",mult:.5},baseline:{value:"middle"},fill:{value:"#666666"},fontSize:{value:12}}}},RLabel}(o.Mark);t.RLabel=s},Zbq8:function(e,t,r){"use strict";var n=r("DRWY"),i=r("K6ye");n.Observable.interval=i.interval},Zfb9:function(e,t,r){"use strict";var n=r("DRWY"),i=r("GLq4");n.Observable.throw=i._throw},Zo3h:function(e,t,r){"use strict";var n=r("DRWY"),i=r("n76g");n.Observable.prototype.switch=i._switch,n.Observable.prototype._switch=i._switch},ZoDK:function(e,t,r){var n,i,o;o=function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(e,t,r){var n=r(2).mergeOpts,i=r(1),o=i.lineBreak,a=i.allLineBreaks;function rtrim(e){return e.replace(/\s+$/g,"")}e.exports.Beautifier=function(e,t,r,i){var s,u,l,c,f,h,p,d,y,g,m,v,b,_,w,S,E,C,O,T,A;e=e||"",void 0!==(t=n(t=t||{},"html")).wrap_line_length&&0!==parseInt(t.wrap_line_length,10)||void 0===t.max_char||0===parseInt(t.max_char,10)||(t.wrap_line_length=t.max_char),u=void 0!==t.indent_inner_html&&t.indent_inner_html,l=void 0===t.indent_body_inner_html||t.indent_body_inner_html,c=void 0===t.indent_head_inner_html||t.indent_head_inner_html,f=void 0===t.indent_size?4:parseInt(t.indent_size,10),h=void 0===t.indent_char?" ":t.indent_char,d=void 0===t.brace_style?"collapse":t.brace_style,p=0===parseInt(t.wrap_line_length,10)?32786:parseInt(t.wrap_line_length||250,10),y=t.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],g=t.content_unformatted||["pre"],m=void 0===t.preserve_newlines||t.preserve_newlines,v=m?isNaN(parseInt(t.max_preserve_newlines,10))?32786:parseInt(t.max_preserve_newlines,10):0,b=void 0!==t.indent_handlebars&&t.indent_handlebars,_=void 0===t.wrap_attributes?"auto":t.wrap_attributes,w=isNaN(parseInt(t.wrap_attributes_indent_size,10))?f:parseInt(t.wrap_attributes_indent_size,10),S="force"===_.substr(0,"force".length),E="force-expand-multiline"===_,C="force-aligned"===_,O=void 0!==t.end_with_newline&&t.end_with_newline,T="object"==typeof t.extra_liners&&t.extra_liners?t.extra_liners.concat():"string"==typeof t.extra_liners?t.extra_liners.split(","):"head,body,/html".split(","),A=t.eol?t.eol:"auto",t.indent_with_tabs&&(h="\t",f=1),"auto"===A&&(A="\n",e&&o.test(e||"")&&(A=e.match(o)[0])),A=A.replace(/\\r/,"\r").replace(/\\n/,"\n"),e=e.replace(a,"\n"),this.beautify=function(){for((s=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=u,this.indent_body_inner_html=l,this.indent_head_inner_html=c,this.Utils={whitespace:"\n\r\t ".split(""),single_token:t.void_elements||["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:T,in_array:function(e,t){for(var r=0;r<t.length;r++)if(e===t[r])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)m&&"\n"===e&&this.newlines<=v&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e),!0):(this.line_char_count++,e.push(" "),!1)},this.get_content=function(){for(var e="",t=[],r=0;"<"!==this.input.charAt(this.pos)||2===r;){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(r<2&&this.traverse_whitespace())this.space_or_wrap(t);else{if(e=this.input.charAt(this.pos),b){if("{"===e?r+=1:r<2&&(r=0),"}"===e&&r>0&&0==r--)break;var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{!"===n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",r=new RegExp("</"+e+"\\s*>","igm");r.lastIndex=this.pos;var n=r.exec(this.input),i=n?n.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,r,n,i="",o=[],a="",s=!1,u=!0,l=!1,c=this.pos,f=this.line_char_count,h=!1;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=c,this.line_char_count=f),o.length?o.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))s=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),s=!0),"="===i&&(s=!1),n=this.input.substr(this.pos-1),!E||!l||h||">"!==i&&"/"!==i||n.match(/^\/?\s*>/)&&(s=!1,h=!0,this.print_newline(!1,o),this.print_indentation(o)),o.length&&"="!==o[o.length-1]&&">"!==i&&s){var p=this.space_or_wrap(o)&&"/"!==i&&!S;if(s=!1,S&&"/"!==i){var d=!1;E&&u&&(d=!(null!==n.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/))),u&&!d||(this.print_newline(!1,o),this.print_indentation(o),p=!0)}if(p){l=!0;var m=w;C&&(m=o.indexOf(" ")+1);for(var v=0;v<m;v++)o.push(" ")}if(u)for(var _=0;_<o.length;_++)if(" "===o[_]){u=!1;break}}if(b&&"<"===r&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),o.length&&" "!==o[o.length-1]&&"<"!==o[o.length-1]&&(i=" "+i),s=!0),"<"!==i||r||(t=this.pos-1,r="<"),b&&!r&&o.length>=2&&"{"===o[o.length-1]&&"{"===o[o.length-2]&&(t="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,r="{"),this.line_char_count++,o.push(i),o[1]&&("!"===o[1]||"?"===o[1]||"%"===o[1])){o=[this.get_comment(t)];break}if(b&&o[1]&&"{"===o[1]&&o[2]&&"!"===o[2]){o=[this.get_comment(t)];break}if(b&&"{"===r&&o.length>2&&"}"===o[o.length-2]&&"}"===o[o.length-1])break}}while(">"!==i);var O,T,A=o.join("");O=-1!==A.indexOf(" ")?A.indexOf(" "):-1!==A.indexOf("\n")?A.indexOf("\n"):"{"===A.charAt(0)?A.indexOf("}"):A.indexOf(">"),T="<"!==A.charAt(0)&&b?"#"===A.charAt(2)?3:2:1;var x=A.substring(T,O).toLowerCase();return"/"===A.charAt(A.length-2)||this.Utils.in_array(x,this.Utils.single_token)?e||(this.tag_type="SINGLE"):b&&"{"===A.charAt(0)&&"else"===x?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(x,y)||this.is_unformatted(x,g)?(a=this.get_unformatted("</"+x+">",A),o.push(a),this.pos,this.tag_type="SINGLE"):"script"===x&&(-1===A.search("type")||A.search("type")>-1&&A.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1)?e||(this.record_tag(x),this.tag_type="SCRIPT"):"style"===x&&(-1===A.search("type")||A.search("type")>-1&&A.search("text/css")>-1)?e||(this.record_tag(x),this.tag_type="STYLE"):"!"===x.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===x.charAt(0)?(this.retrieve_tag(x.substring(1)),this.tag_type="END"):(this.record_tag(x),"html"!==x.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(o),this.Utils.in_array(x,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=c,this.line_char_count=f),o.join("")},this.get_comment=function(e){var t="",r=">",n=!1;this.pos=e;var i=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=i).charAt(t.length-1)!==r.charAt(r.length-1)||-1===t.indexOf(r));)!n&&t.length<10&&(0===t.indexOf("<![if")?(r="<![endif]>",n=!0):0===t.indexOf("<![cdata[")?(r="]]>",n=!0):0===t.indexOf("<![")?(r="]>",n=!0):0===t.indexOf("\x3c!--")?(r="--\x3e",n=!0):0===t.indexOf("{{!--")?(r="--}}",n=!0):0===t.indexOf("{{!")?5===t.length&&-1===t.indexOf("{{!--")&&(r="}}",n=!0):0===t.indexOf("<?")?(r="?>",n=!0):0===t.indexOf("<%")&&(r="%>",n=!0)),i=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var r="",n="",i=!0,o=function(e){var t="";return{add:function(r){var n=t+r.toLowerCase();t=n.length<=e.length?n:n.substr(n.length-e.length,e.length)},doesNotMatch:function(){return-1===t.indexOf(e)}}}(e);do{if(this.pos>=this.input.length)return n;if(r=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(r,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"===r||"\r"===r){n+="\n",this.line_char_count=0;continue}}n+=r,o.add(r),this.line_char_count++,i=!0,b&&"{"===r&&n.length&&"{"===n.charAt(n.length-2)&&(n+=this.get_unformatted("}}"))}while(o.doesNotMatch());return n},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var r=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(r&&!this.Utils.in_array(r[1],t))},this.printer=function(e,t,r,n,i){this.input=e||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=r,this.brace_style=i,this.indent_level=0,this.wrap_line_length=n,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!==t[t.length-1])&&("\n"!==t[t.length-1]&&(t[t.length-1]=rtrim(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=e.replace(/^\s+/g,"")),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=rtrim(e)),e&&""!==e&&(e.length>1&&"\n"===e.charAt(e.length-1)?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(e,h,f,p,d);;){var n=s.get_token();if(s.token_text=n[0],s.token_type=n[1],"TK_EOF"===s.token_type)break;switch(s.token_type){case"TK_TAG_START":s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(!s.indent_body_inner_html&&s.token_text.match(/<body(?:.*)>/)||!s.indent_head_inner_html&&s.token_text.match(/<head(?:.*)>/)||s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===s.last_token&&""===s.last_text){var o=(s.token_text.match(/\w+/)||[])[0],a=null;s.output.length&&(a=s.output[s.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===a||a[1]!==o&&!s.Utils.in_array(a[1],y))&&s.print_newline(!1,s.output)}s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var _=s.token_text.match(/^\s*<([a-z-]+)/i);_&&s.Utils.in_array(_[1],y)||s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var x=!1,k=s.output.length-1;k>=0&&"\n"!==s.output[k];k--)if(s.output[k].match(/{{#if/)){x=!0;break}x||s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==s.token_text){s.print_newline(!1,s.output);var R,P=s.token_text,D=1;"TK_SCRIPT"===s.token_type?R="function"==typeof r&&r:"TK_STYLE"===s.token_type&&(R="function"==typeof i&&i),"keep"===t.indent_scripts?D=0:"separate"===t.indent_scripts&&(D=-s.indent_level);var M=s.get_full_indent(D);if(R){var F=function(){this.eol="\n"};F.prototype=t;var N=new F;P=R(P.replace(/^\s*/,M),N)}else{var I=P.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(s.indent_string).length-1,j=s.get_full_indent(D-I);P=P.replace(/^\s*/,M).replace(/\r\n|\r|\n/g,"\n"+j).replace(/\s+$/,"")}P&&(s.print_token_raw(P),s.print_newline(!0,s.output))}s.current_mode="TAG";break;default:""!==s.token_text&&s.print_token(s.token_text)}s.last_token=s.token_type,s.last_text=s.token_text}var L=s.output.join("").replace(/[\r\n\t ]+$/,"");return O&&(L+="\n"),"\n"!==A&&(L=L.replace(/[\n]/g,A)),L}}},function(e,t){var r="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",n=new RegExp("["+r+"]"),i=new RegExp("["+r+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&n.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function(e,t){var r,n={};for(r in e)r!==t&&(n[r]=e[r]);if(t in e)for(r in e[t])n[r]=e[t][r];return n}},function(e,t,r){var n=r(0).Beautifier;e.exports=function(e,t,r,i){return new n(e,t,r,i).beautify()}}]),n=[r,r("Kuu2"),r("8yyG")],void 0===(i=(function(e){var t=r("Kuu2"),n=r("8yyG");return{html_beautify:function(e,r){return o(e,r,t.js_beautify,n.css_beautify)}}}).apply(t,n))||(e.exports=i)},ZrAa:function(e,t,r){var n=r("9R9K"),i=e.exports;i.repeat=function(e,t){var r,n=Array(t);for(r=0;r<t;++r)n[r]=e;return n},i.zeros=function(e){return i.repeat(0,e)},i.range=function(e,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=e,e=0)),(t-e)/r==1/0)throw new Error("Infinite range");var n,i=[],o=-1;if(r<0)for(;(n=e+r*++o)>t;)i.push(n);else for(;(n=e+r*++o)<t;)i.push(n);return i},i.random={},i.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var r=t-e,n=function(){return e+r*Math.random()};return n.samples=function(e){return i.zeros(e).map(n)},n.pdf=function(n){return n>=e&&n<=t?1/r:0},n.cdf=function(n){return n<e?0:n>t?1:(n-e)/r},n.icdf=function(t){return t>=0&&t<=1?e+t*r:NaN},n},i.random.integer=function(e,t){void 0===t&&(t=e,e=0);var r=t-e,n=function(){return e+Math.floor(r*Math.random())};return n.samples=function(e){return i.zeros(e).map(n)},n.pdf=function(n){return n===Math.floor(n)&&n>=e&&n<t?1/r:0},n.cdf=function(n){var i=Math.floor(n);return i<e?0:i>=t?1:(i-e+1)/r},n.icdf=function(t){return t>=0&&t<=1?e-1+Math.floor(t*r):NaN},n},i.random.normal=function(e,t){var r;e=e||0,t=t||1;var n=function(){var n,i,o=0,a=0;if(void 0!==r)return o=r,r=void 0,o;do{n=(o=2*Math.random()-1)*o+(a=2*Math.random()-1)*a}while(0===n||n>1);return i=Math.sqrt(-2*Math.log(n)/n),r=e+a*i*t,e+o*i*t};return n.samples=function(e){return i.zeros(e).map(n)},n.pdf=function(r){var n=Math.exp(Math.pow(r-e,2)/(-2*Math.pow(t,2)));return 1/(t*Math.sqrt(2*Math.PI))*n},n.cdf=function(r){var n,i=(r-e)/t,o=Math.abs(i);if(o>37)n=0;else{var a=Math.exp(-o*o/2);o<7.07106781186547?(n=a*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),n/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):n=a/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return i>0?1-n:n},n.icdf=function(r){if(r<=0||r>=1)return NaN;var n=2*r-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),o=2/(Math.PI*i)+Math.log(1-Math.pow(n,2))/2,a=Math.log(1-n*n)/i,s=(n>0?1:-1)*Math.sqrt(Math.sqrt(o*o-a)-o);return e+t*Math.SQRT2*s},n},i.random.bootstrap=function(e,t){var r=e.filter(n.isValid),o=r.length,a=t?i.random.normal(0,t):null,s=function(){return r[~~(Math.random()*o)]+(a?a():0)};return s.samples=function(e){return i.zeros(e).map(s)},s}},ZrrW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("xS0M"),i=function(){function DataSort(e,t){this._field=e,this._order=t||n.SortOrder.ASC}return Object.defineProperty(DataSort.prototype,"type",{get:function(){return n.SortType.DATA},enumerable:!0,configurable:!0}),Object.defineProperty(DataSort.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(DataSort.prototype,"order",{get:function(){return this._order},enumerable:!0,configurable:!0}),DataSort}();t.DataSort=i},Zt7E:function(e,t,r){(function(t,r){var n;n=function(){"use strict";function isFunction(e){return"function"==typeof e}var e=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,i=void 0,o=void 0,a=function(e,t){h[n]=e,h[n+1]=t,2===(n+=2)&&(o?o(flush):m())};var s="undefined"!=typeof window?window:void 0,u=s||{},l=u.MutationObserver||u.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function useSetTimeout(){var e=setTimeout;return function(){return e(flush,1)}}var h=new Array(1e3);function flush(){for(var e=0;e<n;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}n=0}var p,d,y,g,m=void 0;function then(e,t){var r=this,n=new this.constructor(noop);void 0===n[v]&&makePromise(n);var i=r._state;if(i){var o=arguments[i-1];a(function(){return invokeCallback(i,n,o,r._result)})}else subscribe(r,n,e,t);return n}function resolve$1(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(noop);return resolve(t,e),t}c?m=function(){return t.nextTick(flush)}:l?(d=0,y=new l(flush),g=document.createTextNode(""),y.observe(g,{characterData:!0}),m=function(){g.data=d=++d%2}):f?((p=new MessageChannel).port1.onmessage=flush,m=function(){return p.port2.postMessage(0)}):m=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(flush)}:useSetTimeout()}catch(e){return useSetTimeout()}}():useSetTimeout();var v=Math.random().toString(36).substring(2);function noop(){}var b=void 0,_=1,w=2,S={error:null};function getThen(e){try{return e.then}catch(e){return S.error=e,S}}function handleMaybeThenable(e,t,r){t.constructor===e.constructor&&r===then&&t.constructor.resolve===resolve$1?function(e,t){t._state===_?fulfill(e,t._result):t._state===w?reject(e,t._result):subscribe(t,void 0,function(t){return resolve(e,t)},function(t){return reject(e,t)})}(e,t):r===S?(reject(e,S.error),S.error=null):void 0===r?fulfill(e,t):isFunction(r)?function(e,t,r){a(function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?resolve(e,r):fulfill(e,r))},function(t){n||(n=!0,reject(e,t))},e._label);!n&&i&&(n=!0,reject(e,i))},e)}(e,t,r):fulfill(e,t)}function resolve(e,t){var r,n;e===t?reject(e,new TypeError("You cannot resolve a promise with itself")):(n=typeof(r=t),null===r||"object"!==n&&"function"!==n?fulfill(e,t):handleMaybeThenable(e,t,getThen(t)))}function publishRejection(e){e._onerror&&e._onerror(e._result),publish(e)}function fulfill(e,t){e._state===b&&(e._result=t,e._state=_,0!==e._subscribers.length&&a(publish,e))}function reject(e,t){e._state===b&&(e._state=w,e._result=t,a(publishRejection,e))}function subscribe(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+_]=r,i[o+w]=n,0===o&&e._state&&a(publish,e)}function publish(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?invokeCallback(r,n,i,o):i(o);e._subscribers.length=0}}function invokeCallback(e,t,r,n){var i=isFunction(r),o=void 0,a=void 0,s=void 0,u=void 0;if(i){if((o=function(e,t){try{return e(t)}catch(e){return S.error=e,S}}(r,n))===S?(u=!0,a=o.error,o.error=null):s=!0,t===o)return void reject(t,new TypeError("A promises callback cannot return that same promise."))}else o=n,s=!0;t._state!==b||(i&&s?resolve(t,o):u?reject(t,a):e===_?fulfill(t,o):e===w&&reject(t,o))}var E=0;function makePromise(e){e[v]=E++,e._state=void 0,e._result=void 0,e._subscribers=[]}var C=function(){function Enumerator(t,r){this._instanceConstructor=t,this.promise=new t(noop),this.promise[v]||makePromise(this.promise),e(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&fulfill(this.promise,this._result))):reject(this.promise,new Error("Array Methods must be provided an Array"))}return Enumerator.prototype._enumerate=function(e){for(var t=0;this._state===b&&t<e.length;t++)this._eachEntry(e[t],t)},Enumerator.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===resolve$1){var i=getThen(e);if(i===then&&e._state!==b)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===O){var o=new r(noop);handleMaybeThenable(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},Enumerator.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===b&&(this._remaining--,e===w?reject(n,r):this._result[t]=r),0===this._remaining&&fulfill(n,this._result)},Enumerator.prototype._willSettleAt=function(e,t){var r=this;subscribe(e,void 0,function(e){return r._settledAt(_,t,e)},function(e){return r._settledAt(w,t,e)})},Enumerator}();var O=function(){function Promise(e){this[v]=E++,this._result=this._state=void 0,this._subscribers=[],noop!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Promise?function(e,t){try{t(function(t){resolve(e,t)},function(t){reject(e,t)})}catch(t){reject(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Promise.prototype.catch=function(e){return this.then(null,e)},Promise.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},Promise}();return O.prototype.then=then,O.all=function(e){return new C(this,e).promise},O.race=function(t){var r=this;return e(t)?new r(function(e,n){for(var i=t.length,o=0;o<i;o++)r.resolve(t[o]).then(e,n)}):new r(function(e,t){return t(new TypeError("You must pass an array to race."))})},O.resolve=resolve$1,O.reject=function(e){var t=new this(noop);return reject(t,e),t},O._setScheduler=function(e){o=e},O._setAsap=function(e){a=e},O._asap=a,O.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=O},O.Promise=O,O},e.exports=n()}).call(t,r("pBGv"),r("h6ac"))},"a/3V":function(e,t,r){"use strict";var n=r("DRWY"),i=r("xvKj");n.Observable.fromPromise=i.fromPromise},a2dV:function(e,t,r){"use strict";var n=r("724K");t.takeUntil=function(e){return n.takeUntil(e)(this)}},a7OZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Bar="Bar",e.Line="Line",e.Area="Area",e.Square="Square",e.Circle="Circle",e.Shape="Shape",e.Text="Text",e.Map="Map",e.Pie="Pie",e.Donut="Donut",e.TotalArea="TotalArea"}(t.MarkType||(t.MarkType={}))},aTxA:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var r=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},aYtU:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function RangeObservable(t,r,n){e.call(this),this.start=t,this._count=r,this.scheduler=n}return n(RangeObservable,e),RangeObservable.create=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=0),new RangeObservable(e,t,r)},RangeObservable.dispatch=function(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))},RangeObservable.prototype._subscribe=function(e){var t=0,r=this.start,n=this._count,i=this.scheduler;if(i)return i.schedule(RangeObservable.dispatch,0,{index:t,count:n,start:r,subscriber:e});for(;;){if(t++>=n){e.complete();break}if(e.next(r++),e.closed)break}},RangeObservable}(r("DRWY").Observable);t.RangeObservable=i},abP1:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("Wvrh"),o=r("iHJ/"),a=function(e){function AnimationFrameAction(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(AnimationFrameAction,e),AnimationFrameAction.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=o.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},AnimationFrameAction.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),t.scheduled=void 0)},AnimationFrameAction}(i.AsyncAction);t.AnimationFrameAction=a},amw2:function(e,t,r){var n=r("G9fc");e.exports={json:r("F7ET"),topojson:r("fnJh"),treejson:r("xpuh"),dsv:n,csv:n.delimiter(","),tsv:n.delimiter("\t")}},aoHn:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Bg76");n.Observable.prototype.concatMapTo=i.concatMapTo},avVY:function(e,t,r){var n,i,o,a;a=function(e,t){"use strict";var r,n=(r=t)&&r.__esModule?r:{default:r};var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=function(){function ClipboardAction(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClipboardAction),this.resolveOptions(e),this.initSelection()}return o(ClipboardAction,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),ClipboardAction}();e.exports=a},i=[e,r("e0PD")],void 0===(o="function"==typeof(n=a)?n.apply(t,i):n)||(e.exports=o)},ayiE:function(e,t,r){"use strict";var n=r("NZZi");t._catch=function(e){return n.catchError(e)(this)}},"b/Yl":function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("CsEb"),o=r("UT3o"),a=r("LGJh"),s=r("+8et");t.delay=function(e,t){void 0===t&&(t=i.async);var r=o.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(r,t))}};var u=function(){function DelayOperator(e,t){this.delay=e,this.scheduler=t}return DelayOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},DelayOperator}(),l=function(e){function DelaySubscriber(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(DelaySubscriber,e),DelaySubscriber.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else t.active=!1},DelaySubscriber.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},DelaySubscriber.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new c(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},DelaySubscriber.prototype._next=function(e){this.scheduleNotification(s.Notification.createNext(e))},DelaySubscriber.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},DelaySubscriber.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete())},DelaySubscriber}(a.Subscriber),c=function(){return function(e,t){this.time=e,this.notification=t}}()},"b07/":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Stack(t,r,n){var i=e.call(this)||this;return i._groupby=t,i._field=r,i._sortby=n||[],i}return i(Stack,e),Object.defineProperty(Stack.prototype,"groupby",{get:function(){return this._groupby},enumerable:!0,configurable:!0}),Object.defineProperty(Stack.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(Stack.prototype,"sortby",{get:function(){return this._sortby},enumerable:!0,configurable:!0}),Stack.prototype.compile=function(){var e={type:"stack",groupby:this.groupby,field:this.field};return this.sortby.length>0&&(e.sortby=this.sortby),e},Stack}(r("3Txa").Transform);t.Stack=o},b0ch:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("/UoH"),i=function(){function Group(){this._pane=new n.Alignment,this._header=new n.Alignment}return Object.defineProperty(Group.prototype,"pane",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(Group.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),Group}();t.Group=i},b28y:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function HAxes(t,r,n){var i=e.call(this,t,r,null,n)||this;return i._axes=new Array,i}return i(HAxes,e),Object.defineProperty(HAxes.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),HAxes.prototype.getWidth=function(){return 120},HAxes.prototype.getHeight=function(){return 55},HAxes.prototype.addAxis=function(e){this.axes.push(e)},HAxes.prototype.getYProp=function(){return{value:0}},HAxes.prototype.getXProp=function(){return{value:0}},HAxes.prototype.getWidthProp=function(){return{field:{group:"width"}}},HAxes.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.axes;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},HAxes}(r("v4Ul").CHead);t.HAxes=o},b4iQ:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("veqC");t.ignoreElements=function(){return function(e){return e.lift(new a)}};var a=function(){function IgnoreElementsOperator(){}return IgnoreElementsOperator.prototype.call=function(e,t){return t.subscribe(new s(e))},IgnoreElementsOperator}(),s=function(e){function IgnoreElementsSubscriber(){e.apply(this,arguments)}return n(IgnoreElementsSubscriber,e),IgnoreElementsSubscriber.prototype._next=function(e){o.noop()},IgnoreElementsSubscriber}(i.Subscriber)},b7E1:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Lookup(t,r,n,i){var o=e.call(this)||this;return o._on=t,o._onKey=r,o._keys=n,o._alias=i,o}return i(Lookup,e),Object.defineProperty(Lookup.prototype,"on",{get:function(){return this._on},enumerable:!0,configurable:!0}),Object.defineProperty(Lookup.prototype,"onKey",{get:function(){return this._onKey},enumerable:!0,configurable:!0}),Object.defineProperty(Lookup.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),Object.defineProperty(Lookup.prototype,"alias",{get:function(){return this._alias},enumerable:!0,configurable:!0}),Lookup.prototype.compile=function(){return{type:"lookup",on:this.on,onKey:this.onKey,keys:this.keys,as:this.alias}},Lookup}(r("3Txa").Transform);t.Lookup=o},b9Qa:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function PLine(t,r){var n=e.call(this,a.MarkType.LINE)||this;return n._table=t,n._marks=r,n._y={scale:r.yScaleName,field:r.yAlias},n._y2={scale:r.yScaleName,value:0},n._x={scale:r.xScaleName,field:r.xAlias},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n}return i(PLine,e),Object.defineProperty(PLine.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(PLine.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(PLine.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(PLine.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(PLine.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(PLine.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),PLine.prototype.getProperties=function(){return{enter:{y:this.y,y2:this.y2,x:this.x,stroke:this.color,strokeWidth:this.size,strokeCap:this.strokeCap}}},PLine}(o.Mark);t.PLine=s},b9YZ:function(e,t,r){"use strict";var n=r("P23m"),i=r("le+B"),o=r("CoUi"),a=r("I/Nv");t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&n.isScheduler(e[1])?o.from(e[0]):a.concatAll()(i.of.apply(void 0,e))}},bAnR:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Rank(t){var r=e.call(this)||this;return r._field=t,r}return i(Rank,e),Object.defineProperty(Rank.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Rank.prototype.compile=function(){return{type:"rank",field:this.field}},Rank}(r("3Txa").Transform);t.Rank=o},bDvD:function(e,t,r){"use strict";var n=r("DRWY"),i=r("HHJp");n.Observable.prototype.sample=i.sample},bIfK:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("1IBE"),o=r("5UgM"),a=r("EIUo"),s=r("k+FJ");t.audit=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function AuditOperator(e){this.durationSelector=e}return AuditOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.durationSelector))},AuditOperator}(),l=function(e){function AuditSubscriber(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return n(AuditSubscriber,e),AuditSubscriber.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=i.tryCatch(this.durationSelector)(e);if(t===o.errorObject)this.destination.error(o.errorObject.e);else{var r=s.subscribeToResult(this,t);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},AuditSubscriber.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},AuditSubscriber.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},AuditSubscriber.prototype.notifyComplete=function(){this.clearThrottle()},AuditSubscriber}(a.OuterSubscriber)},bUkI:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PMPane(t,r,n){var i=e.call(this,"vm-"+n.yAlias,r)||this;return i._table=t,i._marks=n,i._xScale=n.buildXScale(),i._yScale=n.buildYScale(),i._colorScale=n.buildColorScale(),i._sizeScale=n.buildSizeScale(),i}return i(PMPane,e),Object.defineProperty(PMPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(PMPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(PMPane.prototype,"xScale",{get:function(){return this._xScale},enumerable:!0,configurable:!0}),Object.defineProperty(PMPane.prototype,"yScale",{get:function(){return this._yScale},enumerable:!0,configurable:!0}),Object.defineProperty(PMPane.prototype,"colorScale",{get:function(){return this._colorScale},enumerable:!0,configurable:!0}),Object.defineProperty(PMPane.prototype,"sizeScale",{get:function(){return this._sizeScale},enumerable:!0,configurable:!0}),PMPane.prototype.getScales=function(){var t=e.prototype.getScales.call(this);return t.push(this.xScale.compile()),t.push(this.yScale.compile()),t.push(this.colorScale.compile()),t.push(this.sizeScale.compile()),t},PMPane.prototype.getProperties=function(){return{enter:{x:{field:"tcols.layout_start"},y:{field:"trows.layout_start"},width:{field:"tcols.layout_width"},height:{field:"trows.layout_height"}}}},PMPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.marks.marks;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},PMPane}(r("pkpF").Group);t.PMPane=o},bexz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},i=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],o=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],a=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},u="fullscreenEnabled"in s&&Object.keys(n)||i[0]in s&&i||o[0]in s&&o||a[0]in s&&a||[];t.default={requestFullscreen:function(e){return e[u[n.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[u[n.requestFullscreen]]},get exitFullscreen(){return s[u[n.exitFullscreen]].bind(s)},addEventListener:function(e,t,r){return s.addEventListener(u[n[e]],t,r)},removeEventListener:function(e,t,r){return s.removeEventListener(u[n[e]],t,r)},get fullscreenEnabled(){return Boolean(s[u[n.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[u[n.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+u[n.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+u[n.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+u[n.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+u[n.fullscreenerror]).toLowerCase()]=e}}},"bl/5":function(e,t,r){var n;n=function(){return function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,r){"use strict";var n=r(1);e.exports=n.default},function(e,t,r){"use strict";var n=r(2),i=r(9),o=r(23),a=r(38),s=r(39),u=r(40),l=r(12),c=r(5),f=r(62),h=r(8),p=r(42),d=function(){function Pusher(e,t){var r=this;!function(e){if(null===e||void 0===e)throw"You must pass your app key when you instantiate Pusher."}(e),t=t||{},this.key=e,this.config=i.extend(f.getGlobalConfig(),t.cluster?f.getClusterConfig(t.cluster):{},t),this.channels=p.default.createChannels(),this.global_emitter=new o.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new a.default(this.key,this.sessionID,{cluster:this.config.cluster,features:Pusher.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:s.default.INFO,version:c.default.VERSION}),this.config.disableStats||(this.timelineSender=p.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+n.default.TimelineTransport.name}));this.connection=p.default.createConnectionManager(this.key,i.extend({getStrategy:function(e){var t=i.extend({},r.config,e);return u.build(n.default.getDefaultStrategy(t),t)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isEncrypted())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=r.channel(e.channel);n&&n.handleEvent(e.event,e.data)}t||r.global_emitter.emit(e.event,e.data)}),this.connection.bind("connecting",function(){r.channels.disconnect()}),this.connection.bind("disconnected",function(){r.channels.disconnect()}),this.connection.bind("error",function(e){h.default.warn("Error",e)}),Pusher.instances.push(this),this.timeline.info({instances:Pusher.instances.length}),Pusher.isReady&&this.connect()}return Pusher.ready=function(){Pusher.isReady=!0;for(var e=0,t=Pusher.instances.length;e<t;e++)Pusher.instances[e].connect()},Pusher.log=function(e){Pusher.logToConsole&&window.console&&window.console.log&&window.console.log(e)},Pusher.getClientFeatures=function(){return i.keys(i.filterObject({ws:n.default.Transports.ws},function(e){return e.isSupported({})}))},Pusher.prototype.channel=function(e){return this.channels.find(e)},Pusher.prototype.allChannels=function(){return this.channels.all()},Pusher.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isEncrypted(),t=this.timelineSender;this.timelineSenderTimer=new l.PeriodicTimer(6e4,function(){t.send(e)})}},Pusher.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},Pusher.prototype.bind=function(e,t){return this.global_emitter.bind(e,t),this},Pusher.prototype.unbind=function(e,t){return this.global_emitter.unbind(e,t),this},Pusher.prototype.bind_all=function(e){return this.global_emitter.bind_all(e),this},Pusher.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},Pusher.prototype.subscribe=function(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t},Pusher.prototype.unsubscribe=function(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&"connected"===this.connection.state&&t.unsubscribe()},Pusher.prototype.send_event=function(e,t,r){return this.connection.send_event(e,t,r)},Pusher.prototype.isEncrypted=function(){return"https:"===n.default.getProtocol()||Boolean(this.config.encrypted)},Pusher.instances=[],Pusher.isReady=!1,Pusher.logToConsole=!1,Pusher.Runtime=n.default,Pusher.ScriptReceivers=n.default.ScriptReceivers,Pusher.DependenciesReceivers=n.default.DependenciesReceivers,Pusher.auth_callbacks=n.default.auth_callbacks,Pusher}();t.__esModule=!0,t.default=d,n.default.setup(d)},function(e,t,r){"use strict";var n=r(3),i=r(7),o=r(14),a=r(15),s=r(16),u=r(4),l=r(17),c=r(18),f=r(25),h=r(26),p=r(27),d=r(28),y={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:n.DependenciesReceivers,getDefaultStrategy:h.default,Transports:c.default,transportConnectionInitializer:p.default,HTTPFactory:d.default,TimelineTransport:l.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var r=function(){t.onDocumentBody(e.ready)};window.JSON?r():n.Dependencies.load("json2",{},r)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:i.default,jsonp:o.default}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new s.default(e,t)},createScriptRequest:function(e){return new a.default(e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return f.Network},createWebSocket:function(e){return new(this.getWebSocketAPI())(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",r=this.getProtocol();return Boolean(window.XDomainRequest)&&r===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)}};t.__esModule=!0,t.default=y},function(e,t,r){"use strict";var n=r(4),i=r(5),o=r(6);t.DependenciesReceivers=new n.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),t.Dependencies=new o.default({cdn_http:i.default.cdn_http,cdn_https:i.default.cdn_https,version:i.default.VERSION,suffix:i.default.dependency_suffix,receivers:t.DependenciesReceivers})},function(e,t){"use strict";var r=function(){function ScriptReceiverFactory(e,t){this.lastId=0,this.prefix=e,this.name=t}return ScriptReceiverFactory.prototype.create=function(e){this.lastId++;var t=this.lastId,r=this.prefix+t,n=this.name+"["+t+"]",i=!1,o=function(){i||(e.apply(null,arguments),i=!0)};return this[t]=o,{number:t,id:r,name:n,callback:o}},ScriptReceiverFactory.prototype.remove=function(e){delete this[e.number]},ScriptReceiverFactory}();t.ScriptReceiverFactory=r,t.ScriptReceivers=new r("_pusher_script_","Pusher.ScriptReceivers")},function(e,t){"use strict";t.__esModule=!0,t.default={VERSION:"3.2.4",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(e,t,r){"use strict";var n=r(4),i=r(2),o=function(){function DependencyLoader(e){this.options=e,this.receivers=e.receivers||n.ScriptReceivers,this.loading={}}return DependencyLoader.prototype.load=function(e,t,r){var n=this;if(n.loading[e]&&n.loading[e].length>0)n.loading[e].push(r);else{n.loading[e]=[r];var o=i.default.createScriptRequest(n.getPath(e,t)),a=n.receivers.create(function(t){if(n.receivers.remove(a),n.loading[e]){var r=n.loading[e];delete n.loading[e];for(var i=function(e){e||o.cleanup()},s=0;s<r.length;s++)r[s](t,i)}});o.send(a)}},DependencyLoader.prototype.getRoot=function(e){var t=i.default.getDocument().location.protocol;return(e&&e.encrypted||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},DependencyLoader.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},DependencyLoader}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(8),i=r(2);t.__esModule=!0,t.default=function(e,t,r){var o;for(var a in(o=i.default.createXHR()).open("POST",this.options.authEndpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)o.setRequestHeader(a,this.authOptions.headers[a]);return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e,t=!1;try{e=JSON.parse(o.responseText),t=!0}catch(e){r(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+o.responseText)}t&&r(!1,e)}else n.default.warn("Couldn't get auth info from your webapp",o.status),r(!0,o.status)},o.send(this.composeQuery(t)),o}},function(e,t,r){"use strict";var n=r(9),i=r(1),o={debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];i.default.log&&i.default.log(n.stringify.apply(this,arguments))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=n.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(r):window.console.log&&window.console.log(r)),i.default.log&&i.default.log(r)}};t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(10),i=r(11);function objectApply(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}function map(e,t){for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n,e,r));return r}function mapObject(e,t){var r={};return objectApply(e,function(e,n){r[n]=t(e)}),r}function filterObject(e,t){var r={};return objectApply(e,function(n,i){(t&&t(n,i,e,r)||Boolean(n))&&(r[i]=n)}),r}function flatten(e){var t=[];return objectApply(e,function(e,r){t.push([r,e])}),t}function encodeParamsObject(e){return mapObject(e,function(e){return"object"==typeof e&&(e=safeJSONStringify(e)),encodeURIComponent(n.default(e.toString()))})}function decycleObject(e){var t=[],r=[];return function derez(e,n){var i,o,a;switch(typeof e){case"object":if(!e)return null;for(i=0;i<t.length;i+=1)if(t[i]===e)return{$ref:r[i]};if(t.push(e),r.push(n),"[object Array]"===Object.prototype.toString.apply(e))for(a=[],i=0;i<e.length;i+=1)a[i]=derez(e[i],n+"["+i+"]");else for(o in a={},e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=derez(e[o],n+"["+JSON.stringify(o)+"]"));return a;case"number":case"string":case"boolean":return e}}(e,"$")}function safeJSONStringify(e){try{return JSON.stringify(e)}catch(t){return JSON.stringify(decycleObject(e))}}t.extend=function extend(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var i=t[n];for(var o in i)i[o]&&i[o].constructor&&i[o].constructor===Object?e[o]=extend(e[o]||{},i[o]):e[o]=i[o]}return e},t.stringify=function(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(safeJSONStringify(arguments[t]));return e.join(" : ")},t.arrayIndexOf=function(e,t){var r=Array.prototype.indexOf;if(null===e)return-1;if(r&&e.indexOf===r)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},t.objectApply=objectApply,t.keys=function(e){var t=[];return objectApply(e,function(e,r){t.push(r)}),t},t.values=function(e){var t=[];return objectApply(e,function(e){t.push(e)}),t},t.apply=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r||window,e[n],n,e)},t.map=map,t.mapObject=mapObject,t.filter=function(e,t){t=t||function(e){return!!e};for(var r=[],n=0;n<e.length;n++)t(e[n],n,e,r)&&r.push(e[n]);return r},t.filterObject=filterObject,t.flatten=flatten,t.any=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1},t.all=function(e,t){for(var r=0;r<e.length;r++)if(!t(e[r],r,e))return!1;return!0},t.encodeParamsObject=encodeParamsObject,t.buildQueryString=function(e){return map(flatten(encodeParamsObject(filterObject(e,function(e){return void 0!==e}))),i.default.method("join","=")).join("&")},t.decycleObject=decycleObject,t.safeJSONStringify=safeJSONStringify},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return f(l(e))};for(var n=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={},a=0,s=i.length;a<s;a++)o[i.charAt(a)]=a;var u=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?n(192|t>>>6)+n(128|63&t):n(224|t>>>12&15)+n(128|t>>>6&63)+n(128|63&t)},l=function(e){return e.replace(/[^\x00-\x7F]/g,u)},c=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[i.charAt(r>>>18),i.charAt(r>>>12&63),t>=2?"=":i.charAt(r>>>6&63),t>=1?"=":i.charAt(63&r)].join("")},f=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,c)}},function(e,t,r){"use strict";var n=r(12),i={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new n.OneOffTimer(0,e)},method:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,n.concat(arguments))}}};t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(13);function clearTimeout(e){window.clearTimeout(e)}function clearInterval(e){window.clearInterval(e)}var o=function(e){function OneOffTimer(t,r){e.call(this,setTimeout,clearTimeout,t,function(e){return r(),null})}return n(OneOffTimer,e),OneOffTimer}(i.default);t.OneOffTimer=o;var a=function(e){function PeriodicTimer(t,r){e.call(this,setInterval,clearInterval,t,function(e){return r(),e})}return n(PeriodicTimer,e),PeriodicTimer}(i.default);t.PeriodicTimer=a},function(e,t){"use strict";var r=function(){function Timer(e,t,r,n){var i=this;this.clear=t,this.timer=e(function(){i.timer&&(i.timer=n(i.timer))},r)}return Timer.prototype.isRunning=function(){return null!==this.timer},Timer.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Timer}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var n=r(8);t.__esModule=!0,t.default=function(e,t,r){void 0!==this.authOptions.headers&&n.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var o=e.getDocument(),a=o.createElement("script");e.auth_callbacks[i]=function(e){r(!1,e)};var s="Pusher.auth_callbacks['"+i+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(t);var u=o.getElementsByTagName("head")[0]||o.documentElement;u.insertBefore(a,u.firstChild)}},function(e,t){"use strict";var r=function(){function ScriptRequest(e){this.src=e}return ScriptRequest.prototype.send=function(e){var t=this,r="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(r)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+r+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var n=document.getElementsByTagName("head")[0];n.insertBefore(t.script,n.firstChild),t.errorScript&&n.insertBefore(t.errorScript,t.script.nextSibling)},ScriptRequest.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},ScriptRequest}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var n=r(9),i=r(2),o=function(){function JSONPRequest(e,t){this.url=e,this.data=t}return JSONPRequest.prototype.send=function(e){if(!this.request){var t=n.buildQueryString(this.data),r=this.url+"/"+e.number+"?"+t;this.request=i.default.createScriptRequest(r),this.request.send(e)}},JSONPRequest.prototype.cleanup=function(){this.request&&this.request.cleanup()},JSONPRequest}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(2),i=r(4),o={name:"jsonp",getAgent:function(e,t){return function(r,o){var a="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,s=n.default.createJSONPRequest(a,r),u=n.default.ScriptReceivers.create(function(t,r){i.ScriptReceivers.remove(u),s.cleanup(),r&&r.host&&(e.host=r.host),o&&o(t,r)});s.send(u)}}};t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(19),i=r(21),o=r(20),a=r(2),s=r(3),u=r(9),l=new i.default({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:s.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),c={isSupported:function(e){return a.default.isXDRSupported(e.encrypted)}},f=new i.default(u.extend({},n.streamingConfiguration,c)),h=new i.default(u.extend({},n.pollingConfiguration,c));n.default.xdr_streaming=f,n.default.xdr_polling=h,n.default.sockjs=l,t.__esModule=!0,t.default=n.default},function(e,t,r){"use strict";var n=r(20),i=r(21),o=r(9),a=r(2),s=new i.default({urls:n.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a.default.getWebSocketAPI())},isSupported:function(){return Boolean(a.default.getWebSocketAPI())},getSocket:function(e){return a.default.createWebSocket(e)}}),u={urls:n.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};t.streamingConfiguration=o.extend({getSocket:function(e){return a.default.HTTPFactory.createStreamingSocket(e)}},u),t.pollingConfiguration=o.extend({getSocket:function(e){return a.default.HTTPFactory.createPollingSocket(e)}},u);var l={isSupported:function(){return a.default.isXHRSupported()}},c={ws:s,xhr_streaming:new i.default(o.extend({},t.streamingConfiguration,l)),xhr_polling:new i.default(o.extend({},t.pollingConfiguration,l))};t.__esModule=!0,t.default=c},function(e,t,r){"use strict";var n=r(5);function getGenericURL(e,t,r){return e+(t.encrypted?"s":"")+"://"+(t.encrypted?t.hostEncrypted:t.hostUnencrypted)+r}function getGenericPath(e,t){return"/app/"+e+("?protocol="+n.default.PROTOCOL+"&client=js&version="+n.default.VERSION+(t?"&"+t:""))}t.ws={getInitial:function(e,t){return getGenericURL("ws",t,getGenericPath(e,"flash=false"))}},t.http={getInitial:function(e,t){return getGenericURL("http",t,(t.httpPath||"/pusher")+getGenericPath(e))}},t.sockjs={getInitial:function(e,t){return getGenericURL("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return getGenericPath(e)}}},function(e,t,r){"use strict";var n=r(22),i=function(){function Transport(e){this.hooks=e}return Transport.prototype.isSupported=function(e){return this.hooks.isSupported(e)},Transport.prototype.createConnection=function(e,t,r,i){return new n.default(this.hooks,e,t,r,i)},Transport}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(11),o=r(9),a=r(23),s=r(8),u=r(2),l=function(e){function TransportConnection(t,r,n,i,o){e.call(this),this.initialize=u.default.transportConnectionInitializer,this.hooks=t,this.name=r,this.priority=n,this.key=i,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}return n(TransportConnection,e),TransportConnection.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},TransportConnection.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},TransportConnection.prototype.connect=function(){var e=this;if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(t){return i.default.defer(function(){e.onError(t),e.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},TransportConnection.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},TransportConnection.prototype.send=function(e){var t=this;return"open"===this.state&&(i.default.defer(function(){t.socket&&t.socket.send(e)}),!0)},TransportConnection.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},TransportConnection.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},TransportConnection.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},TransportConnection.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},TransportConnection.prototype.onMessage=function(e){this.emit("message",e)},TransportConnection.prototype.onActivity=function(){this.emit("activity")},TransportConnection.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},TransportConnection.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},TransportConnection.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},TransportConnection.prototype.buildTimelineMessage=function(e){return o.extend({cid:this.id},e)},TransportConnection}(a.default);t.__esModule=!0,t.default=l},function(e,t,r){"use strict";var n=r(24),i=function(){function Dispatcher(e){this.callbacks=new n.default,this.global_callbacks=[],this.failThrough=e}return Dispatcher.prototype.bind=function(e,t,r){return this.callbacks.add(e,t,r),this},Dispatcher.prototype.bind_all=function(e){return this.global_callbacks.push(e),this},Dispatcher.prototype.unbind=function(e,t,r){return this.callbacks.remove(e,t,r),this},Dispatcher.prototype.unbind_all=function(e,t){return this.callbacks.remove(e,t),this},Dispatcher.prototype.emit=function(e,t){var r;for(r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](e,t);var n=this.callbacks.get(e);if(n&&n.length>0)for(r=0;r<n.length;r++)n[r].fn.call(n[r].context||window,t);else this.failThrough&&this.failThrough(e,t);return this},Dispatcher}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(9),i=function(){function CallbackRegistry(){this._callbacks={}}return CallbackRegistry.prototype.get=function(e){return this._callbacks[prefix(e)]},CallbackRegistry.prototype.add=function(e,t,r){var n=prefix(e);this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push({fn:t,context:r})},CallbackRegistry.prototype.remove=function(e,t,r){if(e||t||r){var i=e?[prefix(e)]:n.keys(this._callbacks);t||r?this.removeCallback(i,t,r):this.removeAllCallbacks(i)}else this._callbacks={}},CallbackRegistry.prototype.removeCallback=function(e,t,r){n.apply(e,function(e){this._callbacks[e]=n.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||r&&r!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)},CallbackRegistry.prototype.removeAllCallbacks=function(e){n.apply(e,function(e){delete this._callbacks[e]},this)},CallbackRegistry}();function prefix(e){return"_"+e}t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function NetInfo(){e.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}return n(NetInfo,e),NetInfo.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},NetInfo}(r(23).default);t.NetInfo=i,t.Network=new i},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t;return t=e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t,":http_fallback_loop"]]]]]}},function(e,t,r){"use strict";var n=r(3);t.__esModule=!0,t.default=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.encrypted?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),n.Dependencies.load(e.hooks.file,{encrypted:e.options.encrypted},function(t,r){e.hooks.isInitialized()?(e.changeState("initialized"),r(!0)):(t&&e.onError(t),e.onClose(),r(!1))})):e.onClose()}},function(e,t,r){"use strict";var n=r(29),i=r(31);i.default.createXDR=function(e,t){return this.createRequest(n.default,e,t)},t.__esModule=!0,t.default=i.default},function(e,t,r){"use strict";var n=r(30),i={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new n.RequestTimedOut),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};t.__esModule=!0,t.default=i},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=function(e){function BadEventName(){e.apply(this,arguments)}return r(BadEventName,e),BadEventName}(Error);t.BadEventName=n;var i=function(e){function RequestTimedOut(){e.apply(this,arguments)}return r(RequestTimedOut,e),RequestTimedOut}(Error);t.RequestTimedOut=i;var o=function(e){function TransportPriorityTooLow(){e.apply(this,arguments)}return r(TransportPriorityTooLow,e),TransportPriorityTooLow}(Error);t.TransportPriorityTooLow=o;var a=function(e){function TransportClosed(){e.apply(this,arguments)}return r(TransportClosed,e),TransportClosed}(Error);t.TransportClosed=a;var s=function(e){function UnsupportedTransport(){e.apply(this,arguments)}return r(UnsupportedTransport,e),UnsupportedTransport}(Error);t.UnsupportedTransport=s;var u=function(e){function UnsupportedStrategy(){e.apply(this,arguments)}return r(UnsupportedStrategy,e),UnsupportedStrategy}(Error);t.UnsupportedStrategy=u},function(e,t,r){"use strict";var n=r(32),i=r(33),o=r(35),a=r(36),s=r(37),u={createStreamingSocket:function(e){return this.createSocket(o.default,e)},createPollingSocket:function(e){return this.createSocket(a.default,e)},createSocket:function(e,t){return new i.default(e,t)},createXHR:function(e,t){return this.createRequest(s.default,e,t)},createRequest:function(e,t,r){return new n.default(e,t,r)}};t.__esModule=!0,t.default=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(2),o=function(e){function HTTPRequest(t,r,n){e.call(this),this.hooks=t,this.method=r,this.url=n}return n(HTTPRequest,e),HTTPRequest.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},i.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},HTTPRequest.prototype.close=function(){this.unloader&&(i.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},HTTPRequest.prototype.onChunk=function(e,t){for(;;){var r=this.advanceBuffer(t);if(!r)break;this.emit("chunk",{status:e,data:r})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},HTTPRequest.prototype.advanceBuffer=function(e){var t=e.slice(this.position),r=t.indexOf("\n");return-1!==r?(this.position+=r+1,t.slice(0,r)):null},HTTPRequest.prototype.isBufferTooLong=function(e){return this.position===e.length&&e.length>262144},HTTPRequest}(r(23).default);t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(34),i=r(11),o=r(2),a=1,s=function(){function HTTPSocket(e,t){this.hooks=e,this.session=randomNumber(1e3)+"/"+function(e){for(var t=[],r=0;r<e;r++)t.push(randomNumber(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=n.default.CONNECTING,this.openStream()}return HTTPSocket.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},HTTPSocket.prototype.ping=function(){this.hooks.sendHeartbeat(this)},HTTPSocket.prototype.close=function(e,t){this.onClose(e,t,!0)},HTTPSocket.prototype.sendRaw=function(e){if(this.readyState!==n.default.OPEN)return!1;try{return o.default.createSocketRequest("POST",getUniqueURL((t=this.location,r=this.session,t.base+"/"+r+"/xhr_send"))).start(e),!0}catch(e){return!1}var t,r},HTTPSocket.prototype.reconnect=function(){this.closeStream(),this.openStream()},HTTPSocket.prototype.onClose=function(e,t,r){this.closeStream(),this.readyState=n.default.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:r})},HTTPSocket.prototype.onChunk=function(e){var t;if(200===e.status)switch(this.readyState===n.default.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var r=0;r<t.length;r++)this.onEvent(t[r]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}},HTTPSocket.prototype.onOpen=function(e){var t,r,i;this.readyState===n.default.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,r=e.hostname,(i=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+r+i[3])),this.readyState=n.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},HTTPSocket.prototype.onEvent=function(e){this.readyState===n.default.OPEN&&this.onmessage&&this.onmessage({data:e})},HTTPSocket.prototype.onActivity=function(){this.onactivity&&this.onactivity()},HTTPSocket.prototype.onError=function(e){this.onerror&&this.onerror(e)},HTTPSocket.prototype.openStream=function(){var e=this;this.stream=o.default.createSocketRequest("POST",getUniqueURL(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(t){e.onChunk(t)}),this.stream.bind("finished",function(t){e.hooks.onFinished(e,t)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(t){i.default.defer(function(){e.onError(t),e.onClose(1006,"Could not start streaming",!1)})}},HTTPSocket.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},HTTPSocket}();function getUniqueURL(e){return e+(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+a++}function randomNumber(e){return Math.floor(Math.random()*e)}t.__esModule=!0,t.default=s},function(e,t){"use strict";var r;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(r||(r={})),t.__esModule=!0,t.default=r},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t,r){"use strict";var n=r(2),i={getRequest:function(e){var t=new(n.default.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}};t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(9),i=r(11),o=r(39),a=function(){function Timeline(e,t,r){this.key=e,this.session=t,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return Timeline.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(n.extend({},t,{timestamp:i.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},Timeline.prototype.error=function(e){this.log(o.default.ERROR,e)},Timeline.prototype.info=function(e){this.log(o.default.INFO,e)},Timeline.prototype.debug=function(e){this.log(o.default.DEBUG,e)},Timeline.prototype.isEmpty=function(){return 0===this.events.length},Timeline.prototype.send=function(e,t){var r=this,i=n.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(i,function(e,n){e||r.sent++,t&&t(e,n)}),!0},Timeline.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Timeline}();t.__esModule=!0,t.default=a},function(e,t){"use strict";var r;!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(r||(r={})),t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var n=r(9),i=r(11),o=r(41),a=r(30),s=r(55),u=r(56),l=r(57),c=r(58),f=r(59),h=r(60),p=r(61),d=r(2).default.Transports;t.build=function(e,t){return evaluate(e,n.extend({},g,t))[1].strategy};var y={isSupported:function(){return!1},connect:function(e,t){var r=i.default.defer(function(){t(new a.UnsupportedStrategy)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function returnWithOriginalContext(e){return function(t){return[e.apply(this,arguments),t]}}var g={extend:function(e,t,r){return[n.extend({},t,r),e]},def:function(e,t,r){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=r,[void 0,e]},def_transport:function(e,t,r,i,o,u){var l,c=d[r];if(!c)throw new a.UnsupportedTransport(r);l=!(e.enabledTransports&&-1===n.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==n.arrayIndexOf(e.disabledTransports,t))?new s.default(t,i,u?u.getAssistant(c):c,n.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},o)):y;var f=e.def(e,t,l)[1];return f.Transports=e.Transports||{},f.Transports[t]=l,[void 0,f]},transport_manager:returnWithOriginalContext(function(e,t){return new o.default(t)}),sequential:returnWithOriginalContext(function(e,t){var r=Array.prototype.slice.call(arguments,2);return new u.default(r,t)}),cached:returnWithOriginalContext(function(e,t,r){return new c.default(r,e.Transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})}),first_connected:returnWithOriginalContext(function(e,t){return new p.default(t)}),best_connected_ever:returnWithOriginalContext(function(){var e=Array.prototype.slice.call(arguments,1);return new l.default(e)}),delayed:returnWithOriginalContext(function(e,t,r){return new f.default(r,{delay:t})}),if:returnWithOriginalContext(function(e,t,r,n){return new h.default(t,r,n)}),is_supported:returnWithOriginalContext(function(e,t){return function(){return t.isSupported()}})};function isSymbol(e){return"string"==typeof e&&":"===e.charAt(0)}function getSymbolValue(e,t){return t[e.slice(1)]}function evaluateArray(e,t){if(isSymbol(e[0])){var r=getSymbolValue(e[0],t);if(e.length>1){if("function"!=typeof r)throw"Calling non-function "+e[0];var i=[n.extend({},t)].concat(n.map(e.slice(1),function(e){return evaluate(e,n.extend({},t))[0]}));return r.apply(this,i)}return[r,t]}return function evaluateListOfExpressions(e,t){if(0===e.length)return[[],t];var r=evaluate(e[0],t),n=evaluateListOfExpressions(e.slice(1),r[1]);return[[r[0]].concat(n[0]),n[1]]}(e,t)}function evaluate(e,t){return"string"==typeof e?function(e,t){if(!isSymbol(e))return[e,t];var r=getSymbolValue(e,t);if(void 0===r)throw"Undefined symbol "+e;return[r,t]}(e,t):"object"==typeof e&&e instanceof Array&&e.length>0?evaluateArray(e,t):[e,t]}},function(e,t,r){"use strict";var n=r(42),i=function(){function TransportManager(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return TransportManager.prototype.getAssistant=function(e){return n.default.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},TransportManager.prototype.isAlive=function(){return this.livesLeft>0},TransportManager.prototype.reportDeath=function(){this.livesLeft-=1},TransportManager}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(43),i=r(44),o=r(47),a=r(48),s=r(49),u=r(50),l=r(51),c=r(53),f=r(54),h={createChannels:function(){return new f.default},createConnectionManager:function(e,t){return new c.default(e,t)},createChannel:function(e,t){return new l.default(e,t)},createPrivateChannel:function(e,t){return new u.default(e,t)},createPresenceChannel:function(e,t){return new s.default(e,t)},createTimelineSender:function(e,t){return new a.default(e,t)},createAuthorizer:function(e,t){return new o.default(e,t)},createHandshake:function(e,t){return new i.default(e,t)},createAssistantToTheTransportManager:function(e,t,r){return new n.default(e,t,r)}};t.__esModule=!0,t.default=h},function(e,t,r){"use strict";var n=r(11),i=r(9),o=function(){function AssistantToTheTransportManager(e,t,r){this.manager=e,this.transport=t,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return AssistantToTheTransportManager.prototype.createConnection=function(e,t,r,o){var a=this;o=i.extend({},o,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(e,t,r,o),u=null,l=function(){s.unbind("open",l),s.bind("closed",c),u=n.default.now()},c=function(e){if(s.unbind("closed",c),1002===e.code||1003===e.code)a.manager.reportDeath();else if(!e.wasClean&&u){var t=n.default.now()-u;t<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(t/2,a.minPingDelay))}};return s.bind("open",l),s},AssistantToTheTransportManager.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},AssistantToTheTransportManager}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(9),i=r(45),o=r(46),a=function(){function Handshake(e,t){this.transport=e,this.callback=t,this.bindListeners()}return Handshake.prototype.close=function(){this.unbindListeners(),this.transport.close()},Handshake.prototype.bindListeners=function(){var e=this;this.onMessage=function(t){var r;e.unbindListeners();try{r=i.processHandshake(t)}catch(t){return e.finish("error",{error:t}),void e.transport.close()}"connected"===r.action?e.finish("connected",{connection:new o.default(r.id,e.transport),activityTimeout:r.activityTimeout}):(e.finish(r.action,{error:r.error}),e.transport.close())},this.onClosed=function(t){e.unbindListeners();var r=i.getCloseAction(t)||"backoff",n=i.getCloseError(t);e.finish(r,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},Handshake.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},Handshake.prototype.finish=function(e,t){this.callback(n.extend({transport:this.transport,action:e},t))},Handshake}();t.__esModule=!0,t.default=a},function(e,t){"use strict";t.decodeMessage=function(e){try{var t=JSON.parse(e.data);if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){if(!(e instanceof SyntaxError))throw e}return t}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},t.encodeMessage=function(e){return JSON.stringify(e)},t.processHandshake=function(e){if("pusher:connection_established"===(e=t.decodeMessage(e)).event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},t.getCloseAction=function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"ssl_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},t.getCloseError=function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(9),o=r(23),a=r(45),s=r(8),u=function(e){function Connection(t,r){e.call(this),this.id=t,this.transport=r,this.activityTimeout=r.activityTimeout,this.bindListeners()}return n(Connection,e),Connection.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},Connection.prototype.send=function(e){return this.transport.send(e)},Connection.prototype.send_event=function(e,t,r){var n={event:e,data:t};return r&&(n.channel=r),s.default.debug("Event sent",n),this.send(a.encodeMessage(n))},Connection.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},Connection.prototype.close=function(){this.transport.close()},Connection.prototype.bindListeners=function(){var e=this,t={message:function(t){var r;try{r=a.decodeMessage(t)}catch(r){e.emit("error",{type:"MessageParseError",error:r,data:t.data})}if(void 0!==r){switch(s.default.debug("Event recd",r),r.event){case"pusher:error":e.emit("error",{type:"PusherError",data:r.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",r)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){r(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},r=function(){i.objectApply(t,function(t,r){e.transport.unbind(r,t)})};i.objectApply(t,function(t,r){e.transport.bind(r,t)})},Connection.prototype.handleCloseEvent=function(e){var t=a.getCloseAction(e),r=a.getCloseError(e);r&&this.emit("error",r),t&&this.emit(t)},Connection}(o.default);t.__esModule=!0,t.default=u},function(e,t,r){"use strict";var n=r(2),i=function(){function Authorizer(e,t){this.channel=e;var r=t.authTransport;if(void 0===n.default.getAuthorizers()[r])throw"'"+r+"' is not a recognized auth transport";this.type=r,this.options=t,this.authOptions=(t||{}).auth||{}}return Authorizer.prototype.composeQuery=function(e){var t="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var r in this.authOptions.params)t+="&"+encodeURIComponent(r)+"="+encodeURIComponent(this.authOptions.params[r]);return t},Authorizer.prototype.authorize=function(e,t){return Authorizer.authorizers=Authorizer.authorizers||n.default.getAuthorizers(),Authorizer.authorizers[this.type].call(this,n.default,e,t)},Authorizer}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(2),i=function(){function TimelineSender(e,t){this.timeline=e,this.options=t||{}}return TimelineSender.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(n.default.TimelineTransport.getAgent(this,e),t)},TimelineSender}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(50),o=r(8),a=r(52),s=function(e){function PresenceChannel(t,r){e.call(this,t,r),this.members=new a.default}return n(PresenceChannel,e),PresenceChannel.prototype.authorize=function(t,r){var n=this;e.prototype.authorize.call(this,t,function(e,t){if(!e){if(void 0===t.channel_data)return o.default.warn("Invalid auth response for channel '"+n.name+"', expected 'channel_data' field"),void r("Invalid auth response");var i=JSON.parse(t.channel_data);n.members.setMyID(i.user_id)}r(e,t)})},PresenceChannel.prototype.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var r=this.members.addMember(t);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var n=this.members.removeMember(t);n&&this.emit("pusher:member_removed",n);break;default:i.default.prototype.handleEvent.call(this,e,t)}},PresenceChannel.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},PresenceChannel}(i.default);t.__esModule=!0,t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(42),o=function(e){function PrivateChannel(){e.apply(this,arguments)}return n(PrivateChannel,e),PrivateChannel.prototype.authorize=function(e,t){return i.default.createAuthorizer(this,this.pusher.config).authorize(e,t)},PrivateChannel}(r(51).default);t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(23),o=r(30),a=r(8),s=function(e){function Channel(t,r){e.call(this,function(e,r){a.default.debug("No callbacks on "+t+" for "+e)}),this.name=t,this.pusher=r,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return n(Channel,e),Channel.prototype.authorize=function(e,t){return t(!1,{})},Channel.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new o.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},Channel.prototype.disconnect=function(){this.subscribed=!1},Channel.prototype.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},Channel.prototype.subscribe=function(){var e=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(t,r){t?e.handleEvent("pusher:subscription_error",r):e.pusher.send_event("pusher:subscribe",{auth:r.auth,channel_data:r.channel_data,channel:e.name})}))},Channel.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Channel.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},Channel.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},Channel}(i.default);t.__esModule=!0,t.default=s},function(e,t,r){"use strict";var n=r(9),i=function(){function Members(){this.reset()}return Members.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},Members.prototype.each=function(e){var t=this;n.objectApply(this.members,function(r,n){e(t.get(n))})},Members.prototype.setMyID=function(e){this.myID=e},Members.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},Members.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},Members.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},Members.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},Members}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r(23),o=r(12),a=r(8),s=r(9),u=r(2),l=function(e){function ConnectionManager(t,r){var n=this;e.call(this),this.key=t,this.options=r||{},this.state="initialized",this.connection=null,this.encrypted=!!r.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var i=u.default.getNetwork();i.bind("online",function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)}),i.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}return n(ConnectionManager,e),ConnectionManager.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},ConnectionManager.prototype.send=function(e){return!!this.connection&&this.connection.send(e)},ConnectionManager.prototype.send_event=function(e,t,r){return!!this.connection&&this.connection.send_event(e,t,r)},ConnectionManager.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},ConnectionManager.prototype.isEncrypted=function(){return this.encrypted},ConnectionManager.prototype.startConnecting=function(){var e=this,t=function(r,n){r?e.runner=e.strategy.connect(0,t):"error"===n.action?(e.emit("error",{type:"HandshakeError",error:n.error}),e.timeline.error({handshakeError:n.error})):(e.abortConnecting(),e.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,t)},ConnectionManager.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},ConnectionManager.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},ConnectionManager.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},ConnectionManager.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new o.OneOffTimer(e||0,function(){t.disconnectInternally(),t.connect()})},ConnectionManager.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},ConnectionManager.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,function(){e.updateState("unavailable")})},ConnectionManager.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},ConnectionManager.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},ConnectionManager.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new o.OneOffTimer(this.activityTimeout,function(){e.sendActivityCheck()}))},ConnectionManager.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},ConnectionManager.prototype.buildConnectionCallbacks=function(){var e=this;return{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}}},ConnectionManager.prototype.buildHandshakeCallbacks=function(e){var t=this;return s.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},ConnectionManager.prototype.buildErrorCallbacks=function(){var e=this,t=function(t){return function(r){r.error&&e.emit("error",{type:"WebSocketError",error:r.error}),t(r)}};return{ssl_only:t(function(){e.encrypted=!0,e.updateStrategy(),e.retryIn(0)}),refused:t(function(){e.disconnect()}),backoff:t(function(){e.retryIn(1e3)}),retry:t(function(){e.retryIn(0)})}},ConnectionManager.prototype.setConnection=function(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},ConnectionManager.prototype.abandonConnection=function(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},ConnectionManager.prototype.updateState=function(e,t){var r=this.state;if(this.state=e,r!==e){var n=e;"connected"===n&&(n+=" with new socket ID "+t.socket_id),a.default.debug("State changed",r+" -> "+n),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:r,current:e}),this.emit(e,t)}},ConnectionManager.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},ConnectionManager}(i.default);t.__esModule=!0,t.default=l},function(e,t,r){"use strict";var n=r(9),i=r(42),o=function(){function Channels(){this.channels={}}return Channels.prototype.add=function(e,t){return this.channels[e]||(this.channels[e]=function(e,t){return 0===e.indexOf("private-")?i.default.createPrivateChannel(e,t):0===e.indexOf("presence-")?i.default.createPresenceChannel(e,t):i.default.createChannel(e,t)}(e,t)),this.channels[e]},Channels.prototype.all=function(){return n.values(this.channels)},Channels.prototype.find=function(e){return this.channels[e]},Channels.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},Channels.prototype.disconnect=function(){n.objectApply(this.channels,function(e){e.disconnect()})},Channels}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(42),i=r(11),o=r(30),a=r(9),s=function(){function TransportStrategy(e,t,r,n){this.name=e,this.priority=t,this.transport=r,this.options=n||{}}return TransportStrategy.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},TransportStrategy.prototype.connect=function(e,t){var r=this;if(!this.isSupported())return failAttempt(new o.UnsupportedStrategy,t);if(this.priority<e)return failAttempt(new o.TransportPriorityTooLow,t);var i=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),u=null,l=function(){s.unbind("initialized",l),s.connect()},c=function(){u=n.default.createHandshake(s,function(e){i=!0,p(),t(null,e)})},f=function(e){p(),t(e)},h=function(){var e;p(),e=a.safeJSONStringify(s),t(new o.TransportClosed(e))},p=function(){s.unbind("initialized",l),s.unbind("open",c),s.unbind("error",f),s.unbind("closed",h)};return s.bind("initialized",l),s.bind("open",c),s.bind("error",f),s.bind("closed",h),s.initialize(),{abort:function(){i||(p(),u?u.close():s.close())},forceMinPriority:function(e){i||r.priority<e&&(u?u.close():s.close())}}},TransportStrategy}();function failAttempt(e,t){return i.default.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}t.__esModule=!0,t.default=s},function(e,t,r){"use strict";var n=r(9),i=r(11),o=r(12),a=function(){function SequentialStrategy(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return SequentialStrategy.prototype.isSupported=function(){return n.any(this.strategies,i.default.method("isSupported"))},SequentialStrategy.prototype.connect=function(e,t){var r=this,n=this.strategies,i=0,o=this.timeout,a=null,s=function(u,l){l?t(null,l):(i+=1,r.loop&&(i%=n.length),i<n.length?(o&&(o*=2,r.timeoutLimit&&(o=Math.min(o,r.timeoutLimit))),a=r.tryStrategy(n[i],e,{timeout:o,failFast:r.failFast},s)):t(!0))};return a=this.tryStrategy(n[i],e,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(t){e=t,a&&a.forceMinPriority(t)}}},SequentialStrategy.prototype.tryStrategy=function(e,t,r,n){var i=null,a=null;return r.timeout>0&&(i=new o.OneOffTimer(r.timeout,function(){a.abort(),n(!0)})),a=e.connect(t,function(e,t){e&&i&&i.isRunning()&&!r.failFast||(i&&i.ensureAborted(),n(e,t))}),{abort:function(){i&&i.ensureAborted(),a.abort()},forceMinPriority:function(e){a.forceMinPriority(e)}}},SequentialStrategy}();t.__esModule=!0,t.default=a},function(e,t,r){"use strict";var n=r(9),i=r(11),o=function(){function BestConnectedEverStrategy(e){this.strategies=e}return BestConnectedEverStrategy.prototype.isSupported=function(){return n.any(this.strategies,i.default.method("isSupported"))},BestConnectedEverStrategy.prototype.connect=function(e,t){return function(e,t,r){var i=n.map(e,function(e,n,i,o){return e.connect(t,r(n,o))});return{abort:function(){n.apply(i,abortRunner)},forceMinPriority:function(e){n.apply(i,function(t){t.forceMinPriority(e)})}}}(this.strategies,e,function(e,r){return function(i,o){r[e].error=i,i?function(e){return n.all(e,function(e){return Boolean(e.error)})}(r)&&t(!0):(n.apply(r,function(e){e.forceMinPriority(o.transport.priority)}),t(null,o))}})},BestConnectedEverStrategy}();function abortRunner(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(11),i=r(2),o=r(56),a=r(9),s=function(){function CachedStrategy(e,t,r){this.strategy=e,this.transports=t,this.ttl=r.ttl||18e5,this.encrypted=r.encrypted,this.timeline=r.timeline}return CachedStrategy.prototype.isSupported=function(){return this.strategy.isSupported()},CachedStrategy.prototype.connect=function(e,t){var r=this.encrypted,s=function(e){var t=i.default.getLocalStorage();if(t)try{var r=t[getTransportCacheKey(e)];if(r)return JSON.parse(r)}catch(t){flushTransportCache(e)}return null}(r),u=[this.strategy];if(s&&s.timestamp+this.ttl>=n.default.now()){var l=this.transports[s.transport];l&&(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),u.push(new o.default([l],{timeout:2*s.latency+1e3,failFast:!0})))}var c=n.default.now(),f=u.pop().connect(e,function cb(o,s){o?(flushTransportCache(r),u.length>0?(c=n.default.now(),f=u.pop().connect(e,cb)):t(o)):(!function(e,t,r){var o=i.default.getLocalStorage();if(o)try{o[getTransportCacheKey(e)]=a.safeJSONStringify({timestamp:n.default.now(),transport:t,latency:r})}catch(e){}}(r,s.transport.name,n.default.now()-c),t(null,s))});return{abort:function(){f.abort()},forceMinPriority:function(t){e=t,f&&f.forceMinPriority(t)}}},CachedStrategy}();function getTransportCacheKey(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function flushTransportCache(e){var t=i.default.getLocalStorage();if(t)try{delete t[getTransportCacheKey(e)]}catch(e){}}t.__esModule=!0,t.default=s},function(e,t,r){"use strict";var n=r(12),i=function(){function DelayedStrategy(e,t){var r=t.delay;this.strategy=e,this.options={delay:r}}return DelayedStrategy.prototype.isSupported=function(){return this.strategy.isSupported()},DelayedStrategy.prototype.connect=function(e,t){var r,i=this.strategy,o=new n.OneOffTimer(this.options.delay,function(){r=i.connect(e,t)});return{abort:function(){o.ensureAborted(),r&&r.abort()},forceMinPriority:function(t){e=t,r&&r.forceMinPriority(t)}}},DelayedStrategy}();t.__esModule=!0,t.default=i},function(e,t){"use strict";var r=function(){function IfStrategy(e,t,r){this.test=e,this.trueBranch=t,this.falseBranch=r}return IfStrategy.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},IfStrategy.prototype.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},IfStrategy}();t.__esModule=!0,t.default=r},function(e,t){"use strict";var r=function(){function FirstConnectedStrategy(e){this.strategy=e}return FirstConnectedStrategy.prototype.isSupported=function(){return this.strategy.isSupported()},FirstConnectedStrategy.prototype.connect=function(e,t){var r=this.strategy.connect(e,function(e,n){n&&r.abort(),t(e,n)});return r},FirstConnectedStrategy}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var n=r(5);t.getGlobalConfig=function(){return{wsHost:n.default.host,wsPort:n.default.ws_port,wssPort:n.default.wss_port,httpHost:n.default.sockjs_host,httpPort:n.default.sockjs_http_port,httpsPort:n.default.sockjs_https_port,httpPath:n.default.sockjs_path,statsHost:n.default.stats_host,authEndpoint:n.default.channel_auth_endpoint,authTransport:n.default.channel_auth_transport,activity_timeout:n.default.activity_timeout,pong_timeout:n.default.pong_timeout,unavailable_timeout:n.default.unavailable_timeout}},t.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}])},e.exports=n()},bvhO:function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?map(o(e),function(o){var a=encodeURIComponent(n(o))+r;return i(e[o])?map(e[o],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[o]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},"c+Kk":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("pxn2"),i=r("NnX8"),o=r("zVwf"),a=function(){function DatasetBuilder(){}return DatasetBuilder.prototype.build=function(e,t){for(var r=new o.Schema,a=0,s=e;a<s.length;a++){var u=s[a],l=u.name,c=this.getColumnType(u.type);null==c&&(c=n.ColumnType.STRING),r.addColumn(new n.DataColumn(l,c))}return new i.Dataset(r,t)},DatasetBuilder.prototype.getColumnType=function(e){switch(e.toLocaleLowerCase()){case"boolean":return n.ColumnType.BOOLEAN;case"date":return n.ColumnType.DATE;case"datetime":return n.ColumnType.DATETIME;case"float":return n.ColumnType.FLOAT;case"integer":return n.ColumnType.INTEGER;case"string":return n.ColumnType.STRING}},DatasetBuilder}();t.DatasetBuilder=a},cFrJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AUTO="AUTO",e.BOTTOM="BOTTOM",e.MIDDLE="MIDDLE",e.TOP="TOP"}(t.Vertical||(t.Vertical={}))},cQBe:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pkpF"),a=r("m0oc"),s=function(e){function Element(t,r){var n=e.call(this,t,r)||this;return n._borders=new a.Borders,n}return i(Element,e),Object.defineProperty(Element.prototype,"borders",{get:function(){return this._borders},enumerable:!0,configurable:!0}),Element.prototype.getProperties=function(){var t=e.prototype.getProperties.call(this);return t.enter=t.enter||{},t.enter.x=this.getXProp(),t.enter.y=this.getYProp(),t.enter.width=this.getWidthProp(),t.enter.height=this.getHeightProp(),t},Element.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.borders.getDisplayed();r<n.length;r++){var i=n[r];t.push(i.compile())}return t},Element}(o.Group);t.Element=s},caK9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("pxn2"),i=r("NPX4"),o=r("w06A"),a=r("uYkN"),s=r("da2F"),u=r("znMJ"),l=r("E4ND"),c=r("kdBv"),f=r("6X6e"),h=r("niCK"),p=r("Vle4"),d=r("niCK"),y=r("YyKR"),g=r("PBbl"),m=r("ZrrW"),v=r("51Jn"),b=r("o0FP"),_=r("SIHM"),w=r("Z73k"),S=r("c+Kk"),E=r("ovwX"),C=function(){function Model(e,t){var r=this;this._engine=e,this._fields=new Array,this._defaultFieldProps=new Map,this._formulas=new i.FFactory(new a.FFieldProvider(this),new s.FuncProvider,new u.TypeProvider),this._names=new d.ModelSystemField(h.SystemFieldName.NAMES),this._values=new d.ModelSystemField(h.SystemFieldName.VALUES),this._multiple=new d.ModelSystemField(h.SystemFieldName.MULTIPLE),(t||[]).forEach(function(e){r.addField(e)})}return Model.build=function(e,t){var r=(new S.DatasetBuilder).build(e,t);return(new E.ModelBuilder).build(r)},Model.convertModeSchema=function(e){return e.map(function(e){var t=n.ColumnType.STRING;switch(e.type){case"boolean":t=n.ColumnType.BOOLEAN;break;case"integer":case"int":case"bigint":t=n.ColumnType.INTEGER;break;case"string":case"character":case"character varying":case"varchar":case"varchar2":case"nvarchar2":case"text":case"json":t=n.ColumnType.STRING;break;case"float":case"decimal":case"double precision":case"double":case"real":case"fixed":case"number":t=n.ColumnType.FLOAT;break;case"datetime":case"date":case"time":case"timestamp with time zone":case"timestamp":case"timestamp without time zone":t=n.ColumnType.DATETIME}return{name:e.name,type:t}})},Object.defineProperty(Model.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),Object.defineProperty(Model.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(Model.prototype,"defaultFieldProps",{get:function(){return this._defaultFieldProps},enumerable:!0,configurable:!0}),Object.defineProperty(Model.prototype,"namesField",{get:function(){return this._names},enumerable:!0,configurable:!0}),Object.defineProperty(Model.prototype,"valuesField",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(Model.prototype,"multipleField",{get:function(){return this._multiple},enumerable:!0,configurable:!0}),Object.defineProperty(Model.prototype,"formulas",{get:function(){return this._formulas},enumerable:!0,configurable:!0}),Model.prototype.addField=function(e){switch(this.fields.push(e),e.type){case c.FieldType.DATA:switch(e.roleType){case c.RoleType.DIMENSION:this.defaultFieldProps.set(e.name,{roleType:c.RoleType.DIMENSION});break;case c.RoleType.MEASURE:this.defaultFieldProps.set(e.name,{aggregate:o.AggregateFunction.SUM,roleType:c.RoleType.MEASURE})}break;case c.FieldType.MODELCALC:switch(e.roleType){case c.RoleType.DIMENSION:this.defaultFieldProps.set(e.formula.source,{roleType:c.RoleType.DIMENSION});break;case c.RoleType.MEASURE:this.defaultFieldProps.set(e.formula.source,{aggregate:o.AggregateFunction.SUM,roleType:c.RoleType.MEASURE})}}},Model.prototype.getField=function(e){switch(e){case h.SystemFieldName.VALUES:return this.valuesField;case h.SystemFieldName.NAMES:return this.namesField;default:return this.fields.find(function(t){return t.name===e})}},Model.prototype.getDefaultFieldProps=function(e){return this.defaultFieldProps.get(e)},Model.prototype.getDimensions=function(){return this.fields.filter(function(e){return e.isDimension})},Model.prototype.getMeasures=function(){return this.fields.filter(function(e){return e.isMeasure})},Model.prototype.compile=function(e){return this.formulas.compile(e)},Model.prototype.validate=function(e){return this.formulas.validate(e)},Model.prototype.onPivot=function(e){var t=new b.PivotQuery;return null!=e&&e(t),this.engine.pivot(this,t)},Model.prototype.onFilter=function(e){var t=new w.FilterQuery;return null!=e&&e(t),this.engine.filter(this,t)},Model.prototype.onDomain=function(e){var t=new _.DomainQuery;return null!=e&&e(t),this.engine.domain(this,t)},Model.prototype.getDefaultViewFieldName=function(e,t){switch(e.type){case c.FieldType.VIEWNAMES:case c.FieldType.VIEWVALUES:case c.FieldType.MODELNAMES:case c.FieldType.MODELVALUES:return e.name;case c.FieldType.VIEWCALC:return e.formula.source}switch(t){case c.RoleType.DIMENSION:return"["+e.name+"]";case c.RoleType.MEASURE:switch(e.type){case c.FieldType.DATA:case c.FieldType.MODELCALC:var r=this.getDefaultFieldProps(e.name);if(null==r)return o.AggregateFunction.SUM+"(["+e.name+"])";switch(r.roleType){case c.RoleType.DIMENSION:switch(e.dataType){case l.DataType.BOOLEAN:case l.DataType.DATE:case l.DataType.STRING:return o.AggregateFunction.COUNT+"(["+e.name+"])";default:return o.AggregateFunction.SUM+"(["+e.name+"])"}case c.RoleType.MEASURE:return r.aggregate+"["+e.name+"]"}}}},Model.prototype.getDefaultFieldName=function(e){switch(e.type){case c.FieldType.VIEWNAMES:return"Measure Names";case c.FieldType.VIEWVALUES:return"Measure Values";case c.FieldType.VIEWCALC:switch(e.roleType){case c.RoleType.DIMENSION:return e.name;case c.RoleType.MEASURE:return this.getDefaultMeasureName(e)}}},Model.prototype.getDefaultMeasureName=function(e){if(e.type!==c.FieldType.VIEWCALC||"AGGFUNC"!==e.formula.form)return e.name;var t=this.getField(e.formula.fieldName),r=void 0;switch(t.type){case c.FieldType.DATA:r=this.getDefaultFieldProps(e.formula.fieldName);break;case c.FieldType.MODELCALC:r=this.getDefaultFieldProps(t.formula.source)}var n=o.AggregateFunction.SUM;if(null!=r&&r.roleType===c.RoleType.MEASURE&&(n=r.aggregate),e.formula.funcName===n)return t.name;switch(e.formula.funcName){case o.AggregateFunction.AVG:return"Avg of "+t.name;case o.AggregateFunction.COUNT:return"Count of "+t.name;case o.AggregateFunction.COUNTD:return"Distinct Count of "+t.name;case o.AggregateFunction.MEDIAN:return"Median of "+t.name;case o.AggregateFunction.MIN:return"Min of "+t.name;case o.AggregateFunction.MAX:return"Max of "+t.name;case o.AggregateFunction.STDEV:return"Std. Dev. of "+t.name;case o.AggregateFunction.STDEVP:return"Pop. Std. Dev. of "+t.name;case o.AggregateFunction.SUM:return"Sum of "+t.name;case o.AggregateFunction.VAR:return"Variance of "+t.name;case o.AggregateFunction.VARP:return"Pop. Variance of "+t.name;default:return e.name}},Model.prototype.buildDataField=function(e,t,r,n,i){var o=this.engine.dataset.schema.getColumn(e);return new f.DataField(o,t,r,n,i)},Model.prototype.buildCalcField=function(e,t,r,n){return new p.ModelCalcField(e,this.compile(t),r,n)},Model.prototype.buildViewCalcField=function(e,t,r,n){return new p.ViewCalcField(this.compile(e),t,r,n)},Model.prototype.buildViewSystemField=function(e,t,r){return new d.ViewSystemField(e,t,r)},Model.prototype.buildViewNamesField=function(e,t){return this.buildViewSystemField(h.SystemFieldName.NAMES,e,t)},Model.prototype.buildViewValuesField=function(e,t){return this.buildViewSystemField(h.SystemFieldName.VALUES,e,t)},Model.prototype.buildDataSort=function(e,t){return new m.DataSort(e,t)},Model.prototype.buildAlphaSort=function(e,t){return new g.AlphaSort(e,t)},Model.prototype.buildFieldSort=function(e,t,r){return new v.FieldSort(e,t,[],r)},Model.prototype.buildFilteredFieldSort=function(e,t,r,n){return new v.FieldSort(e,t,r,n)},Model.prototype.buildContinuousFilter=function(e,t){return y.Filter.makeContinuousFilter(e,t)},Model.prototype.buildDiscreteFilter=function(e,t){return y.Filter.makeDiscreteFilter(e,t)},Model.prototype.buildFilter=function(e,t){return y.Filter.makeFilter(e,t)},Model}();t.Model=C},ce5R:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("CsEb"),o=r("LGJh"),a=r("P23m");t.bufferTime=function(e){var t=arguments.length,r=i.async;a.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new s(e,n,o,r))}};var s=function(){function BufferTimeOperator(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return BufferTimeOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},BufferTimeOperator}(),u=function(){return function(){this.buffer=[]}}(),l=function(e){function BufferTimeSubscriber(t,r,n,i,o){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var s={subscriber:this,context:a,bufferTimeSpan:r};this.add(a.closeAction=o.schedule(dispatchBufferTimeSpanOnly,r,s))}else{var u={subscriber:this,context:a},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:o};this.add(a.closeAction=o.schedule(dispatchBufferClose,r,u)),this.add(o.schedule(dispatchBufferCreation,n,l))}}return n(BufferTimeSubscriber,e),BufferTimeSubscriber.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},BufferTimeSubscriber.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},BufferTimeSubscriber.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},BufferTimeSubscriber.prototype._unsubscribe=function(){this.contexts=null},BufferTimeSubscriber.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,r,n))}},BufferTimeSubscriber.prototype.openContext=function(){var e=new u;return this.contexts.push(e),e},BufferTimeSubscriber.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},BufferTimeSubscriber}(o.Subscriber);function dispatchBufferTimeSpanOnly(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function dispatchBufferCreation(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(dispatchBufferClose,r,{subscriber:n,context:o})),this.schedule(e,t))}function dispatchBufferClose(e){var t=e.subscriber,r=e.context;t.closeContext(r)}},ch7s:function(e,t,r){"use strict";var n=r("JfTI");t.window=function(e){return n.window(e)(this)}},ciYN:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function HSymbol(t,r){var n=e.call(this,a.MarkType.SYMBOL)||this;return n._table=t,n._marks=r,n._yc={field:"crows.layout_mid",offset:.5},n._xc={scale:r.xScaleName,field:r.xAlias},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n._shape={value:"circle"},n}return i(HSymbol,e),Object.defineProperty(HSymbol.prototype,"yc",{get:function(){return this._yc},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"xc",{get:function(){return this._xc},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"shape",{get:function(){return this._shape},set:function(e){this._shape=e},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"isFilled",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"isStroked",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"stroke",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(HSymbol.prototype,"strokeWidth",{get:function(){return{value:this._strokeWidth}},set:function(e){this._strokeWidth=e},enumerable:!0,configurable:!0}),HSymbol.prototype.getProperties=function(){var e={enter:{yc:this.yc,xc:this.xc,size:this.size,shape:this.shape}};return this.isFilled&&(e.enter.fill=this.fill),this.isStroked&&(e.enter.stroke=this.stroke,e.enter.strokeWidth=this.strokeWidth),e},HSymbol}(o.Mark);t.HSymbol=s},ckWE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("xd6E"),i=r("GoA9"),o=r("wJdG"),a=function(){function Engine(e){this._dataset=e}return Object.defineProperty(Engine.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0}),Engine.prototype.pivot=function(e,t){return new n.Pivot(this,t)},Engine.prototype.domain=function(e,t){return new i.DomainEngine(this,t)},Engine.prototype.filter=function(e,t){return new o.FilterEngine(this,t)},Engine}();t.Engine=a},cp1M:function(e,t,r){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},d5em:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("lour"),a=r("uWZT"),s=r("Skk4"),u=function(e){function TLeft(t){var r=e.call(this,t)||this;return r.table.yAxisCount>0&&(r._stacks=r.buildStacks(),r._headers=r.buildHeaders()),r}return i(TLeft,e),Object.defineProperty(TLeft.prototype,"yAxisStack",{get:function(){return this.stacks[0]},enumerable:!0,configurable:!0}),Object.defineProperty(TLeft.prototype,"yAxisField",{get:function(){return this.table.yAxisFields[0]},enumerable:!0,configurable:!0}),Object.defineProperty(TLeft.prototype,"lastHeader",{get:function(){return this.headers[this.headers.length-1]},enumerable:!0,configurable:!0}),TLeft.prototype.buildStacks=function(){var e=this,t=new Array,r=this.getPaths(this.rfPath),n=this.buildYStack(r[0]||[]);t.push(n);var i=n;return this.rfPath.forEach(function(n,a){var s=new o.RStack(e.table,r[a],n.alias,i);t.push(s),i=s}),t},TLeft.prototype.buildHeaders=function(){var e,t=this,r=new Array;return this.fPath.forEach(function(n,i){var o=t.rStacks[i],a=new s.RHeader(t.table,n,o,e);r.push(a),e=a}),r.push(this.buildYHeader(e)),r},TLeft.prototype.buildYStack=function(e){var t=this.yAxisField,r=e.concat(t.alias);return new o.RStack(this.table,r,t.alias)},TLeft.prototype.buildYHeader=function(e){var t=this.rStacks[this.rStacks.length-1];return new s.RHeader(this.table,this.yAxisField,t,e)},TLeft}(a.Left);t.TLeft=u},dBN9:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("I9Xa"),o=r("1IBE"),a=r("5UgM"),s=r("EIUo"),u=r("k+FJ");t.bufferWhen=function(e){return function(t){return t.lift(new l(e))}};var l=function(){function BufferWhenOperator(e){this.closingSelector=e}return BufferWhenOperator.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},BufferWhenOperator}(),c=function(e){function BufferWhenSubscriber(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return n(BufferWhenSubscriber,e),BufferWhenSubscriber.prototype._next=function(e){this.buffer.push(e)},BufferWhenSubscriber.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},BufferWhenSubscriber.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},BufferWhenSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},BufferWhenSubscriber.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},BufferWhenSubscriber.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=o.tryCatch(this.closingSelector)();r===a.errorObject?this.error(a.errorObject.e):(e=new i.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(u.subscribeToResult(this,r)),this.subscribing=!1)},BufferWhenSubscriber}(s.OuterSubscriber)},dFqO:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("lVEQ"),a=r("33Jt");t.takeLast=function(e){return function(t){return 0===e?new a.EmptyObservable:t.lift(new s(e))}};var s=function(){function TakeLastOperator(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return TakeLastOperator.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},TakeLastOperator}(),u=function(e){function TakeLastSubscriber(t,r){e.call(this,t),this.total=r,this.ring=new Array,this.count=0}return n(TakeLastSubscriber,e),TakeLastSubscriber.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},TakeLastSubscriber.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},TakeLastSubscriber}(i.Subscriber)},dHkR:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("I9Xa"),a=r("sYtQ"),s=r("Gjim"),u=function(e){function ColdObservable(t,r){e.call(this,function(e){var t=this,r=t.logSubscribedFrame();return e.add(new o.Subscription(function(){t.logUnsubscribedFrame(r)})),t.scheduleMessages(e),e}),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(ColdObservable,e),ColdObservable.prototype.scheduleMessages=function(e){for(var t=this.messages.length,r=0;r<t;r++){var n=this.messages[r];e.add(this.scheduler.schedule(function(e){var t=e.message,r=e.subscriber;t.notification.observe(r)},n.frame,{message:n,subscriber:e}))}},ColdObservable}(i.Observable);t.ColdObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},dMGK:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function VSymbol(t,r){var n=e.call(this,a.MarkType.SYMBOL)||this;return n._table=t,n._marks=r,n._yc={scale:r.yScaleName,field:r.alias},n._xc={field:"ccols.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n._shape={value:"circle"},n}return i(VSymbol,e),Object.defineProperty(VSymbol.prototype,"yc",{get:function(){return this._yc},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"xc",{get:function(){return this._xc},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"shape",{get:function(){return this._shape},set:function(e){this._shape=e},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"isFilled",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"isStroked",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"stroke",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(VSymbol.prototype,"strokeWidth",{get:function(){return{value:this._strokeWidth}},set:function(e){this._strokeWidth=e},enumerable:!0,configurable:!0}),VSymbol.prototype.getProperties=function(){var e={enter:{yc:this.yc,xc:this.xc,size:this.size,shape:this.shape}};return this.isFilled&&(e.enter.fill=this.fill),this.isStroked&&(e.enter.stroke=this.stroke,e.enter.strokeWidth=this.strokeWidth),e},VSymbol}(o.Mark);t.VSymbol=s},dQ2C:function(e,t,r){"use strict";var n=r("m19F");t.never=n.NeverObservable.create},dVJf:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("SgnA"),o=function(e){function PromiseObservable(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(PromiseObservable,e),PromiseObservable.create=function(e,t){return new PromiseObservable(e,t)},PromiseObservable.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(dispatchNext,0,{value:this.value,subscriber:e})}else r.then(function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(dispatchNext,0,{value:r,subscriber:e}))},function(t){e.closed||e.add(n.schedule(dispatchError,0,{err:t,subscriber:e}))}).then(null,function(e){i.root.setTimeout(function(){throw e})})},PromiseObservable}(r("DRWY").Observable);function dispatchNext(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function dispatchError(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}t.PromiseObservable=o},dXmF:function(e,t,r){"use strict";var n=r("yY7C");t.min=function(e){var t="function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t};return n.reduce(t)}},da2F:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("YWvS"),i=r("w06A"),o=r("qh62"),a=r("MFa5"),s=r("gEa1"),u=function(){function FuncProvider(){}return FuncProvider.prototype.getFunc=function(e,t){switch(e){case"AVG":return new i.AVG(t);case"COUNT":return new i.COUNT(t);case"COUNTD":return new i.COUNTD(t);case"MAX":return new i.MAX(t);case"MIN":return new i.MIN(t);case"SUM":return new i.SUM(t);case"DATENAME":return new o.DATENAME(t);case"DATEPART":return new o.DATEPART(t);case"DATETRUNC":return new o.DATETRUNC(t);case"LOG":return new a.LOG(t);case"DATEPARSE":return new s.DATEPARSE(t);case"STR":return new s.STR(t)}},FuncProvider.prototype.getCalcFunc=function(e){var t=e.formula.expr;switch(t.type){case"SCALAR":return new n.FCalcScalar(e.name,t);case"AGG":return new n.FCalcAgg(e.name,t)}},FuncProvider}();t.FuncProvider=u},daUR:function(e,t,r){(function(t){e.exports=AlgoliaSearchCore;var n=r("QKhG"),i=r("nb0e"),o=r("ig01"),a=r("qK61"),s=t.env.RESET_APP_DATA_TIMER&&parseInt(t.env.RESET_APP_DATA_TIMER,10)||12e4;function AlgoliaSearchCore(e,t,i){var o=r("AIUU")("algoliasearch"),a=r("S7SM"),s=r("YuqC"),u=r("BDy2"),l="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==i._allowEmptyCredentials&&!e)throw new n.AlgoliaSearchError("Please provide an application ID. "+l);if(!0!==i._allowEmptyCredentials&&!t)throw new n.AlgoliaSearchError("Please provide an API key. "+l);this.applicationID=e,this.apiKey=t,this.hosts={read:[],write:[]},i=i||{},this._timeouts=i.timeouts||{connect:1e3,read:2e3,write:3e4},i.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=i.timeout);var c=i.protocol||"https:";if(/:$/.test(c)||(c+=":"),"http:"!==c&&"https:"!==c)throw new n.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+i.protocol+"`)");if(this._checkAppIdData(),i.hosts)s(i.hosts)?(this.hosts.read=a(i.hosts),this.hosts.write=a(i.hosts)):(this.hosts.read=a(i.hosts.read),this.hosts.write=a(i.hosts.write));else{var f=u(this._shuffleResult,function(t){return e+"-"+t+".algolianet.com"}),h=(!1===i.dsn?"":"-dsn")+".algolia.net";this.hosts.read=[this.applicationID+h].concat(f),this.hosts.write=[this.applicationID+".algolia.net"].concat(f)}this.hosts.read=u(this.hosts.read,prepareHost(c)),this.hosts.write=u(this.hosts.write,prepareHost(c)),this.extraHeaders={},this.cache=i._cache||{},this._ua=i._ua,this._useCache=!(void 0!==i._useCache&&!i._cache)||i._useCache,this._useFallback=void 0===i.useFallback||i.useFallback,this._setTimeout=i._setTimeout,o("init done, %j",this)}function prepareHost(e){return function(t){return e+"//"+t.toLowerCase()}}function safeJSONStringify(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var r=JSON.stringify(e);return Array.prototype.toJSON=t,r}function removeCredentials(e){var t={};for(var r in e){var n;if(Object.prototype.hasOwnProperty.call(e,r))n="x-algolia-api-key"===r||"x-algolia-application-id"===r?"**hidden for security purposes**":e[r],t[r]=n}return t}AlgoliaSearchCore.prototype.initIndex=function(e){return new o(this,e)},AlgoliaSearchCore.prototype.setExtraHeader=function(e,t){this.extraHeaders[e.toLowerCase()]=t},AlgoliaSearchCore.prototype.getExtraHeader=function(e){return this.extraHeaders[e.toLowerCase()]},AlgoliaSearchCore.prototype.unsetExtraHeader=function(e){delete this.extraHeaders[e.toLowerCase()]},AlgoliaSearchCore.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},AlgoliaSearchCore.prototype._jsonRequest=function(e){this._checkAppIdData();var t,o,a=r("AIUU")("algoliasearch:"+e.url),s=e.additionalUA||"",u=e.cache,l=this,c=0,f=!1,h=l._useFallback&&l._request.fallback&&e.fallback;this.apiKey.length>500&&void 0!==e.body&&(void 0!==e.body.params||void 0!==e.body.requests)?(e.body.apiKey=this.apiKey,o=this._computeRequestHeaders({additionalUA:s,withApiKey:!1,headers:e.headers})):o=this._computeRequestHeaders({additionalUA:s,headers:e.headers}),void 0!==e.body&&(t=safeJSONStringify(e.body)),a("request start");var p=[];var d=function doRequest(r,i){l._checkAppIdData();var d,y=new Date;if(l._useCache&&(d=e.url),l._useCache&&t&&(d+="_body_"+i.body),l._useCache&&u&&void 0!==u[d])return a("serving response from cache"),l._promise.resolve(JSON.parse(u[d]));if(c>=l.hosts[e.hostType].length)return!h||f?(a("could not get any response"),l._promise.reject(new n.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+l.applicationID,{debugData:p}))):(a("switching to fallback"),c=0,i.method=e.fallback.method,i.url=e.fallback.url,i.jsonBody=e.fallback.body,i.jsonBody&&(i.body=safeJSONStringify(i.jsonBody)),o=l._computeRequestHeaders({additionalUA:s,headers:e.headers}),i.timeouts=l._getTimeoutsForRequest(e.hostType),l._setHostIndexByType(0,e.hostType),f=!0,doRequest(l._request.fallback,i));var g=l._getHostByType(e.hostType),m=g+i.url,v={body:i.body,jsonBody:i.jsonBody,method:i.method,headers:o,timeouts:i.timeouts,debug:a};return a("method: %s, url: %s, headers: %j, timeouts: %d",v.method,m,v.headers,v.timeouts),r===l._request.fallback&&a("using fallback"),r.call(l,m,v).then(function(e){var r=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;a("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,r,e.headers);var s=2===Math.floor(r/100),f=new Date;if(p.push({currentHost:g,headers:removeCredentials(o),content:t||null,contentLength:void 0!==t?t.length:null,method:i.method,timeouts:i.timeouts,url:i.url,startTime:y,endTime:f,duration:f-y,statusCode:r}),s)return l._useCache&&u&&(u[d]=e.responseText),e.body;if(4!==Math.floor(r/100))return c+=1,retryRequest();a("unrecoverable error");var h=new n.AlgoliaSearchError(e.body&&e.body.message,{debugData:p,statusCode:r});return l._promise.reject(h)},function(s){a("error: %s, stack: %s",s.message,s.stack);var u=new Date;return p.push({currentHost:g,headers:removeCredentials(o),content:t||null,contentLength:void 0!==t?t.length:null,method:i.method,timeouts:i.timeouts,url:i.url,startTime:y,endTime:u,duration:u-y}),s instanceof n.AlgoliaSearchError||(s=new n.Unknown(s&&s.message,s)),c+=1,s instanceof n.Unknown||s instanceof n.UnparsableJSON||c>=l.hosts[e.hostType].length&&(f||!h)?(s.debugData=p,l._promise.reject(s)):s instanceof n.RequestTimeout?(a("retrying request with higher timeout"),l._incrementHostIndex(e.hostType),l._incrementTimeoutMultipler(),i.timeouts=l._getTimeoutsForRequest(e.hostType),doRequest(r,i)):retryRequest()});function retryRequest(){return a("retrying request"),l._incrementHostIndex(e.hostType),doRequest(r,i)}}(l._request,{url:e.url,method:e.method,body:t,jsonBody:e.body,timeouts:l._getTimeoutsForRequest(e.hostType)});if("function"!=typeof e.callback)return d;d.then(function(t){i(function(){e.callback(null,t)},l._setTimeout||setTimeout)},function(t){i(function(){e.callback(t)},l._setTimeout||setTimeout)})},AlgoliaSearchCore.prototype._getSearchParams=function(e,t){if(void 0===e||null===e)return t;for(var r in e)null!==r&&void 0!==e[r]&&e.hasOwnProperty(r)&&(t+=""===t?"":"&",t+=r+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[r])?safeJSONStringify(e[r]):e[r]));return t},AlgoliaSearchCore.prototype._computeRequestHeaders=function(e){var t=r("Sh+V"),n={"x-algolia-agent":e.additionalUA?this._ua+";"+e.additionalUA:this._ua,"x-algolia-application-id":this.applicationID};return!1!==e.withApiKey&&(n["x-algolia-api-key"]=this.apiKey),this.userToken&&(n["x-algolia-usertoken"]=this.userToken),this.securityTags&&(n["x-algolia-tagfilters"]=this.securityTags),t(this.extraHeaders,function(e,t){n[t]=e}),e.headers&&t(e.headers,function(e,t){n[t]=e}),n},AlgoliaSearchCore.prototype.search=function(e,t,n){var i=r("YuqC"),o=r("BDy2");if(!i(e))throw new Error("Usage: client.search(arrayOfQueries[, callback])");"function"==typeof t?(n=t,t={}):void 0===t&&(t={});var a=this,s={requests:o(e,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:a._getSearchParams(e.params,t)}})},u=o(s.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),l="/1/indexes/*/queries";return void 0!==t.strategy&&(l+="?strategy="+t.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:l,body:s,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:u}},callback:n})},AlgoliaSearchCore.prototype.searchForFacetValues=function(e){var t=r("YuqC"),n=r("BDy2"),i="Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])";if(!t(e))throw new Error(i);var o=this;return Promise.all(n(e,function(e){if(!e||void 0===e.indexName||void 0===e.params.facetName||void 0===e.params.facetQuery)throw new Error(i);var t=r("S7SM"),n=r("8q90"),a=e.indexName,s=e.params,u=s.facetName,l=n(t(s),function(e){return"facetName"===e}),c=o._getSearchParams(l,"");return o._jsonRequest({cache:o.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(a)+"/facets/"+encodeURIComponent(u)+"/query",hostType:"read",body:{params:c}})}))},AlgoliaSearchCore.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],r=0;r<e.length;++r)if("[object Array]"===Object.prototype.toString.call(e[r])){for(var n=[],i=0;i<e[r].length;++i)n.push(e[r][i]);t.push("("+n.join(",")+")")}else t.push(e[r]);e=t.join(",")}this.securityTags=e},AlgoliaSearchCore.prototype.setUserToken=function(e){this.userToken=e},AlgoliaSearchCore.prototype.clearCache=function(){this.cache={}},AlgoliaSearchCore.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},AlgoliaSearchCore.prototype.setTimeouts=function(e){this._timeouts=e},AlgoliaSearchCore.prototype.getTimeouts=function(){return this._timeouts},AlgoliaSearchCore.prototype._getAppIdData=function(){var e=a.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},AlgoliaSearchCore.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),a.set(this.applicationID,e)},AlgoliaSearchCore.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>s?this._resetInitialAppIdData(e):e},AlgoliaSearchCore.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||function(e){var t,r,n=e.length;for(;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e}([1,2,3]),this._setAppIdData(t)},AlgoliaSearchCore.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},AlgoliaSearchCore.prototype._partialAppIdDataUpdate=function(e){var t=r("Sh+V"),n=this._getAppIdData();return t(e,function(e,t){n[t]=e}),this._setAppIdData(n)},AlgoliaSearchCore.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},AlgoliaSearchCore.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},AlgoliaSearchCore.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},AlgoliaSearchCore.prototype._setHostIndexByType=function(e,t){var n=r("S7SM")(this._hostIndexes);return n[t]=e,this._partialAppIdDataUpdate({hostIndexes:n}),e},AlgoliaSearchCore.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},AlgoliaSearchCore.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},AlgoliaSearchCore.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(t,r("pBGv"))},dhxR:function(e,t,r){"use strict";e.exports=function(e,t,r){if("GET"!==t.method)return void r(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var o=!1,a=!1;i+=1;var s=document.getElementsByTagName("head")[0],u=document.createElement("script"),l="algoliaJSONP_"+i,c=!1;window[l]=function(e){!function(){try{delete window[l],delete window[l+"_loaded"]}catch(e){window[l]=window[l+"_loaded"]=void 0}}(),a?t.debug("JSONP: Late answer, ignoring"):(o=!0,clean(),r(null,{body:e}))},e+="&callback="+l,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var f=setTimeout(function(){t.debug("JSONP: Script timeout"),a=!0,clean(),r(new n.RequestTimeout)},t.timeouts.complete);function success(){t.debug("JSONP: success"),c||a||(c=!0,o||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),clean(),r(new n.JSONPScriptFail)))}function clean(){clearTimeout(f),u.onload=null,u.onreadystatechange=null,u.onerror=null,s.removeChild(u)}u.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||success()},u.onload=success,u.onerror=function(){if(t.debug("JSONP: Script error"),c||a)return;clean(),r(new n.JSONPScriptError)},u.async=!0,u.defer=!0,u.src=e,s.appendChild(u)};var n=r("QKhG"),i=0},dmqm:function(e,t,r){var n,i,o,a;this||window,o=[],n="function"==typeof(i=function(){var e={};return(function(){!function(e,t){"use strict";function n(e,r,n){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(n===t)throw"invalid module definition, definition function must be specified";!function(e,t){for(var r,n=[],a=0;a<e.length;++a){if(!(r=i[e[a]]||o(e[a])))throw"module definition dependecy not found: "+e[a];n.push(r)}t.apply(null,n)}(r,function(){i[e]=n.apply(null,arguments)})}function r(e){return!!i[e]}function o(t){for(var r=e,n=t.split(/[.\/]/),i=0;i<n.length;++i){if(!r[n[i]])return;r=r[n[i]]}return r}var i={};n("moxie/core/utils/Basic",[],function(){function e(e){return void 0===e?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function t(){return a(!1,!1,arguments)}function o(r){switch(e(r)){case"array":return Array.prototype.slice.call(r);case"object":return t({},r)}return r}function a(t,r,n){var i,s=n[0];return u(n,function(n,l){l>0&&u(n,function(n,u){var l=-1!==m(e(n),["array","object"]);return!!(n===i||t&&s[u]===i)||(l&&r&&(n=o(n)),void(e(s[u])===e(n)&&l?a(t,r,[s[u],n]):s[u]=n))})}),s}function u(e,t){var r,n,i,o;if(e){try{r=e.length}catch(e){r=o}if(r===o||"number"!=typeof r){for(n in e)if(e.hasOwnProperty(n)&&!1===t(e[n],n))return}else for(i=0;r>i;i++)if(!1===t(e[i],i))return}}function m(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var r=0,n=t.length;n>r;r++)if(t[r]===e)return r}return-1}var r=function(){var e=0;return function(t){var r,n=(new Date).getTime().toString(32);for(r=0;5>r;r++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}();return{guid:r,typeOf:e,extend:t,extendIf:function(){return a(!0,!1,arguments)},extendImmutable:function(){return a(!1,!0,arguments)},extendImmutableIf:function(){return a(!0,!0,arguments)},inherit:function(e,t){function i(){this.constructor=e}for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__parent__=t.prototype,e},each:u,isEmptyObj:function(t){var r;if(!t||"object"!==e(t))return!0;for(r in t)return!1;return!0},inSeries:function(t,r){var i=t.length;"function"!==e(r)&&(r=function(){}),t&&t.length||r(),function n(o){"function"===e(t[o])&&t[o](function(e){++o<i&&!e?n(o):r(e)})}(0)},inParallel:function(e,t){var r=0,n=e.length,i=new Array(n);u(e,function(e,o){e(function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),i[o]=a,++r===n&&(i.unshift(null),t.apply(this,i))})})},inArray:m,arrayDiff:function(t,r){var n=[];for(var i in"array"!==e(t)&&(t=[t]),"array"!==e(r)&&(r=[r]),t)-1===m(t[i],r)&&n.push(t[i]);return!!n.length&&n},arrayIntersect:function(e,t){var r=[];return u(e,function(e){-1!==m(e,t)&&r.push(e)}),r.length?r:null},toArray:function(e){var t,r=[];for(t=0;t<e.length;t++)r[t]=e[t];return r},trim:function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},sprintf:function(t){var r=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=r.shift();return"undefined"!==e(t)?t:""})},parseSizeStr:function(e){if("string"!=typeof e)return e;var t,r={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9\.]+)([tmgk]?)$/.exec(e.toLowerCase().replace(/[^0-9\.tmkg]/g,"")),t=e[2],e=+e[1],r.hasOwnProperty(t)&&(e*=r[t]),Math.floor(e)},delay:function(e,t){var r=this;setTimeout(function(){e.call(r)},t||1)}}}),n("moxie/core/utils/Encode",[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))};return{utf8_encode:e,utf8_decode:t,atob:function(e,r){if("function"==typeof window.atob)return r?t(window.atob(e)):window.atob(e);var n,i,o,a,s,u,l,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,d="",y=[];if(!e)return e;e+="";do{a=f.indexOf(e.charAt(h++)),s=f.indexOf(e.charAt(h++)),u=f.indexOf(e.charAt(h++)),l=f.indexOf(e.charAt(h++)),n=255&(c=a<<18|s<<12|u<<6|l)>>16,i=255&c>>8,o=255&c,y[p++]=64==u?String.fromCharCode(n):64==l?String.fromCharCode(n,i):String.fromCharCode(n,i,o)}while(h<e.length);return d=y.join(""),r?t(d):d},btoa:function(t,r){if(r&&(t=e(t)),"function"==typeof window.btoa)return window.btoa(t);var n,i,o,a,s,u,l,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,d="",y=[];if(!t)return t;do{n=t.charCodeAt(h++),i=t.charCodeAt(h++),o=t.charCodeAt(h++),a=63&(c=n<<16|i<<8|o)>>18,s=63&c>>12,u=63&c>>6,l=63&c,y[p++]=f.charAt(a)+f.charAt(s)+f.charAt(u)+f.charAt(l)}while(h<t.length);d=y.join("");var g=t.length%3;return(g?d.slice(0,g-3):d)+"===".slice(g||3)}}}),n("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(e){var t=function(e){var t="function",r="object",n="name",i="version",o={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},a={rgx:function(){for(var n,i,o,a,s,u,l,c=0,f=arguments;c<f.length;c+=2){var h=f[c],p=f[c+1];if(void 0===n)for(a in n={},p)typeof(s=p[a])===r?n[s[0]]=e:n[s]=e;for(i=o=0;i<h.length;i++)if(u=h[i].exec(this.getUA())){for(a=0;a<p.length;a++)l=u[++o],typeof(s=p[a])===r&&s.length>0?2==s.length?n[s[0]]=typeof s[1]==t?s[1].call(this,l):s[1]:3==s.length?n[s[0]]=typeof s[1]!==t||s[1].exec&&s[1].test?l?l.replace(s[1],s[2]):e:l?s[1].call(this,l,s[2]):e:4==s.length&&(n[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):e):n[s]=l||e;break}if(u)break}return n},str:function(t,n){for(var i in n)if(typeof n[i]===r&&n[i].length>0){for(var a=0;a<n[i].length;a++)if(o.has(n[i][a],t))return"?"===i?e:i}else if(o.has(n[i],t))return"?"===i?e:i;return t}},s={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},u={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,i],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],i],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[n,i],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],i],[/(edge)\/((\d+)?[\w\.]+)/i],[n,i],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],i],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],i],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[n,i],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],i],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],i],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[i,[n,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[i,[n,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[i,[n,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[i,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[i,n],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[i,a.str,s.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[n,i],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],i],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,i]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[i,[n,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,i],[/rv\:([\w\.]+).*(gecko)/i],[i,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,i],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[i,a.str,s.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[i,a.str,s.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],i],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[n,i],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[n,"Symbian"],i],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],i],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[n,i],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],i],[/(sunos)\s?([\w\.]+\d)*/i],[[n,"Solaris"],i],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[n,i],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[n,"iOS"],[i,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[i,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[n,i]]};return function(e){var t=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"");this.getBrowser=function(){return a.rgx.apply(this,u.browser)},this.getEngine=function(){return a.rgx.apply(this,u.engine)},this.getOS=function(){return a.rgx.apply(this,u.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return t},this.setUA=function(e){return t=e,this},this.setUA(t)}}(),r=function(){var t={define_property:!1,create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var r=new XMLHttpRequest;if(r.open("get","/"),"responseType"in r)return r.responseType=t,r.responseType===t}}catch(e){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==i.browser||i.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(r){var n=[].slice.call(arguments);return n.shift(),"function"===e.typeOf(t[r])?t[r].apply(this,n):!!t[r]}}(),n=(new t).getResult(),i={can:r,uaParser:t,browser:n.browser.name,version:n.browser.version,os:n.os.name,osVersion:n.os.version,verComp:function(e,t,r){var n=0,i=0,o=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]},u=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),i=Math.max(e.length,t.length),n=0;i>n;n++)if(e[n]!=t[n]){if(e[n]=u(e[n]),t[n]=u(t[n]),e[n]<t[n]){o=-1;break}if(e[n]>t[n]){o=1;break}}if(!r)return o;switch(r){case">":case"gt":return o>0;case">=":case"ge":return o>=0;case"<=":case"le":return 0>=o;case"==":case"=":case"eq":return 0===o;case"<>":case"!=":case"ne":return 0!==o;case"":case"<":case"lt":return 0>o;default:return null}},swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return i.OS=i.os,i}),n("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(e){function t(e,t){var r;for(r in e)if(e[r]===t)return r;return null}return{RuntimeError:function(){function i(e,n){this.code=e,this.name=t(r,e),this.message=this.name+(n||": RuntimeError "+this.code)}var r={NOT_INIT_ERR:1,EXCEPTION_ERR:3,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(i,r),i.prototype=Error.prototype,i}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function i(e){this.code=e,this.name=t(r,e),this.message=this.name+": ImageError "+this.code}var r={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2,INVALID_META_ERR:3};return e.extend(i,r),i.prototype=Error.prototype,i}(),FileException:function(){function i(e){this.code=e,this.name=t(r,e),this.message=this.name+": FileException "+this.code}var r={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(i,r),i.prototype=Error.prototype,i}(),DOMException:function(){function i(e){this.code=e,this.name=t(r,e),this.message=this.name+": DOMException "+this.code}var r={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(i,r),i.prototype=Error.prototype,i}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),n("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(e){var t=function(e,t){if(!e.className)return!1;var r=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return r.test(e.className)};return{get:function(e){return"string"!=typeof e?e:document.getElementById(e)},hasClass:t,addClass:function(e,r){t(e,r)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+r:r)},removeClass:function(e,t){if(e.className){var r=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(r,function(e,t,r){return" "===t&&" "===r?" ":""})}},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},getPos:function(t,r){function n(e){var t,r,n=0,i=0;return e&&(r=e.getBoundingClientRect(),t="CSS1Compat"===l.compatMode?l.documentElement:l.body,n=r.left+t.scrollLeft,i=r.top+t.scrollTop),{x:n,y:i}}var i,o,a,s=0,u=0,l=document;if(t=t,r=r||l.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!l.documentMode||l.documentMode<8))return o=n(t),a=n(r),{x:o.x-a.x,y:o.y-a.y};for(i=t;i&&i!=r&&i.nodeType;)s+=i.offsetLeft||0,u+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!=r&&i.nodeType;)s-=i.scrollLeft||0,u-=i.scrollTop||0,i=i.parentNode;return{x:s,y:u}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}}}}),n("moxie/core/EventTarget",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic"],function(e,t,r){function n(){this.uid=r.guid()}var i={};return r.extend(n.prototype,{init:function(){this.uid||(this.uid=r.guid("uid_"))},addEventListener:function(e,t,n,o){var a,s=this;return this.hasOwnProperty("uid")||(this.uid=r.guid("uid_")),e=r.trim(e),/\s/.test(e)?void r.each(e.split(/\s+/),function(e){s.addEventListener(e,t,n,o)}):(e=e.toLowerCase(),n=parseInt(n,10)||0,(a=i[this.uid]&&i[this.uid][e]||[]).push({fn:t,priority:n,scope:o||this}),i[this.uid]||(i[this.uid]={}),void(i[this.uid][e]=a))},hasEventListener:function(e){var t;return e?(e=e.toLowerCase(),t=i[this.uid]&&i[this.uid][e]):t=i[this.uid],t||!1},removeEventListener:function(e,t){var n,o,a=this;if(e=e.toLowerCase(),/\s/.test(e))r.each(e.split(/\s+/),function(e){a.removeEventListener(e,t)});else if(n=i[this.uid]&&i[this.uid][e]){if(t){for(o=n.length-1;o>=0;o--)if(n[o].fn===t){n.splice(o,1);break}}else n=[];n.length||(delete i[this.uid][e],r.isEmptyObj(i[this.uid])&&delete i[this.uid])}},removeAllEventListeners:function(){i[this.uid]&&delete i[this.uid]},dispatchEvent:function(e){var n,o,a,s,u,l={},c=!0;if("string"!==r.typeOf(e)){if(s=e,"string"!==r.typeOf(s.type))throw new t.EventException(t.EventException.UNSPECIFIED_EVENT_TYPE_ERR);e=s.type,s.total!==u&&s.loaded!==u&&(l.total=s.total,l.loaded=s.loaded),l.async=s.async||!1}if(-1!==e.indexOf("::")?function(t){n=t[0],e=t[1]}(e.split("::")):n=this.uid,e=e.toLowerCase(),o=i[n]&&i[n][e]){o.sort(function(e,t){return t.priority-e.priority}),(a=[].slice.call(arguments)).shift(),l.type=e,a.unshift(l);var f=[];r.each(o,function(e){a[0].target=e.scope,l.async?f.push(function(t){setTimeout(function(){t(!1===e.fn.apply(e.scope,a))},1)}):f.push(function(t){t(!1===e.fn.apply(e.scope,a))})}),f.length&&r.inSeries(f,function(e){c=!e})}return c},bindOnce:function(e,t,r,n){var i=this;i.bind.call(this,e,function o(){return i.unbind(e,o),t.apply(this,arguments)},r,n)},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(e){var t=this;this.bind(e.join(" "),function(e){var t="on"+e.type.toLowerCase();"function"===r.typeOf(this[t])&&this[t].apply(this,arguments)}),r.each(e,function(e){e="on"+e.toLowerCase(e),"undefined"===r.typeOf(t[e])&&(t[e]=null)})}}),n.instance=new n,n}),n("moxie/runtime/Runtime",["moxie/core/utils/Env","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(e,t,n,i){function r(e,i,o,s,u){var l,c=this,f=t.guid(i+"_"),h=u||"browser";e=e||{},a[f]=this,o=t.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),e.preferred_caps&&(h=r.getMode(s,e.preferred_caps,h)),l=function(){var e={};return{exec:function(t,r,n,i){return l[r]&&(e[t]||(e[t]={context:this,instance:new l[r]}),e[t].instance[n])?e[t].instance[n].apply(this,i):void 0},removeInstance:function(t){delete e[t]},removeAllInstances:function(){var r=this;t.each(e,function(e,n){"function"===t.typeOf(e.instance.destroy)&&e.instance.destroy.call(e.context),r.removeInstance(n)})}}}(),t.extend(this,{initialized:!1,uid:f,type:i,mode:r.getMode(s,e.required_caps,h),shimid:f+"_container",clients:0,options:e,can:function(e,n){var i=arguments[2]||o;if("string"===t.typeOf(e)&&"undefined"===t.typeOf(n)&&(e=r.parseCaps(e)),"object"===t.typeOf(e)){for(var a in e)if(!this.can(a,e[a],i))return!1;return!0}return"function"===t.typeOf(i[e])?i[e].call(this,n):n===i[e]},getShimContainer:function(){var e,r=n.get(this.shimid);return r||(e=n.get(this.options.container)||document.body,(r=document.createElement("div")).id=this.shimid,r.className="moxie-shim moxie-shim-"+this.type,t.extend(r.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.appendChild(r),e=null),r},getShim:function(){return l},shimExec:function(e,t){var r=[].slice.call(arguments,2);return c.getShim().exec.call(this,this.uid,e,t,r)},exec:function(e,t){var r=[].slice.call(arguments,2);return c[e]&&c[e][t]?c[e][t].apply(this,r):c.shimExec.apply(this,arguments)},destroy:function(){if(c){var e=n.get(this.shimid);e&&e.parentNode.removeChild(e),l&&l.removeAllInstances(),this.unbindAll(),delete a[this.uid],this.uid=null,f=c=l=e=null}}}),this.mode&&e.required_caps&&!this.can(e.required_caps)&&(this.mode=!1)}var o={},a={};return r.order="html5,flash,silverlight,html4",r.getRuntime=function(e){return!!a[e]&&a[e]},r.addConstructor=function(e,t){t.prototype=i.instance,o[e]=t},r.getConstructor=function(e){return o[e]||null},r.getInfo=function(e){var t=r.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},r.parseCaps=function(e){var r={};return"string"!==t.typeOf(e)?e||{}:(t.each(e.split(","),function(e){r[e]=!0}),r)},r.can=function(e,t){var n,i,o=r.getConstructor(e);return!!o&&(n=new o({required_caps:t}),i=n.mode,n.destroy(),!!i)},r.thatCan=function(e,t){var n=(t||r.order).split(/\s*,\s*/);for(var i in n)if(r.can(n[i],e))return n[i];return null},r.getMode=function(e,r,n){var i=null;if("undefined"===t.typeOf(n)&&(n="browser"),r&&!t.isEmptyObj(e)){if(t.each(r,function(r,n){if(e.hasOwnProperty(n)){var o=e[n](r);if("string"==typeof o&&(o=[o]),i){if(!(i=t.arrayIntersect(i,o)))return i=!1}else i=o}}),i)return-1!==t.inArray(n,i)?n:i[0];if(!1===i)return!1}return n},r.capTrue=function(){return!0},r.capFalse=function(){return!1},r.capTest=function(e){return function(){return!!e}},r}),n("moxie/runtime/RuntimeClient",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(e,t,r,n){return function(){var e;r.extend(this,{connectRuntime:function(i){var a,s=this;if("string"===r.typeOf(i)?a=i:"string"===r.typeOf(i.ruid)&&(a=i.ruid),a){if(e=n.getRuntime(a))return s.ruid=a,e.clients++,e;throw new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)}!function o(r){var a,u;return r.length?(a=r.shift().toLowerCase(),(u=n.getConstructor(a))?(e=new u(i),e.bind("Init",function(){e.initialized=!0,setTimeout(function(){e.clients++,s.ruid=e.uid,s.trigger("RuntimeInit",e)},1)}),e.bind("Error",function(){e.destroy(),o(r)}),e.bind("Exception",function(e,r){var n=r.name+"(#"+r.code+")"+(r.message?", from: "+r.message:"");s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.EXCEPTION_ERR,n))}),e.mode?void e.init():void e.trigger("Error")):void o(r)):(s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)),void(e=null))}((i.runtime_order||n.order).split(/\s*,\s*/))},disconnectRuntime:function(){e&&--e.clients<=0&&e.destroy(),e=null},getRuntime:function(){return e&&e.uid?e:e=null},exec:function(){return e?e.exec.apply(this,arguments):null},can:function(t){return!!e&&e.can(t)}})}}),n("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(e,t,r){var i={};return function n(o,a){function s(t,r,o){var a,s=i[this.uid];return"string"===e.typeOf(s)&&s.length?((a=new n(null,{type:o,size:r-t})).detach(s.substr(t,a.size)),a):null}r.call(this),o&&this.connectRuntime(o),a?"string"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid("uid_"),ruid:o,size:a.size||0,type:a.type||"",slice:function(e,t,r){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,r)},getSource:function(){return i[this.uid]?i[this.uid]:null},detach:function(e){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),"data:"==(e=e||"").substr(0,5)){var r=e.indexOf(";base64,");this.type=e.substring(5,r),e=t.atob(e.substring(r+8))}this.size=e.length,i[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(i[this.uid])},destroy:function(){this.detach(),delete i[this.uid]}}),a.data?this.detach(a.data):i[this.uid]=a}}),n("moxie/core/I18n",["moxie/core/utils/Basic"],function(e){var t={};return{addI18n:function(r){return e.extend(t,r)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var r=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=r.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),n("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(e,t){var r={mimes:{},extensions:{},addMimeType:function(e){var t,r,n,i=e.split(/,/);for(t=0;t<i.length;t+=2){for(n=i[t+1].split(/ /),r=0;r<n.length;r++)this.mimes[n[r]]=i[t];this.extensions[i[t]]=n}},extList2mimes:function(t,r){var n,i,o,a,s=[];for(i=0;i<t.length;i++)for(n=t[i].extensions.toLowerCase().split(/\s*,\s*/),o=0;o<n.length;o++){if("*"===n[o])return[];if(a=this.mimes[n[o]],r&&/^\w+$/.test(n[o]))s.push("."+n[o]);else if(a&&-1===e.inArray(a,s))s.push(a);else if(!a)return[]}return s},mimes2exts:function(t){var r=this,n=[];return e.each(t,function(t){if("*"===(t=t.toLowerCase()))return n=[],!1;var i=t.match(/^(\w+)\/(\*|\w+)$/);i&&("*"===i[2]?e.each(r.extensions,function(e,t){new RegExp("^"+i[1]+"/").test(t)&&[].push.apply(n,r.extensions[t])}):r.extensions[t]&&[].push.apply(n,r.extensions[t]))}),n},mimes2extList:function(r){var n=[],i=[];return"string"===e.typeOf(r)&&(r=e.trim(r).split(/\s*,\s*/)),i=this.mimes2exts(r),n.push({title:t.translate("Files"),extensions:i.length?i.join(","):"*"}),n.mimes=r,n},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return r.addMimeType("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe"),r}),n("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(e,t,r,n,i,o,a,s,u){function c(t){var o,c,f;if(-1!==e.inArray(e.typeOf(t),["string","node"])&&(t={browse_button:t}),!(c=n.get(t.browse_button)))throw new i.DOMException(i.DOMException.NOT_FOUND_ERR);f={accept:[{title:a.translate("All Files"),extensions:"*"}],multiple:!1,required_caps:!1,container:c.parentNode||document.body},"string"==typeof(t=e.extend({},f,t)).required_caps&&(t.required_caps=s.parseCaps(t.required_caps)),"string"==typeof t.accept&&(t.accept=r.mimes2extList(t.accept)),(o=n.get(t.container))||(o=document.body),"static"===n.getStyle(o,"position")&&(o.style.position="relative"),o=c=null,u.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){var r=this;r.bind("RuntimeInit",function(i,o){r.ruid=o.uid,r.shimid=o.shimid,r.bind("Ready",function(){r.trigger("Refresh")},999),r.bind("Refresh",function(){var r,i,a,s,u;a=n.get(t.browse_button),s=n.get(o.shimid),a&&(r=n.getPos(a,n.get(t.container)),i=n.getSize(a),u=parseInt(n.getStyle(a,"z-index"),10)||0,s&&e.extend(s.style,{top:r.y+"px",left:r.x+"px",width:i.w+"px",height:i.h+"px",zIndex:u+1})),s=a=null}),o.exec.call(r,"FileInput","init",t)}),r.connectRuntime(e.extend({},t,{required_caps:{select_file:!0}}))},getOption:function(e){return t[e]},setOption:function(e,n){if(t.hasOwnProperty(e)){var o=t[e];switch(e){case"accept":"string"==typeof n&&(n=r.mimes2extList(n));break;case"container":case"required_caps":throw new i.FileException(i.FileException.NO_MODIFICATION_ALLOWED_ERR)}t[e]=n,this.exec("FileInput","setOption",e,n),this.trigger("OptionChanged",e,n,o)}},disable:function(t){var r=this.getRuntime();r&&this.exec("FileInput","disable","undefined"===e.typeOf(t)||t)},refresh:function(){this.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null,this.unbindAll()}}),this.handleEventProps(l)}var l=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=o.instance,c}),n("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(e,t,r){function n(n,i){var o;if(i||(i={}),r.apply(this,arguments),this.type||(this.type=t.getFileMime(i.name)),i.name)o=(o=i.name.replace(/\\/g,"/")).substr(o.lastIndexOf("/")+1);else if(this.type){var a=this.type.split("/")[0];o=e.guid((""!==a?a:"file")+"_"),t.extensions[this.type]&&(o+="."+t.extensions[this.type][0])}e.extend(this,{name:o||e.guid("file_"),relativePath:"",lastModifiedDate:i.lastModifiedDate||(new Date).toLocaleString()})}return n.prototype=r.prototype,n}),n("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/core/utils/Env","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(e,t,r,n,i,o,a,s,u){function c(r){var i,o=this;"string"==typeof r&&(r={drop_zone:r}),i={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},(r="object"==typeof r?n.extend({},i,r):i).container=t.get(r.drop_zone)||document.body,"static"===t.getStyle(r.container,"position")&&(r.container.style.position="relative"),"string"==typeof r.accept&&(r.accept=u.mimes2extList(r.accept)),a.call(o),n.extend(o,{uid:n.guid("uid_"),ruid:null,files:null,init:function(){o.bind("RuntimeInit",function(e,t){o.ruid=t.uid,t.exec.call(o,"FileDrop","init",r),o.dispatchEvent("ready")}),o.connectRuntime(r)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(l)}var l=["ready","dragenter","dragleave","drop","error"];return c.prototype=s.instance,c}),n("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/runtime/RuntimeClient"],function(e,t,r,i,o,s){function a(){function n(e,n){if(this.trigger("loadstart"),this.readyState===a.LOADING)return this.trigger("error",new r.DOMException(r.DOMException.INVALID_STATE_ERR)),void this.trigger("loadend");if(!(n instanceof o))return this.trigger("error",new r.DOMException(r.DOMException.NOT_FOUND_ERR)),void this.trigger("loadend");if(this.result=null,this.readyState=a.LOADING,n.isDetached()){var i=n.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=i;break;case"readAsDataURL":this.result="data:"+n.type+";base64,"+t.btoa(i)}this.readyState=a.DONE,this.trigger("load"),this.trigger("loadend")}else this.connectRuntime(n.ruid),this.exec("FileReader","read",e,n)}s.call(this),e.extend(this,{uid:e.guid("uid_"),readyState:a.EMPTY,result:null,error:null,readAsBinaryString:function(e){n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){n.call(this,"readAsDataURL",e)},readAsText:function(e){n.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[a.EMPTY,a.DONE])&&(this.readyState===a.LOADING&&(this.readyState=a.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(u),this.bind("Error",function(e,t){this.readyState=a.DONE,this.error=t},999),this.bind("Load",function(){this.readyState=a.DONE},999)}var u=["loadstart","progress","load","abort","error","loadend"];return a.EMPTY=0,a.LOADING=1,a.DONE=2,a.prototype=i.instance,a}),n("moxie/core/utils/Url",[],function(){var e=function(t,r){for(var n=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],i=n.length,o={},a=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?(\[[\da-fA-F:]+\]|[^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(t||"");i--;)a[i]&&(o[n[i]]=a[i]);if(!o.scheme){r&&"string"!=typeof r||(r=e(r||document.location.href)),o.scheme=r.scheme,o.host=r.host,o.port=r.port;var s="";/^[^\/]/.test(o.path)&&(s=r.path,s=/\/[^\/]*\.[^\/]*$/.test(s)?s.replace(/\/[^\/]+$/,"/"):s.replace(/\/?$/,"/")),o.path=s+(o.path||"")}return o.port||(o.port={http:80,https:443}[o.scheme]||80),o.port=parseInt(o.port,10),o.path||(o.path="/"),delete o.source,o};return{parseUrl:e,resolveUrl:function(t){var r="object"==typeof t?t:e(t);return r.scheme+"://"+r.host+(r.port!=={http:80,https:443}[r.scheme]?":"+r.port:"")+r.path+(r.query?r.query:"")},hasSameOrigin:function(t){function i(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),i(e())===i(t)}}}),n("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,r){function n(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return n.prototype=r.instance,n}),n("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(e,t,r){return function(){function n(e,t){if(!t.isDetached()){var n=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),n}var i=t.getSource();switch(e){case"readAsBinaryString":return i;case"readAsDataURL":return"data:"+t.type+";base64,"+r.btoa(i);case"readAsText":for(var o="",a=0,s=i.length;s>a;a++)o+=String.fromCharCode(i[a]);return o}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return n.call(this,"readAsDataURL",e)},readAsText:function(e){return n.call(this,"readAsText",e)}})}}),n("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(e,t,r){return function(){var e,n=[];t.extend(this,{append:function(i,o){var a=this,s=t.typeOf(o);o instanceof r?e={name:i,value:o}:"array"===s?(i+="[]",t.each(o,function(e){a.append(i,e)})):"object"===s?t.each(o,function(e,t){a.append(i+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&&isNaN(o)?a.append(i,"false"):n.push({name:i,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(r){t.each(n,function(e){r(e.value,e.name)}),e&&r(e.value,e.name)},destroy:function(){e=null,n=[]}})}}),n("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(e,t,o,a,s,l,c,f,p,d,y,g){function m(){this.uid=e.guid("uid_")}function h(){function i(e,t){return O.hasOwnProperty(e)?1===arguments.length?y.can("define_property")?O[e]:C[e]:void(y.can("define_property")?O[e]=t:C[e]=t):void 0}function u(t){function n(){S&&(S.destroy(),S=null),a.dispatchEvent("loadend"),a=null}function r(r){S.bind("LoadStart",function(e){i("readyState",h.LOADING),a.dispatchEvent("readystatechange"),a.dispatchEvent(e),D&&a.upload.dispatchEvent(e)}),S.bind("Progress",function(e){i("readyState")!==h.LOADING&&(i("readyState",h.LOADING),a.dispatchEvent("readystatechange")),a.dispatchEvent(e)}),S.bind("UploadProgress",function(e){D&&a.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),S.bind("Load",function(t){i("readyState",h.DONE),i("status",Number(r.exec.call(S,"XMLHttpRequest","getStatus")||0)),i("statusText",v[i("status")]||""),i("response",r.exec.call(S,"XMLHttpRequest","getResponse",i("responseType"))),~e.inArray(i("responseType"),["text",""])?i("responseText",i("response")):"document"===i("responseType")&&i("responseXML",i("response")),j=r.exec.call(S,"XMLHttpRequest","getAllResponseHeaders"),a.dispatchEvent("readystatechange"),i("status")>0?(D&&a.upload.dispatchEvent(t),a.dispatchEvent(t)):(F=!0,a.dispatchEvent("error")),n()}),S.bind("Abort",function(e){a.dispatchEvent(e),n()}),S.bind("Error",function(e){F=!0,i("readyState",h.DONE),a.dispatchEvent("readystatechange"),M=!0,a.dispatchEvent(e),n()}),r.exec.call(S,"XMLHttpRequest","send",{url:o,method:p,async:T,user:_,password:w,headers:A,mimeType:k,encoding:x,responseType:a.responseType,withCredentials:a.withCredentials,options:I},t)}var a=this;(new Date).getTime(),S=new c,"string"==typeof I.required_caps&&(I.required_caps=l.parseCaps(I.required_caps)),I.required_caps=e.extend({},I.required_caps,{return_response_type:a.responseType}),t instanceof d&&(I.required_caps.send_multipart=!0),e.isEmptyObj(A)||(I.required_caps.send_custom_headers=!0),N||(I.required_caps.do_cors=!0),I.ruid?r(S.connectRuntime(I)):(S.bind("RuntimeInit",function(e,t){r(t)}),S.bind("RuntimeError",function(e,t){a.dispatchEvent("RuntimeError",t)}),S.connectRuntime(I))}var o,p,_,w,S,E,C=this,O={timeout:0,readyState:h.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},T=!0,A={},x=null,k=null,R=!1,P=!1,D=!1,M=!1,F=!1,N=!1,I={},j="";e.extend(this,O,{uid:e.guid("uid_"),upload:new m,open:function(r,n,u,l,c){var f;if(!r||!n)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(r)||a.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(r.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(p=r.toUpperCase()),~e.inArray(p,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(n=a.utf8_encode(n),f=s.parseUrl(n),N=s.hasSameOrigin(f),o=s.resolveUrl(n),(l||c)&&!N)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(_=l||f.user,w=c||f.pass,!1===(T=u||!0)&&(i("timeout")||i("withCredentials")||""!==i("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);R=!T,P=!1,A={},(function(){i("responseText",""),i("responseXML",null),i("response",null),i("status",0),i("statusText",""),null}).call(this),i("readyState",h.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(r,n){if(i("readyState")!==h.OPENED||P)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||a.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),!~e.inArray(r,["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"])&&!/^(proxy\-|sec\-)/.test(r)&&(A[r]?A[r]+=", "+n:A[r]=n,!0)},hasRequestHeader:function(e){return e&&A[e.toLowerCase()]||!1},getAllResponseHeaders:function(){return j||""},getResponseHeader:function(t){return t=t.toLowerCase(),F||~e.inArray(t,["set-cookie","set-cookie2"])?null:j&&""!==j&&(E||(E={},e.each(j.split(/\r\n/),function(t){var r=t.split(/:\s+/);2===r.length&&(r[0]=e.trim(r[0]),E[r[0].toLowerCase()]={header:r[0],value:e.trim(r[1])})})),E.hasOwnProperty(t))?E[t].header+": "+E[t].value:null},overrideMimeType:function(r){var n,o;if(~e.inArray(i("readyState"),[h.LOADING,h.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(r=e.trim(r.toLowerCase()),/;/.test(r)&&(n=r.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(r=n[1],n[2]&&(o=n[2])),!g.mimes[r])throw new t.DOMException(t.DOMException.SYNTAX_ERR);r,o},send:function(r,n){if(I="string"===e.typeOf(n)?{ruid:n}:n||{},this.readyState!==h.OPENED||P)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(r instanceof f)I.ruid=r.ruid,k=r.type||"application/octet-stream";else if(r instanceof d){if(r.hasBlob()){var i=r.getBlob();I.ruid=i.ruid,k=i.type||"application/octet-stream"}}else"string"==typeof r&&(x="UTF-8",k="text/plain;charset=UTF-8",r=a.utf8_encode(r));this.withCredentials||(this.withCredentials=I.required_caps&&I.required_caps.send_browser_cookies&&!N),D=!R&&this.upload.hasEventListener(),F=!1,M=!r,R||(P=!0),u.call(this,r)},abort:function(){if(F=!0,R=!1,~e.inArray(i("readyState"),[h.UNSENT,h.OPENED,h.DONE]))i("readyState",h.UNSENT);else{if(i("readyState",h.DONE),P=!1,!S)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);S.getRuntime().exec.call(S,"XMLHttpRequest","abort",M),M=!0}},destroy:function(){S&&("function"===e.typeOf(S.destroy)&&S.destroy(),S=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(b.concat(["readystatechange"])),this.upload.handleEventProps(b)}var v={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};m.prototype=o.instance;var b=["loadstart","progress","abort","error","load","timeout","loadend"];return h.UNSENT=0,h.OPENED=1,h.HEADERS_RECEIVED=2,h.LOADING=3,h.DONE=4,h.prototype=o.instance,h}),n("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i,s){function r(){function n(){c=f=0,l=this.result=null}function o(t,n){var i=this;u=n,i.bind("TransportingProgress",function(t){f=t.loaded,c>f&&-1===e.inArray(i.state,[r.IDLE,r.DONE])&&a.call(i)},999),i.bind("TransportingComplete",function(){f=c,i.state=r.DONE,l=null,i.result=u.exec.call(i,"Transporter","getAsBlob",t||"")},999),i.state=r.BUSY,i.trigger("TransportingStarted"),a.call(i)}function a(){var e,r=c-f;h>r&&(h=r),e=t.btoa(l.substr(f,h)),u.exec.call(this,"Transporter","receive",e,c)}var s,u,l,c,f,h;i.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,r,i){var a=this;if(i=e.extend({chunk_size:204798},i),(s=i.chunk_size%3)&&(i.chunk_size+=3-s),h=i.chunk_size,n.call(this),l=t,c=t.length,"string"===e.typeOf(i)||i.ruid)o.call(a,r,this.connectRuntime(i));else{var u=function(e,t){a.unbind("RuntimeInit",u),o.call(a,r,t)};this.bind("RuntimeInit",u),this.connectRuntime(i)}},abort:function(){var e=this;e.state=r.IDLE,u&&(u.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),n.call(e)},destroy:function(){this.unbindAll(),u=null,this.disconnectRuntime(),n.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=s.instance,r}),n("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(e,t,r,i,o,a,s,u,l,f,p,d,y){function h(){function c(t){var n=e.typeOf(t);try{if(t instanceof h){if(!t.size)throw new r.DOMException(r.DOMException.INVALID_STATE_ERR);(function(t,r){var n=this.connectRuntime(t.ruid);this.ruid=n.uid,n.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(r)||r)}).apply(this,arguments)}else if(t instanceof p){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new r.ImageError(r.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(n,["blob","file"]))c.call(this,new d(null,t),arguments[1]);else if("string"===n)"data:"===t.substr(0,5)?c.call(this,new p(null,{data:t}),arguments[1]):(function(e,t){var r,n=this;(r=new o).open("get",e),r.responseType="blob",r.onprogress=function(e){n.trigger(e)},r.onload=function(){g.call(n,r.response,!0)},r.onerror=function(e){n.trigger(e)},r.onloadend=function(){r.destroy()},r.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),r.send(null,t)}).apply(this,arguments);else{if("node"!==n||"img"!==t.nodeName.toLowerCase())throw new r.DOMException(r.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(e){this.trigger("error",e.code)}}function g(t,r){function n(e){i.ruid=e.uid,e.exec.call(i,"Image","loadFromBlob",t)}var i=this;i.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){n(t)}),r&&"string"==typeof r.required_caps&&(r.required_caps=a.parseCaps(r.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},r))):n(this.connectRuntime(t.ruid))}s.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){c.apply(this,arguments)},resize:function(t){var n,i,o=this,a={x:0,y:0,width:o.width,height:o.height},s=e.extendIf({width:o.width,height:o.height,type:o.type||"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},t);try{if(!o.size)throw new r.DOMException(r.DOMException.INVALID_STATE_ERR);if(o.width>h.MAX_RESIZE_WIDTH||o.height>h.MAX_RESIZE_HEIGHT)throw new r.ImageError(r.ImageError.MAX_RESOLUTION_ERR);if(n=o.meta&&o.meta.tiff&&o.meta.tiff.Orientation||1,-1!==e.inArray(n,[5,6,7,8])){var u=s.width;s.width=s.height,s.height=u}if(s.crop){switch(i=Math.max(s.width/o.width,s.height/o.height),t.fit?(a.width=Math.min(Math.ceil(s.width/i),o.width),a.height=Math.min(Math.ceil(s.height/i),o.height),i=s.width/a.width):(a.width=Math.min(s.width,o.width),a.height=Math.min(s.height,o.height),i=1),"boolean"==typeof s.crop&&(s.crop="cc"),s.crop.toLowerCase().replace(/_/,"-")){case"rb":case"right-bottom":a.x=o.width-a.width,a.y=o.height-a.height;break;case"cb":case"center-bottom":a.x=Math.floor((o.width-a.width)/2),a.y=o.height-a.height;break;case"lb":case"left-bottom":a.x=0,a.y=o.height-a.height;break;case"lt":case"left-top":a.x=0,a.y=0;break;case"ct":case"center-top":a.x=Math.floor((o.width-a.width)/2),a.y=0;break;case"rt":case"right-top":a.x=o.width-a.width,a.y=0;break;case"rc":case"right-center":case"right-middle":a.x=o.width-a.width,a.y=Math.floor((o.height-a.height)/2);break;case"lc":case"left-center":case"left-middle":a.x=0,a.y=Math.floor((o.height-a.height)/2);break;case"cc":case"center-center":case"center-middle":default:a.x=Math.floor((o.width-a.width)/2),a.y=Math.floor((o.height-a.height)/2)}a.x=Math.max(a.x,0),a.y=Math.max(a.y,0)}else i=Math.min(s.width/o.width,s.height/o.height);this.exec("Image","resize",a,i,s)}catch(e){o.trigger("error",e.code)}},downsize:function(t){var r,n={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,preserveHeaders:!0,resample:"default"};r="object"==typeof t?e.extend(n,t):e.extend(n,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]}),this.resize(r)},crop:function(e,t,r){this.downsize(e,t,!0,r)},getAsCanvas:function(){if(!l.can("create_canvas"))throw new r.RuntimeError(r.RuntimeError.NOT_SUPPORTED_ERR);return this.exec("Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new r.DOMException(r.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsBlob",e||"image/jpeg",t||90)},getAsDataURL:function(e,t){if(!this.size)throw new r.DOMException(r.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsDataURL",e||"image/jpeg",t||90)},getAsBinaryString:function(e,t){var r=this.getAsDataURL(e,t);return y.atob(r.substring(r.indexOf("base64,")+7))},embed:function(n,i){var o,a=this,s=e.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90},i);try{if(!(n=t.get(n)))throw new r.DOMException(r.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new r.DOMException(r.DOMException.INVALID_STATE_ERR);this.width>h.MAX_RESIZE_WIDTH||(this.height,h.MAX_RESIZE_HEIGHT);var c=new h;return c.bind("Resize",function(){(function(t,i){var s=this;if(l.can("create_canvas")){var c=s.getAsCanvas();if(c)return n.appendChild(c),c=null,s.destroy(),void a.trigger("embedded")}var f=s.getAsDataURL(t,i);if(!f)throw new r.ImageError(r.ImageError.WRONG_FORMAT);if(l.can("use_data_uri_of",f.length))n.innerHTML='<img src="'+f+'" width="'+s.width+'" height="'+s.height+'" />',s.destroy(),a.trigger("embedded");else{var h=new u;h.bind("TransportingComplete",function(){o=a.connectRuntime(this.result.ruid),a.bind("Embedded",function(){e.extend(o.getShimContainer().style,{top:"0px",left:"0px",width:s.width+"px",height:s.height+"px"}),o=null},999),o.exec.call(a,"ImageView","display",this.result.uid,width,height),s.destroy()}),h.transport(y.atob(f.substring(f.indexOf("base64,")+7)),t,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:n})}}).call(this,s.type,s.quality)}),c.bind("Load",function(){this.downsize(s)}),this.meta.thumb&&this.meta.thumb.width>=s.width&&this.meta.thumb.height>=s.height?c.load(this.meta.thumb.data):c.clone(this,!1),c}catch(e){this.trigger("error",e.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.meta&&this.meta.thumb&&this.meta.thumb.data.destroy(),this.unbindAll()}}),this.handleEventProps(m),this.bind("Load Resize",function(){return(function(e){try{return e||(e=this.exec("Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name),!0}catch(e){return this.trigger("error",e.code),!1}}).call(this)},999)}var m=["progress","load","error","resize","embedded"];return h.MAX_RESIZE_WIDTH=8192,h.MAX_RESIZE_HEIGHT=8192,h.prototype=f.instance,h}),n("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,n,i){var o="html5",a={};return n.addConstructor(o,function(t){var s=this,u=n.capTest,l=n.capTrue,c=e.extend({access_binary:u(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return s.can("access_binary")&&!!a.Image},display_media:u((i.can("create_canvas")||i.can("use_data_uri_over32kb"))&&r("moxie/image/Image")),do_cors:u(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:u(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==i.browser||i.verComp(i.version,9,">"))}()),filter_by_extension:u(!("Chrome"===i.browser&&i.verComp(i.version,28,"<")||"IE"===i.browser&&i.verComp(i.version,10,"<")||"Safari"===i.browser&&i.verComp(i.version,7,"<")||"Firefox"===i.browser&&i.verComp(i.version,37,"<"))),return_response_headers:l,return_response_type:function(e){return!("json"!==e||!window.JSON)||i.can("return_response_type",e)},return_status_code:l,report_upload_progress:u(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return s.can("access_binary")&&i.can("create_canvas")},select_file:function(){return i.can("use_fileinput")&&window.File},select_folder:function(){return s.can("select_file")&&("Chrome"===i.browser&&i.verComp(i.version,21,">=")||"Firefox"===i.browser&&i.verComp(i.version,42,">="))},select_multiple:function(){return!(!s.can("select_file")||"Safari"===i.browser&&"Windows"===i.os||"iOS"===i.os&&i.verComp(i.osVersion,"7.0.0",">")&&i.verComp(i.osVersion,"8.0.0","<"))},send_binary_string:u(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:u(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||s.can("send_binary_string")},slice_blob:u(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return s.can("slice_blob")&&s.can("send_multipart")},summon_file_dialog:function(){return s.can("select_file")&&("Firefox"===i.browser&&i.verComp(i.version,4,">=")||"Opera"===i.browser&&i.verComp(i.version,12,">=")||"IE"===i.browser&&i.verComp(i.version,10,">=")||!!~e.inArray(i.browser,["Chrome","Safari","Edge"]))},upload_filesize:l,use_http_method:l},arguments[2]);n.call(this,t,arguments[1]||o,c),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(s),e=s=null}}(this.destroy)}),e.extend(this.getShim(),a)}),a}),n("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(e,t){return e.Blob=function(){this.slice=function(){return new t(this.getRuntime().uid,(function(e,t,r){var n;if(!window.File.prototype.slice)return(n=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?n.call(e,t,r):null;try{return e.slice(),e.slice(t,r)}catch(n){return e.slice(t,r-t)}}).apply(this,arguments))}}}),n("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(e){function t(){this.returnValue=!1}function i(){this.cancelBubble=!0}var r={},n="moxie_"+e.guid(),o=function(t,i,o){var a,s;if(i=i.toLowerCase(),t[n]&&r[t[n]]&&r[t[n]][i]){for(var u=(a=r[t[n]][i]).length-1;u>=0&&(a[u].orig!==o&&a[u].key!==o||(t.removeEventListener?t.removeEventListener(i,a[u].func,!1):t.detachEvent&&t.detachEvent("on"+i,a[u].func),a[u].orig=null,a[u].func=null,a.splice(u,1),o===s));u--);if(a.length||delete r[t[n]][i],e.isEmptyObj(r[t[n]])){delete r[t[n]];try{delete t[n]}catch(e){t[n]=s}}}};return{addEvent:function(o,a,s,u){var l,c;a=a.toLowerCase(),o.addEventListener?(l=s,o.addEventListener(a,l,!1)):o.attachEvent&&(l=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=i,s(e)},o.attachEvent("on"+a,l)),o[n]||(o[n]=e.guid()),r.hasOwnProperty(o[n])||(r[o[n]]={}),(c=r[o[n]]).hasOwnProperty(a)||(c[a]=[]),c[a].push({func:l,orig:s,key:u})},removeEvent:o,removeAllEvents:function(t,i){t&&t[n]&&e.each(r[t[n]],function(e,r){o(t,r,i)})}}}),n("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,r,n,i,o,a){return e.FileInput=function(){var e,s;r.extend(this,{init:function(u){var l,c,f,h,p,d,y=this,g=y.getRuntime();f=(e=u).accept.mimes||o.extList2mimes(e.accept,g.can("filter_by_extension")),(c=g.getShimContainer()).innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(f?' accept="'+f.join(",")+'"':"")+" />",l=n.get(g.uid),r.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),h=n.get(e.browse_button),s=n.getStyle(h,"z-index")||"auto",g.can("summon_file_dialog")&&("static"===n.getStyle(h,"position")&&(h.style.position="relative"),i.addEvent(h,"click",function(e){var t=n.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},y.uid),y.bind("Refresh",function(){p=parseInt(s,10)||1,n.get(e.browse_button).style.zIndex=p,this.getRuntime().getShimContainer().style.zIndex=p-1})),d=g.can("summon_file_dialog")?h:c,i.addEvent(d,"mouseover",function(){y.trigger("mouseenter")},y.uid),i.addEvent(d,"mouseout",function(){y.trigger("mouseleave")},y.uid),i.addEvent(d,"mousedown",function(){y.trigger("mousedown")},y.uid),i.addEvent(n.get(e.container),"mouseup",function(){y.trigger("mouseup")},y.uid),l.onchange=function x(){if(y.files=[],r.each(this.files,function(r){var n="";return!(!e.directory||"."!=r.name)||(r.webkitRelativePath&&(n="/"+r.webkitRelativePath.replace(/^\//,"")),(r=new t(g.uid,r)).relativePath=n,void y.files.push(r))}),"IE"!==a.browser&&"IEMobile"!==a.browser)this.value="";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=x}y.files.length&&y.trigger("change")},y.trigger({type:"ready",async:!0}),c=null},setOption:function(e,t){var r=this.getRuntime(),i=n.get(r.uid);switch(e){case"accept":if(t){var a=t.mimes||o.extList2mimes(t,r.can("filter_by_extension"));i.setAttribute("accept",a.join(","))}else i.removeAttribute("accept");break;case"directory":t&&r.can("select_folder")?(i.setAttribute("directory",""),i.setAttribute("webkitdirectory","")):(i.removeAttribute("directory"),i.removeAttribute("webkitdirectory"));break;case"multiple":t&&r.can("select_multiple")?i.setAttribute("multiple",""):i.removeAttribute("multiple")}},disable:function(e){var t,r=this.getRuntime();(t=n.get(r.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),r=t.getShim(),o=t.getShimContainer(),a=e&&n.get(e.container),u=e&&n.get(e.browse_button);a&&i.removeAllEvents(a,this.uid),u&&(i.removeAllEvents(u,this.uid),u.style.zIndex=s),o&&(i.removeAllEvents(o,this.uid),o.innerHTML=""),r.removeInstance(this.uid),e=o=a=u=r=null}})}}),n("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(t,r,n,i,o,s){return t.FileDrop=function(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var t=n.toArray(e.dataTransfer.types||[]);return-1!==n.inArray("Files",t)||-1!==n.inArray("public.file-url",t)||-1!==n.inArray("application/x-moz-file",t)}function a(e,t){if(u(e)){var n=new r(c,e);n.relativePath=t||"",f.push(n)}}function u(e){if(!h.length)return!0;var t=s.getFileExtension(e.name);return!t||-1!==n.inArray(t,h)}function l(e,t){var r=[];n.each(e,function(e){r.push(function(t){d(e,t)})}),n.inSeries(r,function(){t()})}function d(e,t){e.isFile?e.file(function(r){a(r,e.fullPath),t()},function(){t()}):e.isDirectory?function(e,t){var r=[],n=e.createReader();!function i(e){n.readEntries(function(t){t.length?([].push.apply(r,t),i(e)):e()},e)}(function(){l(r,t)})}(e,t):t()}var t,c,f=[],h=[];n.extend(this,{init:function(r){var i,s=this;t=r,c=s.ruid,h=function(e){for(var t=[],r=0;r<e.length;r++)[].push.apply(t,e[r].extensions.split(/\s*,\s*/));return-1===n.inArray("*",t)?t:[]}(t.accept),i=t.container,o.addEvent(i,"dragover",function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")},s.uid),o.addEvent(i,"drop",function(t){e(t)&&(t.preventDefault(),f=[],t.dataTransfer.items&&t.dataTransfer.items[0].webkitGetAsEntry?function(e,t){var r=[];n.each(e,function(e){var t=e.webkitGetAsEntry();t&&(t.isFile?a(e.getAsFile(),t.fullPath):r.push(t))}),r.length?l(r,t):t()}(t.dataTransfer.items,function(){s.files=f,s.trigger("drop")}):(n.each(t.dataTransfer.files,function(e){a(e)}),s.files=f,s.trigger("drop")))},s.uid),o.addEvent(i,"dragenter",function(){s.trigger("dragenter")},s.uid),o.addEvent(i,"dragleave",function(){s.trigger("dragleave")},s.uid)},destroy:function(){o.removeAllEvents(t&&i.get(t.container),this.uid),c=f=h=t=null}})}}),n("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(t,r,n){return t.FileReader=function(){function e(e){return r.atob(e.substring(e.indexOf("base64,")+7))}var t,i=!1;n.extend(this,{read:function(r,o){var a=this;a.result="",(t=new window.FileReader).addEventListener("progress",function(e){a.trigger(e)}),t.addEventListener("load",function(r){a.result=i?e(t.result):t.result,a.trigger(r)}),t.addEventListener("error",function(e){a.trigger(e,t.error)}),t.addEventListener("loadend",function(e){t=null,a.trigger(e)}),"function"===n.typeOf(t[r])?(i=!1,t[r](o.getSource())):"readAsBinaryString"===r&&(i=!0,t.readAsDataURL(o.getSource()))},abort:function(){t&&t.abort()},destroy:function(){t=null}})}}),n("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(t,r,n,i,o,a,s,u,l){return t.XMLHttpRequest=function(){function e(e,t){var r,n,i=this;r=t.getBlob().getSource(),(n=new window.FileReader).onload=function(){t.append(t.getBlobName(),new a(null,{type:r.type,data:n.result})),f.send.call(i,e,t)},n.readAsBinaryString(r)}function d(e){var r="----moxieboundary"+(new Date).getTime(),n="--",i="\r\n",o="",s=this.getRuntime();if(!s.can("send_binary_string"))throw new u.RuntimeError(u.RuntimeError.NOT_SUPPORTED_ERR);return t.setRequestHeader("Content-Type","multipart/form-data; boundary="+r),e.each(function(e,t){o+=e instanceof a?n+r+i+'Content-Disposition: form-data; name="'+t+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+i+"Content-Type: "+(e.type||"application/octet-stream")+i+i+e.getSource()+i:n+r+i+'Content-Disposition: form-data; name="'+t+'"'+i+i+unescape(encodeURIComponent(e))+i}),o+=n+r+n+i}var t,c,f=this;r.extend(this,{send:function(n,o){var u=this,f="Mozilla"===l.browser&&l.verComp(l.version,4,">=")&&l.verComp(l.version,7,"<"),h="Android Browser"===l.browser,p=!1;if(c=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),(t=!window.XMLHttpRequest||"IE"===l.browser&&l.verComp(l.version,8,"<")?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}():new window.XMLHttpRequest).open(n.method,n.url,n.async,n.user,n.password),o instanceof a)o.isDetached()&&(p=!0),o=o.getSource();else if(o instanceof s){if(o.hasBlob())if(o.getBlob().isDetached())o=d.call(u,o),p=!0;else if((f||h)&&"blob"===r.typeOf(o.getBlob().getSource())&&window.FileReader)return void e.call(u,n,o);if(o instanceof s){var y=new window.FormData;o.each(function(e,t){e instanceof a?y.append(t,e.getSource()):y.append(t,e)}),o=y}}t.upload?(n.withCredentials&&(t.withCredentials=!0),t.addEventListener("load",function(e){u.trigger(e)}),t.addEventListener("error",function(e){u.trigger(e)}),t.addEventListener("progress",function(e){u.trigger(e)}),t.upload.addEventListener("progress",function(e){u.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):t.onreadystatechange=function(){switch(t.readyState){case 1:case 2:break;case 3:var e,r;try{i.hasSameOrigin(n.url)&&(e=t.getResponseHeader("Content-Length")||0),t.responseText&&(r=t.responseText.length)}catch(t){e=r=0}u.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:r});break;case 4:t.onreadystatechange=function(){},0===t.status?u.trigger("error"):u.trigger("load")}},r.isEmptyObj(n.headers)||r.each(n.headers,function(e,r){t.setRequestHeader(r,e)}),""!==n.responseType&&"responseType"in t&&(t.responseType="json"!==n.responseType||l.can("return_response_type","json")?n.responseType:"text"),p?t.sendAsBinary?t.sendAsBinary(o):function(){for(var e=new Uint8Array(o.length),r=0;r<o.length;r++)e[r]=255&o.charCodeAt(r);t.send(e.buffer)}():t.send(o),u.trigger("loadstart")},getStatus:function(){try{if(t)return t.status}catch(e){}return 0},getResponse:function(e){var r=this.getRuntime();try{switch(e){case"blob":var i=new o(r.uid,t.response),a=t.getResponseHeader("Content-Disposition");if(a){var s=a.match(/filename=([\'\"'])([^\1]+)\1/);s&&(c=s[2])}return i.name=c,i.type||(i.type=n.getFileMime(c)),i;case"json":return l.can("return_response_type","json")?t.response:200===t.status&&window.JSON?JSON.parse(t.responseText):null;case"document":return function(e){var t=e.responseXML,r=e.responseText;return"IE"===l.browser&&r&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.validateOnParse=!1,t.loadXML(r)),t&&("IE"===l.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}(t);default:return""!==t.responseText?t.responseText:null}}catch(e){return null}},getAllResponseHeaders:function(){try{return t.getAllResponseHeaders()}catch(e){}return""},abort:function(){t&&t.abort()},destroy:function(){f=c=null}})}}),n("moxie/runtime/html5/utils/BinaryReader",["moxie/core/utils/Basic"],function(e){function t(e){e instanceof ArrayBuffer?i.apply(this,arguments):n.apply(this,arguments)}function i(t){var r=new DataView(t);e.extend(this,{readByteAt:function(e){return r.getUint8(e)},writeByteAt:function(e,t){r.setUint8(e,t)},SEGMENT:function(e,n,i){switch(arguments.length){case 2:return t.slice(e,e+n);case 1:return t.slice(e);case 3:if(null===i&&(i=new ArrayBuffer),i instanceof ArrayBuffer){var o=new Uint8Array(this.length()-n+i.byteLength);e>0&&o.set(new Uint8Array(t.slice(0,e)),0),o.set(new Uint8Array(i),e),o.set(new Uint8Array(t.slice(e+n)),e+i.byteLength),this.clear(),t=o.buffer,r=new DataView(t);break}default:return t}},length:function(){return t?t.byteLength:0},clear:function(){r=t=null}})}function n(t){function i(e,r,n){n=3===arguments.length?n:t.length-r-1,t=t.substr(0,r)+e+t.substr(n+r)}e.extend(this,{readByteAt:function(e){return t.charCodeAt(e)},writeByteAt:function(e,t){i(String.fromCharCode(t),e,1)},SEGMENT:function(e,r,n){switch(arguments.length){case 1:return t.substr(e);case 2:return t.substr(e,r);case 3:i(null!==n?n:"",e,r);break;default:return t}},length:function(){return t?t.length:0},clear:function(){t=null}})}return e.extend(t.prototype,{littleEndian:!1,read:function(e,t){var r,n,i;if(e+t>this.length())throw new Error("You are trying to read outside the source boundaries.");for(n=this.littleEndian?0:-8*(t-1),i=0,r=0;t>i;i++)r|=this.readByteAt(e+i)<<Math.abs(n+8*i);return r},write:function(e,t,r){var n,i;if(e>this.length())throw new Error("You are trying to write outside the source boundaries.");for(n=this.littleEndian?0:-8*(r-1),i=0;r>i;i++)this.writeByteAt(e+i,255&t>>Math.abs(n+8*i))},BYTE:function(e){return this.read(e,1)},SHORT:function(e){return this.read(e,2)},LONG:function(e){return this.read(e,4)},SLONG:function(e){var t=this.read(e,4);return t>2147483647?t-4294967296:t},CHAR:function(e){return String.fromCharCode(this.read(e,1))},STRING:function(e,t){return this.asArray("CHAR",e,t).join("")},asArray:function(e,t,r){for(var n=[],i=0;r>i;i++)n[i]=this[e](t+i);return n}}),t}),n("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,t){return function i(r){var n,o,a,s=[],u=0;if(65496!==(n=new e(r)).SHORT(0))throw n.clear(),new t.ImageError(t.ImageError.WRONG_FORMAT);for(o=2;o<=n.length();)if((a=n.SHORT(o))>=65488&&65495>=a)o+=2;else{if(65498===a||65497===a)break;u=n.SHORT(o+2)+2,a>=65505&&65519>=a&&s.push({hex:a,name:"APP"+(15&a),start:o,length:u,segment:n.SEGMENT(o,u)}),o+=u}return n.clear(),{headers:s,restore:function(t){var r,n,i;for(i=new e(t),o=65504==i.SHORT(2)?4+i.SHORT(4):2,n=0,r=s.length;r>n;n++)i.SEGMENT(o,0,s[n].segment),o+=s[n].length;return t=i.SEGMENT(),i.clear(),t},strip:function(t){var r,n,o,a;for(o=new i(t),n=o.headers,o.purge(),r=new e(t),a=n.length;a--;)r.SEGMENT(n[a].start,n[a].length,"");return t=r.SEGMENT(),r.clear(),t},get:function(e){for(var t=[],r=0,n=s.length;n>r;r++)s[r].name===e.toUpperCase()&&t.push(s[r].segment);return t},set:function(e,t){var r,n,i,o=[];for("string"==typeof t?o.push(t):o=t,r=n=0,i=s.length;i>r&&(s[r].name===e.toUpperCase()&&(s[r].segment=o[n],s[r].length=o[n].length,n++),!(n>=o.length));r++);},purge:function(){this.headers=s=[]}}}}),n("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,n,i){function r(o){function a(r,n){var o,a,s,u,f,h,p,d,y=this,g=[],m={},v={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},b={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(o=y.SHORT(r),a=0;o>a;a++)if(g=[],p=r+2+12*a,(s=n[y.SHORT(p)])!==t){if(u=v[y.SHORT(p+=2)],f=y.LONG(p+=2),!(h=b[u]))throw new i.ImageError(i.ImageError.INVALID_META_ERR);if(p+=4,h*f>4&&(p=y.LONG(p)+c.tiffHeader),p+h*f>=this.length())throw new i.ImageError(i.ImageError.INVALID_META_ERR);"ASCII"!==u?(g=y.asArray(u,p,f),d=1==f?g[0]:g,m[s]=l.hasOwnProperty(s)&&"object"!=typeof d?l[s][d]:d):m[s]=e.trim(y.STRING(p,f).replace(/\0$/,""))}return m}var s,u,l,c,f,h;if(n.call(this,o),u={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},f=(c={tiffHeader:10}).tiffHeader,s={clear:this.clear},e.extend(this,{read:function(){try{return r.prototype.read.apply(this,arguments)}catch(e){throw new i.ImageError(i.ImageError.INVALID_META_ERR)}},write:function(){try{return r.prototype.write.apply(this,arguments)}catch(e){throw new i.ImageError(i.ImageError.INVALID_META_ERR)}},UNDEFINED:function(){return this.BYTE.apply(this,arguments)},RATIONAL:function(e){return this.LONG(e)/this.LONG(e+4)},SRATIONAL:function(e){return this.SLONG(e)/this.SLONG(e+4)},ASCII:function(e){return this.CHAR(e)},TIFF:function(){return h||null},EXIF:function(){var t=null;if(c.exifIFD){try{t=a.call(this,c.exifIFD,u.exif)}catch(e){return null}if(t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var r=0,n="";r<t.ExifVersion.length;r++)n+=String.fromCharCode(t.ExifVersion[r]);t.ExifVersion=n}}return t},GPS:function(){var t=null;if(c.gpsIFD){try{t=a.call(this,c.gpsIFD,u.gps)}catch(e){return null}t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join("."))}return t},thumb:function(){if(c.IFD1)try{var e=a.call(this,c.IFD1,u.thumb);if("JPEGInterchangeFormat"in e)return this.SEGMENT(c.tiffHeader+e.JPEGInterchangeFormat,e.JPEGInterchangeFormatLength)}catch(e){}return null},setExif:function(e,t){return("PixelXDimension"===e||"PixelYDimension"===e)&&(function(e,t,r){var n,i,o,a=0;if("string"==typeof t){var s=u[e.toLowerCase()];for(var l in s)if(s[l]===t){t=l;break}}n=c[e.toLowerCase()+"IFD"],i=this.SHORT(n);for(var f=0;i>f;f++)if(o=n+12*f+2,this.SHORT(o)==t){a=o+8;break}if(!a)return!1;try{this.write(a,r,4)}catch(e){return!1}return!0}).call(this,"exif",e,t)},clear:function(){s.clear(),o=u=l=h=c=s=null}}),65505!==this.SHORT(0)||"EXIF\0"!==this.STRING(4,5).toUpperCase())throw new i.ImageError(i.ImageError.INVALID_META_ERR);if(this.littleEndian=18761==this.SHORT(f),42!==this.SHORT(f+=2))throw new i.ImageError(i.ImageError.INVALID_META_ERR);c.IFD0=c.tiffHeader+this.LONG(f+=2),"ExifIFDPointer"in(h=a.call(this,c.IFD0,u.tiff))&&(c.exifIFD=c.tiffHeader+h.ExifIFDPointer,delete h.ExifIFDPointer),"GPSInfoIFDPointer"in h&&(c.gpsIFD=c.tiffHeader+h.GPSInfoIFDPointer,delete h.GPSInfoIFDPointer),e.isEmptyObj(h)&&(h=null);var p=this.LONG(c.IFD0+12*this.SHORT(c.IFD0)+2);p&&(c.IFD1=c.tiffHeader+p)}return r.prototype=n.prototype,r}),n("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(e,t,r,n,i){return function(o){function a(e){var t,r,n=0;for(e||(e=s);n<=e.length();){if((t=e.SHORT(n+=2))>=65472&&65475>=t)return n+=5,{height:e.SHORT(n),width:e.SHORT(n+=2)};r=e.SHORT(n+=2),n+=r-2}return null}var s,u,l,c;if(65496!==(s=new n(o)).SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);u=new r(o);try{l=new i(u.get("app1")[0])}catch(e){}c=a.call(this),e.extend(this,{type:"image/jpeg",size:s.length(),width:c&&c.width||0,height:c&&c.height||0,setExif:function(t,r){return!!l&&("object"===e.typeOf(t)?e.each(t,function(e,t){l.setExif(t,e)}):l.setExif(t,r),void u.set("app1",l.SEGMENT()))},writeHeaders:function(){return arguments.length?u.restore(arguments[0]):u.restore(o)},stripHeaders:function(e){return u.strip(e)},purge:function(){(function(){l&&u&&s&&(l.clear(),u.purge(),s.clear(),c=u=l=s=null)}).call(this)}}),l&&(this.meta={tiff:l.TIFF(),exif:l.EXIF(),gps:l.GPS(),thumb:function(){var e,t,r=l.thumb();return r&&(e=new n(r),t=a(e),e.clear(),t)?(t.data=r,t):null}()})}}),n("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,t,r){return function(n){function o(){i&&(i.clear(),n=a=i=null)}var i,a;i=new r(n),function(){var t=0,r=0,n=[35152,20039,3338,6666];for(r=0;r<n.length;r++,t+=2)if(n[r]!=i.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),a=(function(){var e,t;return"IHDR"==(e=(function(e){var t,r,n,o;return t=i.LONG(e),r=i.STRING(e+=4,4),n=e+=4,o=i.LONG(e+t),{length:t,type:r,start:n,CRC:o}}).call(this,8)).type?(t=e.start,{width:i.LONG(t),height:i.LONG(t+=4)}):null}).call(this),t.extend(this,{type:"image/png",size:i.length(),width:a.width,height:a.height,purge:function(){o.call(this)}}),o.call(this)}}),n("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(e,t,r,n){return function(i){var o,a=[r,n];o=function(){for(var e=0;e<a.length;e++)try{return new a[e](i)}catch(e){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){i=null}}),e.extend(this,o),this.purge=function(){o.purge(),o=null}}}),n("moxie/runtime/html5/image/ResizerCanvas",[],function(){return{scale:function e(t,r){var n=t.width,i=Math.floor(n*r),o=!1;(.5>r||r>2)&&(r=.5>r?.5:2,o=!0);var a=function(e,t){var r=e.width,n=e.height,i=Math.floor(r*t),o=Math.floor(n*t),a=document.createElement("canvas");return a.width=i,a.height=o,a.getContext("2d").drawImage(e,0,0,r,n,0,0,i,o),e=null,a}(t,r);return o?e(a,i/a.width):a}}}),n("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/Blob","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/ResizerCanvas","moxie/core/utils/Mime","moxie/core/utils/Env"],function(t,r,n,i,o,a,s,u,h){return t.Image=function(){function e(){if(!y&&!t)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return y||t}function c(){var t=e();return"canvas"==t.nodeName.toLowerCase()?t:((y=document.createElement("canvas")).width=t.width,y.height=t.height,y.getContext("2d").drawImage(t,0,0),y)}function l(e){return i.atob(e.substring(e.indexOf("base64,")+7))}function m(e){var r=this;(t=new Image).onerror=function(){p.call(this),r.trigger("error",n.ImageError.WRONG_FORMAT)},t.onload=function(){r.trigger("load")},t.src="data:"==e.substr(0,5)?e:function(e,t){return"data:"+(t||"")+";base64,"+i.btoa(e)}(e,v.type)}function f(e,t){var n=Math.PI/180,i=document.createElement("canvas"),o=i.getContext("2d"),a=e.width,s=e.height;switch(r.inArray(t,[5,6,7,8])>-1?(i.width=s,i.height=a):(i.width=a,i.height=s),t){case 2:o.translate(a,0),o.scale(-1,1);break;case 3:o.translate(a,s),o.rotate(180*n);break;case 4:o.translate(0,s),o.scale(1,-1);break;case 5:o.rotate(90*n),o.scale(1,-1);break;case 6:o.rotate(90*n),o.translate(0,-s);break;case 7:o.rotate(90*n),o.translate(a,-s),o.scale(-1,1);break;case 8:o.rotate(-90*n),o.translate(-a,0)}return o.drawImage(e,0,0,a,s),i}function p(){d&&(d.purge(),d=null),g=t=y=v=null,_=!1}var t,d,y,g,v,b=this,_=!1,w=!0;r.extend(this,{loadFromBlob:function(e){var t=this.getRuntime(),r=!(arguments.length>1)||arguments[1];if(!t.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return v=e,e.isDetached()?(g=e.getSource(),void m.call(this,g)):void(function(e,t){var r,i=this;return window.FileReader?((r=new FileReader).onload=function(){t.call(i,this.result)},r.onerror=function(){i.trigger("error",n.ImageError.WRONG_FORMAT)},void r.readAsDataURL(e)):t.call(this,e.getAsDataURL())}).call(this,e.getSource(),function(e){r&&(g=l(e)),m.call(this,e)})},loadFromImage:function(e,t){this.meta=e.meta,v=new a(null,{name:e.name,size:e.size,type:e.type}),m.call(this,t?g=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,r=this.getRuntime();return!d&&g&&r.can("access_image_binary")&&(d=new s(g)),t={width:e().width||0,height:e().height||0,type:v.type||h.getFileMime(v.name),size:g&&g.length||v.size||0,name:v.name||"",meta:null},w&&(t.meta=d&&d.meta||this.meta||{},!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof o||(t.meta.thumb.data=new o(null,{type:"image/jpeg",data:t.meta.thumb.data}))),t},resize:function(t,r,n){var i=document.createElement("canvas");if(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(e(),t.x,t.y,t.width,t.height,0,0,i.width,i.height),y=u.scale(i,r),!(w=n.preserveHeaders)){var o=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1;y=f(y,o)}this.width=y.width,this.height=y.height,_=!0,this.trigger("Resize")},getAsCanvas:function(){return y||(y=c()),y.id=this.uid+"_canvas",y},getAsBlob:function(e,t){return e!==this.type?(_=!0,new a(null,{name:v.name||"",type:e,data:b.getAsDataURL(e,t)})):new a(null,{name:v.name||"",type:e,data:b.getAsBinaryString(e,t)})},getAsDataURL:function(e){var r=arguments[1]||90;if(!_)return t.src;if(c(),"image/jpeg"!==e)return y.toDataURL("image/png");try{return y.toDataURL("image/jpeg",r/100)}catch(e){return y.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!_)return g||(g=l(b.getAsDataURL(e,t))),g;if("image/jpeg"!==e)g=l(b.getAsDataURL(e,t));else{var r;t||(t=90),c();try{r=y.toDataURL("image/jpeg",t/100)}catch(e){r=y.toDataURL("image/jpeg")}g=l(r),d&&(g=d.stripHeaders(g),w&&(d.meta&&d.meta.exif&&d.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),g=d.writeHeaders(g)),d.purge(),d=null)}return _=!1,g},destroy:function(){b=null,p.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}}),n("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,n,i,o){function s(e){var i=n.get(e);i&&"OBJECT"==i.nodeName&&("IE"===t.browser?(i.style.display="none",function r(){4==i.readyState?function(e){var t=n.get(e);if(t){for(var r in t)"function"==typeof t[r]&&(t[r]=null);t.parentNode.removeChild(t)}}(e):setTimeout(r,10)}()):i.parentNode.removeChild(i))}var a="flash",u={};return o.addConstructor(a,function(l){var c,f=this;l=e.extend({swf_url:t.swf_url},l),o.call(this,l,a,{access_binary:function(e){return e&&"browser"===f.mode},access_image_binary:function(e){return e&&"browser"===f.mode},display_media:o.capTest(r("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===f.mode},resize_image:o.capTrue,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||(!e.arrayDiff(t,["","text","document"])||"browser"===f.mode)},return_status_code:function(t){return"browser"===f.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:function(e){return e&&"browser"===f.mode},send_browser_cookies:function(e){return e&&"browser"===f.mode},send_custom_headers:function(e){return e&&"browser"===f.mode},send_multipart:o.capTrue,slice_blob:function(e){return e&&"browser"===f.mode},stream_upload:function(e){return e&&"browser"===f.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===f.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},slice_blob:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),function(){var e;try{e=(e=navigator.plugins["Shockwave Flash"]).description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}()<11.3&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var r=[].slice.call(arguments,2);return f.getShim().exec(this.uid,e,t,r)},init:function(){var r,n,o;o=this.getShimContainer(),e.extend(o.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),r='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+l.swf_url+'" ',"IE"===t.browser&&(r+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),r+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+l.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(n=document.createElement("div"),o.appendChild(n),n.outerHTML=r,n=o=null):o.innerHTML=r,c=setTimeout(function(){f&&!f.initialized&&f.trigger("Error",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){s(f.uid),e.call(f),clearTimeout(c),l=c=e=f=null}}(this.destroy)},u)}),u}),n("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var r={slice:function(e,r,n,i){var o=this.getRuntime();return 0>r?r=Math.max(e.size+r,0):r>0&&(r=Math.min(r,e.size)),0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),(e=o.shimExec.call(this,"Blob","slice",r,n,i||""))&&(e=new t(o.uid,e)),e}};return e.Blob=r}),n("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime","moxie/file/File","moxie/core/utils/Basic"],function(e,t,r){var n={init:function(e){var n=this,i=this.getRuntime();this.bind("Change",function(){var e=i.shimExec.call(n,"FileInput","getFiles");n.files=[],r.each(e,function(e){n.files.push(new t(i.uid,e))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",{accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=n}),n("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,r){switch(r){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r={read:function(e,t){var r=this;return r.result="","readAsDataURL"===e&&(r.result="data:"+(t.type||"")+";base64,"),r.bind("Progress",function(t,n){n&&(r.result+=i(n,e))},999),r.getRuntime().shimExec.call(this,"FileReader","readAsBase64",t.uid)}};return e.FileReader=r}),n("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,r){switch(r){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r={read:function(e,t){var r,n=this.getRuntime();return(r=n.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(r="data:"+(t.type||"")+";base64,"+r),i(r,e,t.type)):null}};return e.FileReaderSync=r}),n("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var r={getAsBlob:function(e){var r=this.getRuntime(),n=r.shimExec.call(this,"Transporter","getAsBlob",e);return n?new t(r.uid,n):null}};return e.Transporter=r}),n("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/runtime/flash/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter","moxie/runtime/flash/runtime/Transporter"],function(e,t,n,i,a,s,l,c){var f={send:function(e,i){function r(){e.transport=f.mode,f.shimExec.call(s,"XMLHttpRequest","send",e,i)}function o(e,t){f.shimExec.call(s,"XMLHttpRequest","appendBlob",e,t.uid),i=null,r()}function u(e,t){var r=new c;r.bind("TransportingComplete",function(){t(this.result)}),r.transport(e.getSource(),e.type,{ruid:f.uid})}var a,s=this,f=s.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){f.shimExec.call(s,"XMLHttpRequest","setRequestHeader",t,e.toString())}),i instanceof l)if(i.each(function(e,t){e instanceof n?a=t:f.shimExec.call(s,"XMLHttpRequest","append",t,e)}),i.hasBlob()){var h=i.getBlob();h.isDetached()?u(h,function(e){h.destroy(),o(a,e)}):o(a,h)}else i=null,r();else i instanceof n?i.isDetached()?u(i,function(e){i.destroy(),i=e.uid,r()}):(i=i.uid,r()):r()},getResponse:function(e){var r,n,o=this.getRuntime();if(n=o.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(n=new i(o.uid,n),"blob"===e)return n;try{if(r=new a,~t.inArray(e,["","text"]))return r.readAsText(n);if("json"===e&&window.JSON)return JSON.parse(r.readAsText(n))}finally{n.destroy()}}return null},abort:function(){var e=this.getRuntime();e.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=f}),n("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(e,r,n,i,o){var a={loadFromBlob:function(e){function t(e){i.shimExec.call(r,"Image","loadFromBlob",e.uid),r=i=null}var r=this,i=r.getRuntime();if(e.isDetached()){var o=new n;o.bind("TransportingComplete",function(){t(o.result.getSource())}),o.transport(e.getSource(),e.type,{ruid:i.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getInfo:function(){var e=this.getRuntime(),t=e.shimExec.call(this,"Image","getInfo");return t.meta&&t.meta.thumb&&t.meta.thumb.data&&!(e.meta.thumb.data instanceof i)&&(t.meta.thumb.data=new i(e.uid,t.meta.thumb.data)),t},getAsBlob:function(e,t){var r=this.getRuntime(),n=r.shimExec.call(this,"Image","getAsBlob",e,t);return n?new i(r.uid,n):null},getAsDataURL:function(){var e=this.getRuntime(),t=e.Image.getAsBlob.apply(this,arguments);return t?(new o).readAsDataURL(t):null}};return e.Image=a}),n("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,n,i,o){var a="silverlight",s={};return o.addConstructor(a,function(u){var l,c=this;u=e.extend({xap_url:t.xap_url},u),o.call(this,u,a,{access_binary:o.capTrue,access_image_binary:o.capTrue,display_media:o.capTest(r("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:o.capTrue,resize_image:o.capTrue,return_response_headers:function(e){return e&&"client"===c.mode},return_response_type:function(e){return"json"!==e||!!window.JSON},return_status_code:function(t){return"client"===c.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:o.capTrue,send_browser_cookies:function(e){return e&&"browser"===c.mode},send_custom_headers:function(e){return e&&"client"===c.mode},send_multipart:o.capTrue,slice_blob:o.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:o.capTrue,use_http_method:function(t){return"client"===c.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),function(e){var t,r,n,i,o,a=!1,s=0;try{try{new ActiveXObject("AgControl.AgControl").IsVersionSupported(e)&&(a=!0),null}catch(l){var u=navigator.plugins["Silverlight Plug-In"];if(u){for("1.0.30226.2"===(t=u.description)&&(t="2.0.30226.2"),r=t.split(".");r.length>3;)r.pop();for(;r.length<4;)r.push(0);for(n=e.split(".");n.length>4;)n.pop();do{i=parseInt(n[s],10),o=parseInt(r[s],10),s++}while(s<n.length&&i===o);o>=i&&!isNaN(i)&&(a=!0)}}}catch(e){a=!1}return a}("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var r=[].slice.call(arguments,2);return c.getShim().exec(this.uid,e,t,r)},init:function(){this.getShimContainer().innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+u.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',l=setTimeout(function(){c&&!c.initialized&&c.trigger("Error",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(c),clearTimeout(l),u=l=e=c=null}}(this.destroy)},s)}),s}),n("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(e,t,r){return e.Blob=t.extend({},r)}),n("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime","moxie/file/File","moxie/core/utils/Basic"],function(e,t,r){function n(e){for(var t="",r=0;r<e.length;r++)t+=(""!==t?"|":"")+e[r].title+" | *."+e[r].extensions.replace(/,/g,";*.");return t}var i={init:function(e){var i=this,o=this.getRuntime();this.bind("Change",function(){var e=o.shimExec.call(i,"FileInput","getFiles");i.files=[],r.each(e,function(e){i.files.push(new t(o.uid,e))})},999),o.shimExec.call(this,"FileInput","init",n(e.accept),e.multiple),this.trigger("ready")},setOption:function(e,t){"accept"==e&&(t=n(t)),this.getRuntime().shimExec.call(this,"FileInput","setOption",e,t)}};return e.FileInput=i}),n("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(e,t,r){var n={init:function(){var e,n=this,i=n.getRuntime();return e=i.getShimContainer(),r.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},n.uid),r.addEvent(e,"dragenter",function(e){e.preventDefault();var r=t.get(i.uid).dragEnter(e);r&&e.stopPropagation()},n.uid),r.addEvent(e,"drop",function(e){e.preventDefault();var r=t.get(i.uid).dragDrop(e);r&&e.stopPropagation()},n.uid),i.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=n}),n("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(e,t,r){return e.FileReader=t.extend({},r)}),n("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(e,t,r){return e.FileReaderSync=t.extend({},r)}),n("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(e,t,r){return e.Transporter=t.extend({},r)}),n("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest","moxie/runtime/silverlight/file/FileReaderSync","moxie/runtime/silverlight/runtime/Transporter"],function(e,t,r){return e.XMLHttpRequest=t.extend({},r)}),n("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/runtime/flash/image/Image"],function(e,t,r,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n={meta:{}},i=e.shimExec.call(this,"Image","getInfo");return i.meta&&(t.each(["tiff","exif","gps","thumb"],function(e){var t,r,o,a,s=i.meta[e];if(s&&s.keys)for(n.meta[e]={},r=0,o=s.keys.length;o>r;r++)t=s.keys[r],(a=s[t])&&(/^(\d|[1-9]\d+)$/.test(a)?a=parseInt(a,10):/^\d*\.\d+$/.test(a)&&(a=parseFloat(a)),n.meta[e][t]=a)}),n.meta&&n.meta.thumb&&n.meta.thumb.data&&!(e.meta.thumb.data instanceof r)&&(n.meta.thumb.data=new r(e.uid,n.meta.thumb.data))),n.width=parseInt(i.width,10),n.height=parseInt(i.height,10),n.size=parseInt(i.size,10),n.type=i.type,n.name=i.name,n},resize:function(e,t,r){this.getRuntime().shimExec.call(this,"Image","resize",e.x,e.y,e.width,e.height,t,r.preserveHeaders,r.resample)}})}),n("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,n,i){var o="html4",a={};return n.addConstructor(o,function(t){var s=this,u=n.capTest,l=n.capTrue;n.call(this,t,o,{access_binary:u(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:u((i.can("create_canvas")||i.can("use_data_uri_over32kb"))&&r("moxie/image/Image")),do_cors:!1,drag_and_drop:!1,filter_by_extension:u(!("Chrome"===i.browser&&i.verComp(i.version,28,"<")||"IE"===i.browser&&i.verComp(i.version,10,"<")||"Safari"===i.browser&&i.verComp(i.version,7,"<")||"Firefox"===i.browser&&i.verComp(i.version,37,"<"))),resize_image:function(){return a.Image&&s.can("access_binary")&&i.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return i.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return s.can("select_file")},summon_file_dialog:function(){return s.can("select_file")&&("Firefox"===i.browser&&i.verComp(i.version,4,">=")||"Opera"===i.browser&&i.verComp(i.version,12,">=")||"IE"===i.browser&&i.verComp(i.version,10,">=")||!!~e.inArray(i.browser,["Chrome","Safari"]))},upload_filesize:l,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(s),e=s=null}}(this.destroy)}),e.extend(this.getShim(),a)}),a}),n("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(t,r,n,i,o,a,s){return t.FileInput=function(){function e(){var a,l,f,h,p,d,y=this,g=y.getRuntime();d=n.guid("uid_"),a=g.getShimContainer(),t&&((f=i.get(t+"_form"))&&n.extend(f.style,{top:"100%"})),(h=document.createElement("form")).setAttribute("id",d+"_form"),h.setAttribute("method","post"),h.setAttribute("enctype","multipart/form-data"),h.setAttribute("encoding","multipart/form-data"),n.extend(h.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),(p=document.createElement("input")).setAttribute("id",d),p.setAttribute("type","file"),p.setAttribute("accept",c.join(",")),n.extend(p.style,{fontSize:"999px",opacity:0}),h.appendChild(p),a.appendChild(h),n.extend(p.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===s.browser&&s.verComp(s.version,10,"<")&&n.extend(p.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),p.onchange=function(){var t;if(this.value){if(this.files){if(0===(t=this.files[0]).size)return void h.parentNode.removeChild(h)}else t={name:this.value};t=new r(g.uid,t),this.onchange=function(){},e.call(y),y.files=[t],p.setAttribute("id",t.uid),h.setAttribute("id",t.uid+"_form"),y.trigger("change"),p=h=null}},g.can("summon_file_dialog")&&(l=i.get(u.browse_button),o.removeEvent(l,"click",y.uid),o.addEvent(l,"click",function(e){p&&!p.disabled&&p.click(),e.preventDefault()},y.uid)),t=d,a=f=l=null}var t,u,l,c=[];n.extend(this,{init:function(t){var r,n=this,s=n.getRuntime();u=t,c=t.accept.mimes||a.extList2mimes(t.accept,s.can("filter_by_extension")),r=s.getShimContainer(),function(){var e,a,c;e=i.get(t.browse_button),l=i.getStyle(e,"z-index")||"auto",s.can("summon_file_dialog")&&("static"===i.getStyle(e,"position")&&(e.style.position="relative"),n.bind("Refresh",function(){a=parseInt(l,10)||1,i.get(u.browse_button).style.zIndex=a,this.getRuntime().getShimContainer().style.zIndex=a-1})),c=s.can("summon_file_dialog")?e:r,o.addEvent(c,"mouseover",function(){n.trigger("mouseenter")},n.uid),o.addEvent(c,"mouseout",function(){n.trigger("mouseleave")},n.uid),o.addEvent(c,"mousedown",function(){n.trigger("mousedown")},n.uid),o.addEvent(i.get(t.container),"mouseup",function(){n.trigger("mouseup")},n.uid),e=null}(),e.call(this),r=null,n.trigger({type:"ready",async:!0})},setOption:function(e,r){var n,o=this.getRuntime();"accept"==e&&(c=r.mimes||a.extList2mimes(r,o.can("filter_by_extension"))),(n=i.get(t))&&n.setAttribute("accept",c.join(","))},disable:function(e){var r;(r=i.get(t))&&(r.disabled=!!e)},destroy:function(){var e=this.getRuntime(),r=e.getShim(),n=e.getShimContainer(),a=u&&i.get(u.container),s=u&&i.get(u.browse_button);a&&o.removeAllEvents(a,this.uid),s&&(o.removeAllEvents(s,this.uid),s.style.zIndex=l),n&&(o.removeAllEvents(n,this.uid),n.innerHTML=""),r.removeInstance(this.uid),t=c=u=n=a=s=r=null}})}}),n("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(e,t){return e.FileReader=t}),n("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(t,r,n,i,o,a,s,u){return t.XMLHttpRequest=function(){function e(e){var t,r,i,o,s=this,u=!1;if(c){if(t=c.id.replace(/_iframe$/,""),r=n.get(t+"_form")){for(i=r.getElementsByTagName("input"),o=i.length;o--;)switch(i[o].getAttribute("type")){case"hidden":i[o].parentNode.removeChild(i[o]);break;case"file":u=!0}i=[],u||r.parentNode.removeChild(r),r=null}setTimeout(function(){a.removeEvent(c,"load",s.uid),c.parentNode&&c.parentNode.removeChild(c);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=c=null,e()},1)}}var t,l,c;r.extend(this,{send:function(f,h){var p,d,y,g,m=this,v=m.getRuntime();if(t=l=null,h instanceof u&&h.hasBlob()){if(g=h.getBlob(),p=g.uid,y=n.get(p),!(d=n.get(p+"_form")))throw new o.DOMException(o.DOMException.NOT_FOUND_ERR)}else p=r.guid("uid_"),(d=document.createElement("form")).setAttribute("id",p+"_form"),d.setAttribute("method",f.method),d.setAttribute("enctype","multipart/form-data"),d.setAttribute("encoding","multipart/form-data"),v.getShimContainer().appendChild(d);d.setAttribute("target",p+"_iframe"),h instanceof u&&h.each(function(e,t){if(e instanceof s)y&&y.setAttribute("name",t);else{var n=document.createElement("input");r.extend(n,{type:"hidden",name:t,value:e}),y?d.insertBefore(n,y):d.appendChild(n)}}),d.setAttribute("action",f.url),function(){var n=v.getShimContainer()||document.body,o=document.createElement("div");o.innerHTML='<iframe id="'+p+'_iframe" name="'+p+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',c=o.firstChild,n.appendChild(c),a.addEvent(c,"load",function(){var n;try{n=c.contentWindow.document||c.contentDocument||window.frames[c.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?t=n.title.replace(/^(\d+).*$/,"$1"):(t=200,l=r.trim(n.body.innerHTML),m.trigger({type:"progress",loaded:l.length,total:l.length}),g&&m.trigger({type:"uploadprogress",loaded:g.size||1025,total:g.size||1025}))}catch(r){if(!i.hasSameOrigin(f.url))return void e.call(m,function(){m.trigger("error")});t=404}e.call(m,function(){m.trigger("load")})},m.uid)}(),d.submit(),m.trigger("loadstart")},getStatus:function(){return t},getResponse:function(e){if("json"===e&&"string"===r.typeOf(l)&&window.JSON)try{return JSON.parse(l.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(e){return null}return l},abort:function(){var t=this;c&&c.contentWindow&&(c.contentWindow.stop?c.contentWindow.stop():c.contentWindow.document.execCommand?c.contentWindow.document.execCommand("Stop"):c.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}}),n("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(e,t){return e.Image=t}),function(r){for(var n=0;n<r.length;n++){for(var o=e,a=r[n],s=a.split(/[.\/]/),u=0;u<s.length-1;++u)o[s[u]]===t&&(o[s[u]]={}),o=o[s[u]];o[s[s.length-1]]=i[a]}}(["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Dom","moxie/core/EventTarget","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/core/I18n","moxie/core/utils/Mime","moxie/file/FileInput","moxie/file/File","moxie/file/FileDrop","moxie/file/FileReader","moxie/core/utils/Url","moxie/runtime/RuntimeTarget","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/runtime/Transporter","moxie/image/Image","moxie/core/utils/Events","moxie/runtime/html5/image/ResizerCanvas"])}(this)}).apply(e,arguments),e.moxie})?i.apply(t,o):i,function(r,s){var u=function(){var e={};return(function(e){!function(e,r,i){function n(e){function t(e,t,r){var i={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};i[e]?n[i[e]]=t:r||(n[e]=t)}var r=e.required_features,n={};return"string"==typeof r?S.each(r.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof r?S.each(r,function(e,r){t(r,e)}):!0===r&&(e.chunk_size&&e.chunk_size>0&&(n.slice_blob=!0),S.isEmptyObj(e.resize)&&!1!==e.multipart||(n.send_binary_string=!0),e.http_method&&(n.use_http_method=e.http_method),S.each(e,function(e,r){t(r,!!e,!0)})),n}var o=window.setTimeout,l={},p=r.core.utils,w=r.runtime.Runtime,S={VERSION:"2.3",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:p.Mime.mimes,ua:p.Env,typeOf:p.Basic.typeOf,extend:p.Basic.extend,guid:p.Basic.guid,getAll:function(e){var t,r=[];"array"!==S.typeOf(e)&&(e=[e]);for(var n=e.length;n--;)(t=S.get(e[n]))&&r.push(t);return r.length?r:null},get:p.Dom.get,each:p.Basic.each,getPos:p.Dom.getPos,getSize:p.Dom.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"};return e?(""+e).replace(/[<>&\"\']/g,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:p.Basic.toArray,inArray:p.Basic.inArray,inSeries:p.Basic.inSeries,addI18n:r.core.I18n.addI18n,translate:r.core.I18n.translate,sprintf:p.Basic.sprintf,isEmptyObj:p.Basic.isEmptyObj,hasClass:p.Dom.hasClass,addClass:p.Dom.addClass,removeClass:p.Dom.removeClass,getStyle:p.Dom.getStyle,addEvent:p.Events.addEvent,removeEvent:p.Events.removeEvent,removeAllEvents:p.Events.removeAllEvents,cleanName:function(e){var t,r;for(r=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<r.length;t+=2)e=e.replace(r[t],r[t+1]);return e=(e=e.replace(/\s+/g,"_")).replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var r="";return S.each(t,function(e,t){r+=(r?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),r&&(e+=(e.indexOf("?")>0?"&":"?")+r),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===i||/\D/.test(e))return S.translate("N/A");var r=Math.pow(1024,4);return e>r?t(e/r,1)+" "+S.translate("tb"):e>(r/=1024)?t(e/r,1)+" "+S.translate("gb"):e>(r/=1024)?t(e/r,1)+" "+S.translate("mb"):e>1024?Math.round(e/1024)+" "+S.translate("kb"):e+" "+S.translate("b")},parseSize:p.Basic.parseSizeStr,predictRuntime:function(e,t){var r,n;return r=new S.Uploader(e),n=w.thatCan(r.getOption().required_features,t||e.runtimes),r.destroy(),n},addFileFilter:function(e,t){l[e]=t}};S.addFileFilter("mime_types",function(e,t,r){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:S.FILE_EXTENSION_ERROR,message:S.translate("File extension error."),file:t}),r(!1)):r(!0)}),S.addFileFilter("max_file_size",function(e,t,r){e=S.parseSize(e),void 0!==t.size&&e&&t.size>e?(this.trigger("Error",{code:S.FILE_SIZE_ERROR,message:S.translate("File size error."),file:t}),r(!1)):r(!0)}),S.addFileFilter("prevent_duplicates",function(e,t,r){if(e)for(var n=this.files.length;n--;)if(t.name===this.files[n].name&&t.size===this.files[n].size)return this.trigger("Error",{code:S.FILE_DUPLICATE_ERROR,message:S.translate("Duplicate file error."),file:t}),void r(!1);r(!0)}),S.Uploader=function(e){function a(){var e,t,r=0;if(this.state==S.STARTED){for(t=0;t<x.length;t++)e||x[t].status!=S.QUEUED?r++:(e=x[t],this.trigger("BeforeUpload",e)&&(e.status=S.UPLOADING,this.trigger("UploadFile",e)));r==x.length&&(this.state!==S.STOPPED&&(this.state=S.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",x))}}function u(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,d()}function d(){var e,t,r,n=0;for(C.reset(),e=0;e<x.length;e++)(t=x[e]).size!==i?(C.size+=t.origSize,r=t.loaded*t.origSize/t.size,(!t.completeTimestamp||t.completeTimestamp>p)&&(n+=r),C.loaded+=r):C.size=i,t.status==S.DONE?C.uploaded++:t.status==S.FAILED?C.failed++:C.queued++;C.size===i?C.percent=x.length>0?Math.ceil(C.uploaded/x.length*100):0:(C.bytesPerSec=Math.ceil(n/((+new Date-p||1)/1e3)),C.percent=C.size>0?Math.ceil(C.loaded/C.size*100):0)}function c(){var e=P[0]||D[0];return!!e&&e.getRuntime().uid}function f(e,t){if(e.ruid){var r=w.getInfo(e.ruid);if(r)return r.can(t)}return!1}function g(e,t){var n=this,i=0,o=[],a={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:k,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};S.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(a[t]=e[t])}),e.browse_button&&S.each(e.browse_button,function(t){o.push(function(o){var s=new r.file.FileInput(S.extend({},a,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:t}));s.onready=function(){var e=w.getInfo(this.ruid);S.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),i++,P.push(this),o()},s.onchange=function(){n.addFile(this.files)},s.bind("mouseenter mouseleave mousedown mouseup",function(r){M||(e.browse_button_hover&&("mouseenter"===r.type?S.addClass(t,e.browse_button_hover):"mouseleave"===r.type&&S.removeClass(t,e.browse_button_hover)),e.browse_button_active&&("mousedown"===r.type?S.addClass(t,e.browse_button_active):"mouseup"===r.type&&S.removeClass(t,e.browse_button_active)))}),s.bind("mousedown",function(){n.trigger("Browse")}),s.bind("error runtimeerror",function(){s=null,o()}),s.init()})}),e.drop_element&&S.each(e.drop_element,function(e){o.push(function(t){var o=new r.file.FileDrop(S.extend({},a,{drop_zone:e}));o.onready=function(){var e=w.getInfo(this.ruid);S.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),dragdrop:e.can("drag_and_drop")}),i++,D.push(this),t()},o.ondrop=function(){n.addFile(this.files)},o.bind("error runtimeerror",function(){o=null,t()}),o.init()})}),S.inSeries(o,function(){"function"==typeof t&&t(i)})}function h(e,t,n){var o=new r.image.Image;try{o.onload=function(){return t.width>this.width&&t.height>this.height&&t.quality===i&&t.preserve_headers&&!t.crop?(this.destroy(),n(e)):void o.downsize(t.width,t.height,t.crop,t.preserve_headers)},o.onresize=function(){n(this.getAsBlob(e.type,t.quality)),this.destroy()},o.onerror=function(){n(e)},o.load(e)}catch(t){n(e)}}function m(e,i,o){function s(e,n,i){var o=t[e];switch(e){case"max_file_size":"max_file_size"===e&&(t.max_file_size=t.filters.max_file_size=n);break;case"chunk_size":(n=S.parseSize(n))&&(t[e]=n,t.send_file_name=!0);break;case"multipart":t[e]=n,n||(t.send_file_name=!0);break;case"http_method":t[e]="PUT"===n.toUpperCase()?"PUT":"POST";break;case"unique_names":t[e]=n,n&&(t.send_file_name=!0);break;case"filters":"array"===S.typeOf(n)&&(n={mime_types:n}),i?S.extend(t.filters,n):t.filters=n,n.mime_types&&("string"===S.typeOf(n.mime_types)&&(n.mime_types=r.core.utils.Mime.mimes2extList(n.mime_types)),n.mime_types.regexp=function(e){var t=[];return S.each(e,function(e){S.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(n.mime_types),t.filters.mime_types=n.mime_types);break;case"resize":t.resize=!!n&&S.extend({preserve_headers:!0,crop:!1},n);break;case"prevent_duplicates":t.prevent_duplicates=t.filters.prevent_duplicates=!!n;break;case"container":case"browse_button":case"drop_element":n="container"===e?S.get(n):S.getAll(n);case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":t[e]=n,i||(u=!0);break;default:t[e]=n}i||a.trigger("OptionChanged",e,n,o)}var a=this,u=!1;"object"==typeof e?S.each(e,function(e,t){s(t,e,o)}):s(e,i,o),o?(t.required_features=n(S.extend({},t)),k=n(S.extend({},t,{required_features:!0}))):u&&(a.trigger("Destroy"),g.call(a,t,function(e){e?(a.runtime=w.getInfo(c()).type,a.trigger("Init",{runtime:a.runtime}),a.trigger("PostInit")):a.trigger("Error",{code:S.INIT_ERROR,message:S.translate("Init error.")})}))}function _(e,t){if(e.settings.unique_names){var r=t.name.match(/\.([^.]+)$/),n="part";r&&(n=r[1]),t.target_name=t.id+"."+n}}function E(e,t){function n(){c-- >0?o(s,1e3):(t.loaded=d,e.trigger("Error",{code:S.HTTP_ERROR,message:S.translate("HTTP Error."),file:t,response:T.responseText,status:T.status,responseHeaders:T.getAllResponseHeaders()}))}function s(){var r,n,o={};t.status===S.UPLOADING&&e.state!==S.STOPPED&&(e.settings.send_file_name&&(o.name=t.target_name||t.name),l&&p.chunks&&i.size>l?(n=Math.min(l,i.size-d),r=i.slice(d,d+n)):(n=i.size,r=i),l&&p.chunks&&(e.settings.send_chunk_number?(o.chunk=Math.ceil(d/l),o.chunks=Math.ceil(i.size/l)):(o.offset=d,o.total=i.size)),e.trigger("BeforeChunkUpload",t,o,r,d)&&e.trigger("UploadChunk",o,r,n))}function a(e,a,l,f){var h;(T=new r.xhr.XMLHttpRequest).upload&&(T.upload.onprogress=function(r){t.loaded=Math.min(t.size,d+r.loaded),e.trigger("UploadProgress",t)}),T.onload=function(){return T.status>=400?void n():(c=e.settings.max_retries,f<i.size?(l.destroy(),d+=f,t.loaded=Math.min(d,i.size),e.trigger("ChunkUploaded",t,{offset:t.loaded,total:i.size,response:T.responseText,status:T.status,responseHeaders:T.getAllResponseHeaders()}),"Android Browser"===S.ua.browser&&e.trigger("UploadProgress",t)):t.loaded=t.size,l=h=null,void(!d||d>=i.size?(t.size!=t.origSize&&(i.destroy(),i=null),e.trigger("UploadProgress",t),t.status=S.DONE,t.completeTimestamp=+new Date,e.trigger("FileUploaded",t,{response:T.responseText,status:T.status,responseHeaders:T.getAllResponseHeaders()})):o(s,1)))},T.onerror=function(){n()},T.onloadend=function(){this.destroy(),T=null},e.settings.multipart&&p.multipart?(T.open(e.settings.http_method,u,!0),S.each(e.settings.headers,function(e,t){T.setRequestHeader(t,e)}),h=new r.xhr.FormData,S.each(S.extend(a,e.settings.multipart_params),function(e,t){h.append(t,e)}),h.append(e.settings.file_data_name,l),T.send(h,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:k,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(u=S.buildUrl(e.settings.url,S.extend(a,e.settings.multipart_params)),T.open(e.settings.http_method,u,!0),S.each(e.settings.headers,function(e,t){T.setRequestHeader(t,e)}),T.hasRequestHeader("Content-Type")||T.setRequestHeader("Content-Type","application/octet-stream"),T.send(l,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:k,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url}))}var i,u=e.settings.url,l=e.settings.chunk_size,c=e.settings.max_retries,p=e.features,d=0;t.loaded&&(d=t.loaded=l?l*Math.floor(t.loaded/l):0),e.unbind("UploadChunk",a),e.bind("UploadChunk",a),i=t.getSource(),!S.isEmptyObj(e.settings.resize)&&f(i,"send_binary_string")&&-1!==S.inArray(i.type,["image/jpeg","image/png"])?h.call(this,i,e.settings.resize,function(e){i=e,t.size=e.size,s()}):s()}function b(e,t){u(t)}function v(e){if(e.state==S.STARTED)p=+new Date;else if(e.state==S.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==S.UPLOADING&&(e.files[t].status=S.QUEUED,d())}function y(){T&&T.abort()}function R(e){d(),o(function(){a.call(e)},1)}function z(e,t){t.code===S.INIT_ERROR?e.destroy():t.code===S.HTTP_ERROR&&(t.file.status=S.FAILED,t.file.completeTimestamp=+new Date,u(t.file),e.state==S.STARTED&&(e.trigger("CancelUpload"),o(function(){a.call(e)},1)))}function O(e){e.stop(),S.each(x,function(e){e.destroy()}),x=[],P.length&&(S.each(P,function(e){e.destroy()}),P=[]),D.length&&(S.each(D,function(e){e.destroy()}),D=[]),k={},M=!1,p=T=null,C.reset()}var t,p,C,T,A=S.guid(),x=[],k={},P=[],D=[],M=!1;t={chunk_size:0,file_data_name:"file",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},flash_swf_url:"js/Moxie.swf",http_method:"POST",max_retries:0,multipart:!0,multi_selection:!0,resize:!1,runtimes:w.order,send_file_name:!0,send_chunk_number:!0,silverlight_xap_url:"js/Moxie.xap"},m.call(this,e,null,!0),C=new S.QueueProgress,S.extend(this,{id:A,uid:A,state:S.STOPPED,features:{},runtime:null,files:x,settings:t,total:C,init:function(){var e,r,n=this;return"function"==typeof(e=n.getOption("preinit"))?e(n):S.each(e,function(e,t){n.bind(t,e)}),(function(){this.bind("FilesAdded FilesRemoved",function(e){e.trigger("QueueChanged"),e.refresh()}),this.bind("CancelUpload",y),this.bind("BeforeUpload",_),this.bind("UploadFile",E),this.bind("UploadProgress",b),this.bind("StateChanged",v),this.bind("QueueChanged",d),this.bind("Error",z),this.bind("FileUploaded",R),this.bind("Destroy",O)}).call(n),S.each(["container","browse_button","drop_element"],function(e){return null===n.getOption(e)?(r={code:S.INIT_ERROR,message:S.sprintf(S.translate("%s specified, but cannot be found."),e)},!1):void 0}),r?n.trigger("Error",r):t.browse_button||t.drop_element?void g.call(n,t,function(e){var t=n.getOption("init");"function"==typeof t?t(n):S.each(t,function(e,t){n.bind(t,e)}),e?(n.runtime=w.getInfo(c()).type,n.trigger("Init",{runtime:n.runtime}),n.trigger("PostInit")):n.trigger("Error",{code:S.INIT_ERROR,message:S.translate("Init error.")})}):n.trigger("Error",{code:S.INIT_ERROR,message:S.translate("You must specify either browse_button or drop_element.")})},setOption:function(e,t){m.call(this,e,t,!this.runtime)},getOption:function(e){return e?t[e]:t},refresh:function(){P.length&&S.each(P,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=S.STARTED&&(this.state=S.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=S.STOPPED&&(this.state=S.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){M=arguments[0]===i||arguments[0],P.length&&S.each(P,function(e){e.disable(M)}),this.trigger("DisableBrowse",M)},getFile:function(e){var t;for(t=x.length-1;t>=0;t--)if(x[t].id===e)return x[t]},addFile:function(e,t){function n(e,t){var r=[];S.each(s.settings.filters,function(t,n){l[n]&&r.push(function(r){l[n].call(s,t,e,function(e){r(!e)})})}),S.inSeries(r,t)}var i,s=this,u=[],f=[];i=c(),function a(e){var l=S.typeOf(e);if(e instanceof r.file.File){if(!e.ruid&&!e.isDetached()){if(!i)return!1;e.ruid=i,e.connectRuntime(i)}a(new S.File(e))}else e instanceof r.file.Blob?(a(e.getSource()),e.destroy()):e instanceof S.File?(t&&(e.name=t),u.push(function(t){n(e,function(r){r||(x.push(e),f.push(e),s.trigger("FileFiltered",e)),o(t,1)})})):-1!==S.inArray(l,["file","blob"])?a(new r.file.File(null,e)):"node"===l&&"filelist"===S.typeOf(e.files)?S.each(e.files,a):"array"===l&&(t=null,S.each(e,a))}(e),u.length&&S.inSeries(u,function(){f.length&&s.trigger("FilesAdded",f)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,r=x.length-1;r>=0;r--)if(x[r].id===t)return this.splice(r,1)[0]},splice:function(e,t){var r=x.splice(e===i?0:e,t===i?x.length:t),n=!1;return this.state==S.STARTED&&(S.each(r,function(e){return e.status===S.UPLOADING?(n=!0,!1):void 0}),n&&this.stop()),this.trigger("FilesRemoved",r),S.each(r,function(e){e.destroy()}),n&&this.start(),r},dispatchEvent:function(e){var t,r;if(e=e.toLowerCase(),t=this.hasEventListener(e)){t.sort(function(e,t){return t.priority-e.priority}),(r=[].slice.call(arguments)).shift(),r.unshift(this);for(var n=0;n<t.length;n++)if(!1===t[n].fn.apply(t[n].scope,r))return!1}return!0},bind:function(e,t,r,n){S.Uploader.prototype.bind.call(this,e,t,n,r)},destroy:function(){this.trigger("Destroy"),t=C=null,this.unbindAll()}})},S.Uploader.prototype=r.core.EventTarget.instance,S.File=function(){var e={};return function(t){S.extend(this,{id:S.guid(),name:t.name||t.fileName,type:t.type||"",size:t.size||t.fileSize,origSize:t.size||t.fileSize,loaded:0,percent:0,status:S.QUEUED,lastModifiedDate:t.lastModifiedDate||(new Date).toLocaleString(),completeTimestamp:0,getNative:function(){var e=this.getSource().getSource();return-1!==S.inArray(S.typeOf(e),["blob","file"])?e:null},getSource:function(){return e[this.id]?e[this.id]:null},destroy:function(){var t=this.getSource();t&&(t.destroy(),delete e[this.id])}}),e[this.id]=t}}(),S.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=S}(this,e)}).apply(e,arguments),e.plupload};o=[n],void 0===(a="function"==typeof(i=u)?i.apply(t,o):i)||(e.exports=a)}(this||window)},dskh:function(e,t,r){"use strict";(function(e){var n=r("yh9p"),i=r("JgNJ"),o=r("seLU");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r),i=(e=createBuffer(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(read(e,o)===read(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(read(e,o+f)!==read(t,f)){c=!1;break}if(c)return o}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,u,l,c=e[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],s=e[i+2],u=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&u)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&u)>65535&&l<1114112&&(f=l)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(e){var t=e.length;if(t<=a)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=a));return r}(n)}t.Buffer=Buffer,t.SlowBuffer=function(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return function(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function(e){return!(null==e||!e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):(function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}).apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,o){return o||checkIEEE754(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,o){return o||checkIEEE754(e,0,r,8),i.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;r=new Buffer(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Buffer.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Buffer.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function base64ToBytes(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(s,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(t,r("h6ac"))},dviU:function(e,t,r){"use strict";var n=r("DRWY"),i=r("+ayz");n.Observable.prototype.finally=i._finally,n.Observable.prototype._finally=i._finally},e0PD:function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}},e5TX:function(e,t,r){var n=r("wppe"),i=r("uiOY"),o=r("lPmd"),a="[object Null]",s="[object Undefined]",u=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}},"eBi+":function(e,t,r){"use strict";var n=r("DRWY"),i=r("DBZT");n.Observable.prototype.delay=i.delay},eEce:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("h9wN"),a=r("kRjW"),s=function(e){function VBottom(t,r,n){var i=e.call(this,t)||this;return i._top=r,i._stack=n,i._xAxes=i.buildXAxes(),i}return i(VBottom,e),Object.defineProperty(VBottom.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(VBottom.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),Object.defineProperty(VBottom.prototype,"xAxes",{get:function(){return this._xAxes},enumerable:!0,configurable:!0}),VBottom.prototype.getY=function(){return this.top.getHeight()},VBottom.prototype.getHeight=function(){return this.xAxes.getHeight()},VBottom.prototype.buildXAxes=function(){var e=this.stack,t=this.top.xAxisField,r=new a.CHeader(this.table,t,e);return r.rotate=!0,r},VBottom.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.xAxes.compile()),t},VBottom}(o.Bottom);t.VBottom=s},eHJt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("64my"),i=r("UEw3"),o=r("7cqj"),a=r("Qg1O"),s=r("u6/t"),u=r("gh6O"),l=r("jpd/"),c=r("C3PX"),f=function(){function DefaultAdapter(){}return DefaultAdapter.prototype.alias=function(){return l.Utility.id("F")},DefaultAdapter.prototype.isStringType=function(e){return!this.isNumericType(e)},DefaultAdapter.prototype.isNumericType=function(e){switch(e.name){case i.DataType.Name.Float:case i.DataType.Name.Integer:case i.DataType.Name.Decimal:case i.DataType.Name.Timestamp:return!0;default:return!1}},DefaultAdapter.prototype.makeNamesDataRole=function(){return n.DataRole.Names.make()},DefaultAdapter.prototype.makeValuesDataRole=function(){return n.DataRole.Values.make()},DefaultAdapter.prototype.construct=function(e,t,r,n){var a=this,s=function(r){switch(r.formula.role.name){case i.DataType.Name.Timestamp:var o="DATETRUNC('DAY', ["+r.name+"])";return u.Adapter.field(a,e,t,o,r.type,n);default:o="["+r.name+"]";return u.Adapter.field(a,e,t,o,r.type,n)}},l=function(r){var i=r.defaults.aggregate+"(["+r.name+"])";return u.Adapter.field(a,e,t,i,r.type,n)};switch(r.source){case o.Attr.Source.Names:return u.Adapter.Fields.names(this,n);case o.Attr.Source.Values:return u.Adapter.Fields.values(this,n);case o.Attr.Source.Calc:case o.Attr.Source.Column:switch(r.scale){case o.Attr.Scale.Categorical:return s(r);case o.Attr.Scale.Ordinal:switch(r.role){case o.Attr.Role.Dimension:return s(r);case o.Attr.Role.Measure:return l(r)}case o.Attr.Scale.Quantitative:return l(r)}default:return r}},DefaultAdapter.prototype.provider=function(e,t){return c.DefaultProvider.make(e,t)},DefaultAdapter.prototype.resolver=function(e,t){return s.Resolver.make()},DefaultAdapter.prototype.compile=function(e,t,r){var n=this.provider(e,t),i=this.resolver(e,t);return a.Compiler.compile(n,i,r)},DefaultAdapter.prototype.references=function(e,t,r){switch(r){case o.Attr.Names.Key:case o.Attr.Values.Key:return[];default:return a.Compiler.references(this.provider(e,t),s.Resolver.make(),r)}},DefaultAdapter.prototype.select=function(e,t){return e.select(t)},DefaultAdapter.prototype.domain=function(e,t){return e.select(t)},DefaultAdapter.prototype.pivot=function(e,t){return e.select(t)},DefaultAdapter}();t.DefaultAdapter=f},eHmA:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("33Jt"),a=r("ITh/"),s=r("k+FJ"),u=r("EIUo"),l=function(e){function ForkJoinObservable(t,r){e.call(this),this.sources=t,this.resultSelector=r}return n(ForkJoinObservable,e),ForkJoinObservable.create=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(null===e||0===arguments.length)return new o.EmptyObservable;var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0]),0===e.length?new o.EmptyObservable:new ForkJoinObservable(e,r)},ForkJoinObservable.prototype._subscribe=function(e){return new c(e,this.sources,this.resultSelector)},ForkJoinObservable}(i.Observable);t.ForkJoinObservable=l;var c=function(e){function ForkJoinSubscriber(t,r,n){e.call(this,t),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=r[o],u=s.subscribeToResult(this,a,null,o);u&&(u.outerIndex=o,this.add(u))}}return n(ForkJoinSubscriber,e),ForkJoinSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},ForkJoinSubscriber.prototype.notifyComplete=function(e){var t=this.destination,r=this.haveValues,n=this.resultSelector,i=this.values,o=i.length;if(e._hasValue){if(this.completed++,this.completed===o){if(r===o){var a=n?n.apply(this,i):i;t.next(a)}t.complete()}}else t.complete()},ForkJoinSubscriber}(u.OuterSubscriber)},eSNR:function(e,t,r){"use strict";var n=r("4CgL");t.isEmpty=function(){return n.isEmpty()(this)}},eXAX:function(e,t,r){"use strict";var n=r("DRWY"),i=r("mxtV");n.Observable.prototype.skipWhile=i.skipWhile},eXv6:function(e,t,r){"use strict";var n=r("DRWY"),i=r("WLoW");n.Observable.prototype.do=i._do,n.Observable.prototype._do=i._do},ejt7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;!function(e){e.Source="SOURCE",e.Parsed="PARSED",e.Compiled="COMPILED"}(t=e.State||(e.State={})),function(e){e.Access="ACCESS",e.Aggregate="AGGREGATE",e.DatePart="DATE_PART",e.DateTrunc="DATE_TRUNC",e.Generic="GENERIC"}(e.Form||(e.Form={})),function(e){e.Scalar="SCALAR",e.Aggregate="AGGREGATE",e.Calculation="CALCULATION"}(e.Type||(e.Type={})),e.make=function(e){return{source:e,state:t.Source}}}(t.Expression||(t.Expression={}))},erv8:function(e,t,r){"use strict";function peg$SyntaxError(e,t,r,n){this.message=e,this.expected=t,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}!function(e,t){function ctor(){this.constructor=e}ctor.prototype=t.prototype,e.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(e,t){var r={literal:function(e){return'"'+literalEscape(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?classEscape(e.parts[t][0])+"-"+classEscape(e.parts[t][1]):classEscape(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function hex(e){return e.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+hex(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+hex(e)})}function classEscape(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+hex(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+hex(e)})}return"Expected "+function(e){var t,n,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(i=e[t],r[i.type](i));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+literalEscape(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:peg$SyntaxError,parse:function(e,t){t=void 0!==t?t:{};var r,n={},i={Start:peg$parseStart},o=peg$parseStart,a=function(e){return buildNode(e)},s={type:"any"},u=peg$otherExpectation("WhiteSpace"),l="\t",c=peg$literalExpectation("\t",!1),f="\v",h=peg$literalExpectation("\v",!1),p="\f",d=peg$literalExpectation("\f",!1),y=" ",g=peg$literalExpectation(" ",!1),m="\xa0",v=peg$literalExpectation("\xa0",!1),b="\ufeff",_=peg$literalExpectation("\ufeff",!1),w=/^[\n\r\u2028\u2029]/,S=peg$classExpectation(["\n","\r","\u2028","\u2029"],!1,!1),E=peg$otherExpectation("End of Line"),C="\n",O=peg$literalExpectation("\n",!1),T="\r\n",A=peg$literalExpectation("\r\n",!1),x="\r",k=peg$literalExpectation("\r",!1),R="\u2028",P=peg$literalExpectation("\u2028",!1),D="\u2029",M=peg$literalExpectation("\u2029",!1),F=peg$otherExpectation("comment"),N="/*",I=peg$literalExpectation("/*",!1),j="*/",L=peg$literalExpectation("*/",!1),B="//",H=peg$literalExpectation("//",!1),U=function(e){return e},q=peg$otherExpectation("identifier"),V=function(e,t){return buildNode({type:"Identifier",name:e+t.join("")})},W="$",z=peg$literalExpectation("$",!1),Y="_",$=peg$literalExpectation("_",!1),G="\\",K=peg$literalExpectation("\\",!1),X=function(e){return e},J="\u200c",Q=peg$literalExpectation("\u200c",!1),Z="\u200d",ee=peg$literalExpectation("\u200d",!1),te=peg$otherExpectation("objectid"),re="[",ne=peg$literalExpectation("[",!1),ie="]",oe=peg$literalExpectation("]",!1),ae=function(e){return buildNode({type:"AccessIdentifier",name:e.join("")})},se=function(){return text()},ue="AND",le=peg$literalExpectation("AND",!1),ce="CASE",fe=peg$literalExpectation("CASE",!1),he="ELSE",pe=peg$literalExpectation("ELSE",!1),de="END",ye=peg$literalExpectation("END",!1),ge="FALSE",me=peg$literalExpectation("FALSE",!1),ve="IF",be=peg$literalExpectation("IF",!1),_e="NOT",we=peg$literalExpectation("NOT",!1),Se="NULL",Ee=peg$literalExpectation("NULL",!1),Ce="OR",Oe=peg$literalExpectation("OR",!1),Te="THEN",Ae=peg$literalExpectation("THEN",!1),xe="TRUE",ke=peg$literalExpectation("TRUE",!1),Re="WHEN",Pe=peg$literalExpectation("WHEN",!1),De=function(){return buildNode({type:"NullLiteral",value:null})},Me=function(){return buildNode({type:"BooleanLiteral",value:!0})},Fe=function(){return buildNode({type:"BooleanLiteral",value:!1})},Ne=peg$otherExpectation("number"),Ie=function(e){return e},je=".",Le=peg$literalExpectation(".",!1),Be=function(){return buildNode({type:"NumberLiteral",value:parseFloat(text())})},He="0",Ue=peg$literalExpectation("0",!1),qe=/^[0-9]/,Ve=peg$classExpectation([["0","9"]],!1,!1),We=/^[1-9]/,ze=peg$classExpectation([["1","9"]],!1,!1),Ye="e",$e=peg$literalExpectation("e",!0),Ge=/^[+\-]/,Ke=peg$classExpectation(["+","-"],!1,!1),Xe="0x",Je=peg$literalExpectation("0x",!0),Qe=function(e){return buildNode({type:"HexLiteral",value:parseInt(e,16)})},Ze=/^[0-9a-f]/i,et=peg$classExpectation([["0","9"],["a","f"]],!1,!0),tt=peg$otherExpectation("date"),rt="#",nt=peg$literalExpectation("#",!1),it=function(e){return buildNode({type:"DateLiteral",value:t.moment.utc(e.join("")).valueOf()})},ot=peg$otherExpectation("string"),at='"',st=peg$literalExpectation('"',!1),ut=function(e){return buildNode({type:"StringLiteral",value:e.join("")})},lt="'",ct=peg$literalExpectation("'",!1),ft=function(){return""},ht=function(){return"\0"},pt="b",dt=peg$literalExpectation("b",!1),yt=function(){return"\b"},gt="f",mt=peg$literalExpectation("f",!1),vt=function(){return"\f"},bt="n",_t=peg$literalExpectation("n",!1),wt=function(){return"\n"},St="r",Et=peg$literalExpectation("r",!1),Ct=function(){return"\r"},Ot="t",Tt=peg$literalExpectation("t",!1),At=function(){return"\t"},xt="v",kt=peg$literalExpectation("v",!1),Rt=function(){return"\v"},Pt="x",Dt=peg$literalExpectation("x",!1),Mt="u",Ft=peg$literalExpectation("u",!1),Nt=function(e){return String.fromCharCode(parseInt(e,16))},It=peg$otherExpectation("regular expression"),jt="/",Lt=peg$literalExpectation("/",!1),Bt=function(e,t){var r;try{r=new RegExp(e,t)}catch(e){!function(e,t){throw t=void 0!==t?t:peg$computeLocation(nn,rn),function(e,t){return new peg$SyntaxError(e,null,null,t)}(e,t)}(e.message)}return buildNode({type:"RegExpLiteral",value:r})},Ht=/^[*\\\/[]/,Ut=peg$classExpectation(["*","\\","/","["],!1,!1),qt=/^[\\\/[]/,Vt=peg$classExpectation(["\\","/","["],!1,!1),Wt=/^[\]\\]/,zt=peg$classExpectation(["]","\\"],!1,!1),Yt="(",$t=peg$literalExpectation("(",!1),Gt=")",Kt=peg$literalExpectation(")",!1),Xt=function(e){return e},Jt=function(e,t){return buildNode({member:t})},Qt=function(e,t){return t.reduce(function(e,t){return buildNode({type:"AccessExpression",object:e,member:t.member})},e)},Zt=function(e,t){return buildNode({type:"CallExpression",callee:e.name,arguments:t})},er=function(e,t){return buildNode({type:"CallExpression",arguments:t})},tr=function(e,t){return t.reduce(function(e,t){return t.callee=e,t},e)},rr=function(e){return null!==(t=(r=e)?r[0]:null)?t:[];var t,r},nr=",",ir=peg$literalExpectation(",",!1),or=function(e,t){return function(e,t,r){return[e].concat(function(e,t){return e.map(function(e){return e[t]})}(t,r))}(e,t,3)},ar=function(e,t){return buildNode({type:"CaseExpression",when:e.reduce(function(e,t){return e.push(buildNode({type:"CaseWhen",condition:t[3],result:t[7]})),e},[]),else:null===t?null:buildNode({type:"CaseElse",result:t[3]})})},sr=function(e,t){return buildNode({type:"UnaryExpression",operator:e,argument:t})},ur="+",lr=peg$literalExpectation("+",!1),cr="=",fr=peg$literalExpectation("=",!1),hr="-",pr=peg$literalExpectation("-",!1),dr=function(e,t){return function(e,t){return t.reduce(function(e,t){return buildNode({type:"BinaryExpression",operator:t[1],left:e,right:t[3]})},e)}(e,t)},yr="*",gr=peg$literalExpectation("*",!1),mr="%",vr=peg$literalExpectation("%",!1),br=/^[+=]/,_r=peg$classExpectation(["+","="],!1,!1),wr=/^[\-=]/,Sr=peg$classExpectation(["-","="],!1,!1),Er="<=",Cr=peg$literalExpectation("<=",!1),Or=">=",Tr=peg$literalExpectation(">=",!1),Ar="<",xr=peg$literalExpectation("<",!1),kr=">",Rr=peg$literalExpectation(">",!1),Pr="<>",Dr=peg$literalExpectation("<>",!1),Mr=function(e,t){return function(e,t){return t.reduce(function(e,t){return buildNode({type:"LogicalExpression",operator:t[1],left:e,right:t[3]})},e)}(e,t)},Fr=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,Nr=peg$classExpectation([["a","z"],"\xb5",["\xdf","\xf6"],["\xf8","\xff"],"\u0101","\u0103","\u0105","\u0107","\u0109","\u010b","\u010d","\u010f","\u0111","\u0113","\u0115","\u0117","\u0119","\u011b","\u011d","\u011f","\u0121","\u0123","\u0125","\u0127","\u0129","\u012b","\u012d","\u012f","\u0131","\u0133","\u0135",["\u0137","\u0138"],"\u013a","\u013c","\u013e","\u0140","\u0142","\u0144","\u0146",["\u0148","\u0149"],"\u014b","\u014d","\u014f","\u0151","\u0153","\u0155","\u0157","\u0159","\u015b","\u015d","\u015f","\u0161","\u0163","\u0165","\u0167","\u0169","\u016b","\u016d","\u016f","\u0171","\u0173","\u0175","\u0177","\u017a","\u017c",["\u017e","\u0180"],"\u0183","\u0185","\u0188",["\u018c","\u018d"],"\u0192","\u0195",["\u0199","\u019b"],"\u019e","\u01a1","\u01a3","\u01a5","\u01a8",["\u01aa","\u01ab"],"\u01ad","\u01b0","\u01b4","\u01b6",["\u01b9","\u01ba"],["\u01bd","\u01bf"],"\u01c6","\u01c9","\u01cc","\u01ce","\u01d0","\u01d2","\u01d4","\u01d6","\u01d8","\u01da",["\u01dc","\u01dd"],"\u01df","\u01e1","\u01e3","\u01e5","\u01e7","\u01e9","\u01eb","\u01ed",["\u01ef","\u01f0"],"\u01f3","\u01f5","\u01f9","\u01fb","\u01fd","\u01ff","\u0201","\u0203","\u0205","\u0207","\u0209","\u020b","\u020d","\u020f","\u0211","\u0213","\u0215","\u0217","\u0219","\u021b","\u021d","\u021f","\u0221","\u0223","\u0225","\u0227","\u0229","\u022b","\u022d","\u022f","\u0231",["\u0233","\u0239"],"\u023c",["\u023f","\u0240"],"\u0242","\u0247","\u0249","\u024b","\u024d",["\u024f","\u0293"],["\u0295","\u02af"],"\u0371","\u0373","\u0377",["\u037b","\u037d"],"\u0390",["\u03ac","\u03ce"],["\u03d0","\u03d1"],["\u03d5","\u03d7"],"\u03d9","\u03db","\u03dd","\u03df","\u03e1","\u03e3","\u03e5","\u03e7","\u03e9","\u03eb","\u03ed",["\u03ef","\u03f3"],"\u03f5","\u03f8",["\u03fb","\u03fc"],["\u0430","\u045f"],"\u0461","\u0463","\u0465","\u0467","\u0469","\u046b","\u046d","\u046f","\u0471","\u0473","\u0475","\u0477","\u0479","\u047b","\u047d","\u047f","\u0481","\u048b","\u048d","\u048f","\u0491","\u0493","\u0495","\u0497","\u0499","\u049b","\u049d","\u049f","\u04a1","\u04a3","\u04a5","\u04a7","\u04a9","\u04ab","\u04ad","\u04af","\u04b1","\u04b3","\u04b5","\u04b7","\u04b9","\u04bb","\u04bd","\u04bf","\u04c2","\u04c4","\u04c6","\u04c8","\u04ca","\u04cc",["\u04ce","\u04cf"],"\u04d1","\u04d3","\u04d5","\u04d7","\u04d9","\u04db","\u04dd","\u04df","\u04e1","\u04e3","\u04e5","\u04e7","\u04e9","\u04eb","\u04ed","\u04ef","\u04f1","\u04f3","\u04f5","\u04f7","\u04f9","\u04fb","\u04fd","\u04ff","\u0501","\u0503","\u0505","\u0507","\u0509","\u050b","\u050d","\u050f","\u0511","\u0513","\u0515","\u0517","\u0519","\u051b","\u051d","\u051f","\u0521","\u0523","\u0525","\u0527","\u0529","\u052b","\u052d","\u052f",["\u0561","\u0587"],["\u13f8","\u13fd"],["\u1d00","\u1d2b"],["\u1d6b","\u1d77"],["\u1d79","\u1d9a"],"\u1e01","\u1e03","\u1e05","\u1e07","\u1e09","\u1e0b","\u1e0d","\u1e0f","\u1e11","\u1e13","\u1e15","\u1e17","\u1e19","\u1e1b","\u1e1d","\u1e1f","\u1e21","\u1e23","\u1e25","\u1e27","\u1e29","\u1e2b","\u1e2d","\u1e2f","\u1e31","\u1e33","\u1e35","\u1e37","\u1e39","\u1e3b","\u1e3d","\u1e3f","\u1e41","\u1e43","\u1e45","\u1e47","\u1e49","\u1e4b","\u1e4d","\u1e4f","\u1e51","\u1e53","\u1e55","\u1e57","\u1e59","\u1e5b","\u1e5d","\u1e5f","\u1e61","\u1e63","\u1e65","\u1e67","\u1e69","\u1e6b","\u1e6d","\u1e6f","\u1e71","\u1e73","\u1e75","\u1e77","\u1e79","\u1e7b","\u1e7d","\u1e7f","\u1e81","\u1e83","\u1e85","\u1e87","\u1e89","\u1e8b","\u1e8d","\u1e8f","\u1e91","\u1e93",["\u1e95","\u1e9d"],"\u1e9f","\u1ea1","\u1ea3","\u1ea5","\u1ea7","\u1ea9","\u1eab","\u1ead","\u1eaf","\u1eb1","\u1eb3","\u1eb5","\u1eb7","\u1eb9","\u1ebb","\u1ebd","\u1ebf","\u1ec1","\u1ec3","\u1ec5","\u1ec7","\u1ec9","\u1ecb","\u1ecd","\u1ecf","\u1ed1","\u1ed3","\u1ed5","\u1ed7","\u1ed9","\u1edb","\u1edd","\u1edf","\u1ee1","\u1ee3","\u1ee5","\u1ee7","\u1ee9","\u1eeb","\u1eed","\u1eef","\u1ef1","\u1ef3","\u1ef5","\u1ef7","\u1ef9","\u1efb","\u1efd",["\u1eff","\u1f07"],["\u1f10","\u1f15"],["\u1f20","\u1f27"],["\u1f30","\u1f37"],["\u1f40","\u1f45"],["\u1f50","\u1f57"],["\u1f60","\u1f67"],["\u1f70","\u1f7d"],["\u1f80","\u1f87"],["\u1f90","\u1f97"],["\u1fa0","\u1fa7"],["\u1fb0","\u1fb4"],["\u1fb6","\u1fb7"],"\u1fbe",["\u1fc2","\u1fc4"],["\u1fc6","\u1fc7"],["\u1fd0","\u1fd3"],["\u1fd6","\u1fd7"],["\u1fe0","\u1fe7"],["\u1ff2","\u1ff4"],["\u1ff6","\u1ff7"],"\u210a",["\u210e","\u210f"],"\u2113","\u212f","\u2134","\u2139",["\u213c","\u213d"],["\u2146","\u2149"],"\u214e","\u2184",["\u2c30","\u2c5e"],"\u2c61",["\u2c65","\u2c66"],"\u2c68","\u2c6a","\u2c6c","\u2c71",["\u2c73","\u2c74"],["\u2c76","\u2c7b"],"\u2c81","\u2c83","\u2c85","\u2c87","\u2c89","\u2c8b","\u2c8d","\u2c8f","\u2c91","\u2c93","\u2c95","\u2c97","\u2c99","\u2c9b","\u2c9d","\u2c9f","\u2ca1","\u2ca3","\u2ca5","\u2ca7","\u2ca9","\u2cab","\u2cad","\u2caf","\u2cb1","\u2cb3","\u2cb5","\u2cb7","\u2cb9","\u2cbb","\u2cbd","\u2cbf","\u2cc1","\u2cc3","\u2cc5","\u2cc7","\u2cc9","\u2ccb","\u2ccd","\u2ccf","\u2cd1","\u2cd3","\u2cd5","\u2cd7","\u2cd9","\u2cdb","\u2cdd","\u2cdf","\u2ce1",["\u2ce3","\u2ce4"],"\u2cec","\u2cee","\u2cf3",["\u2d00","\u2d25"],"\u2d27","\u2d2d","\ua641","\ua643","\ua645","\ua647","\ua649","\ua64b","\ua64d","\ua64f","\ua651","\ua653","\ua655","\ua657","\ua659","\ua65b","\ua65d","\ua65f","\ua661","\ua663","\ua665","\ua667","\ua669","\ua66b","\ua66d","\ua681","\ua683","\ua685","\ua687","\ua689","\ua68b","\ua68d","\ua68f","\ua691","\ua693","\ua695","\ua697","\ua699","\ua69b","\ua723","\ua725","\ua727","\ua729","\ua72b","\ua72d",["\ua72f","\ua731"],"\ua733","\ua735","\ua737","\ua739","\ua73b","\ua73d","\ua73f","\ua741","\ua743","\ua745","\ua747","\ua749","\ua74b","\ua74d","\ua74f","\ua751","\ua753","\ua755","\ua757","\ua759","\ua75b","\ua75d","\ua75f","\ua761","\ua763","\ua765","\ua767","\ua769","\ua76b","\ua76d","\ua76f",["\ua771","\ua778"],"\ua77a","\ua77c","\ua77f","\ua781","\ua783","\ua785","\ua787","\ua78c","\ua78e","\ua791",["\ua793","\ua795"],"\ua797","\ua799","\ua79b","\ua79d","\ua79f","\ua7a1","\ua7a3","\ua7a5","\ua7a7","\ua7a9","\ua7b5","\ua7b7","\ua7fa",["\uab30","\uab5a"],["\uab60","\uab65"],["\uab70","\uabbf"],["\ufb00","\ufb06"],["\ufb13","\ufb17"],["\uff41","\uff5a"]],!1,!1),Ir=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,jr=peg$classExpectation([["\u02b0","\u02c1"],["\u02c6","\u02d1"],["\u02e0","\u02e4"],"\u02ec","\u02ee","\u0374","\u037a","\u0559","\u0640",["\u06e5","\u06e6"],["\u07f4","\u07f5"],"\u07fa","\u081a","\u0824","\u0828","\u0971","\u0e46","\u0ec6","\u10fc","\u17d7","\u1843","\u1aa7",["\u1c78","\u1c7d"],["\u1d2c","\u1d6a"],"\u1d78",["\u1d9b","\u1dbf"],"\u2071","\u207f",["\u2090","\u209c"],["\u2c7c","\u2c7d"],"\u2d6f","\u2e2f","\u3005",["\u3031","\u3035"],"\u303b",["\u309d","\u309e"],["\u30fc","\u30fe"],"\ua015",["\ua4f8","\ua4fd"],"\ua60c","\ua67f",["\ua69c","\ua69d"],["\ua717","\ua71f"],"\ua770","\ua788",["\ua7f8","\ua7f9"],"\ua9cf","\ua9e6","\uaa70","\uaadd",["\uaaf3","\uaaf4"],["\uab5c","\uab5f"],"\uff70",["\uff9e","\uff9f"]],!1,!1),Lr=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Br=peg$classExpectation(["\xaa","\xba","\u01bb",["\u01c0","\u01c3"],"\u0294",["\u05d0","\u05ea"],["\u05f0","\u05f2"],["\u0620","\u063f"],["\u0641","\u064a"],["\u066e","\u066f"],["\u0671","\u06d3"],"\u06d5",["\u06ee","\u06ef"],["\u06fa","\u06fc"],"\u06ff","\u0710",["\u0712","\u072f"],["\u074d","\u07a5"],"\u07b1",["\u07ca","\u07ea"],["\u0800","\u0815"],["\u0840","\u0858"],["\u08a0","\u08b4"],["\u0904","\u0939"],"\u093d","\u0950",["\u0958","\u0961"],["\u0972","\u0980"],["\u0985","\u098c"],["\u098f","\u0990"],["\u0993","\u09a8"],["\u09aa","\u09b0"],"\u09b2",["\u09b6","\u09b9"],"\u09bd","\u09ce",["\u09dc","\u09dd"],["\u09df","\u09e1"],["\u09f0","\u09f1"],["\u0a05","\u0a0a"],["\u0a0f","\u0a10"],["\u0a13","\u0a28"],["\u0a2a","\u0a30"],["\u0a32","\u0a33"],["\u0a35","\u0a36"],["\u0a38","\u0a39"],["\u0a59","\u0a5c"],"\u0a5e",["\u0a72","\u0a74"],["\u0a85","\u0a8d"],["\u0a8f","\u0a91"],["\u0a93","\u0aa8"],["\u0aaa","\u0ab0"],["\u0ab2","\u0ab3"],["\u0ab5","\u0ab9"],"\u0abd","\u0ad0",["\u0ae0","\u0ae1"],"\u0af9",["\u0b05","\u0b0c"],["\u0b0f","\u0b10"],["\u0b13","\u0b28"],["\u0b2a","\u0b30"],["\u0b32","\u0b33"],["\u0b35","\u0b39"],"\u0b3d",["\u0b5c","\u0b5d"],["\u0b5f","\u0b61"],"\u0b71","\u0b83",["\u0b85","\u0b8a"],["\u0b8e","\u0b90"],["\u0b92","\u0b95"],["\u0b99","\u0b9a"],"\u0b9c",["\u0b9e","\u0b9f"],["\u0ba3","\u0ba4"],["\u0ba8","\u0baa"],["\u0bae","\u0bb9"],"\u0bd0",["\u0c05","\u0c0c"],["\u0c0e","\u0c10"],["\u0c12","\u0c28"],["\u0c2a","\u0c39"],"\u0c3d",["\u0c58","\u0c5a"],["\u0c60","\u0c61"],["\u0c85","\u0c8c"],["\u0c8e","\u0c90"],["\u0c92","\u0ca8"],["\u0caa","\u0cb3"],["\u0cb5","\u0cb9"],"\u0cbd","\u0cde",["\u0ce0","\u0ce1"],["\u0cf1","\u0cf2"],["\u0d05","\u0d0c"],["\u0d0e","\u0d10"],["\u0d12","\u0d3a"],"\u0d3d","\u0d4e",["\u0d5f","\u0d61"],["\u0d7a","\u0d7f"],["\u0d85","\u0d96"],["\u0d9a","\u0db1"],["\u0db3","\u0dbb"],"\u0dbd",["\u0dc0","\u0dc6"],["\u0e01","\u0e30"],["\u0e32","\u0e33"],["\u0e40","\u0e45"],["\u0e81","\u0e82"],"\u0e84",["\u0e87","\u0e88"],"\u0e8a","\u0e8d",["\u0e94","\u0e97"],["\u0e99","\u0e9f"],["\u0ea1","\u0ea3"],"\u0ea5","\u0ea7",["\u0eaa","\u0eab"],["\u0ead","\u0eb0"],["\u0eb2","\u0eb3"],"\u0ebd",["\u0ec0","\u0ec4"],["\u0edc","\u0edf"],"\u0f00",["\u0f40","\u0f47"],["\u0f49","\u0f6c"],["\u0f88","\u0f8c"],["\u1000","\u102a"],"\u103f",["\u1050","\u1055"],["\u105a","\u105d"],"\u1061",["\u1065","\u1066"],["\u106e","\u1070"],["\u1075","\u1081"],"\u108e",["\u10d0","\u10fa"],["\u10fd","\u1248"],["\u124a","\u124d"],["\u1250","\u1256"],"\u1258",["\u125a","\u125d"],["\u1260","\u1288"],["\u128a","\u128d"],["\u1290","\u12b0"],["\u12b2","\u12b5"],["\u12b8","\u12be"],"\u12c0",["\u12c2","\u12c5"],["\u12c8","\u12d6"],["\u12d8","\u1310"],["\u1312","\u1315"],["\u1318","\u135a"],["\u1380","\u138f"],["\u1401","\u166c"],["\u166f","\u167f"],["\u1681","\u169a"],["\u16a0","\u16ea"],["\u16f1","\u16f8"],["\u1700","\u170c"],["\u170e","\u1711"],["\u1720","\u1731"],["\u1740","\u1751"],["\u1760","\u176c"],["\u176e","\u1770"],["\u1780","\u17b3"],"\u17dc",["\u1820","\u1842"],["\u1844","\u1877"],["\u1880","\u18a8"],"\u18aa",["\u18b0","\u18f5"],["\u1900","\u191e"],["\u1950","\u196d"],["\u1970","\u1974"],["\u1980","\u19ab"],["\u19b0","\u19c9"],["\u1a00","\u1a16"],["\u1a20","\u1a54"],["\u1b05","\u1b33"],["\u1b45","\u1b4b"],["\u1b83","\u1ba0"],["\u1bae","\u1baf"],["\u1bba","\u1be5"],["\u1c00","\u1c23"],["\u1c4d","\u1c4f"],["\u1c5a","\u1c77"],["\u1ce9","\u1cec"],["\u1cee","\u1cf1"],["\u1cf5","\u1cf6"],["\u2135","\u2138"],["\u2d30","\u2d67"],["\u2d80","\u2d96"],["\u2da0","\u2da6"],["\u2da8","\u2dae"],["\u2db0","\u2db6"],["\u2db8","\u2dbe"],["\u2dc0","\u2dc6"],["\u2dc8","\u2dce"],["\u2dd0","\u2dd6"],["\u2dd8","\u2dde"],"\u3006","\u303c",["\u3041","\u3096"],"\u309f",["\u30a1","\u30fa"],"\u30ff",["\u3105","\u312d"],["\u3131","\u318e"],["\u31a0","\u31ba"],["\u31f0","\u31ff"],["\u3400","\u4db5"],["\u4e00","\u9fd5"],["\ua000","\ua014"],["\ua016","\ua48c"],["\ua4d0","\ua4f7"],["\ua500","\ua60b"],["\ua610","\ua61f"],["\ua62a","\ua62b"],"\ua66e",["\ua6a0","\ua6e5"],"\ua78f","\ua7f7",["\ua7fb","\ua801"],["\ua803","\ua805"],["\ua807","\ua80a"],["\ua80c","\ua822"],["\ua840","\ua873"],["\ua882","\ua8b3"],["\ua8f2","\ua8f7"],"\ua8fb","\ua8fd",["\ua90a","\ua925"],["\ua930","\ua946"],["\ua960","\ua97c"],["\ua984","\ua9b2"],["\ua9e0","\ua9e4"],["\ua9e7","\ua9ef"],["\ua9fa","\ua9fe"],["\uaa00","\uaa28"],["\uaa40","\uaa42"],["\uaa44","\uaa4b"],["\uaa60","\uaa6f"],["\uaa71","\uaa76"],"\uaa7a",["\uaa7e","\uaaaf"],"\uaab1",["\uaab5","\uaab6"],["\uaab9","\uaabd"],"\uaac0","\uaac2",["\uaadb","\uaadc"],["\uaae0","\uaaea"],"\uaaf2",["\uab01","\uab06"],["\uab09","\uab0e"],["\uab11","\uab16"],["\uab20","\uab26"],["\uab28","\uab2e"],["\uabc0","\uabe2"],["\uac00","\ud7a3"],["\ud7b0","\ud7c6"],["\ud7cb","\ud7fb"],["\uf900","\ufa6d"],["\ufa70","\ufad9"],"\ufb1d",["\ufb1f","\ufb28"],["\ufb2a","\ufb36"],["\ufb38","\ufb3c"],"\ufb3e",["\ufb40","\ufb41"],["\ufb43","\ufb44"],["\ufb46","\ufbb1"],["\ufbd3","\ufd3d"],["\ufd50","\ufd8f"],["\ufd92","\ufdc7"],["\ufdf0","\ufdfb"],["\ufe70","\ufe74"],["\ufe76","\ufefc"],["\uff66","\uff6f"],["\uff71","\uff9d"],["\uffa0","\uffbe"],["\uffc2","\uffc7"],["\uffca","\uffcf"],["\uffd2","\uffd7"],["\uffda","\uffdc"]],!1,!1),Hr=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Ur=peg$classExpectation(["\u01c5","\u01c8","\u01cb","\u01f2",["\u1f88","\u1f8f"],["\u1f98","\u1f9f"],["\u1fa8","\u1faf"],"\u1fbc","\u1fcc","\u1ffc"],!1,!1),qr=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,Vr=peg$classExpectation([["A","Z"],["\xc0","\xd6"],["\xd8","\xde"],"\u0100","\u0102","\u0104","\u0106","\u0108","\u010a","\u010c","\u010e","\u0110","\u0112","\u0114","\u0116","\u0118","\u011a","\u011c","\u011e","\u0120","\u0122","\u0124","\u0126","\u0128","\u012a","\u012c","\u012e","\u0130","\u0132","\u0134","\u0136","\u0139","\u013b","\u013d","\u013f","\u0141","\u0143","\u0145","\u0147","\u014a","\u014c","\u014e","\u0150","\u0152","\u0154","\u0156","\u0158","\u015a","\u015c","\u015e","\u0160","\u0162","\u0164","\u0166","\u0168","\u016a","\u016c","\u016e","\u0170","\u0172","\u0174","\u0176",["\u0178","\u0179"],"\u017b","\u017d",["\u0181","\u0182"],"\u0184",["\u0186","\u0187"],["\u0189","\u018b"],["\u018e","\u0191"],["\u0193","\u0194"],["\u0196","\u0198"],["\u019c","\u019d"],["\u019f","\u01a0"],"\u01a2","\u01a4",["\u01a6","\u01a7"],"\u01a9","\u01ac",["\u01ae","\u01af"],["\u01b1","\u01b3"],"\u01b5",["\u01b7","\u01b8"],"\u01bc","\u01c4","\u01c7","\u01ca","\u01cd","\u01cf","\u01d1","\u01d3","\u01d5","\u01d7","\u01d9","\u01db","\u01de","\u01e0","\u01e2","\u01e4","\u01e6","\u01e8","\u01ea","\u01ec","\u01ee","\u01f1","\u01f4",["\u01f6","\u01f8"],"\u01fa","\u01fc","\u01fe","\u0200","\u0202","\u0204","\u0206","\u0208","\u020a","\u020c","\u020e","\u0210","\u0212","\u0214","\u0216","\u0218","\u021a","\u021c","\u021e","\u0220","\u0222","\u0224","\u0226","\u0228","\u022a","\u022c","\u022e","\u0230","\u0232",["\u023a","\u023b"],["\u023d","\u023e"],"\u0241",["\u0243","\u0246"],"\u0248","\u024a","\u024c","\u024e","\u0370","\u0372","\u0376","\u037f","\u0386",["\u0388","\u038a"],"\u038c",["\u038e","\u038f"],["\u0391","\u03a1"],["\u03a3","\u03ab"],"\u03cf",["\u03d2","\u03d4"],"\u03d8","\u03da","\u03dc","\u03de","\u03e0","\u03e2","\u03e4","\u03e6","\u03e8","\u03ea","\u03ec","\u03ee","\u03f4","\u03f7",["\u03f9","\u03fa"],["\u03fd","\u042f"],"\u0460","\u0462","\u0464","\u0466","\u0468","\u046a","\u046c","\u046e","\u0470","\u0472","\u0474","\u0476","\u0478","\u047a","\u047c","\u047e","\u0480","\u048a","\u048c","\u048e","\u0490","\u0492","\u0494","\u0496","\u0498","\u049a","\u049c","\u049e","\u04a0","\u04a2","\u04a4","\u04a6","\u04a8","\u04aa","\u04ac","\u04ae","\u04b0","\u04b2","\u04b4","\u04b6","\u04b8","\u04ba","\u04bc","\u04be",["\u04c0","\u04c1"],"\u04c3","\u04c5","\u04c7","\u04c9","\u04cb","\u04cd","\u04d0","\u04d2","\u04d4","\u04d6","\u04d8","\u04da","\u04dc","\u04de","\u04e0","\u04e2","\u04e4","\u04e6","\u04e8","\u04ea","\u04ec","\u04ee","\u04f0","\u04f2","\u04f4","\u04f6","\u04f8","\u04fa","\u04fc","\u04fe","\u0500","\u0502","\u0504","\u0506","\u0508","\u050a","\u050c","\u050e","\u0510","\u0512","\u0514","\u0516","\u0518","\u051a","\u051c","\u051e","\u0520","\u0522","\u0524","\u0526","\u0528","\u052a","\u052c","\u052e",["\u0531","\u0556"],["\u10a0","\u10c5"],"\u10c7","\u10cd",["\u13a0","\u13f5"],"\u1e00","\u1e02","\u1e04","\u1e06","\u1e08","\u1e0a","\u1e0c","\u1e0e","\u1e10","\u1e12","\u1e14","\u1e16","\u1e18","\u1e1a","\u1e1c","\u1e1e","\u1e20","\u1e22","\u1e24","\u1e26","\u1e28","\u1e2a","\u1e2c","\u1e2e","\u1e30","\u1e32","\u1e34","\u1e36","\u1e38","\u1e3a","\u1e3c","\u1e3e","\u1e40","\u1e42","\u1e44","\u1e46","\u1e48","\u1e4a","\u1e4c","\u1e4e","\u1e50","\u1e52","\u1e54","\u1e56","\u1e58","\u1e5a","\u1e5c","\u1e5e","\u1e60","\u1e62","\u1e64","\u1e66","\u1e68","\u1e6a","\u1e6c","\u1e6e","\u1e70","\u1e72","\u1e74","\u1e76","\u1e78","\u1e7a","\u1e7c","\u1e7e","\u1e80","\u1e82","\u1e84","\u1e86","\u1e88","\u1e8a","\u1e8c","\u1e8e","\u1e90","\u1e92","\u1e94","\u1e9e","\u1ea0","\u1ea2","\u1ea4","\u1ea6","\u1ea8","\u1eaa","\u1eac","\u1eae","\u1eb0","\u1eb2","\u1eb4","\u1eb6","\u1eb8","\u1eba","\u1ebc","\u1ebe","\u1ec0","\u1ec2","\u1ec4","\u1ec6","\u1ec8","\u1eca","\u1ecc","\u1ece","\u1ed0","\u1ed2","\u1ed4","\u1ed6","\u1ed8","\u1eda","\u1edc","\u1ede","\u1ee0","\u1ee2","\u1ee4","\u1ee6","\u1ee8","\u1eea","\u1eec","\u1eee","\u1ef0","\u1ef2","\u1ef4","\u1ef6","\u1ef8","\u1efa","\u1efc","\u1efe",["\u1f08","\u1f0f"],["\u1f18","\u1f1d"],["\u1f28","\u1f2f"],["\u1f38","\u1f3f"],["\u1f48","\u1f4d"],"\u1f59","\u1f5b","\u1f5d","\u1f5f",["\u1f68","\u1f6f"],["\u1fb8","\u1fbb"],["\u1fc8","\u1fcb"],["\u1fd8","\u1fdb"],["\u1fe8","\u1fec"],["\u1ff8","\u1ffb"],"\u2102","\u2107",["\u210b","\u210d"],["\u2110","\u2112"],"\u2115",["\u2119","\u211d"],"\u2124","\u2126","\u2128",["\u212a","\u212d"],["\u2130","\u2133"],["\u213e","\u213f"],"\u2145","\u2183",["\u2c00","\u2c2e"],"\u2c60",["\u2c62","\u2c64"],"\u2c67","\u2c69","\u2c6b",["\u2c6d","\u2c70"],"\u2c72","\u2c75",["\u2c7e","\u2c80"],"\u2c82","\u2c84","\u2c86","\u2c88","\u2c8a","\u2c8c","\u2c8e","\u2c90","\u2c92","\u2c94","\u2c96","\u2c98","\u2c9a","\u2c9c","\u2c9e","\u2ca0","\u2ca2","\u2ca4","\u2ca6","\u2ca8","\u2caa","\u2cac","\u2cae","\u2cb0","\u2cb2","\u2cb4","\u2cb6","\u2cb8","\u2cba","\u2cbc","\u2cbe","\u2cc0","\u2cc2","\u2cc4","\u2cc6","\u2cc8","\u2cca","\u2ccc","\u2cce","\u2cd0","\u2cd2","\u2cd4","\u2cd6","\u2cd8","\u2cda","\u2cdc","\u2cde","\u2ce0","\u2ce2","\u2ceb","\u2ced","\u2cf2","\ua640","\ua642","\ua644","\ua646","\ua648","\ua64a","\ua64c","\ua64e","\ua650","\ua652","\ua654","\ua656","\ua658","\ua65a","\ua65c","\ua65e","\ua660","\ua662","\ua664","\ua666","\ua668","\ua66a","\ua66c","\ua680","\ua682","\ua684","\ua686","\ua688","\ua68a","\ua68c","\ua68e","\ua690","\ua692","\ua694","\ua696","\ua698","\ua69a","\ua722","\ua724","\ua726","\ua728","\ua72a","\ua72c","\ua72e","\ua732","\ua734","\ua736","\ua738","\ua73a","\ua73c","\ua73e","\ua740","\ua742","\ua744","\ua746","\ua748","\ua74a","\ua74c","\ua74e","\ua750","\ua752","\ua754","\ua756","\ua758","\ua75a","\ua75c","\ua75e","\ua760","\ua762","\ua764","\ua766","\ua768","\ua76a","\ua76c","\ua76e","\ua779","\ua77b",["\ua77d","\ua77e"],"\ua780","\ua782","\ua784","\ua786","\ua78b","\ua78d","\ua790","\ua792","\ua796","\ua798","\ua79a","\ua79c","\ua79e","\ua7a0","\ua7a2","\ua7a4","\ua7a6","\ua7a8",["\ua7aa","\ua7ad"],["\ua7b0","\ua7b4"],"\ua7b6",["\uff21","\uff3a"]],!1,!1),Wr=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,zr=peg$classExpectation(["\u0903","\u093b",["\u093e","\u0940"],["\u0949","\u094c"],["\u094e","\u094f"],["\u0982","\u0983"],["\u09be","\u09c0"],["\u09c7","\u09c8"],["\u09cb","\u09cc"],"\u09d7","\u0a03",["\u0a3e","\u0a40"],"\u0a83",["\u0abe","\u0ac0"],"\u0ac9",["\u0acb","\u0acc"],["\u0b02","\u0b03"],"\u0b3e","\u0b40",["\u0b47","\u0b48"],["\u0b4b","\u0b4c"],"\u0b57",["\u0bbe","\u0bbf"],["\u0bc1","\u0bc2"],["\u0bc6","\u0bc8"],["\u0bca","\u0bcc"],"\u0bd7",["\u0c01","\u0c03"],["\u0c41","\u0c44"],["\u0c82","\u0c83"],"\u0cbe",["\u0cc0","\u0cc4"],["\u0cc7","\u0cc8"],["\u0cca","\u0ccb"],["\u0cd5","\u0cd6"],["\u0d02","\u0d03"],["\u0d3e","\u0d40"],["\u0d46","\u0d48"],["\u0d4a","\u0d4c"],"\u0d57",["\u0d82","\u0d83"],["\u0dcf","\u0dd1"],["\u0dd8","\u0ddf"],["\u0df2","\u0df3"],["\u0f3e","\u0f3f"],"\u0f7f",["\u102b","\u102c"],"\u1031","\u1038",["\u103b","\u103c"],["\u1056","\u1057"],["\u1062","\u1064"],["\u1067","\u106d"],["\u1083","\u1084"],["\u1087","\u108c"],"\u108f",["\u109a","\u109c"],"\u17b6",["\u17be","\u17c5"],["\u17c7","\u17c8"],["\u1923","\u1926"],["\u1929","\u192b"],["\u1930","\u1931"],["\u1933","\u1938"],["\u1a19","\u1a1a"],"\u1a55","\u1a57","\u1a61",["\u1a63","\u1a64"],["\u1a6d","\u1a72"],"\u1b04","\u1b35","\u1b3b",["\u1b3d","\u1b41"],["\u1b43","\u1b44"],"\u1b82","\u1ba1",["\u1ba6","\u1ba7"],"\u1baa","\u1be7",["\u1bea","\u1bec"],"\u1bee",["\u1bf2","\u1bf3"],["\u1c24","\u1c2b"],["\u1c34","\u1c35"],"\u1ce1",["\u1cf2","\u1cf3"],["\u302e","\u302f"],["\ua823","\ua824"],"\ua827",["\ua880","\ua881"],["\ua8b4","\ua8c3"],["\ua952","\ua953"],"\ua983",["\ua9b4","\ua9b5"],["\ua9ba","\ua9bb"],["\ua9bd","\ua9c0"],["\uaa2f","\uaa30"],["\uaa33","\uaa34"],"\uaa4d","\uaa7b","\uaa7d","\uaaeb",["\uaaee","\uaaef"],"\uaaf5",["\uabe3","\uabe4"],["\uabe6","\uabe7"],["\uabe9","\uabea"],"\uabec"],!1,!1),Yr=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,$r=peg$classExpectation([["\u0300","\u036f"],["\u0483","\u0487"],["\u0591","\u05bd"],"\u05bf",["\u05c1","\u05c2"],["\u05c4","\u05c5"],"\u05c7",["\u0610","\u061a"],["\u064b","\u065f"],"\u0670",["\u06d6","\u06dc"],["\u06df","\u06e4"],["\u06e7","\u06e8"],["\u06ea","\u06ed"],"\u0711",["\u0730","\u074a"],["\u07a6","\u07b0"],["\u07eb","\u07f3"],["\u0816","\u0819"],["\u081b","\u0823"],["\u0825","\u0827"],["\u0829","\u082d"],["\u0859","\u085b"],["\u08e3","\u0902"],"\u093a","\u093c",["\u0941","\u0948"],"\u094d",["\u0951","\u0957"],["\u0962","\u0963"],"\u0981","\u09bc",["\u09c1","\u09c4"],"\u09cd",["\u09e2","\u09e3"],["\u0a01","\u0a02"],"\u0a3c",["\u0a41","\u0a42"],["\u0a47","\u0a48"],["\u0a4b","\u0a4d"],"\u0a51",["\u0a70","\u0a71"],"\u0a75",["\u0a81","\u0a82"],"\u0abc",["\u0ac1","\u0ac5"],["\u0ac7","\u0ac8"],"\u0acd",["\u0ae2","\u0ae3"],"\u0b01","\u0b3c","\u0b3f",["\u0b41","\u0b44"],"\u0b4d","\u0b56",["\u0b62","\u0b63"],"\u0b82","\u0bc0","\u0bcd","\u0c00",["\u0c3e","\u0c40"],["\u0c46","\u0c48"],["\u0c4a","\u0c4d"],["\u0c55","\u0c56"],["\u0c62","\u0c63"],"\u0c81","\u0cbc","\u0cbf","\u0cc6",["\u0ccc","\u0ccd"],["\u0ce2","\u0ce3"],"\u0d01",["\u0d41","\u0d44"],"\u0d4d",["\u0d62","\u0d63"],"\u0dca",["\u0dd2","\u0dd4"],"\u0dd6","\u0e31",["\u0e34","\u0e3a"],["\u0e47","\u0e4e"],"\u0eb1",["\u0eb4","\u0eb9"],["\u0ebb","\u0ebc"],["\u0ec8","\u0ecd"],["\u0f18","\u0f19"],"\u0f35","\u0f37","\u0f39",["\u0f71","\u0f7e"],["\u0f80","\u0f84"],["\u0f86","\u0f87"],["\u0f8d","\u0f97"],["\u0f99","\u0fbc"],"\u0fc6",["\u102d","\u1030"],["\u1032","\u1037"],["\u1039","\u103a"],["\u103d","\u103e"],["\u1058","\u1059"],["\u105e","\u1060"],["\u1071","\u1074"],"\u1082",["\u1085","\u1086"],"\u108d","\u109d",["\u135d","\u135f"],["\u1712","\u1714"],["\u1732","\u1734"],["\u1752","\u1753"],["\u1772","\u1773"],["\u17b4","\u17b5"],["\u17b7","\u17bd"],"\u17c6",["\u17c9","\u17d3"],"\u17dd",["\u180b","\u180d"],"\u18a9",["\u1920","\u1922"],["\u1927","\u1928"],"\u1932",["\u1939","\u193b"],["\u1a17","\u1a18"],"\u1a1b","\u1a56",["\u1a58","\u1a5e"],"\u1a60","\u1a62",["\u1a65","\u1a6c"],["\u1a73","\u1a7c"],"\u1a7f",["\u1ab0","\u1abd"],["\u1b00","\u1b03"],"\u1b34",["\u1b36","\u1b3a"],"\u1b3c","\u1b42",["\u1b6b","\u1b73"],["\u1b80","\u1b81"],["\u1ba2","\u1ba5"],["\u1ba8","\u1ba9"],["\u1bab","\u1bad"],"\u1be6",["\u1be8","\u1be9"],"\u1bed",["\u1bef","\u1bf1"],["\u1c2c","\u1c33"],["\u1c36","\u1c37"],["\u1cd0","\u1cd2"],["\u1cd4","\u1ce0"],["\u1ce2","\u1ce8"],"\u1ced","\u1cf4",["\u1cf8","\u1cf9"],["\u1dc0","\u1df5"],["\u1dfc","\u1dff"],["\u20d0","\u20dc"],"\u20e1",["\u20e5","\u20f0"],["\u2cef","\u2cf1"],"\u2d7f",["\u2de0","\u2dff"],["\u302a","\u302d"],["\u3099","\u309a"],"\ua66f",["\ua674","\ua67d"],["\ua69e","\ua69f"],["\ua6f0","\ua6f1"],"\ua802","\ua806","\ua80b",["\ua825","\ua826"],"\ua8c4",["\ua8e0","\ua8f1"],["\ua926","\ua92d"],["\ua947","\ua951"],["\ua980","\ua982"],"\ua9b3",["\ua9b6","\ua9b9"],"\ua9bc","\ua9e5",["\uaa29","\uaa2e"],["\uaa31","\uaa32"],["\uaa35","\uaa36"],"\uaa43","\uaa4c","\uaa7c","\uaab0",["\uaab2","\uaab4"],["\uaab7","\uaab8"],["\uaabe","\uaabf"],"\uaac1",["\uaaec","\uaaed"],"\uaaf6","\uabe5","\uabe8","\uabed","\ufb1e",["\ufe00","\ufe0f"],["\ufe20","\ufe2f"]],!1,!1),Gr=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,Kr=peg$classExpectation([["0","9"],["\u0660","\u0669"],["\u06f0","\u06f9"],["\u07c0","\u07c9"],["\u0966","\u096f"],["\u09e6","\u09ef"],["\u0a66","\u0a6f"],["\u0ae6","\u0aef"],["\u0b66","\u0b6f"],["\u0be6","\u0bef"],["\u0c66","\u0c6f"],["\u0ce6","\u0cef"],["\u0d66","\u0d6f"],["\u0de6","\u0def"],["\u0e50","\u0e59"],["\u0ed0","\u0ed9"],["\u0f20","\u0f29"],["\u1040","\u1049"],["\u1090","\u1099"],["\u17e0","\u17e9"],["\u1810","\u1819"],["\u1946","\u194f"],["\u19d0","\u19d9"],["\u1a80","\u1a89"],["\u1a90","\u1a99"],["\u1b50","\u1b59"],["\u1bb0","\u1bb9"],["\u1c40","\u1c49"],["\u1c50","\u1c59"],["\ua620","\ua629"],["\ua8d0","\ua8d9"],["\ua900","\ua909"],["\ua9d0","\ua9d9"],["\ua9f0","\ua9f9"],["\uaa50","\uaa59"],["\uabf0","\uabf9"],["\uff10","\uff19"]],!1,!1),Xr=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,Jr=peg$classExpectation([["\u16ee","\u16f0"],["\u2160","\u2182"],["\u2185","\u2188"],"\u3007",["\u3021","\u3029"],["\u3038","\u303a"],["\ua6e6","\ua6ef"]],!1,!1),Qr=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,Zr=peg$classExpectation(["_",["\u203f","\u2040"],"\u2054",["\ufe33","\ufe34"],["\ufe4d","\ufe4f"],"\uff3f"],!1,!1),en=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,tn=peg$classExpectation([" ","\xa0","\u1680",["\u2000","\u200a"],"\u202f","\u205f","\u3000"],!1,!1),rn=0,nn=0,on=[{line:1,column:1}],an=0,sn=[],un=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=i[t.startRule]}function text(){return e.substring(nn,rn)}function peg$literalExpectation(e,t){return{type:"literal",text:e,ignoreCase:t}}function peg$classExpectation(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function peg$otherExpectation(e){return{type:"other",description:e}}function peg$computePosDetails(t){var r,n=on[t];if(n)return n;for(r=t-1;!on[r];)r--;for(n={line:(n=on[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return on[t]=n,n}function peg$computeLocation(e,t){var r=peg$computePosDetails(e),n=peg$computePosDetails(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function peg$fail(e){rn<an||(rn>an&&(an=rn,sn=[]),sn.push(e))}function peg$buildStructuredError(e,t,r){return new peg$SyntaxError(peg$SyntaxError.buildMessage(e,t),e,t,r)}function peg$parseStart(){var e,t,r;if(e=rn,peg$parse__()!==n){for(t=[],r=peg$parseLogicalORExpression();r!==n;)t.push(r),r=peg$parseLogicalORExpression();t!==n&&(r=peg$parse__())!==n?(nn=e,e=a(t)):(rn=e,e=n)}else rn=e,e=n;return e}function peg$parseSourceCharacter(){var t;return e.length>rn?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(s)),t}function peg$parseWhiteSpace(){var t;return un++,9===e.charCodeAt(rn)?(t=l,rn++):(t=n,0===un&&peg$fail(c)),t===n&&(11===e.charCodeAt(rn)?(t=f,rn++):(t=n,0===un&&peg$fail(h)),t===n&&(12===e.charCodeAt(rn)?(t=p,rn++):(t=n,0===un&&peg$fail(d)),t===n&&(32===e.charCodeAt(rn)?(t=y,rn++):(t=n,0===un&&peg$fail(g)),t===n&&(160===e.charCodeAt(rn)?(t=m,rn++):(t=n,0===un&&peg$fail(v)),t===n&&(65279===e.charCodeAt(rn)?(t=b,rn++):(t=n,0===un&&peg$fail(_)),t===n&&(t=function(){var t;return en.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(tn)),t}())))))),un--,t===n&&0===un&&peg$fail(u),t}function peg$parseLineTerminator(){var t;return w.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(S)),t}function peg$parseLineTerminatorSequence(){var t;return un++,10===e.charCodeAt(rn)?(t=C,rn++):(t=n,0===un&&peg$fail(O)),t===n&&(e.substr(rn,2)===T?(t=T,rn+=2):(t=n,0===un&&peg$fail(A)),t===n&&(13===e.charCodeAt(rn)?(t=x,rn++):(t=n,0===un&&peg$fail(k)),t===n&&(8232===e.charCodeAt(rn)?(t=R,rn++):(t=n,0===un&&peg$fail(P)),t===n&&(8233===e.charCodeAt(rn)?(t=D,rn++):(t=n,0===un&&peg$fail(M)))))),un--,t===n&&0===un&&peg$fail(E),t}function peg$parseComment(){var t;return un++,(t=function(){var t,r,i,o,a,s;if(t=rn,e.substr(rn,2)===N?(r=N,rn+=2):(r=n,0===un&&peg$fail(I)),r!==n){for(i=[],o=rn,a=rn,un++,e.substr(rn,2)===j?(s=j,rn+=2):(s=n,0===un&&peg$fail(L)),un--,s===n?a=void 0:(rn=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(rn=o,o=n);o!==n;)i.push(o),o=rn,a=rn,un++,e.substr(rn,2)===j?(s=j,rn+=2):(s=n,0===un&&peg$fail(L)),un--,s===n?a=void 0:(rn=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(rn=o,o=n);i!==n?(e.substr(rn,2)===j?(o=j,rn+=2):(o=n,0===un&&peg$fail(L)),o!==n?t=r=[r,i,o]:(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;return t}())===n&&(t=function(){var t,r,i,o,a,s;if(t=rn,e.substr(rn,2)===B?(r=B,rn+=2):(r=n,0===un&&peg$fail(H)),r!==n){for(i=[],o=rn,a=rn,un++,s=peg$parseLineTerminator(),un--,s===n?a=void 0:(rn=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(rn=o,o=n);o!==n;)i.push(o),o=rn,a=rn,un++,s=peg$parseLineTerminator(),un--,s===n?a=void 0:(rn=a,a=n),a!==n&&(s=peg$parseSourceCharacter())!==n?o=a=[a,s]:(rn=o,o=n);i!==n?t=r=[r,i]:(rn=t,t=n)}else rn=t,t=n;return t}()),un--,t===n&&0===un&&peg$fail(F),t}function peg$parseIdentifier(){var t,r,i;return t=rn,r=rn,un++,i=function(){var t;return(t=function(){var t;return(t=function(){var t,r,i,o;return t=rn,e.substr(rn,3)===ue?(r=ue,rn+=3):(r=n,0===un&&peg$fail(le)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,4)===ce?(r=ce,rn+=4):(r=n,0===un&&peg$fail(fe)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,4)===he?(r=he,rn+=4):(r=n,0===un&&peg$fail(pe)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,3)===de?(r=de,rn+=3):(r=n,0===un&&peg$fail(ye)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=peg$parseFalseToken())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,2)===ve?(r=ve,rn+=2):(r=n,0===un&&peg$fail(be)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,3)===_e?(r=_e,rn+=3):(r=n,0===un&&peg$fail(we)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=peg$parseNullToken())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,2)===Ce?(r=Ce,rn+=2):(r=n,0===un&&peg$fail(Oe)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,4)===Te?(r=Te,rn+=4):(r=n,0===un&&peg$fail(Ae)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=peg$parseTrueToken())===n&&(t=function(){var t,r,i,o;return t=rn,e.substr(rn,4)===Re?(r=Re,rn+=4):(r=n,0===un&&peg$fail(Pe)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}()),t}())===n&&(t=peg$parseNullLiteral())===n&&(t=peg$parseBooleanLiteral()),t}(),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=function(){var e,t,r,i;if(un++,e=rn,(t=peg$parseIdentifierStart())!==n){for(r=[],i=peg$parseIdentifierPart();i!==n;)r.push(i),i=peg$parseIdentifierPart();r!==n?(nn=e,t=V(t,r),e=t):(rn=e,e=n)}else rn=e,e=n;return un--,e===n&&(t=n,0===un&&peg$fail(q)),e}())!==n?(nn=t,t=r=U(i)):(rn=t,t=n),t}function peg$parseIdentifierStart(){var t,r,i;return(t=function(){var t;return(t=function(){var t;return qr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Vr)),t}())===n&&(t=function(){var t;return Fr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Nr)),t}())===n&&(t=function(){var t;return Hr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Ur)),t}())===n&&(t=function(){var t;return Ir.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(jr)),t}())===n&&(t=function(){var t;return Lr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Br)),t}())===n&&(t=function(){var t;return Xr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Jr)),t}()),t}())===n&&(36===e.charCodeAt(rn)?(t=W,rn++):(t=n,0===un&&peg$fail(z)),t===n&&(95===e.charCodeAt(rn)?(t=Y,rn++):(t=n,0===un&&peg$fail($)),t===n&&(t=rn,92===e.charCodeAt(rn)?(r=G,rn++):(r=n,0===un&&peg$fail(K)),r!==n&&(i=peg$parseUnicodeEscapeSequence())!==n?(nn=t,t=r=X(i)):(rn=t,t=n)))),t}function peg$parseIdentifierPart(){var t;return(t=peg$parseIdentifierStart())===n&&(t=function(){var t;return(t=function(){var t;return Yr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail($r)),t}())===n&&(t=function(){var t;return Wr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(zr)),t}()),t}())===n&&(t=function(){var t;return Gr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Kr)),t}())===n&&(t=function(){var t;return Qr.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Zr)),t}())===n&&(8204===e.charCodeAt(rn)?(t=J,rn++):(t=n,0===un&&peg$fail(Q)),t===n&&(8205===e.charCodeAt(rn)?(t=Z,rn++):(t=n,0===un&&peg$fail(ee)))),t}function peg$parseAccessIdentifier(){var t,r,i,o;if(un++,t=rn,91===e.charCodeAt(rn)?(r=re,rn++):(r=n,0===un&&peg$fail(ne)),r!==n){for(i=[],o=peg$parseAccessIdentifierNameCharacter();o!==n;)i.push(o),o=peg$parseAccessIdentifierNameCharacter();i!==n?(93===e.charCodeAt(rn)?(o=ie,rn++):(o=n,0===un&&peg$fail(oe)),o!==n?(nn=t,t=r=ae(i)):(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;return un--,t===n&&(r=n,0===un&&peg$fail(te)),t}function peg$parseAccessIdentifierNameCharacter(){var t,r,i;return t=rn,r=rn,un++,91===e.charCodeAt(rn)?(i=re,rn++):(i=n,0===un&&peg$fail(ne)),i===n&&(93===e.charCodeAt(rn)?(i=ie,rn++):(i=n,0===un&&peg$fail(oe)),i===n&&(92===e.charCodeAt(rn)?(i=G,rn++):(i=n,0===un&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator()))),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(nn=t,t=r=se()):(rn=t,t=n),t===n&&(t=rn,92===e.charCodeAt(rn)?(r=G,rn++):(r=n,0===un&&peg$fail(K)),r!==n&&(i=peg$parseEscapeSequence())!==n?(nn=t,t=r=X(i)):(rn=t,t=n)),t}function peg$parseFalseToken(){var t,r,i,o;return t=rn,e.substr(rn,5)===ge?(r=ge,rn+=5):(r=n,0===un&&peg$fail(me)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}function peg$parseNullToken(){var t,r,i,o;return t=rn,e.substr(rn,4)===Se?(r=Se,rn+=4):(r=n,0===un&&peg$fail(Ee)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}function peg$parseTrueToken(){var t,r,i,o;return t=rn,e.substr(rn,4)===xe?(r=xe,rn+=4):(r=n,0===un&&peg$fail(ke)),r!==n?(i=rn,un++,o=peg$parseIdentifierPart(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?t=r=[r,i]:(rn=t,t=n)):(rn=t,t=n),t}function peg$parseLiteral(){var t;return(t=peg$parseNullLiteral())===n&&(t=peg$parseBooleanLiteral())===n&&(t=function(){var t,r,i,o;if(un++,t=rn,35===e.charCodeAt(rn)?(r=rt,rn++):(r=n,0===un&&peg$fail(nt)),r!==n){for(i=[],o=peg$parseDateCharacter();o!==n;)i.push(o),o=peg$parseDateCharacter();i!==n?(35===e.charCodeAt(rn)?(o=rt,rn++):(o=n,0===un&&peg$fail(nt)),o!==n?(nn=t,r=it(i),t=r):(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;return un--,t===n&&(r=n,0===un&&peg$fail(tt)),t}())===n&&(t=function(){var t,r,i,o;return un++,t=rn,(r=function(){var t,r,i,o,a;if(t=rn,e.substr(rn,2).toLowerCase()===Xe?(r=e.substr(rn,2),rn+=2):(r=n,0===un&&peg$fail(Je)),r!==n){if(i=rn,o=[],(a=peg$parseHexDigit())!==n)for(;a!==n;)o.push(a),a=peg$parseHexDigit();else o=n;(i=o!==n?e.substring(i,rn):o)!==n?(nn=t,r=Qe(i),t=r):(rn=t,t=n)}else rn=t,t=n;return t}())!==n?(i=rn,un++,(o=peg$parseIdentifierStart())===n&&(o=peg$parseDecimalDigit()),un--,o===n?i=void 0:(rn=i,i=n),i!==n?(nn=t,r=Ie(r),t=r):(rn=t,t=n)):(rn=t,t=n),t===n&&(t=rn,(r=function(){var t,r,i,o,a;if(t=rn,(r=peg$parseDecimalIntegerLiteral())!==n)if(46===e.charCodeAt(rn)?(i=je,rn++):(i=n,0===un&&peg$fail(Le)),i!==n){for(o=[],a=peg$parseDecimalDigit();a!==n;)o.push(a),a=peg$parseDecimalDigit();o!==n?((a=peg$parseExponentPart())===n&&(a=null),a!==n?(nn=t,r=Be(),t=r):(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;else rn=t,t=n;if(t===n){if(t=rn,46===e.charCodeAt(rn)?(r=je,rn++):(r=n,0===un&&peg$fail(Le)),r!==n){if(i=[],(o=peg$parseDecimalDigit())!==n)for(;o!==n;)i.push(o),o=peg$parseDecimalDigit();else i=n;i!==n?((o=peg$parseExponentPart())===n&&(o=null),o!==n?(nn=t,r=Be(),t=r):(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;t===n&&(t=rn,(r=peg$parseDecimalIntegerLiteral())!==n?((i=peg$parseExponentPart())===n&&(i=null),i!==n?(nn=t,r=Be(),t=r):(rn=t,t=n)):(rn=t,t=n))}return t}())!==n?(i=rn,un++,(o=peg$parseIdentifierStart())===n&&(o=peg$parseDecimalDigit()),un--,o===n?i=void 0:(rn=i,i=n),i!==n?(nn=t,r=Ie(r),t=r):(rn=t,t=n)):(rn=t,t=n)),un--,t===n&&(r=n,0===un&&peg$fail(Ne)),t}())===n&&(t=function(){var t,r,i,o;if(un++,t=rn,34===e.charCodeAt(rn)?(r=at,rn++):(r=n,0===un&&peg$fail(st)),r!==n){for(i=[],o=peg$parseDoubleStringCharacter();o!==n;)i.push(o),o=peg$parseDoubleStringCharacter();i!==n?(34===e.charCodeAt(rn)?(o=at,rn++):(o=n,0===un&&peg$fail(st)),o!==n?(nn=t,r=ut(i),t=r):(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;if(t===n)if(t=rn,39===e.charCodeAt(rn)?(r=lt,rn++):(r=n,0===un&&peg$fail(ct)),r!==n){for(i=[],o=peg$parseSingleStringCharacter();o!==n;)i.push(o),o=peg$parseSingleStringCharacter();i!==n?(39===e.charCodeAt(rn)?(o=lt,rn++):(o=n,0===un&&peg$fail(ct)),o!==n?(nn=t,r=ut(i),t=r):(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;return un--,t===n&&(r=n,0===un&&peg$fail(ot)),t}())===n&&(t=function(){var t,r,i,o,a,s;return un++,t=rn,47===e.charCodeAt(rn)?(r=jt,rn++):(r=n,0===un&&peg$fail(Lt)),r!==n?(i=rn,o=function(){var t,r,i,o;if(t=rn,(r=function(){var t,r,i;return t=rn,r=rn,un++,Ht.test(e.charAt(rn))?(i=e.charAt(rn),rn++):(i=n,0===un&&peg$fail(Ut)),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(rn=t,t=n),t===n&&(t=peg$parseRegularExpressionBackslashSequence())===n&&(t=peg$parseRegularExpressionClass()),t}())!==n){for(i=[],o=peg$parseRegularExpressionChar();o!==n;)i.push(o),o=peg$parseRegularExpressionChar();i!==n?t=r=[r,i]:(rn=t,t=n)}else rn=t,t=n;return t}(),(i=o!==n?e.substring(i,rn):o)!==n?(47===e.charCodeAt(rn)?(o=jt,rn++):(o=n,0===un&&peg$fail(Lt)),o!==n?(a=rn,s=function(){var e,t;for(e=[],t=peg$parseIdentifierPart();t!==n;)e.push(t),t=peg$parseIdentifierPart();return e}(),(a=s!==n?e.substring(a,rn):s)!==n?(nn=t,r=Bt(i,a),t=r):(rn=t,t=n)):(rn=t,t=n)):(rn=t,t=n)):(rn=t,t=n),un--,t===n&&(r=n,0===un&&peg$fail(It)),t}()),t}function peg$parseNullLiteral(){var e,t;return e=rn,(t=peg$parseNullToken())!==n&&(nn=e,t=De()),e=t}function peg$parseBooleanLiteral(){var e,t;return e=rn,(t=peg$parseTrueToken())!==n&&(nn=e,t=Me()),(e=t)===n&&(e=rn,(t=peg$parseFalseToken())!==n&&(nn=e,t=Fe()),e=t),e}function peg$parseDecimalIntegerLiteral(){var t,r,i,o;if(48===e.charCodeAt(rn)?(t=He,rn++):(t=n,0===un&&peg$fail(Ue)),t===n)if(t=rn,(r=function(){var t;return We.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(ze)),t}())!==n){for(i=[],o=peg$parseDecimalDigit();o!==n;)i.push(o),o=peg$parseDecimalDigit();i!==n?t=r=[r,i]:(rn=t,t=n)}else rn=t,t=n;return t}function peg$parseDecimalDigit(){var t;return qe.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(Ve)),t}function peg$parseExponentPart(){var t,r,i;return t=rn,(r=function(){var t;return e.substr(rn,1).toLowerCase()===Ye?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail($e)),t}())!==n&&(i=function(){var t,r,i,o;if(t=rn,Ge.test(e.charAt(rn))?(r=e.charAt(rn),rn++):(r=n,0===un&&peg$fail(Ke)),r===n&&(r=null),r!==n){if(i=[],(o=peg$parseDecimalDigit())!==n)for(;o!==n;)i.push(o),o=peg$parseDecimalDigit();else i=n;i!==n?t=r=[r,i]:(rn=t,t=n)}else rn=t,t=n;return t}())!==n?t=r=[r,i]:(rn=t,t=n),t}function peg$parseHexDigit(){var t;return Ze.test(e.charAt(rn))?(t=e.charAt(rn),rn++):(t=n,0===un&&peg$fail(et)),t}function peg$parseDateCharacter(){var t,r,i;return t=rn,r=rn,un++,35===e.charCodeAt(rn)?(i=rt,rn++):(i=n,0===un&&peg$fail(nt)),i===n&&(92===e.charCodeAt(rn)?(i=G,rn++):(i=n,0===un&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator())),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(nn=t,t=r=se()):(rn=t,t=n),t}function peg$parseDoubleStringCharacter(){var t,r,i;return t=rn,r=rn,un++,34===e.charCodeAt(rn)?(i=at,rn++):(i=n,0===un&&peg$fail(st)),i===n&&(92===e.charCodeAt(rn)?(i=G,rn++):(i=n,0===un&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator())),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(nn=t,t=r=se()):(rn=t,t=n),t===n&&(t=rn,92===e.charCodeAt(rn)?(r=G,rn++):(r=n,0===un&&peg$fail(K)),r!==n&&(i=peg$parseEscapeSequence())!==n?(nn=t,t=r=X(i)):(rn=t,t=n),t===n&&(t=peg$parseLineContinuation())),t}function peg$parseSingleStringCharacter(){var t,r,i;return t=rn,r=rn,un++,39===e.charCodeAt(rn)?(i=lt,rn++):(i=n,0===un&&peg$fail(ct)),i===n&&(92===e.charCodeAt(rn)?(i=G,rn++):(i=n,0===un&&peg$fail(K)),i===n&&(i=peg$parseLineTerminator())),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(nn=t,t=r=se()):(rn=t,t=n),t===n&&(t=rn,92===e.charCodeAt(rn)?(r=G,rn++):(r=n,0===un&&peg$fail(K)),r!==n&&(i=peg$parseEscapeSequence())!==n?(nn=t,t=r=X(i)):(rn=t,t=n),t===n&&(t=peg$parseLineContinuation())),t}function peg$parseLineContinuation(){var t,r;return t=rn,92===e.charCodeAt(rn)?(r=G,rn++):(r=n,0===un&&peg$fail(K)),r!==n&&peg$parseLineTerminatorSequence()!==n?(nn=t,t=r=ft()):(rn=t,t=n),t}function peg$parseEscapeSequence(){var t,r,i,o;return(t=function(){var t;return(t=peg$parseSingleEscapeCharacter())===n&&(t=function(){var t,r,i;return t=rn,r=rn,un++,(i=function(){var t;return(t=peg$parseSingleEscapeCharacter())===n&&(t=peg$parseDecimalDigit())===n&&(120===e.charCodeAt(rn)?(t=Pt,rn++):(t=n,0===un&&peg$fail(Dt)),t===n&&(117===e.charCodeAt(rn)?(t=Mt,rn++):(t=n,0===un&&peg$fail(Ft)))),t}())===n&&(i=peg$parseLineTerminator()),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseSourceCharacter())!==n?(nn=t,r=se(),t=r):(rn=t,t=n),t}()),t}())===n&&(t=rn,48===e.charCodeAt(rn)?(r=He,rn++):(r=n,0===un&&peg$fail(Ue)),r!==n?(i=rn,un++,o=peg$parseDecimalDigit(),un--,o===n?i=void 0:(rn=i,i=n),i!==n?(nn=t,t=r=ht()):(rn=t,t=n)):(rn=t,t=n),t===n&&(t=function(){var t,r,i,o,a,s;return t=rn,120===e.charCodeAt(rn)?(r=Pt,rn++):(r=n,0===un&&peg$fail(Dt)),r!==n?(i=rn,o=rn,(a=peg$parseHexDigit())!==n&&(s=peg$parseHexDigit())!==n?o=a=[a,s]:(rn=o,o=n),(i=o!==n?e.substring(i,rn):o)!==n?(nn=t,r=Nt(i),t=r):(rn=t,t=n)):(rn=t,t=n),t}())===n&&(t=peg$parseUnicodeEscapeSequence())),t}function peg$parseSingleEscapeCharacter(){var t,r;return 39===e.charCodeAt(rn)?(t=lt,rn++):(t=n,0===un&&peg$fail(ct)),t===n&&(34===e.charCodeAt(rn)?(t=at,rn++):(t=n,0===un&&peg$fail(st)),t===n&&(92===e.charCodeAt(rn)?(t=G,rn++):(t=n,0===un&&peg$fail(K)),t===n&&(t=rn,98===e.charCodeAt(rn)?(r=pt,rn++):(r=n,0===un&&peg$fail(dt)),r!==n&&(nn=t,r=yt()),(t=r)===n&&(t=rn,102===e.charCodeAt(rn)?(r=gt,rn++):(r=n,0===un&&peg$fail(mt)),r!==n&&(nn=t,r=vt()),(t=r)===n&&(t=rn,110===e.charCodeAt(rn)?(r=bt,rn++):(r=n,0===un&&peg$fail(_t)),r!==n&&(nn=t,r=wt()),(t=r)===n&&(t=rn,114===e.charCodeAt(rn)?(r=St,rn++):(r=n,0===un&&peg$fail(Et)),r!==n&&(nn=t,r=Ct()),(t=r)===n&&(t=rn,116===e.charCodeAt(rn)?(r=Ot,rn++):(r=n,0===un&&peg$fail(Tt)),r!==n&&(nn=t,r=At()),(t=r)===n&&(t=rn,118===e.charCodeAt(rn)?(r=xt,rn++):(r=n,0===un&&peg$fail(kt)),r!==n&&(nn=t,r=Rt()),t=r)))))))),t}function peg$parseUnicodeEscapeSequence(){var t,r,i,o,a,s,u,l;return t=rn,117===e.charCodeAt(rn)?(r=Mt,rn++):(r=n,0===un&&peg$fail(Ft)),r!==n?(i=rn,o=rn,(a=peg$parseHexDigit())!==n&&(s=peg$parseHexDigit())!==n&&(u=peg$parseHexDigit())!==n&&(l=peg$parseHexDigit())!==n?o=a=[a,s,u,l]:(rn=o,o=n),(i=o!==n?e.substring(i,rn):o)!==n?(nn=t,t=r=Nt(i)):(rn=t,t=n)):(rn=t,t=n),t}function peg$parseRegularExpressionChar(){var t,r,i;return t=rn,r=rn,un++,qt.test(e.charAt(rn))?(i=e.charAt(rn),rn++):(i=n,0===un&&peg$fail(Vt)),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(rn=t,t=n),t===n&&(t=peg$parseRegularExpressionBackslashSequence())===n&&(t=peg$parseRegularExpressionClass()),t}function peg$parseRegularExpressionBackslashSequence(){var t,r,i;return t=rn,92===e.charCodeAt(rn)?(r=G,rn++):(r=n,0===un&&peg$fail(K)),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(rn=t,t=n),t}function peg$parseRegularExpressionNonTerminator(){var e,t,r;return e=rn,t=rn,un++,r=peg$parseLineTerminator(),un--,r===n?t=void 0:(rn=t,t=n),t!==n&&(r=peg$parseSourceCharacter())!==n?e=t=[t,r]:(rn=e,e=n),e}function peg$parseRegularExpressionClass(){var t,r,i,o;if(t=rn,91===e.charCodeAt(rn)?(r=re,rn++):(r=n,0===un&&peg$fail(ne)),r!==n){for(i=[],o=peg$parseRegularExpressionClassChar();o!==n;)i.push(o),o=peg$parseRegularExpressionClassChar();i!==n?(93===e.charCodeAt(rn)?(o=ie,rn++):(o=n,0===un&&peg$fail(oe)),o!==n?t=r=[r,i,o]:(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;return t}function peg$parseRegularExpressionClassChar(){var t,r,i;return t=rn,r=rn,un++,Wt.test(e.charAt(rn))?(i=e.charAt(rn),rn++):(i=n,0===un&&peg$fail(zt)),un--,i===n?r=void 0:(rn=r,r=n),r!==n&&(i=peg$parseRegularExpressionNonTerminator())!==n?t=r=[r,i]:(rn=t,t=n),t===n&&(t=peg$parseRegularExpressionBackslashSequence()),t}function peg$parse__(){var e,t;for(e=[],(t=peg$parseWhiteSpace())===n&&(t=peg$parseLineTerminatorSequence())===n&&(t=peg$parseComment());t!==n;)e.push(t),(t=peg$parseWhiteSpace())===n&&(t=peg$parseLineTerminatorSequence())===n&&(t=peg$parseComment());return e}function peg$parseArguments(){var t,r,i,o,a;return t=rn,40===e.charCodeAt(rn)?(r=Yt,rn++):(r=n,0===un&&peg$fail($t)),r!==n&&peg$parse__()!==n?(i=rn,(o=function(){var t,r,i,o,a,s,u,l;if(t=rn,(r=peg$parseLogicalORExpression())!==n){for(i=[],o=rn,(a=peg$parse__())!==n?(44===e.charCodeAt(rn)?(s=nr,rn++):(s=n,0===un&&peg$fail(ir)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l]:(rn=o,o=n)):(rn=o,o=n);o!==n;)i.push(o),o=rn,(a=peg$parse__())!==n?(44===e.charCodeAt(rn)?(s=nr,rn++):(s=n,0===un&&peg$fail(ir)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l]:(rn=o,o=n)):(rn=o,o=n);i!==n?(nn=t,r=or(r,i),t=r):(rn=t,t=n)}else rn=t,t=n;return t}())!==n&&(a=peg$parse__())!==n?i=o=[o,a]:(rn=i,i=n),i===n&&(i=null),i!==n?(41===e.charCodeAt(rn)?(o=Gt,rn++):(o=n,0===un&&peg$fail(Kt)),o!==n?(nn=t,t=r=rr(i)):(rn=t,t=n)):(rn=t,t=n)):(rn=t,t=n),t}function peg$parseLeftHandSideExpression(){var t;return(t=function(){var e,t,r,i,o,a;if(e=rn,t=rn,(r=peg$parseIdentifier())!==n&&(i=peg$parse__())!==n&&(o=peg$parseArguments())!==n?(nn=t,t=r=Zt(r,o)):(rn=t,t=n),t!==n){for(r=[],i=rn,(o=peg$parse__())!==n&&(a=peg$parseArguments())!==n?(nn=i,i=o=er(t,a)):(rn=i,i=n);i!==n;)r.push(i),i=rn,(o=peg$parse__())!==n&&(a=peg$parseArguments())!==n?(nn=i,i=o=er(t,a)):(rn=i,i=n);r!==n?(nn=e,e=t=tr(t,r)):(rn=e,e=n)}else rn=e,e=n;return e}())===n&&(t=function(){var t,r,i,o,a,s,u,l,c,f,h,p;if(t=rn,e.substr(rn,4)===ce?(r=ce,rn+=4):(r=n,0===un&&peg$fail(fe)),r!==n){if(i=[],o=rn,(a=peg$parse__())!==n?(e.substr(rn,4)===Re?(s=Re,rn+=4):(s=n,0===un&&peg$fail(Pe)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n&&(c=peg$parse__())!==n?(e.substr(rn,4)===Te?(f=Te,rn+=4):(f=n,0===un&&peg$fail(Ae)),f!==n&&(h=peg$parse__())!==n&&(p=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l,c,f,h,p]:(rn=o,o=n)):(rn=o,o=n)):(rn=o,o=n),o!==n)for(;o!==n;)i.push(o),o=rn,(a=peg$parse__())!==n?(e.substr(rn,4)===Re?(s=Re,rn+=4):(s=n,0===un&&peg$fail(Pe)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n&&(c=peg$parse__())!==n?(e.substr(rn,4)===Te?(f=Te,rn+=4):(f=n,0===un&&peg$fail(Ae)),f!==n&&(h=peg$parse__())!==n&&(p=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l,c,f,h,p]:(rn=o,o=n)):(rn=o,o=n)):(rn=o,o=n);else i=n;i!==n?(o=rn,(a=peg$parse__())!==n?(e.substr(rn,4)===he?(s=he,rn+=4):(s=n,0===un&&peg$fail(pe)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalORExpression())!==n?o=a=[a,s,u,l]:(rn=o,o=n)):(rn=o,o=n),o===n&&(o=null),o!==n&&(a=peg$parse__())!==n?(e.substr(rn,3)===de?(s=de,rn+=3):(s=n,0===un&&peg$fail(ye)),s!==n?(nn=t,t=r=ar(i,o)):(rn=t,t=n)):(rn=t,t=n)):(rn=t,t=n)}else rn=t,t=n;return t}())===n&&(t=function(){var t,r,i,o,a,s;if(t=rn,(r=peg$parseAccessIdentifier())!==n){for(i=[],o=rn,peg$parse__()!==n?(46===e.charCodeAt(rn)?(a=je,rn++):(a=n,0===un&&peg$fail(Le)),a!==n&&peg$parse__()!==n&&(s=peg$parseAccessIdentifier())!==n?(nn=o,o=Jt(r,s)):(rn=o,o=n)):(rn=o,o=n);o!==n;)i.push(o),o=rn,peg$parse__()!==n?(46===e.charCodeAt(rn)?(a=je,rn++):(a=n,0===un&&peg$fail(Le)),a!==n&&peg$parse__()!==n&&(s=peg$parseAccessIdentifier())!==n?(nn=o,o=Jt(r,s)):(rn=o,o=n)):(rn=o,o=n);i!==n?(nn=t,t=r=Qt(r,i)):(rn=t,t=n)}else rn=t,t=n;return t}())===n&&(t=function(){var t,r,i,o;return(t=peg$parseIdentifier())===n&&(t=peg$parseAccessIdentifier())===n&&(t=peg$parseLiteral())===n&&(t=rn,40===e.charCodeAt(rn)?(r=Yt,rn++):(r=n,0===un&&peg$fail($t)),r!==n&&peg$parse__()!==n&&(i=peg$parseLogicalORExpression())!==n&&peg$parse__()!==n?(41===e.charCodeAt(rn)?(o=Gt,rn++):(o=n,0===un&&peg$fail(Kt)),o!==n?(nn=t,t=r=Xt(i)):(rn=t,t=n)):(rn=t,t=n)),t}()),t}function peg$parseUnaryExpression(){var t,r,i;return(t=peg$parseLeftHandSideExpression())===n&&(t=rn,(r=function(){var t,r,i,o,a;return t=rn,r=rn,43===e.charCodeAt(rn)?(i=ur,rn++):(i=n,0===un&&peg$fail(lr)),i!==n?(o=rn,un++,61===e.charCodeAt(rn)?(a=cr,rn++):(a=n,0===un&&peg$fail(fr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),(t=r!==n?e.substring(t,rn):r)===n&&(t=rn,r=rn,45===e.charCodeAt(rn)?(i=hr,rn++):(i=n,0===un&&peg$fail(pr)),i!==n?(o=rn,un++,61===e.charCodeAt(rn)?(a=cr,rn++):(a=n,0===un&&peg$fail(fr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),(t=r!==n?e.substring(t,rn):r)===n&&(e.substr(rn,3)===_e?(t=_e,rn+=3):(t=n,0===un&&peg$fail(we)))),t}())!==n&&peg$parse__()!==n&&(i=peg$parseUnaryExpression())!==n?(nn=t,t=r=sr(r,i)):(rn=t,t=n)),t}function peg$parseMultiplicativeExpression(){var e,t,r,i,o,a,s,u;if(e=rn,(t=peg$parseUnaryExpression())!==n){for(r=[],i=rn,(o=peg$parse__())!==n&&(a=peg$parseMultiplicativeOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseUnaryExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);i!==n;)r.push(i),i=rn,(o=peg$parse__())!==n&&(a=peg$parseMultiplicativeOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseUnaryExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);r!==n?(nn=e,e=t=dr(t,r)):(rn=e,e=n)}else rn=e,e=n;return e}function peg$parseMultiplicativeOperator(){var t,r,i,o,a;return t=rn,r=rn,42===e.charCodeAt(rn)?(i=yr,rn++):(i=n,0===un&&peg$fail(gr)),i!==n?(o=rn,un++,61===e.charCodeAt(rn)?(a=cr,rn++):(a=n,0===un&&peg$fail(fr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),(t=r!==n?e.substring(t,rn):r)===n&&(t=rn,r=rn,47===e.charCodeAt(rn)?(i=jt,rn++):(i=n,0===un&&peg$fail(Lt)),i!==n?(o=rn,un++,61===e.charCodeAt(rn)?(a=cr,rn++):(a=n,0===un&&peg$fail(fr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),(t=r!==n?e.substring(t,rn):r)===n&&(t=rn,r=rn,37===e.charCodeAt(rn)?(i=mr,rn++):(i=n,0===un&&peg$fail(vr)),i!==n?(o=rn,un++,61===e.charCodeAt(rn)?(a=cr,rn++):(a=n,0===un&&peg$fail(fr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),t=r!==n?e.substring(t,rn):r)),t}function peg$parseAdditiveExpression(){var e,t,r,i,o,a,s,u;if(e=rn,(t=peg$parseMultiplicativeExpression())!==n){for(r=[],i=rn,(o=peg$parse__())!==n&&(a=peg$parseAdditiveOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseMultiplicativeExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);i!==n;)r.push(i),i=rn,(o=peg$parse__())!==n&&(a=peg$parseAdditiveOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseMultiplicativeExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);r!==n?(nn=e,e=t=dr(t,r)):(rn=e,e=n)}else rn=e,e=n;return e}function peg$parseAdditiveOperator(){var t,r,i,o,a;return t=rn,r=rn,43===e.charCodeAt(rn)?(i=ur,rn++):(i=n,0===un&&peg$fail(lr)),i!==n?(o=rn,un++,br.test(e.charAt(rn))?(a=e.charAt(rn),rn++):(a=n,0===un&&peg$fail(_r)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),(t=r!==n?e.substring(t,rn):r)===n&&(t=rn,r=rn,45===e.charCodeAt(rn)?(i=hr,rn++):(i=n,0===un&&peg$fail(pr)),i!==n?(o=rn,un++,wr.test(e.charAt(rn))?(a=e.charAt(rn),rn++):(a=n,0===un&&peg$fail(Sr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),t=r!==n?e.substring(t,rn):r),t}function peg$parseRelationalExpression(){var e,t,r,i,o,a,s,u;if(e=rn,(t=peg$parseAdditiveExpression())!==n){for(r=[],i=rn,(o=peg$parse__())!==n&&(a=peg$parseRelationalOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseAdditiveExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);i!==n;)r.push(i),i=rn,(o=peg$parse__())!==n&&(a=peg$parseRelationalOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseAdditiveExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);r!==n?(nn=e,e=t=dr(t,r)):(rn=e,e=n)}else rn=e,e=n;return e}function peg$parseRelationalOperator(){var t,r,i,o,a;return e.substr(rn,2)===Er?(t=Er,rn+=2):(t=n,0===un&&peg$fail(Cr)),t===n&&(e.substr(rn,2)===Or?(t=Or,rn+=2):(t=n,0===un&&peg$fail(Tr)),t===n&&(t=rn,r=rn,60===e.charCodeAt(rn)?(i=Ar,rn++):(i=n,0===un&&peg$fail(xr)),i!==n?(o=rn,un++,60===e.charCodeAt(rn)?(a=Ar,rn++):(a=n,0===un&&peg$fail(xr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),(t=r!==n?e.substring(t,rn):r)===n&&(t=rn,r=rn,62===e.charCodeAt(rn)?(i=kr,rn++):(i=n,0===un&&peg$fail(Rr)),i!==n?(o=rn,un++,62===e.charCodeAt(rn)?(a=kr,rn++):(a=n,0===un&&peg$fail(Rr)),un--,a===n?o=void 0:(rn=o,o=n),o!==n?r=i=[i,o]:(rn=r,r=n)):(rn=r,r=n),t=r!==n?e.substring(t,rn):r))),t}function peg$parseEqualityExpression(){var e,t,r,i,o,a,s,u;if(e=rn,(t=peg$parseRelationalExpression())!==n){for(r=[],i=rn,(o=peg$parse__())!==n&&(a=peg$parseEqualityOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseRelationalExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);i!==n;)r.push(i),i=rn,(o=peg$parse__())!==n&&(a=peg$parseEqualityOperator())!==n&&(s=peg$parse__())!==n&&(u=peg$parseRelationalExpression())!==n?i=o=[o,a,s,u]:(rn=i,i=n);r!==n?(nn=e,e=t=dr(t,r)):(rn=e,e=n)}else rn=e,e=n;return e}function peg$parseEqualityOperator(){var t;return 61===e.charCodeAt(rn)?(t=cr,rn++):(t=n,0===un&&peg$fail(fr)),t===n&&(e.substr(rn,2)===Pr?(t=Pr,rn+=2):(t=n,0===un&&peg$fail(Dr))),t}function peg$parseLogicalANDExpression(){var t,r,i,o,a,s,u,l;if(t=rn,(r=peg$parseEqualityExpression())!==n){for(i=[],o=rn,(a=peg$parse__())!==n?(e.substr(rn,3)===ue?(s=ue,rn+=3):(s=n,0===un&&peg$fail(le)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseEqualityExpression())!==n?o=a=[a,s,u,l]:(rn=o,o=n)):(rn=o,o=n);o!==n;)i.push(o),o=rn,(a=peg$parse__())!==n?(e.substr(rn,3)===ue?(s=ue,rn+=3):(s=n,0===un&&peg$fail(le)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseEqualityExpression())!==n?o=a=[a,s,u,l]:(rn=o,o=n)):(rn=o,o=n);i!==n?(nn=t,t=r=Mr(r,i)):(rn=t,t=n)}else rn=t,t=n;return t}function peg$parseLogicalORExpression(){var t,r,i,o,a,s,u,l;if(t=rn,(r=peg$parseLogicalANDExpression())!==n){for(i=[],o=rn,(a=peg$parse__())!==n?(e.substr(rn,2)===Ce?(s=Ce,rn+=2):(s=n,0===un&&peg$fail(Oe)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalANDExpression())!==n?o=a=[a,s,u,l]:(rn=o,o=n)):(rn=o,o=n);o!==n;)i.push(o),o=rn,(a=peg$parse__())!==n?(e.substr(rn,2)===Ce?(s=Ce,rn+=2):(s=n,0===un&&peg$fail(Oe)),s!==n&&(u=peg$parse__())!==n&&(l=peg$parseLogicalANDExpression())!==n?o=a=[a,s,u,l]:(rn=o,o=n)):(rn=o,o=n);i!==n?(nn=t,t=r=Mr(r,i)):(rn=t,t=n)}else rn=t,t=n;return t}function buildNode(e){return e.accept=function(e,t){return t(e,this)},e.location=peg$computeLocation(nn,rn),e}if((r=o())!==n&&rn===e.length)return r;throw r!==n&&rn<e.length&&peg$fail({type:"end"}),peg$buildStructuredError(sn,an<e.length?e.charAt(an):null,an<e.length?peg$computeLocation(an,an+1):peg$computeLocation(an,an))}}},"f//e":function(e,t,r){"use strict";var n=r("KBwi"),i=r("qGnd"),o=r("33Jt"),a=r("b9YZ"),s=r("P23m");t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var u=e.length;return 1===u?a.concat(new i.ScalarObservable(e[0],r),t):u>1?a.concat(new n.ArrayObservable(e,r),t):a.concat(new o.EmptyObservable(r),t)}}},f4iA:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function HShape(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(HShape,e),Object.defineProperty(HShape.prototype,"isFilled",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(HShape.prototype,"isStroked",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(HShape.prototype,"strokeWidth",{get:function(){return{value:2}},enumerable:!0,configurable:!0}),HShape}(r("ciYN").HSymbol);t.HShape=o},f6vn:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,r){return void 0===r&&(r=t.defaultThrottleConfig),function(t){return t.lift(new a(e,r.leading,r.trailing))}};var a=function(){function ThrottleOperator(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return ThrottleOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector,this.leading,this.trailing))},ThrottleOperator}(),s=function(e){function ThrottleSubscriber(t,r,n,i){e.call(this,t),this.destination=t,this.durationSelector=r,this._leading=n,this._trailing=i,this._hasTrailingValue=!1}return n(ThrottleSubscriber,e),ThrottleSubscriber.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=o.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},ThrottleSubscriber.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},ThrottleSubscriber.prototype._unsubscribe=function(){var e=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},ThrottleSubscriber.prototype._sendTrailing=function(){var e=this,t=e.destination,r=e.throttled,n=e._trailing,i=e._trailingValue,o=e._hasTrailingValue;r&&n&&o&&(t.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},ThrottleSubscriber.prototype.notifyNext=function(e,t,r,n,i){this._sendTrailing(),this._unsubscribe()},ThrottleSubscriber.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},ThrottleSubscriber}(i.OuterSubscriber)},fAa0:function(e,t,r){"use strict";var n=r("DRWY"),i=r("tELs");n.Observable.prototype.max=i.max},fGzK:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function RHead(t,r,n,i){var o=e.call(this,r,n)||this;return o._table=t,o._parent=i,o}return i(RHead,e),Object.defineProperty(RHead.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(RHead.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),RHead.prototype.getX=function(){var e=0;return null!=this.parent&&(e+=this.parent.getX()+this.parent.getWidth()),e},RHead.prototype.getWidth=function(){return this.table.fit.getLeftHeaderWidth()},RHead.prototype.getXProp=function(){return{value:this.getX()+.5}},RHead.prototype.getWidthProp=function(){return{value:this.getWidth()}},RHead}(r("cQBe").Element);t.RHead=o},ffjX:function(e,t,r){"use strict";var n=function(){function FastMap(){this.values={}}return FastMap.prototype.delete=function(e){return this.values[e]=null,!0},FastMap.prototype.set=function(e,t){return this.values[e]=t,this},FastMap.prototype.get=function(e){return this.values[e]},FastMap.prototype.forEach=function(e,t){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.call(t,r[n],n)},FastMap.prototype.clear=function(){this.values={}},FastMap}();t.FastMap=n},fkkR:function(e,t,r){"use strict";var n=r("DRWY"),i=r("ReDN");n.Observable.prototype.multicast=i.multicast},fnJh:function(e,t,r){var n=r("F7ET"),i=function(e,t){var r=i.topojson;if(null==r)throw Error("TopoJSON library not loaded.");var o,a=n(e,t);if(t&&t.feature){if(o=a.objects[t.feature])return r.feature(a,o).features;throw Error("Invalid TopoJSON object: "+t.feature)}if(t&&t.mesh){if(o=a.objects[t.mesh])return[r.mesh(a,a.objects[t.mesh])];throw Error("Invalid TopoJSON object: "+t.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};i.topojson=r("Lwjo"),e.exports=i},fxie:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("3Txa"),a=r("AHSE"),s=function(e){function Aggregate(t){var r=e.call(this)||this;return r._groupby=t,r._summaries=new Array,r}return i(Aggregate,e),Object.defineProperty(Aggregate.prototype,"groupby",{get:function(){return this._groupby},enumerable:!0,configurable:!0}),Object.defineProperty(Aggregate.prototype,"summaries",{get:function(){return this._summaries},enumerable:!0,configurable:!0}),Aggregate.prototype.summarize=function(e,t,r){var n=new a.Summary(e,t,r);return this.summaries.push(n),n},Aggregate.prototype.count=function(e,t){return this.summarize(e,"count",t)},Aggregate.prototype.distinct=function(e,t){return this.summarize(e,"distinct",t)},Aggregate.prototype.sum=function(e,t){return this.summarize(e,"sum",t)},Aggregate.prototype.compile=function(){return{type:"aggregate",groupby:this.groupby,summarize:this.getSummarize()}},Aggregate.prototype.getSummarize=function(){for(var e=new Array,t=0,r=this.summaries;t<r.length;t++){var n=r[t];e.push(n.compile())}return e},Aggregate}(o.Transform);t.Aggregate=s},fyM1:function(e,t,r){var n=r("9R9K"),i=r("B51+"),o=1e-15;function bins(e){if(!e)throw Error("Missing binning options.");var t,r,i,o,a,s,u,l=e.maxbins||15,c=e.base||10,f=Math.log(c),h=e.div||[5,2],p=e.min,d=e.max,y=d-p;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,function(e,t,r,i){for(;r<i;){var o=r+i>>>1;n.cmp(e[o],t)<0?r=o+1:i=o}return r}(e.steps,y/l,0,e.steps.length))];else{for(r=Math.ceil(Math.log(l)/f),i=e.minstep||0,t=Math.max(i,Math.pow(c,Math.round(Math.log(y)/f)-r));Math.ceil(y/t)>l;)t*=c;for(s=0;s<h.length;++s)(a=t/h[s])>=i&&y/a<=l&&(t=a)}return o=(a=Math.log(t))>=0?0:1+~~(-a/f),u=Math.pow(c,-o-1),{start:p=Math.min(p,Math.floor(p/t+u)*t),stop:d=Math.ceil(d/t)*t,step:t,unit:{precision:o},value:value,index:index}}function value(e){return this.step*Math.floor(e/this.step+o)}function index(e){return Math.floor((e-this.start)/this.step+o)}function date_value(e){return this.unit.date(value.call(this,e))}function date_index(e){return index.call(this,this.unit.unit(e))}bins.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?i.utc:i,r=e.min,n=e.max,o=e.maxbins||20,a=e.minbins||4,s=+n-+r,u=e.unit?t[e.unit]:t.find(s,a,o),l=bins({min:null!=u.min?u.min:u.unit(r),max:null!=u.max?u.max:u.unit(n),maxbins:o,minstep:u.minstep,steps:u.step});return l.unit=u,l.index=date_index,e.raw||(l.value=date_value),l},e.exports=bins},g1nX:function(e,t,r){"use strict";var n=r("yY7C");t.max=function(e){var t="function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t};return n.reduce(t)}},g31p:function(e,t,r){"use strict";var n=r("DRWY"),i=r("gChO");n.Observable.prototype.publish=i.publish},g6xy:function(e,t,r){"use strict";var n=r("DRWY"),i=r("H5Wr");n.Observable.prototype.concat=i.concat},gChO:function(e,t,r){"use strict";var n=r("mmJl");t.publish=function(e){return n.publish(e)(this)}},gEa1:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("Zz1P"),a=r("E4ND"),s=r("YWvS"),u=function(e){function DATEPARSE(t){return e.call(this,"DATEPARSE",t)||this}return i(DATEPARSE,e),DATEPARSE.prototype.getReturnType=function(e){return a.DataType.DATETIME},DATEPARSE.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return o.utc(t[1](e),t[0](e))},DATEPARSE}(s.FFuncScalar);t.DATEPARSE=u;var l=function(e){function STR(t){return e.call(this,"STR",t)||this}return i(STR,e),STR.prototype.getReturnType=function(e){return a.DataType.STRING},STR.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t[0](e).toString()},STR}(s.FFuncScalar);t.STR=l},gNkM:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("lVEQ");t.elementAt=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function ElementAtOperator(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new o.ArgumentOutOfRangeError}return ElementAtOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.index,this.defaultValue))},ElementAtOperator}(),s=function(e){function ElementAtSubscriber(t,r,n){e.call(this,t),this.index=r,this.defaultValue=n}return n(ElementAtSubscriber,e),ElementAtSubscriber.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},ElementAtSubscriber.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new o.ArgumentOutOfRangeError)),e.complete()},ElementAtSubscriber}(i.Subscriber)},gYGa:function(e,t,r){"use strict";var n=r("DRWY"),i=r("KBwi"),o=r("P23m"),a=r("ngUQ");t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return o.isScheduler(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof u&&(r=e.pop()),null===s&&1===e.length&&e[0]instanceof n.Observable?e[0]:a.mergeAll(r)(new i.ArrayObservable(e,s))}},gZzw:function(e,t,r){"use strict";var n=r("SFto");t.defaultIfEmpty=function(e){return void 0===e&&(e=null),n.defaultIfEmpty(e)(this)}},gh6O:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o=r("I8rZ"),a=r("64my"),s=r("UEw3"),u=r("7cqj"),l=r("7uBA"),c=r("SEpX"),f=r("A4BP"),h=r("xEln"),p=r("6n5O"),d=r("Pl9e"),y=r("IyCH"),g=r("Qg1O"),m=r("ejt7"),v=r("IIVN");!function(e){e.name=function(e,t,r,n){return n.name}}(n=t.Dimensions||(t.Dimensions={})),function(e){e.name=function(e,t,r,n){if(n.expr.form===m.Expression.Form.Aggregate){var i=n.expr.ref,a=i.name,s=i.view,l=p.Model.Attrs.findInRelation(t,r,a,s);if(null==l)return n.name;switch(l.source){case u.Attr.Source.Names:case u.Attr.Source.Values:return l.name;default:return l.defaults.aggregate===n.name?l.name:function(e,t){switch(e){case o.Call.Name.Avg:return"Avg of "+t;case o.Call.Name.Count:return"Count of "+t;case o.Call.Name.CountD:return"Distinct Count of "+t;case o.Call.Name.Median:return"Median of "+t;case o.Call.Name.Min:return"Min of "+t;case o.Call.Name.Max:return"Max of "+t;case o.Call.Name.StDev:return"Std. Dev. of "+t;case o.Call.Name.StDevP:return"Pop. Std. Dev. of "+t;case o.Call.Name.Sum:return"Sum of "+t;case o.Call.Name.Var:return"Variance of "+t;case o.Call.Name.VarP:return"Pop. Variance of "+t;default:return t}}(n.name,l.name)}}return n.expr.source}}(i=t.Measures||(t.Measures={})),function(e){function compile(e,t,r,n){return e.compile(t,r,n)}e.compile=compile,e.names=function(){return u.Attr.names(a.DataRole.Names.make())},e.values=function(){return u.Attr.values(a.DataRole.Values.make())},e.dimension=function(e,t,r,n){return u.Attr.dimension(e,t,r,n)},e.measure=function(e,t,r,n){switch(r.name){case s.DataType.Name.Float:case s.DataType.Name.Integer:case s.DataType.Name.Decimal:case s.DataType.Name.String:switch(n.name){case s.DataType.Name.Null:case s.DataType.Name.Regexp:case s.DataType.Name.String:case s.DataType.Name.Boolean:case s.DataType.Name.Timestamp:throw new Error("Cannot create measure with role "+n.name);default:return u.Attr.measure(e,t,r,n)}default:throw new Error("Cannot create measure with type "+n.name)}},e.column=function(t,r,n,i,o,a,s){switch(a){case u.Attr.Role.Dimension:var l=e.dimension(r,t,n,i);switch(o){case u.Attr.Type.Discrete:switch(s){case u.Attr.Scale.Ordinal:return c.Column.ordinal(l,t,o,a);default:return c.Column.categorical(l,t)}case u.Attr.Type.Continuous:return c.Column.ordinal(l,t,o,a)}case u.Attr.Role.Measure:var f=e.measure(r,t,n,i);switch(o){case u.Attr.Type.Discrete:return c.Column.ordinal(f,t,o,a);case u.Attr.Type.Continuous:return c.Column.quantitative(f,t)}default:throw new Error("Cannot create column with role "+a)}},e.calc=function(t,r,n,i,o,a,s){var c=compile(t,r,n,i);if(c.type===g.Compiler.Result.Type.Failure)throw new Error("Could not compiled formula "+i);var f=c.formula,h=v.Formula.role(f);switch(h){case u.Attr.Role.Dimension:var p=e.dimension(i,f.name,f.type,f.role);switch(a){case u.Attr.Type.Discrete:return l.Calc.categorical(p,o);case u.Attr.Type.Continuous:return l.Calc.ordinal(p,o,a,h)}case u.Attr.Role.Measure:var d=e.measure(i,f.name,f.type,f.role);switch(a){case u.Attr.Type.Discrete:return l.Calc.ordinal(d,o,a,h);case u.Attr.Type.Continuous:return l.Calc.quantitative(d,o)}default:throw new Error("Cannot create calculation with role "+h)}},e.field=function(t,r,o,a,s,l){switch(l=l||t.alias(),a){case u.Attr.Names.Key:return f.Field.names(t.makeNamesDataRole(),l);case u.Attr.Values.Key:return f.Field.values(t.makeValuesDataRole(),l)}var c=compile(t,r,o,a);if(c.type===g.Compiler.Result.Type.Failure)throw new Error("Could not compile formula "+a);var h=c.formula,p=v.Formula.role(h);switch(p){case u.Attr.Role.Dimension:var d=e.dimension(a,h.name,h.type,h.role),y=n.name(t,r,o,h);switch(s){case u.Attr.Type.Discrete:return f.Field.categorical(d,y,l);case u.Attr.Type.Continuous:return f.Field.ordinal(d,y,l,s,p)}case u.Attr.Role.Measure:var m=e.measure(a,h.name,h.type,h.role),b=i.name(t,r,o,h);switch(s){case u.Attr.Type.Discrete:return f.Field.ordinal(m,b,l,s,p);case u.Attr.Type.Continuous:return f.Field.quantitative(m,b,l)}default:throw new Error("Cannot create field with role "+p)}},function(e){e.names=function(e,t){return f.Field.names(e.makeNamesDataRole(),t||e.alias())},e.values=function(e,t){return f.Field.values(e.makeValuesDataRole(),t||e.alias())}}(e.Fields||(e.Fields={})),e.view=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return y.View.make(y.View.Source.table("source-"+e),e,t)},e.relation=function(e,t,r){return void 0===r&&(r={}),d.Relation.make(e,t,r)},e.join=function(e,t,r,n){return void 0===r&&(r=h.Join.Type.Left),h.Join.make(r,h.Join.Target.make(e,t,n))},e.model=function(e,t,r){return p.Model.make(e,{views:t,relations:r})}}(t.Adapter||(t.Adapter={}))},gi6a:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.takeWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function TakeWhileOperator(e){this.predicate=e}return TakeWhileOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},TakeWhileOperator}(),a=function(e){function TakeWhileSubscriber(t,r){e.call(this,t),this.predicate=r,this.index=0}return n(TakeWhileSubscriber,e),TakeWhileSubscriber.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},TakeWhileSubscriber.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},TakeWhileSubscriber}(i.Subscriber)},gzZ3:function(e,t,r){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},h1Ef:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Ucq1");n.Observable.prototype.zipAll=i.zipAll},h5qz:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function AsyncScheduler(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(AsyncScheduler,e),AsyncScheduler.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},AsyncScheduler}(r("0MEo").Scheduler);t.AsyncScheduler=i},h6ac:function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},h9wN:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Bottom(t){var r=e.call(this,"BOTTOM")||this;return r._table=t,r}return i(Bottom,e),Object.defineProperty(Bottom.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Bottom.prototype.getXProp=function(){return{signal:"BottomX"}},Bottom.prototype.getYProp=function(){return{signal:"BottomY"}},Bottom.prototype.getWidthProp=function(){return{signal:"BottomWidth"}},Bottom.prototype.getHeightProp=function(){return{signal:"BottomHeight"}},Bottom}(r("rcbu").Border);t.Bottom=o},hJUK:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("2p93"),a=r("/TTe"),s=r("MCIp"),u=r("WPeo"),l=r("ZLbu"),c=r("9173"),f=r("N1TK"),h=r("f4iA"),p=r("5n8f"),d=function(e){function HMarks(t,r,n){var i=e.call(this,t,r,n)||this;return i._valueRange=i.getDomain(r),i._cells=new o.MCells(t,i,i.query),i}return i(HMarks,e),Object.defineProperty(HMarks.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(HMarks.prototype,"valueRange",{get:function(){return this._valueRange},enumerable:!0,configurable:!0}),Object.defineProperty(HMarks.prototype,"xAlias",{get:function(){return this.field.alias},enumerable:!0,configurable:!0}),Object.defineProperty(HMarks.prototype,"yAxisFields",{get:function(){return[].concat(this.table.yAxisFields,this.table.y2AxisFields)},enumerable:!0,configurable:!0}),Object.defineProperty(HMarks.prototype,"xAxisFields",{get:function(){return[this.field]},enumerable:!0,configurable:!0}),HMarks.prototype.buildColorScale=function(){return e.prototype.buildColorScale.call(this,this.cells)},HMarks.prototype.buildSizeScale=function(){return e.prototype.buildSizeScale.call(this,this.cells)},HMarks.prototype.buildAreaScale=function(){return e.prototype.buildAreaScale.call(this,this.cells)},HMarks}(s.TableMarks);t.HMarks=d;var y=function(e){function HMStacked(t,r,n){var i=e.call(this,t,r,n)||this,o=i.getStackFields(),a=i.fields.map(function(e){return e.alias});return i._stackedDomain=i.getStackedDomain(o,a),i}return i(HMStacked,e),Object.defineProperty(HMStacked.prototype,"stack",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(HMStacked.prototype,"stackedDomain",{get:function(){return this._stackedDomain},enumerable:!0,configurable:!0}),HMStacked.prototype.getStackFields=function(){return[].concat(this.table.facetFields,this.table.yAxisFields)},HMStacked.prototype.buildXScale=function(){var e=this.getXDomain();return new a.ContinuousX(this.xScaleName,this.cells,e,this.field)},HMStacked.prototype.getXDomain=function(){var e=this.cellWidth;return this.getPaddedInterval(this.stackedDomain,{max:e},{max:15})},HMStacked}(d);t.HMStacked=y;var g=function(e){function HMBars(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new l.HBar(t,i)),i}return i(HMBars,e),HMBars.prototype.sizeMax=function(){return this.cellHeight},Object.defineProperty(HMBars.prototype,"sizeProp",{get:function(){return.8},enumerable:!0,configurable:!0}),HMBars}(y);t.HMBars=g;var m=function(e){function HMArea(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new u.HArea(t,i)),i}return i(HMArea,e),Object.defineProperty(HMArea.prototype,"impute",{get:function(){return!0},enumerable:!0,configurable:!0}),HMArea.prototype.sizeMax=function(){return this.cellWidth},HMArea}(y);t.HMArea=m;var v=function(e){function HMLine(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new f.HLine(t,i)),i}return i(HMLine,e),HMLine.prototype.sizeMax=function(){return this.size.fields.length>0?60:12},HMLine.prototype.buildXScale=function(){var e=this.getXDomain();return new a.ContinuousX(this.xScaleName,this.cells,e,this.field)},HMLine.prototype.getXDomain=function(){return this.getSizePaddedDomain(this.cellWidth,this.valueRange,{max:35})},HMLine}(d);t.HMLine=v;var b=function(e){function HMSymbol(t,r,n){return e.call(this,t,r,n)||this}return i(HMSymbol,e),Object.defineProperty(HMSymbol.prototype,"sizeProp",{get:function(){return.25},enumerable:!0,configurable:!0}),HMSymbol.prototype.sizeMax=function(){var e=this.size.fields,t=Math.min(this.cellWidth,this.cellHeight);return e.length>0?t:Math.min(this.cellHeight,60)},HMSymbol.prototype.buildXScale=function(){var e=this.getXDomain();return new a.ContinuousX(this.xScaleName,this.cells,e,this.field)},HMSymbol.prototype.buildSizeScale=function(){return this.buildAreaScale()},HMSymbol.prototype.getXDomain=function(){return this.getSizePaddedDomain(this.cellWidth,this.valueRange,{min:10,max:15})},HMSymbol}(d);t.HMSymbol=b;var _=function(e){function HMCircle(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new c.HCircle(t,i)),i}return i(HMCircle,e),HMCircle}(b);t.HMCircle=_;var w=function(e){function HMShape(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new h.HShape(t,i)),i}return i(HMShape,e),HMShape}(b);t.HMShape=w;var S=function(e){function HMSquare(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new p.HSquare(t,i)),i}return i(HMSquare,e),HMSquare}(b);t.HMSquare=S},hMrR:function(e,t,r){"use strict";var n=r("YSI4");t.windowToggle=function(e,t){return n.windowToggle(e,t)(this)}},hSU1:function(e,t,r){"use strict";var n=r("f6vn");t.throttle=function(e,t){return void 0===t&&(t=n.defaultThrottleConfig),n.throttle(e,t)(this)}},hhY7:function(e,t,r){"use strict";var n=r("DRWY"),i=r("dQ2C");n.Observable.never=i.never},hurv:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function VShape(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(VShape,e),Object.defineProperty(VShape.prototype,"isFilled",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(VShape.prototype,"isStroked",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(VShape.prototype,"strokeWidth",{get:function(){return{value:2}},enumerable:!0,configurable:!0}),VShape}(r("dMGK").VSymbol);t.VShape=o},"hx+Y":function(e,t,r){"use strict";var n=r("LM6W"),i=r("LwgF");t.switchAll=function(){return n.switchMap(i.identity)}},hxYi:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pkpF"),a=r("B+CU"),s=r("HalQ"),u=r("pYOS"),l=r("bUkI"),c=function(e){function PBody(t){var r=e.call(this,"body")||this;return r._table=t,r._gData=new Array,r._mData=new Array,r._gTiles=new Array,r._mTiles=new Array,r.buildGridTiles(t),r.buildMarkTiles(t),r}return i(PBody,e),Object.defineProperty(PBody.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(PBody.prototype,"gData",{get:function(){return this._gData},enumerable:!0,configurable:!0}),Object.defineProperty(PBody.prototype,"mData",{get:function(){return this._mData},enumerable:!0,configurable:!0}),Object.defineProperty(PBody.prototype,"gTiles",{get:function(){return this._gTiles},enumerable:!0,configurable:!0}),Object.defineProperty(PBody.prototype,"mTiles",{get:function(){return this._mTiles},enumerable:!0,configurable:!0}),PBody.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.gTiles;r<n.length;r++){var i=n[r];t.push(i.compile())}for(var o=0,a=this.mTiles;o<a.length;o++){var s=a[o];t.push(s.compile())}return t},PBody.prototype.getProperties=function(){return{enter:{x:{signal:"BodyX"},y:{signal:"BodyY"},width:{signal:"BodyWidth"},height:{signal:"BodyHeight"}}}},PBody.prototype.buildGridTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new a.PGData(e,n),o=new s.PGPane(e,n,i);this.gData.push(i),this.gTiles.push(o)}},PBody.prototype.buildMarkTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new u.PMData(e,n),o=new l.PMPane(e,i,n);this.mData.push(i),this.mTiles.push(o)}},PBody}(o.Group);t.PBody=c},i4XC:function(e,t,r){"use strict";var n=r("Lkik"),i=r("szm8");t.queue=new i.QueueScheduler(n.QueueAction)},i4jj:function(e,t,r){"use strict";var n=r("I/Nv");t.concatAll=function(){return n.concatAll()(this)}},i6N7:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("1IBE"),a=r("5UgM"),s=r("EIUo"),u=r("k+FJ");t.retryWhen=function(e){return function(t){return t.lift(new l(e,t))}};var l=function(){function RetryWhenOperator(e,t){this.notifier=e,this.source=t}return RetryWhenOperator.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,this.source))},RetryWhenOperator}(),c=function(e){function RetryWhenSubscriber(t,r,n){e.call(this,t),this.notifier=r,this.source=n}return n(RetryWhenSubscriber,e),RetryWhenSubscriber.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,s=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new i.Subject,(n=o.tryCatch(this.notifier)(r))===a.errorObject)return e.prototype.error.call(this,a.errorObject.e);s=u.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=s,r.next(t)}},RetryWhenSubscriber.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},RetryWhenSubscriber.prototype.notifyNext=function(e,t,r,n,i){var o=this.errors,a=this.retries,s=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=o,this.retries=a,this.retriesSubscription=s,this.source.subscribe(this)},RetryWhenSubscriber}(s.OuterSubscriber)},iFUp:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("vw2U"),o=r("/YdO"),a=r("iZmh"),s=r("ejt7"),u=r("uH7x"),l=r("UbjR");!function(e){e.matches=function(e){var t=a.Tree.root(e);return t.type===o.Node.Type.CallExpression&&"DATETRUNC"===t.callee.toUpperCase()&&2===t.arguments.length&&t.arguments[0].type===o.Node.Type.StringLiteral&&o.Node.isAccess(t.arguments[1])},e.name=function(e){return e.unit+"("+e.ref.name+")"},e.parsed=function(e,t){var r=a.Tree.root(t);switch(r.type){case o.Node.Type.CallExpression:var c=r.arguments[0];if(c.type===o.Node.Type.StringLiteral){var f=i.DateTime.unit(c.value);if(f){var h=u.Reference.makeFromNode(r.arguments[1]),p=s.Expression.Form.DateTrunc,d=s.Expression.State.Parsed;return n({},e,{state:d,tree:t,form:p,unit:f,ref:h})}throw"Unknown DateTime unit "+f}throw"Unknown DateTime unit "+c;default:return l.Generic.parsed(e,t)}},e.compiled=function(e,t){return n({},e,{type:t,state:s.Expression.State.Compiled})}}(t.DateTrunc||(t.DateTrunc={}))},iHET:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Facets(){this._fields=new Array}return Object.defineProperty(Facets.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Facets.prototype.addField=function(e){this._fields=this.fields.concat(e)},Facets}();t.Facets=n},"iHJ/":function(e,t,r){"use strict";var n=r("SgnA"),i=function(){return function(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})}}();t.RequestAnimationFrameDefinition=i,t.AnimationFrame=new i(n.root)},iI79:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function HGData(t,r){var n=e.call(this,"vgd-"+r.xAlias,t.tGrid)||this;return n._table=t,n._marks=r,n.addFilter(n.getFilterTest()),n}return i(HGData,e),Object.defineProperty(HGData.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(HGData.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),HGData.prototype.getFilterTest=function(){return"datum.tcol.xAlias == '"+this.marks.xAlias+"'"},HGData}(r("qI4a").Data);t.HGData=o},iNrS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("+6+c"),i=function(){function Fit(e,t,r){void 0===e&&(e=n.FitType.STANDARD),this._type=e,this._width=t,this._height=r}return Object.defineProperty(Fit.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Fit.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(Fit.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(Fit.prototype,"widthType",{get:function(){return this.type===n.FitType.WIDTH||this.type===n.FitType.VIEW?n.FitType.WIDTH:n.FitType.STANDARD},enumerable:!0,configurable:!0}),Object.defineProperty(Fit.prototype,"heightType",{get:function(){return this.type===n.FitType.HEIGHT||this.type===n.FitType.VIEW?n.FitType.HEIGHT:n.FitType.STANDARD},enumerable:!0,configurable:!0}),Fit}();t.Fit=i},iS3x:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function ErrorObservable(t,r){e.call(this),this.error=t,this.scheduler=r}return n(ErrorObservable,e),ErrorObservable.create=function(e,t){return new ErrorObservable(e,t)},ErrorObservable.dispatch=function(e){var t=e.error;e.subscriber.error(t)},ErrorObservable.prototype._subscribe=function(e){var t=this.error,r=this.scheduler;if(e.syncErrorThrowable=!0,r)return r.schedule(ErrorObservable.dispatch,0,{error:t,subscriber:e});e.error(t)},ErrorObservable}(r("DRWY").Observable);t.ErrorObservable=i},iSoF:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("kdBv"),a=function(){function DomainBase(e){this._dataType=e}return Object.defineProperty(DomainBase.prototype,"dataType",{get:function(){return this._dataType},enumerable:!0,configurable:!0}),DomainBase}();t.DomainBase=a;var s=function(e){function DiscreteDomain(t){var r=e.call(this,t)||this;return r._keys=new Set,r._values=new Array,r}return i(DiscreteDomain,e),Object.defineProperty(DiscreteDomain.prototype,"type",{get:function(){return o.VariableType.DISCRETE},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteDomain.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),Object.defineProperty(DiscreteDomain.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),DiscreteDomain.prototype.add=function(e){var t=e;if(null!==t)switch(this.dataType){case"DATE":case"DATETIME":t=e.valueOf()}this.keys.has(t)||(this.keys.add(t),this.values.push(e))},DiscreteDomain.prototype.merge=function(e){for(var t=0,r=e.values;t<r.length;t++){var n=r[t];this.add(n)}},DiscreteDomain}(a);t.DiscreteDomain=s;var u=function(e){function ContinuousDomain(t){var r=e.call(this,t)||this;return r._min=null,r._max=null,r}return i(ContinuousDomain,e),Object.defineProperty(ContinuousDomain.prototype,"type",{get:function(){return o.VariableType.CONTINUOUS},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousDomain.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(ContinuousDomain.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),ContinuousDomain.prototype.add=function(e){null!==e&&void 0!==e&&((null===this.min||e<this.min)&&(this._min=e),(null===this.max||e>this.max)&&(this._max=e))},ContinuousDomain.prototype.merge=function(e){this.add(e.min),this.add(e.max)},ContinuousDomain}(a);t.ContinuousDomain=u},iZ9e:function(e,t,r){"use strict";var n=r("gYGa"),i=r("gYGa");t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.merge.apply(void 0,[t].concat(e)))}}},iZmh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Zz1P"),i=r("erv8"),o=r("/YdO");!function(e){e.make=function(e){return{source:e,nodes:i.parse(e,{moment:n})}},e.root=function(e){return e.nodes[0]},e.visit=function visit(e,t,r){var n=e;switch(r.type){case o.Node.Type.UnaryExpression:n=visit(n,t,r.argument);break;case o.Node.Type.BinaryExpression:case o.Node.Type.LogicalExpression:n=visit(n=visit(n,t,r.left),t,r.right);break;case o.Node.Type.CaseExpression:r.when.forEach(function(e){n=visit(n=visit(n,t,e.condition),t,e.result)}),null!=r.else&&(n=visit(n,t,r.else.result));break;case o.Node.Type.CallExpression:for(var i=0,a=r.arguments;i<a.length;i++){var s=a[i];n=visit(n,t,s)}}return r.accept(n,t)},function(t){t.make=function(e){return function(t,r){var n=t;return e.forEach(function(e){n=e(n,r)}),n}},t.visit=function(t,r,n){return r.nodes.reduce(function(t,r){return e.visit(t,n,r)},t)}}(e.Pipeline||(e.Pipeline={}))}(t.Tree||(t.Tree={}))},ifGG:function(e,t,r){"use strict";var n=r("dBN9");t.bufferWhen=function(e){return n.bufferWhen(e)(this)}},ig01:function(e,t,r){var n=r("Yu17"),i=r("F888"),o=r("8OXg");function IndexCore(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}e.exports=IndexCore,IndexCore.prototype.clearCache=function(){this.cache={}},IndexCore.prototype.search=n("query"),IndexCore.prototype.similarSearch=n("similarQuery"),IndexCore.prototype.browse=function(e,t,n){var i,o,a=r("MuiK");0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(i=0,n=arguments[0],e=void 0):"number"==typeof arguments[0]?(i=arguments[0],"number"==typeof arguments[1]?o=arguments[1]:"function"==typeof arguments[1]&&(n=arguments[1],o=void 0),e=void 0,t=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(n=arguments[1]),t=arguments[0],e=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(n=arguments[1],t=void 0),t=a({},t||{},{page:i,hitsPerPage:o,query:e});var s=this.as._getSearchParams(t,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{params:s},hostType:"read",callback:n})},IndexCore.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{cursor:e},hostType:"read",callback:t})},IndexCore.prototype.searchForFacetValues=function(e,t){var n=r("S7SM"),i=r("8q90");if(void 0===e.facetName||void 0===e.facetQuery)throw new Error("Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])");var o=e.facetName,a=i(n(e),function(e){return"facetName"===e}),s=this.as._getSearchParams(a,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(o)+"/query",hostType:"read",body:{params:s},callback:t})},IndexCore.prototype.searchFacet=i(function(e,t){return this.searchForFacetValues(e,t)},o("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),IndexCore.prototype._search=function(e,t,r,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:r,additionalUA:n})},IndexCore.prototype.getObject=function(e,t,r){1!==arguments.length&&"function"!=typeof t||(r=t,t=void 0);var n="";if(void 0!==t){n="?attributes=";for(var i=0;i<t.length;++i)0!==i&&(n+=","),n+=t[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e)+n,hostType:"read",callback:r})},IndexCore.prototype.getObjects=function(e,t,n){var i=r("YuqC"),o=r("BDy2");if(!i(e))throw new Error("Usage: index.getObjects(arrayOfObjectIDs[, callback])");var a=this;1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var s={requests:o(e,function(e){var r={indexName:a.indexName,objectID:e};return t&&(r.attributesToRetrieve=t.join(",")),r})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:s,callback:n})},IndexCore.prototype.as=null,IndexCore.prototype.indexName=null,IndexCore.prototype.typeAheadArgs=null,IndexCore.prototype.typeAheadValueOption=null},ii0K:function(e,t,r){"use strict";var n=r("mBMa");t.findIndex=function(e,t){return function(r){return r.lift(new n.FindValueOperator(e,r,!0,t))}}},j3D9:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r("h6ac"))},jF3a:function(e,t,r){"use strict";var n=r("MoZO");t.sequenceEqual=function(e,t){return n.sequenceEqual(e,t)(this)}},jIsw:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function RBorder(){return null!==e&&e.apply(this,arguments)||this}return i(RBorder,e),RBorder.prototype.getProperties=function(){var t=e.prototype.getProperties.call(this);return t.enter.x={field:{group:"width"}},t.enter.y={value:.5},t.enter.y2={field:{group:"height"}},t},RBorder}(r("sDUs").Border);t.RBorder=o},jRDe:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("jpd/"),o=r("UEw3"),a=r("Qg1O"),s=r("7cqj"),u=r("A4BP"),l=r("mPZX"),c=r("3bk5"),f=r("VkZK");!function(e){var t;!function(e){e.Continuous="CONTINUOUS",e.Discrete="DISCRETE"}(t=e.Type||(e.Type={})),e.make=function(e){var t=i.Utility.id(),r=e.fields,n=e.filters;return{id:t,fields:r||[],filters:n||[]}},function(e){function add(e,t,r){return n({},e,{partitions:e.partitions.concat([t]),queries:e.queries.concat([r])})}e.make=function(e,r,n,c){for(var h={id:i.Utility.id(),model:r,relation:n,queries:[],partitions:[]},p=0,d=c.fields;p<d.length;p++){var y=d[p];switch(y.type){case s.Attr.Type.Discrete:h=add(h,{field:y,query:(v=l.Query.make({fields:[y],sorts:[f.Sort.ByData.make(y)]})).id,values:y,type:t.Discrete},v);break;case s.Attr.Type.Continuous:var g=e.compile(r,n,"MIN("+y.formula.source+")"),m=e.compile(r,n,"MAX("+y.formula.source+")");if(g.type===a.Compiler.Result.Type.Success&&m.type===a.Compiler.Result.Type.Success){var v,b=g.formula,_=m.formula,w=s.Attr.measure(b.expr.source,b.name,o.DataType.Float.make()),S=s.Attr.measure(_.expr.source,_.name,o.DataType.Float.make()),E=u.Field.ordinal(w,"MIN("+y.name+")",e.alias(),s.Attr.Type.Continuous,s.Attr.Role.Measure),C=u.Field.ordinal(S,"MAX("+y.name+")",e.alias(),s.Attr.Type.Continuous,s.Attr.Role.Measure);h=add(h,{field:y,query:(v=l.Query.make({fields:[E,C]})).id,min:E,max:C,type:t.Continuous},v)}}}return h}}(e.Plan||(e.Plan={})),function(e){var r,n;e.get=function(e,i,o){var a;if(null==o)return null;if(null===(a="string"==typeof o?e.partitions.find(function(e){return e.field.alias===o})||null:e.partitions.find(function(e){return e.field.alias===o.alias})||null))return null;var s=a.query,u=e.queries.find(function(e){return e.id===s});if(null==u)return null;var f=c.Select.Result.get(i,u);if(null===f)return null;switch(f.type){case l.Query.Result.Type.Inline:switch(a.type){case t.Continuous:var h=f.items[0],p=a.min,d=a.max;return r.make(h[p.alias],h[d.alias]);case t.Discrete:var y=a.values.alias;return n.make(f.items.map(function(e){return e[y]}))}default:return null}},function(e){e.make=function(e,r){return{min:e,max:r,type:t.Continuous}},e.add=function(e,r){if(null===r||void 0===r)return e;var n=e.min,i=e.max;return(null===n||r<n)&&(n=r),(null===i||r>i)&&(i=r),{min:n,max:i,type:t.Continuous}},e.merge=function(e,r){var n=e.min,i=e.max;return(null===n||r.min<n)&&(n=r.min),(null===i||r.max>i)&&(i=r.max),{min:n,max:i,type:t.Continuous}}}(r=e.Continuous||(e.Continuous={})),function(e){function add(e,r){for(var n=new Set(e.keys),i=e.values.slice(),o=0,a=r;o<a.length;o++){var s=a[o];n.has(s)||(n.add(s),i.push(s))}return{keys:n,values:i,type:t.Discrete}}e.make=function(e){return{keys:new Set(Array.from(e)),values:e,type:t.Discrete}},e.add=add,e.merge=function(e,t){return add(e,t.values)}}(n=e.Discrete||(e.Discrete={}))}(e.Result||(e.Result={}))}(t.Domain||(t.Domain={}))},jWqk:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("xS0M"),a=function(e){function GQuery(t){var r=e.call(this,"gq")||this;r._table=t;t.sheet.model;return r}return i(GQuery,e),Object.defineProperty(GQuery.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(GQuery.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),GQuery.prototype.compile=function(){return{name:this.name,values:this.result.data}},GQuery.prototype.getQueryFields=function(){return[].concat(this.table.rowFields,this.table.yAxisFields,this.table.columnFields,this.table.xAxisFields).filter(function(e){return e.isDimension})},GQuery.prototype.getQueryFilters=function(){return[]},GQuery.prototype.getQuerySorts=function(e){var t=new Array,r=this.table.encoding.sorts;return this.getQueryFields().forEach(function(n){var i=r.getSort(n);void 0!==i?t.push(i):n.isDimension&&t.push(e.buildDataSort(n,o.SortOrder.ASC))}),t},GQuery}(r("qI4a").Data);t.GQuery=a},jd1k:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("I8rZ"),o=r("/YdO"),a=r("iZmh"),s=r("ejt7"),u=r("uH7x"),l=r("UbjR");!function(e){e.matches=function(e){var t=a.Tree.root(e);return!(t.type!==o.Node.Type.CallExpression||1!==t.arguments.length||!o.Node.isAccess(t.arguments[0]))&&i.Call.isKnown(t.callee)},e.name=function(e){return e.call+"("+e.ref.name+")"},e.parsed=function(e,t){var r=a.Tree.root(t),c=s.Expression.Form.Aggregate,f=s.Expression.State.Parsed;switch(r.type){case o.Node.Type.CallExpression:var h=i.Call.name(r.callee),p=u.Reference.makeFromNode(r.arguments[0]);return n({},e,{state:f,tree:t,form:c,ref:p,call:h});default:return l.Generic.parsed(e,t)}},e.compiled=function(e,t){return n({},e,{type:t,state:s.Expression.State.Compiled})}}(t.Aggregate||(t.Aggregate={}))},jeVo:function(e,t,r){"use strict";var n=r("DRWY"),i=r("tFZT");n.Observable.prototype.exhaustMap=i.exhaustMap},"jpd/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=1;e.id=function(e,r){return(e||"")+(n=(++t%1e8).toString(),i=8,void 0===o&&(o="0"),(i=i-n.length+1)>0?new Array(i).join(o)+n:n)+(r||"");var n,i,o}}(t.Utility||(t.Utility={}))},jvBf:function(e,t,r){"use strict";var n=r("DRWY"),i=r("YdeL");n.Observable.prototype.materialize=i.materialize},"k+FJ":function(e,t,r){"use strict";var n=r("SgnA"),i=r("q6Po"),o=r("vkb2"),a=r("gzZ3"),s=r("DRWY"),u=r("pSKN"),l=r("xW9Z"),c=r("siyM");t.subscribeToResult=function(e,t,r,f){var h=new l.InnerSubscriber(e,r,f);if(h.closed)return null;if(t instanceof s.Observable)return t._isScalar?(h.next(t.value),h.complete(),null):(h.syncErrorThrowable=!0,t.subscribe(h));if(i.isArrayLike(t)){for(var p=0,d=t.length;p<d&&!h.closed;p++)h.next(t[p]);h.closed||h.complete()}else{if(o.isPromise(t))return t.then(function(e){h.closed||(h.next(e),h.complete())},function(e){return h.error(e)}).then(null,function(e){n.root.setTimeout(function(){throw e})}),h;if(t&&"function"==typeof t[u.iterator])for(var y=t[u.iterator]();;){var g=y.next();if(g.done){h.complete();break}if(h.next(g.value),h.closed)break}else if(t&&"function"==typeof t[c.observable]){var m=t[c.observable]();if("function"==typeof m.subscribe)return m.subscribe(new l.InnerSubscriber(e,r,f));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(a.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(v))}}return null}},k04V:function(e,t,r){"use strict";var n=r("ii0K");t.findIndex=function(e,t){return n.findIndex(e,t)(this)}},k5n7:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("O3mw");t.last=function(e,t,r){return function(n){return n.lift(new a(e,t,r,n))}};var a=function(){function LastOperator(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return LastOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},LastOperator}(),s=function(e){function LastSubscriber(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return n(LastSubscriber,e),LastSubscriber.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},LastSubscriber.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},LastSubscriber.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},LastSubscriber.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new o.EmptyError)},LastSubscriber}(i.Subscriber)},kF8H:function(e,t,r){"use strict";var n=r("DRWY"),i=r("LOiI");n.Observable.prototype.windowTime=i.windowTime},kRjW:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("v4Ul"),a=r("QWia"),s=function(e){function CHeader(t,r,n,i){var o=e.call(this,t,r.alias,n,i)||this;return o._rotate=!1,o.borders.left.display=!0,o._label=new a.CLabel(o,r),o}return i(CHeader,e),Object.defineProperty(CHeader.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(CHeader.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e},enumerable:!0,configurable:!0}),CHeader.prototype.getHeight=function(){return this.rotate?120:25},CHeader.prototype.getXProp=function(){return{field:"layout_start",offset:.5}},CHeader.prototype.getWidthProp=function(){return{field:"layout_width"}},CHeader.prototype.getMarks=function(){var t=e.prototype.getMarks.call(this);return t.push(this.label.compile()),t},CHeader}(o.CHead);t.CHeader=s},kYqL:function(e,t,r){"use strict";var n=r("Q8I2");t.pairwise=function(){return n.pairwise()(this)}},kdBv:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DIMENSION="DIMENSION",e.MEASURE="MEASURE"}(n=t.RoleType||(t.RoleType={})),function(e){e.DISCRETE="DISCRETE",e.CONTINUOUS="CONTINUOUS"}(i=t.VariableType||(t.VariableType={})),function(e){e.DATA="DATA",e.MODELCALC="MODELCALC",e.MODELNAMES="MODELNAMES",e.MODELVALUES="MODELVALUES",e.VIEWCALC="VIEWCALC",e.VIEWNAMES="VIEWNAMES",e.VIEWVALUES="VIEWVALUES",e.MODELMULTIPLE="MODELMULTIPLE"}(t.FieldType||(t.FieldType={}));var o=function(){function BField(){}return BField.GenerateID=function(){return Math.random().toString(16).slice(2,6)},Object.defineProperty(BField.prototype,"isNames",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isValues",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isMultiple",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isStandard",{get:function(){return!this.isSystem},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isSystem",{get:function(){return this.isValues||this.isNames||this.isMultiple},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isDimension",{get:function(){return this.roleType===n.DIMENSION},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isMeasure",{get:function(){return this.roleType===n.MEASURE},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isContinuous",{get:function(){return this.varType===i.CONTINUOUS},enumerable:!0,configurable:!0}),Object.defineProperty(BField.prototype,"isDiscrete",{get:function(){return this.varType===i.DISCRETE},enumerable:!0,configurable:!0}),BField}();t.BField=o},knuh:function(e,t,r){"use strict";var n=r("uELO");t.buffer=function(e){return n.buffer(e)(this)}},kpGl:function(e,t,r){"use strict";var n=r("CsEb"),i=r("1OJT");t.auditTime=function(e,t){return void 0===t&&(t=n.async),i.auditTime(e,t)(this)}},kvb0:function(e,t,r){"use strict";var n=r("DRWY"),i=r("BEib");n.Observable.pairs=i.pairs},kvhK:function(e,t,r){"use strict";var n=r("DRWY"),i=r("l8zI");n.Observable.prototype.audit=i.audit},kxLg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Y/qi"),i=function(){function ColumnFormat(){this._alignment=new n.Columns}return Object.defineProperty(ColumnFormat.prototype,"alignment",{get:function(){return this._alignment},enumerable:!0,configurable:!0}),ColumnFormat}();t.ColumnFormat=i},l8zI:function(e,t,r){"use strict";var n=r("bIfK");t.audit=function(e){return n.audit(e)(this)}},lLuG:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("I9Xa"),a=r("DRWY"),s=r("X0B2"),u=r("80UI"),l=r("ffjX");t.groupBy=function(e,t,r,n){return function(i){return i.lift(new c(e,t,r,n))}};var c=function(){function GroupByOperator(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return GroupByOperator.prototype.call=function(e,t){return t.subscribe(new f(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},GroupByOperator}(),f=function(e){function GroupBySubscriber(t,r,n,i,o){e.call(this,t),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return n(GroupBySubscriber,e),GroupBySubscriber.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},GroupBySubscriber.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new l.FastMap:new u.Map);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.Subject,r.set(t,i);var o=new p(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new p(t,i))}catch(e){return void this.error(e)}this.add(a.subscribe(new h(t,i,this)))}}i.closed||i.next(n)},GroupBySubscriber.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},GroupBySubscriber.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},GroupBySubscriber.prototype.removeGroup=function(e){this.groups.delete(e)},GroupBySubscriber.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},GroupBySubscriber}(i.Subscriber),h=function(e){function GroupDurationSubscriber(t,r,n){e.call(this,r),this.key=t,this.group=r,this.parent=n}return n(GroupDurationSubscriber,e),GroupDurationSubscriber.prototype._next=function(e){this.complete()},GroupDurationSubscriber.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},GroupDurationSubscriber}(i.Subscriber),p=function(e){function GroupedObservable(t,r,n){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=n}return n(GroupedObservable,e),GroupedObservable.prototype._subscribe=function(e){var t=new o.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new d(r)),t.add(n.subscribe(e)),t},GroupedObservable}(a.Observable);t.GroupedObservable=p;var d=function(e){function InnerRefCountSubscription(t){e.call(this),this.parent=t,t.count++}return n(InnerRefCountSubscription,e),InnerRefCountSubscription.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},InnerRefCountSubscription}(o.Subscription)},lMYB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("SNuK"),i=function(){function Axes(){this._axes=new Array}return Object.defineProperty(Axes.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(Axes.prototype,"fields",{get:function(){for(var e=[],t=0,r=this.axes;t<r.length;t++){var n=r[t];e=e.concat(n.fields)}return e},enumerable:!0,configurable:!0}),Axes.prototype.addField=function(e){this.axes.push(new n.Axis(e))},Axes}();t.Axes=i},lPmd:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},lVEQ:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function ArgumentOutOfRangeError(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return n(ArgumentOutOfRangeError,e),ArgumentOutOfRangeError}(Error);t.ArgumentOutOfRangeError=i},lYd8:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Hdo1");n.Observable.prototype.timeInterval=i.timeInterval},"le+B":function(e,t,r){"use strict";var n=r("KBwi");t.of=n.ArrayObservable.of},lfEA:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},llOj:function(e,t,r){var n=r("fyM1"),i=r("ZrAa"),o=r("DENg"),a=r("9R9K"),s=r("TvGQ"),u={integer:1,number:1,date:1};function spec(e){var t=e.type,r=null;return(null==t||u[t])&&("integer"===t&&null==e.minstep&&(e.minstep=1),r="date"===t?n.date(e):n(e)),r}function options(){var e=arguments,t=0,r=a.isArray(e[t])?e[t++]:null,n=a.isFunction(e[t])||a.isString(e[t])?a.$(e[t++]):null,i=a.extend({},e[t]);if(r&&(i.type=i.type||o(r,n),u[i.type])){var l=s.extent(r,n);i=a.extend({min:l[0],max:l[1]},i)}return n&&(i.accessor=n),i}e.exports={$bin:function(e,t,r){var n=spec(r=options(e,t,r));return n?a.$func("bin",n.unit.unit?function(e){return n.value(n.unit.unit(e))}:function(e){return n.value(e)})(r.accessor):r.accessor||a.identity},histogram:function(e,t,r){var n=spec(r=options(e,t,r));return n?function(e,t,r){for(var n,o,s=i.range(r.start,r.stop+r.step/2,r.step).map(function(e){return{value:r.value(e),count:0}}),u=0;u<e.length;++u)if(n=t?t(e[u]):e[u],a.isValid(n)){if((o=r.index(n))<0||o>=s.length||!isFinite(o))continue;s[o].count+=1}return s.bins=r,s}(e,r.accessor,n):function(e,t,r){var n=s.unique(e,t),i=s.count.map(e,t);return n.map(function(e){return{value:e,count:i[e]}}).sort(a.comparator(r?"-count":"+value"))}(e,r.accessor,r&&r.sort)}}},lour:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function RStack(t,r,n,i){var o=e.call(this,t,r,n,i)||this,a=o.addAggregate(r);return o.hasParent?(a.sum("cellCount","cellCount"),a.sum("layout_height","layout_height")):(a.distinct("rKey","cellCount"),o.addFormula("layout_height","datum.cellCount * CellHeight")),o.addStack([],"layout_height",["_id"]),o}return i(RStack,e),RStack}(r("nS3z").FStack);t.RStack=o},lylt:function(e,t,r){"use strict";var n=r("i6N7");t.retryWhen=function(e){return n.retryWhen(e)(this)}},m0oc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("PLER"),i=r("/VWl"),o=r("jIsw"),a=r("vq4T"),s=function(){function Borders(){this._bottom=new n.BBorder,this._left=new i.LBorder,this._right=new o.RBorder,this._top=new a.TBorder}return Object.defineProperty(Borders.prototype,"bottom",{get:function(){return this._bottom},enumerable:!0,configurable:!0}),Object.defineProperty(Borders.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(Borders.prototype,"right",{get:function(){return this._right},enumerable:!0,configurable:!0}),Object.defineProperty(Borders.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Borders.prototype.getDisplayed=function(){var e=new Array;return this.bottom.display&&e.push(this.bottom),this.left.display&&e.push(this.left),this.right.display&&e.push(this.right),this.top.display&&e.push(this.top),e},Borders}();t.Borders=s},m19F:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("veqC"),a=function(e){function NeverObservable(){e.call(this)}return n(NeverObservable,e),NeverObservable.create=function(){return new NeverObservable},NeverObservable.prototype._subscribe=function(e){o.noop()},NeverObservable}(i.Observable);t.NeverObservable=a},m90P:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("ITh/"),o=r("KBwi"),a=r("EIUo"),s=r("k+FJ");t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!i.isArray(e[0]))return e[0];e=e[0]}return new o.ArrayObservable(e).lift(new u)};var u=function(){function RaceOperator(){}return RaceOperator.prototype.call=function(e,t){return t.subscribe(new l(e))},RaceOperator}();t.RaceOperator=u;var l=function(e){function RaceSubscriber(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(RaceSubscriber,e),RaceSubscriber.prototype._next=function(e){this.observables.push(e)},RaceSubscriber.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=s.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},RaceSubscriber.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},RaceSubscriber}(a.OuterSubscriber);t.RaceSubscriber=l},m9my:function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var n=r("tQ5n");!function(e){e.sheet=function(e,t){return new n.ViewBuilder(e).build(t)}}(t.Vegas||(t.Vegas={})),__export(r("yo/l")),__export(r("PesP")),__export(r("PxrE"))},mBMa:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new o(e,r,!1,t))}};var o=function(){function FindValueOperator(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return FindValueOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},FindValueOperator}();t.FindValueOperator=o;var a=function(e){function FindValueSubscriber(t,r,n,i,o){e.call(this,t),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return n(FindValueSubscriber,e),FindValueSubscriber.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},FindValueSubscriber.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},FindValueSubscriber.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},FindValueSubscriber}(i.Subscriber);t.FindValueSubscriber=a},mItB:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Uei4");n.Observable.combineLatest=i.combineLatest},mMt9:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pkpF"),a=r("iI79"),s=r("vzjw"),u=r("vtQN"),l=r("FMeT"),c=function(e){function HBody(t){var r=e.call(this,"body")||this;return r._table=t,r._gData=new Array,r._mData=new Array,r._gTiles=new Array,r._mTiles=new Array,r.buildGridTiles(t),r.buildMarkTiles(t),r}return i(HBody,e),Object.defineProperty(HBody.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(HBody.prototype,"gData",{get:function(){return this._gData},enumerable:!0,configurable:!0}),Object.defineProperty(HBody.prototype,"mData",{get:function(){return this._mData},enumerable:!0,configurable:!0}),Object.defineProperty(HBody.prototype,"gTiles",{get:function(){return this._gTiles},enumerable:!0,configurable:!0}),Object.defineProperty(HBody.prototype,"mTiles",{get:function(){return this._mTiles},enumerable:!0,configurable:!0}),HBody.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.gTiles;r<n.length;r++){var i=n[r];t.push(i.compile())}for(var o=0,a=this.mTiles;o<a.length;o++){var s=a[o];t.push(s.compile())}return t},HBody.prototype.getProperties=function(){return{enter:{x:{signal:"BodyX"},y:{signal:"BodyY"},width:{signal:"BodyWidth"},height:{signal:"BodyHeight"}}}},HBody.prototype.buildGridTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new a.HGData(e,n),o=new s.HGPane(e,n,i);this.gData.push(i),this.gTiles.push(o)}},HBody.prototype.buildMarkTiles=function(e){for(var t=0,r=e.marks;t<r.length;t++){var n=r[t],i=new u.HMData(e,n),o=new l.HMPane(e,i,n);this.mData.push(i),this.mTiles.push(o)}},HBody}(o.Group);t.HBody=c},mO9N:function(e,t,r){"use strict";var n=r("qw2Y");t.scan=function(e,t){return arguments.length>=2?n.scan(e,t)(this):n.scan(e)(this)}},mPZX:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("7cqj"),o=r("jpd/");!function(e){function select(e,r){for(var i=new Map,o=0,a=e.fields;o<a.length;o++){var s=a[o];i.set(s.formula.source,s)}for(var u=0,l=r;u<l.length;u++){var c=(s=l[u]).formula.source,f=i.get(c);f?e=n({},e,{aliases:e.aliases.concat([t.make(f.alias,s.alias)])}):(i.set(s.formula.source,s),e=n({},e,{fields:e.fields.concat([s])}))}return e}var t;e.make=function(e){return void 0===e&&(e={}),select({id:o.Utility.id(),grouped:e.grouped||!0,aliases:e.aliases||[],fields:[],filters:e.filters||[],sorts:e.sorts||[],limit:e.limit||null,offset:e.offset||null},e.fields||[])},e.select=select,function(e){e.make=function(e,t){return{source:e,name:t}}}(t=e.Alias||(e.Alias={})),function(t){var r,o;!function(e){e.URL="URL",e.Inline="INLINE"}(r=t.Type||(t.Type={})),function(e){e.CSV="CSV",e.JSON="JSON"}(t.Format||(t.Format={})),function(t){t.make=function(e,t,r,n,i){return{name:e,alias:t,source:r,type:n,role:i}},t.get=function(e,t){return e.columns.find(function(e){return e.alias===t})||null},t.value=function(t,r,n){switch(n){case i.Attr.Names.Name:var o=r[i.Attr.Names.Name];return(a=e.Result.Column.get(t,o))?a.name:null;case i.Attr.Values.Name:var a;return o=r[i.Attr.Names.Name],(a=e.Result.Column.get(t,o))?r[a.alias]:null;default:return r[n]}}}(o=t.Column||(t.Column={})),function(e){function make(e,t,n){for(var i=t.id,a=function(e,t){var r=t.name,n=t.alias,i=t.formula;t.type;return e.concat([o.make(r,n,i.source,i.type,t.formula.role)])},s=new Array,u=0,l=t.fields;u<l.length;u++){var c=l[u];s=a(s,c)}for(var f=function(e){var r=t.fields.find(function(t){return t.alias===e.source});r&&a(s,r)},h=0,p=t.aliases;h<p.length;h++){f(p[h])}return{id:i,items:n,format:e,columns:s,type:r.Inline}}e.make=make,e.expand=function(e,t){var r=[],i=(e.id,e.columns,e.format);if(0===t.aliases.length)return e;for(var o=0,a=e.items;o<a.length;o++){for(var s=a[o],u=n({},s),l=0,c=t.aliases;l<c.length;l++){var f=c[l];u[f.name]=u[f.source]}r.push(u)}return make(i,t,r)}}(t.Inline||(t.Inline={})),function(e){e.make=function(e,t,n,i){return{id:e,url:t,format:i,columns:n,type:r.URL}}}(t.URL||(t.URL={}))}(e.Result||(e.Result={}))}(t.Query||(t.Query={}))},"mdf+":function(e,t,r){"use strict";var n=r("DRWY"),i=r("i4jj");n.Observable.prototype.concatAll=i.concatAll},mjDY:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("CsEb");t.debounceTime=function(e,t){return void 0===t&&(t=o.async),function(r){return r.lift(new a(e,t))}};var a=function(){function DebounceTimeOperator(e,t){this.dueTime=e,this.scheduler=t}return DebounceTimeOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))},DebounceTimeOperator}(),s=function(e){function DebounceTimeSubscriber(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return n(DebounceTimeSubscriber,e),DebounceTimeSubscriber.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},DebounceTimeSubscriber.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(i.Subscriber);function dispatchNext(e){e.debouncedNext()}},mjox:function(e,t,r){"use strict";var n=r("k5n7");t.last=function(e,t,r){return n.last(e,t,r)(this)}},mmJl:function(e,t,r){"use strict";var n=r("X0B2"),i=r("A9Q0");t.publish=function(e){return e?i.multicast(function(){return new n.Subject},e):i.multicast(new n.Subject)}},mnxp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("EYua"),i=r("J6VN"),o=r("ZJtM"),a=r("PjB1"),s=r("+cGy"),u=r("va4k"),l=function(){function Marks(e){this._type=e,this._color=new i.Color,this._size=new s.Size,this._label=new a.Mark,this._text=new u.Text,this._detail=new o.Detail,this._tooltip=new a.Mark,this._shape=new a.Mark,this._angle=new a.Mark,this._path=new a.Mark}return Object.defineProperty(Marks.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"shape",{get:function(){return this._shape},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"angle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(Marks.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Marks.prototype.addField=function(e,t){switch(e){case n.Channel.COLOR:this.color.addField(t);break;case n.Channel.SIZE:this.size.addField(t);break;case n.Channel.LABEL:this.label.addField(t);break;case n.Channel.TEXT:this.text.addField(t);break;case n.Channel.DETAIL:this.detail.addField(t);break;case n.Channel.TOOLTIP:this.tooltip.addField(t);break;case n.Channel.SHAPE:this.shape.addField(t);break;case n.Channel.ANGLE:this.angle.addField(t);break;case n.Channel.PATH:this.path.addField(t)}},Marks}();t.Marks=l},moUI:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("I9Xa"),a=function(e){function AsyncSubject(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(AsyncSubject,e),AsyncSubject.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},AsyncSubject.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},AsyncSubject.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},AsyncSubject.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},AsyncSubject}(i.Subject);t.AsyncSubject=a},mxtV:function(e,t,r){"use strict";var n=r("3op6");t.skipWhile=function(e){return n.skipWhile(e)(this)}},n34g:function(e,t,r){"use strict";var n=r("DRWY"),i=r("3DSv");n.Observable.prototype.ignoreElements=i.ignoreElements},n76g:function(e,t,r){"use strict";var n=r("hx+Y");t._switch=function(){return n.switchAll()(this)}},nOnZ:function(e,t,r){"use strict";var n=r("DRWY"),i=r("2tzf");n.Observable.prototype.every=i.every},nPVE:function(e,t,r){"use strict";var n=r("OYnI");t.exhaust=function(){return n.exhaust()(this)}},nS3z:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function FStack(t,r,n,i){var o=e.call(this,"fs-"+n,i||t.cells)||this;return o._table=t,o._fieldPath=r,o._fieldName=n,o._parentStack=i,o}return i(FStack,e),Object.defineProperty(FStack.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(FStack.prototype,"fieldPath",{get:function(){return this._fieldPath},enumerable:!0,configurable:!0}),Object.defineProperty(FStack.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(FStack.prototype,"parentStack",{get:function(){return this._parentStack},enumerable:!0,configurable:!0}),Object.defineProperty(FStack.prototype,"hasParent",{get:function(){return null!=this.parentStack},enumerable:!0,configurable:!0}),FStack}(r("qI4a").Data);t.FStack=o},"nZP+":function(e,t,r){"use strict";var n=r("+HTF");t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.onErrorResumeNext.apply(void 0,e)(this)}},nb0e:function(e,t){e.exports=function(e,t){t(e,0)}},ndss:function(e,t,r){"use strict";var n=r("DRWY"),i=r("VTc6");n.Observable.prototype.skipLast=i.skipLast},"ne/m":function(e,t,r){"use strict";var n=r("ZUnZ");t.distinctUntilChanged=function(e,t){return n.distinctUntilChanged(e,t)(this)}},ngUQ:function(e,t,r){"use strict";var n=r("3IPk"),i=r("LwgF");t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,null,e)}},niCK:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=r("E4ND"),s=r("kdBv"),u=r("kdBv");!function(e){e.NAMES="$NAMES",e.VALUES="$VALUES",e.MULTIPLE="$MULTIPLE"}(o=t.SystemFieldName||(t.SystemFieldName={}));var l=function(e){function SystemField(t){var r=e.call(this)||this;return r._systemFieldName=t,r}return i(SystemField,e),Object.defineProperty(SystemField.prototype,"name",{get:function(){return this.isNames?"Measure Names":this.isValues?"Measure Values":this.isMultiple?"Multiple Fields":void 0},enumerable:!0,configurable:!0}),Object.defineProperty(SystemField.prototype,"systemFieldName",{get:function(){return this._systemFieldName},enumerable:!0,configurable:!0}),Object.defineProperty(SystemField.prototype,"dataType",{get:function(){return this.isNames?a.DataType.STRING:this.isValues?a.DataType.NUMBER:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(SystemField.prototype,"roleType",{get:function(){return this.isNames?s.RoleType.DIMENSION:this.isValues?s.RoleType.MEASURE:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(SystemField.prototype,"varType",{get:function(){return this.isNames?s.VariableType.DISCRETE:this.isValues?s.VariableType.CONTINUOUS:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(SystemField.prototype,"isNames",{get:function(){return this.type===u.FieldType.MODELNAMES||this.type===u.FieldType.VIEWNAMES},enumerable:!0,configurable:!0}),Object.defineProperty(SystemField.prototype,"isValues",{get:function(){return this.type===u.FieldType.MODELVALUES||this.type===u.FieldType.VIEWVALUES},enumerable:!0,configurable:!0}),SystemField}(u.BField);t.SystemField=l;var c=function(e){function ModelSystemField(t){var r=e.call(this,t)||this;switch(t){case o.NAMES:r._type=u.FieldType.MODELNAMES;break;case o.VALUES:r._type=u.FieldType.MODELVALUES;break;case o.MULTIPLE:r._type=u.FieldType.MODELMULTIPLE}return r}return i(ModelSystemField,e),Object.defineProperty(ModelSystemField.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(ModelSystemField.prototype,"isMultiple",{get:function(){return this.type===u.FieldType.MODELMULTIPLE},enumerable:!0,configurable:!0}),ModelSystemField}(l);t.ModelSystemField=c;var f=function(e){function ViewSystemField(t,r,n){var i=e.call(this,t)||this;switch(i._id=r,i._sid=n||0,t){case o.NAMES:i._type=u.FieldType.VIEWNAMES;break;case o.VALUES:i._type=u.FieldType.VIEWVALUES}return i}return i(ViewSystemField,e),Object.defineProperty(ViewSystemField.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(ViewSystemField.prototype,"sid",{get:function(){return this._sid},enumerable:!0,configurable:!0}),Object.defineProperty(ViewSystemField.prototype,"psid",{get:function(){return("00"+this.sid).substr(-2,2)},enumerable:!0,configurable:!0}),Object.defineProperty(ViewSystemField.prototype,"alias",{get:function(){return this.sid?"f-"+this.psid+"-"+this.id:this.id},enumerable:!0,configurable:!0}),Object.defineProperty(ViewSystemField.prototype,"source",{get:function(){return this.systemFieldName},enumerable:!0,configurable:!0}),Object.defineProperty(ViewSystemField.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),ViewSystemField}(l);t.ViewSystemField=f},nvzG:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.tap=function(e,t,r){return function(n){return n.lift(new o(e,t,r))}};var o=function(){function DoOperator(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return DoOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},DoOperator}(),a=function(e){function DoSubscriber(t,r,n,o){e.call(this,t);var a=new i.Subscriber(r,n,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return n(DoSubscriber,e),DoSubscriber.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},DoSubscriber.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},DoSubscriber.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},DoSubscriber}(i.Subscriber)},nxCa:function(e,t,r){"use strict";var n=r("obMk");t.delayWhen=function(e,t){return n.delayWhen(e,t)(this)}},o0FP:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=r("H49V"),u=r("kdBv");!function(e){e.STAR="*",e.POINT="POINT",e.LINE="LINE",e.AREA="AREA"}(o=t.LayerMarkType||(t.LayerMarkType={})),function(e){e.ANY="ANY",e.ROW="ROW",e.COLUMN="COLUMN"}(a=t.PivotSortOrder||(t.PivotSortOrder={}));var l=function(){function PivotQuery(){this._sortOrder=a.ANY,this._rows=new h(this),this._columns=new p(this),this._values=new d(this),this._layers=new Map,this.layers.set(s.Channel.STAR,new Array),this.layers.set(s.Channel.ROW,new Array),this.layers.set(s.Channel.COLUMN,new Array),this._sorts=new Map,this._filters=new Map}return Object.defineProperty(PivotQuery.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(PivotQuery.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(PivotQuery.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(PivotQuery.prototype,"layers",{get:function(){return this._layers},enumerable:!0,configurable:!0}),Object.defineProperty(PivotQuery.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(PivotQuery.prototype,"sorts",{get:function(){return this._sorts},enumerable:!0,configurable:!0}),Object.defineProperty(PivotQuery.prototype,"sortOrder",{get:function(){return this._sortOrder},enumerable:!0,configurable:!0}),PivotQuery.prototype.onRows=function(e){return null!=e&&e(this.rows),this},PivotQuery.prototype.onColumns=function(e){return null!=e&&e(this.columns),this},PivotQuery.prototype.onValues=function(e){return null!=e&&e(this.values),this},PivotQuery.prototype.onLayer=function(e){var t=this.layers.get(s.Channel.STAR);return 0===t.length&&t.push(new y(this)),null!=e&&e(t[0]),this},PivotQuery.prototype.filterBy=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){return e.filters.set(t.field.name,t)}),this},PivotQuery.prototype.sortBy=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){return e.sorts.set(t.field.name,t)}),this},PivotQuery.prototype.sortOrderBy=function(e){return this._sortOrder=e,this},PivotQuery}();t.PivotQuery=l;var c=function(){function QueryAxis(e){this._query=e}return Object.defineProperty(QueryAxis.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),QueryAxis}();t.QueryAxis=c;var f=function(e){function BaseAxis(t){var r=e.call(this,t)||this;return r._fields=new Array,r._layers=new Map,r}return i(BaseAxis,e),Object.defineProperty(BaseAxis.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(BaseAxis.prototype,"layers",{get:function(){return this._layers},enumerable:!0,configurable:!0}),Object.defineProperty(BaseAxis.prototype,"dimensions",{get:function(){return this.fields.filter(function(e){return e.isDimension})},enumerable:!0,configurable:!0}),Object.defineProperty(BaseAxis.prototype,"measures",{get:function(){return this.fields.filter(function(e){return e.isMeasure})},enumerable:!0,configurable:!0}),BaseAxis.prototype.onField=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){return e.fields.push(t)}),this},BaseAxis.prototype.onLayer=function(e,t){var r=this.layers.get(e.alias);return null==r&&(r=new y(this.query,this.channel,e.alias),this.query.layers.get(this.channel).push(r),this.layers.set(e.alias,r)),r.onChannel(this.channel,e),null!=t&&t(r),this},BaseAxis}(c);t.BaseAxis=f;var h=function(e){function RowAxis(){return null!==e&&e.apply(this,arguments)||this}return i(RowAxis,e),Object.defineProperty(RowAxis.prototype,"channel",{get:function(){return s.Channel.ROW},enumerable:!0,configurable:!0}),RowAxis}(f);t.RowAxis=h;var p=function(e){function ColumnAxis(){return null!==e&&e.apply(this,arguments)||this}return i(ColumnAxis,e),Object.defineProperty(ColumnAxis.prototype,"channel",{get:function(){return s.Channel.COLUMN},enumerable:!0,configurable:!0}),ColumnAxis}(f);t.ColumnAxis=p;var d=function(e){function ValueAxis(t){var r=e.call(this,t)||this;return r._fields=new Array,r}return i(ValueAxis,e),Object.defineProperty(ValueAxis.prototype,"channel",{get:function(){return s.Channel.VALUE},enumerable:!0,configurable:!0}),Object.defineProperty(ValueAxis.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),ValueAxis.prototype.onField=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){return e.fields.push(t)}),this},ValueAxis}(c);t.ValueAxis=d;var y=function(e){function LayerAxis(t,r,n){void 0===r&&(r=s.Channel.STAR),void 0===n&&(n="*");var i=e.call(this,t)||this;return i._channel=r,i._name=n,i._markType=o.POINT,i._fields=new Map,i.fields.set(s.Channel.ROW,new Array),i.fields.set(s.Channel.COLUMN,new Array),i.fields.set(s.Channel.VALUE,new Array),i.fields.set(s.Channel.COLOR,new Array),i.fields.set(s.Channel.SIZE,new Array),i.fields.set(s.Channel.TEXT,new Array),i.fields.set(s.Channel.DETAIL,new Array),i.fields.set(s.Channel.TOOLTIP,new Array),i.fields.set(s.Channel.ANGLE,new Array),i.fields.set(s.Channel.PATH,new Array),i}return i(LayerAxis,e),Object.defineProperty(LayerAxis.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(LayerAxis.prototype,"channel",{get:function(){return this._channel},enumerable:!0,configurable:!0}),Object.defineProperty(LayerAxis.prototype,"markType",{get:function(){return this._markType},enumerable:!0,configurable:!0}),Object.defineProperty(LayerAxis.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(LayerAxis.prototype,"dimensions",{get:function(){return this.getFieldsByRole(u.RoleType.DIMENSION)},enumerable:!0,configurable:!0}),Object.defineProperty(LayerAxis.prototype,"measures",{get:function(){return this.getFieldsByRole(u.RoleType.MEASURE)},enumerable:!0,configurable:!0}),LayerAxis.prototype.onRow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.ROW].concat(e))},LayerAxis.prototype.onColumn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.COLUMN].concat(e))},LayerAxis.prototype.onValue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.VALUE].concat(e))},LayerAxis.prototype.onColor=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.COLOR].concat(e))},LayerAxis.prototype.onSize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.SIZE].concat(e))},LayerAxis.prototype.onText=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.TEXT].concat(e))},LayerAxis.prototype.onDetail=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.DETAIL].concat(e))},LayerAxis.prototype.onTooltip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.onChannel.apply(this,[s.Channel.TOOLTIP].concat(e))},LayerAxis.prototype.onChannel=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.fields.get(e);return t.forEach(function(e){return n.push(e)}),this},LayerAxis.prototype.getFieldsByRole=function(e){for(var t=new Map,r=null,n=0,i=Array.from(this.fields);n<i.length;n++)for(var o=i[n],a=o[0],s=o[1],u=0,l=s.length;u<l;u++)(r=s[u]).roleType===e&&(t.has(a)||t.set(a,new Array),t.get(a).push(r));return t},LayerAxis}(c);t.LayerAxis=y},o0fr:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("+8et");t.materialize=function(){return function(e){return e.lift(new a)}};var a=function(){function MaterializeOperator(){}return MaterializeOperator.prototype.call=function(e,t){return t.subscribe(new s(e))},MaterializeOperator}(),s=function(e){function MaterializeSubscriber(t){e.call(this,t)}return n(MaterializeSubscriber,e),MaterializeSubscriber.prototype._next=function(e){this.destination.next(o.Notification.createNext(e))},MaterializeSubscriber.prototype._error=function(e){var t=this.destination;t.next(o.Notification.createError(e)),t.complete()},MaterializeSubscriber.prototype._complete=function(){var e=this.destination;e.next(o.Notification.createComplete()),e.complete()},MaterializeSubscriber}(i.Subscriber)},o9Tc:function(e,t,r){"use strict";var n=r("DRWY"),i=r("PxNp");n.Observable.prototype.groupBy=i.groupBy},oDNE:function(e,t){e.exports={name:"datalib",version:"1.8.0",description:"JavaScript utilites for loading, summarizing and working with data.",keywords:["data","table","statistics","parse","csv","tsv","json","utility"],repository:{type:"git",url:"http://github.com/vega/datalib.git"},author:{name:"Jeffrey Heer",url:"http://idl.cs.washington.edu"},contributors:[{name:"Michael Correll",url:"http://pages.cs.wisc.edu/~mcorrell/"},{name:"Ryan Russell",url:"https://github.com/RussellSprouts"}],license:"BSD-3-Clause",dependencies:{"d3-dsv":"0.1","d3-format":"0.4","d3-time":"0.1","d3-time-format":"0.2",topojson:"^1.6.19",request:"^2.67.0","sync-request":"^2.1.0"},devDependencies:{browserify:"^12.0.1",chai:"^3.4.1",istanbul:"latest",jshint:"^2.9.1-rc1",mocha:"^2.3.4","uglify-js":"^2.6.1"},main:"src/index.js",scripts:{deploy:"npm run test && scripts/deploy.sh",lint:"jshint src/",test:"npm run lint && TZ=America/Los_Angeles mocha --recursive test/",cover:"TZ=America/Los_Angeles istanbul cover _mocha -- --recursive test/",build:"browserify src/index.js -d -s dl -o datalib.js",postbuild:"uglifyjs datalib.js -c -m -o datalib.min.js"},browser:{buffer:!1,fs:!1,http:!1,request:!1,"sync-request":!1,url:!1}}},oHh7:function(e,t,r){"use strict";var n=r("DRWY"),i=r("WR1+");n.Observable.fromEventPattern=i.fromEventPattern},oIyB:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.debounce=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function DebounceOperator(e){this.durationSelector=e}return DebounceOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector))},DebounceOperator}(),s=function(e){function DebounceSubscriber(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return n(DebounceSubscriber,e),DebounceSubscriber.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},DebounceSubscriber.prototype._complete=function(){this.emitValue(),this.destination.complete()},DebounceSubscriber.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=o.subscribeToResult(this,t)).closed||this.add(this.durationSubscription=r)},DebounceSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},DebounceSubscriber.prototype.notifyComplete=function(){this.emitValue()},DebounceSubscriber.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},DebounceSubscriber}(i.OuterSubscriber)},oIyb:function(e,t,r){"use strict";var n=r("A9Q0"),i=r("y3NY"),o=r("X0B2");function shareSubjectFactory(){return new o.Subject}t.share=function(){return function(e){return i.refCount()(n.multicast(shareSubjectFactory)(e))}}},oRuo:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("P23m"),a=function(e){return e},s=function(e){function GenerateObservable(t,r,n,i,o){e.call(this),this.initialState=t,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return n(GenerateObservable,e),GenerateObservable.create=function(e,t,r,n,i){return 1==arguments.length?new GenerateObservable(e.initialState,e.condition,e.iterate,e.resultSelector||a,e.scheduler):void 0===n||o.isScheduler(n)?new GenerateObservable(e,t,r,a,n):new GenerateObservable(e,t,r,n,i)},GenerateObservable.prototype._subscribe=function(e){var t=this.initialState;if(this.scheduler)return this.scheduler.schedule(GenerateObservable.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:t});for(var r=this.condition,n=this.resultSelector,i=this.iterate;;){if(r){var o=void 0;try{o=r(t)}catch(t){return void e.error(t)}if(!o){e.complete();break}}var a=void 0;try{a=n(t)}catch(t){return void e.error(t)}if(e.next(a),e.closed)break;try{t=i(t)}catch(t){return void e.error(t)}}},GenerateObservable.dispatch=function(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}},GenerateObservable}(i.Observable);t.GenerateObservable=s},oTMF:function(e,t,r){"use strict";var n=r("DRWY"),i=r("1VDi");n.Observable.bindNodeCallback=i.bindNodeCallback},oU5A:function(e,t,r){"use strict";var n=r("33Jt");t.empty=n.EmptyObservable.create},obMk:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("DRWY"),a=r("EIUo"),s=r("k+FJ");t.delayWhen=function(e,t){return t?function(r){return new c(r,t).lift(new u(e))}:function(t){return t.lift(new u(e))}};var u=function(){function DelayWhenOperator(e){this.delayDurationSelector=e}return DelayWhenOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},DelayWhenOperator}(),l=function(e){function DelayWhenSubscriber(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return n(DelayWhenSubscriber,e),DelayWhenSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},DelayWhenSubscriber.prototype.notifyError=function(e,t){this._error(e)},DelayWhenSubscriber.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},DelayWhenSubscriber.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},DelayWhenSubscriber.prototype._complete=function(){this.completed=!0,this.tryComplete()},DelayWhenSubscriber.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},DelayWhenSubscriber.prototype.tryDelay=function(e,t){var r=s.subscribeToResult(this,e,t);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(t)},DelayWhenSubscriber.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},DelayWhenSubscriber}(a.OuterSubscriber),c=function(e){function SubscriptionDelayObservable(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return n(SubscriptionDelayObservable,e),SubscriptionDelayObservable.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},SubscriptionDelayObservable}(o.Observable),f=function(e){function SubscriptionDelaySubscriber(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return n(SubscriptionDelaySubscriber,e),SubscriptionDelaySubscriber.prototype._next=function(e){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},SubscriptionDelaySubscriber.prototype._complete=function(){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},SubscriptionDelaySubscriber}(i.Subscriber)},obqO:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("2p93"),a=r("/TTe"),s=r("/TTe"),u=r("/TTe"),l=r("/TTe"),c=r("MCIp"),f=r("11u+"),h=r("I0Hz"),p=r("wqnd"),d=r("teks"),y=r("Eyho"),g=r("rzqg"),m=r("p1eK"),v=function(e){function TMarks(t,r,n){var i=e.call(this,t,r,n)||this;return i._valueRange=i.getDomain(r),i._cells=new o.MCells(t,i,i.query),i}return i(TMarks,e),Object.defineProperty(TMarks.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(TMarks.prototype,"valueRange",{get:function(){return this._valueRange},enumerable:!0,configurable:!0}),Object.defineProperty(TMarks.prototype,"yAlias",{get:function(){return this.alias},enumerable:!0,configurable:!0}),Object.defineProperty(TMarks.prototype,"yAxisFields",{get:function(){return[this.field]},enumerable:!0,configurable:!0}),Object.defineProperty(TMarks.prototype,"xAxisFields",{get:function(){return[].concat(this.table.xAxisFields,this.table.x2AxisFields)},enumerable:!0,configurable:!0}),TMarks.prototype.buildColorScale=function(){return e.prototype.buildColorScale.call(this,this.cells)},TMarks.prototype.buildSizeScale=function(){return e.prototype.buildSizeScale.call(this,this.cells)},TMarks.prototype.buildAreaScale=function(){return e.prototype.buildAreaScale.call(this,this.cells)},TMarks}(c.TableMarks);t.TMarks=v;var b=function(e){function TMBars(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new h.TBar(t,i)),i.textFields.length>0&&0===i.colorFields.length&&0===i.detailFields.length&&i.marks.push(new m.TText(t,i)),i}return i(TMBars,e),Object.defineProperty(TMBars.prototype,"stack",{get:function(){return this.size.fields.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(TMBars.prototype,"sizeProp",{get:function(){return.5},enumerable:!0,configurable:!0}),TMBars.prototype.sizeMax=function(){return this.cellHeight},TMBars.prototype.buildXScale=function(){var e=this.getXDomain();return new a.ContinuousX(this.xScaleName,this.cells,e,this.field,{max:this.cellWidth})},TMBars.prototype.buildSizeScale=function(){var e={max:this.sizeMax()},t=this.getScaledInterval(e,this.sizeProp);return new l.DiscreteSize(this.sizeScaleName,this.cells,t)},TMBars.prototype.getXDomain=function(){var e,t=this.cellWidth;if(0===this.size.fields.length)e={min:5,max:5};else{var r=this.getStackedDomainFields();e=this.getStackedDomain(r,[this.size.fields[0].alias])}return this.getPaddedInterval(e,{min:0,max:t},{max:15})},TMBars.prototype.getStackedDomainFields=function(){return[].concat(this.table.rowFields).concat(this.table.columnFields).concat(this.table.yAxisFields).concat(this.table.xAxisFields)},TMBars}(v);t.TMBars=b;var _=function(e){function TMLine(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new d.TLine(t,i)),i}return i(TMLine,e),TMLine.prototype.sizeMax=function(){return this.size.fields.length>0?60:12},TMLine}(v);t.TMLine=_;var w=function(e){function TMArea(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.push(new f.TArea(t,i)),i}return i(TMArea,e),TMArea.prototype.sizeMax=function(){return this.size.fields.length>0?60:12},TMArea}(v);t.TMArea=w;var S=function(e){function TMText(t,r,n){var i=e.call(this,t,r,n)||this;return 0===i.textFields.length?i.marks.push(new m.TText(t,i)):i.marks.push(new m.TText(t,i,i.textFields[0])),i}return i(TMText,e),TMText.prototype.sizeMax=function(){return this.cellWidth},TMText.prototype.buildXScale=function(){return new s.DiscreteX(this.xScaleName,this.table.cCols,"cKey","layout_end")},TMText.prototype.buildYScale=function(){return new u.DiscreteY(this.yScaleName,this.table.cRows,"rKey","layout_end")},TMText}(v);t.TMText=S;var E=function(e){function TMSymbol(t,r,n){var i=e.call(this,t,r,n)||this;return i.textFields.length>0&&i.marks.push(new m.TText(t,i)),i}return i(TMSymbol,e),TMSymbol.prototype.sizeMax=function(){return this.cellWidth},TMSymbol.prototype.buildSizeScale=function(){return this.buildAreaScale()},TMSymbol}(v);t.TMSymbol=E;var C=function(e){function TMCircle(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.unshift(new p.TCircle(t,i)),i}return i(TMCircle,e),TMCircle}(E);t.TMCircle=C;var O=function(e){function TMShape(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.unshift(new y.TShape(t,i)),i}return i(TMShape,e),TMShape}(E);t.TMShape=O;var T=function(e){function TMSquare(t,r,n){var i=e.call(this,t,r,n)||this;return i.marks.unshift(new g.TSquare(t,i)),i}return i(TMSquare,e),TMSquare}(E);t.TMSquare=T},oqNA:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("CsEb"),a=r("LGJh"),s=r("Gf6Z"),u=r("P23m");t.windowTime=function(e){var t=o.async,r=null,n=Number.POSITIVE_INFINITY;return u.isScheduler(arguments[3])&&(t=arguments[3]),u.isScheduler(arguments[2])?t=arguments[2]:s.isNumeric(arguments[2])&&(n=arguments[2]),u.isScheduler(arguments[1])?t=arguments[1]:s.isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new l(e,r,n,t))}};var l=function(){function WindowTimeOperator(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return WindowTimeOperator.prototype.call=function(e,t){return t.subscribe(new f(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},WindowTimeOperator}(),c=function(e){function CountedSubject(){e.apply(this,arguments),this._numberOfNextedValues=0}return n(CountedSubject,e),CountedSubject.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(CountedSubject.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),CountedSubject}(i.Subject),f=function(e){function WindowTimeSubscriber(t,r,n,i,o){e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var a=this.openWindow();if(null!==n&&n>=0){var s={subscriber:this,window:a,context:null},u={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:o};this.add(o.schedule(dispatchWindowClose,r,s)),this.add(o.schedule(dispatchWindowCreation,n,u))}else{var l={subscriber:this,window:a,windowTimeSpan:r};this.add(o.schedule(dispatchWindowTimeSpanOnly,r,l))}}return n(WindowTimeSubscriber,e),WindowTimeSubscriber.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},WindowTimeSubscriber.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},WindowTimeSubscriber.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},WindowTimeSubscriber.prototype.openWindow=function(){var e=new c;return this.windows.push(e),this.destination.next(e),e},WindowTimeSubscriber.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},WindowTimeSubscriber}(a.Subscriber);function dispatchWindowTimeSpanOnly(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function dispatchWindowCreation(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o={action:this,subscription:null},a={subscriber:r,window:r.openWindow(),context:o};o.subscription=n.schedule(dispatchWindowClose,t,a),this.add(o.subscription),this.schedule(e,i)}function dispatchWindowClose(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}},ouJl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("I8rZ");!function(e){function DATEPART(e,t){return{name:"DATEPART",type:e,role:t,form:n.Call.Form.Scalar,resultType:n.Call.ResultType.Deterministic,params:[{name:"part",required:!0},{name:"value",required:!0}]}}function DATETRUNC(e,t){return{name:"DATETRUNC",type:e,role:t,form:n.Call.Form.Scalar,resultType:n.Call.ResultType.Deterministic,params:[{name:"part",required:!0},{name:"value",required:!0}]}}function AVG(e,t){return{name:"AVG",type:e,role:t,form:n.Call.Form.Aggregate,resultType:n.Call.ResultType.Deterministic,params:[{name:"value",required:!0}]}}function COUNT(e,t){return{name:"COUNT",type:e,role:t,form:n.Call.Form.Aggregate,resultType:n.Call.ResultType.Deterministic,params:[{name:"value",required:!0}]}}function COUNTD(e,t){return{name:"COUNTD",type:e,role:t,form:n.Call.Form.Aggregate,resultType:n.Call.ResultType.Deterministic,params:[{name:"value",required:!0}]}}function MIN(e,t){return{name:"MIN",type:e,role:t,form:n.Call.Form.Aggregate,resultType:n.Call.ResultType.Deterministic,params:[{name:"value",required:!0}]}}function MAX(e,t){return{name:"MAX",type:e,role:t,form:n.Call.Form.Aggregate,resultType:n.Call.ResultType.Deterministic,params:[{name:"value",required:!0}]}}function SUM(e,t){return{name:"SUM",type:e,role:t,form:n.Call.Form.Aggregate,resultType:n.Call.ResultType.Deterministic,params:[{name:"value",required:!0}]}}function RUNNING_SUM(e,t){return{name:"RUNNING_SUM",type:e,role:t,form:n.Call.Form.Calculation,resultType:n.Call.ResultType.Deterministic,params:[{name:"value",required:!0},{name:"window",required:!1}]}}e.make=function(e,t,r){switch(e){case"DATEPART":return DATEPART(t,r);case"DATETRUNC":return DATETRUNC(t,r)}switch(e){case"AVG":return AVG(t,r);case"COUNT":return COUNT(t,r);case"COUNTD":return COUNTD(t,r);case"MIN":return MIN(t,r);case"MAX":return MAX(t,r);case"SUM":return SUM(t,r);case"RUNNING_SUM":return RUNNING_SUM(t,r);default:throw new Error("Unknown function "+e)}},e.DATEPART=DATEPART,e.DATETRUNC=DATETRUNC,e.AVG=AVG,e.COUNT=COUNT,e.COUNTD=COUNTD,e.MIN=MIN,e.MAX=MAX,e.SUM=SUM,e.RUNNING_SUM=RUNNING_SUM}(t.DefaultCall||(t.DefaultCall={}))},ovQD:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("k+FJ"),a=r("EIUo"),s=function(e){function UsingObservable(t,r){e.call(this),this.resourceFactory=t,this.observableFactory=r}return n(UsingObservable,e),UsingObservable.create=function(e,t){return new UsingObservable(e,t)},UsingObservable.prototype._subscribe=function(e){var t,r=this.resourceFactory,n=this.observableFactory;try{return t=r(),new u(e,t,n)}catch(t){e.error(t)}},UsingObservable}(i.Observable);t.UsingObservable=s;var u=function(e){function UsingSubscriber(t,r,n){e.call(this,t),this.resource=r,this.observableFactory=n,t.add(r),this.tryUse()}return n(UsingSubscriber,e),UsingSubscriber.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(o.subscribeToResult(this,e))}catch(e){this._error(e)}},UsingSubscriber}(a.OuterSubscriber)},ovpY:function(e,t,r){"use strict";var n=r("vltd");t.fromEvent=n.FromEventObservable.create},ovwX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("pxn2"),i=r("6X6e"),o=r("E4ND"),a=r("kdBv"),s=r("ckWE"),u=r("caK9"),l=function(){function ModelBuilder(){}return ModelBuilder.prototype.build=function(e){var t=this.buildAdapter(e),r=this.buildFields(e);return new u.Model(t,r)},ModelBuilder.prototype.buildAdapter=function(e){return new s.Engine(e)},ModelBuilder.prototype.buildFields=function(e){for(var t=new Array,r=0,s=e.schema.columns;r<s.length;r++){var u=s[r];switch(u.type){case n.ColumnType.FLOAT:t.push(new i.DataField(u,o.DataType.FLOAT,a.RoleType.MEASURE,a.VariableType.CONTINUOUS,u.name));break;case n.ColumnType.INTEGER:t.push(new i.DataField(u,o.DataType.INTEGER,a.RoleType.MEASURE,a.VariableType.CONTINUOUS,u.name));break;case n.ColumnType.BOOLEAN:t.push(new i.DataField(u,o.DataType.BOOLEAN,a.RoleType.MEASURE,a.VariableType.DISCRETE,u.name));break;case n.ColumnType.STRING:t.push(new i.DataField(u,o.DataType.STRING,a.RoleType.DIMENSION,a.VariableType.DISCRETE,u.name));break;case n.ColumnType.DATE:t.push(new i.DataField(u,o.DataType.DATE,a.RoleType.DIMENSION,a.VariableType.DISCRETE,u.name));break;case n.ColumnType.DATETIME:t.push(new i.DataField(u,o.DataType.DATETIME,a.RoleType.DIMENSION,a.VariableType.DISCRETE,u.name))}}return t},ModelBuilder}();t.ModelBuilder=l},oxBv:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("SgnA"),o=r("1IBE"),a=r("5UgM"),s=r("DRWY"),u=r("LGJh"),l=r("3L1M");function ajaxGet(e,t){return void 0===t&&(t=null),new f({method:"GET",url:e,headers:t})}function ajaxPost(e,t,r){return new f({method:"POST",url:e,body:t,headers:r})}function ajaxDelete(e,t){return new f({method:"DELETE",url:e,headers:t})}function ajaxPut(e,t,r){return new f({method:"PUT",url:e,body:t,headers:r})}function ajaxPatch(e,t,r){return new f({method:"PATCH",url:e,body:t,headers:r})}t.ajaxGet=ajaxGet,t.ajaxPost=ajaxPost,t.ajaxDelete=ajaxDelete,t.ajaxPut=ajaxPut,t.ajaxPatch=ajaxPatch;var c=l.map(function(e,t){return e.response});function ajaxGetJSON(e,t){return c(new f({method:"GET",url:e,responseType:"json",headers:t}))}t.ajaxGetJSON=ajaxGetJSON;var f=function(e){function AjaxObservable(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?(function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;if(i.root.XDomainRequest)return new i.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}).call(this):function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new i.root.ActiveXObject(e))break}catch(e){}return new i.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);this.request=r}var t;return n(AjaxObservable,e),AjaxObservable.prototype._subscribe=function(e){return new h(e,this.request)},AjaxObservable.create=((t=function(e){return new AjaxObservable(e)}).get=ajaxGet,t.post=ajaxPost,t.delete=ajaxDelete,t.put=ajaxPut,t.patch=ajaxPatch,t.getJSON=ajaxGetJSON,t),AjaxObservable}(s.Observable);t.AjaxObservable=f;var h=function(e){function AjaxSubscriber(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||i.root.FormData&&r.body instanceof i.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return n(AjaxSubscriber,e),AjaxSubscriber.prototype.next=function(e){this.done=!0;var t=this.xhr,r=this.request,n=this.destination,i=new p(e,t,r);n.next(i)},AjaxSubscriber.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,i=t.url,s=t.async,u=t.password,l=t.headers,c=t.body,f=e.createXHR,h=o.tryCatch(f).call(e);if(h===a.errorObject)this.error(a.errorObject.e);else{this.xhr=h,this.setupEvents(h,e);if((r?o.tryCatch(h.open).call(h,n,i,s,r,u):o.tryCatch(h.open).call(h,n,i,s))===a.errorObject)return this.error(a.errorObject.e),null;if(s&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,l),(c?o.tryCatch(h.send).call(h,c):o.tryCatch(h.send).call(h))===a.errorObject)return this.error(a.errorObject.e),null}return h},AjaxSubscriber.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(i.root.FormData&&e instanceof i.root.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURI(t)+"="+encodeURI(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},AjaxSubscriber.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},AjaxSubscriber.prototype.setupEvents=function(e,t){var r=t.progressSubscriber;function xhrTimeout(e){var t=xhrTimeout,r=t.subscriber,n=t.progressSubscriber,i=t.request;n&&n.error(e),r.error(new y(this,i))}if(e.ontimeout=xhrTimeout,xhrTimeout.request=t,xhrTimeout.subscriber=this,xhrTimeout.progressSubscriber=r,e.upload&&"withCredentials"in e){var n,o;if(r)n=function(e){n.progressSubscriber.next(e)},i.root.XDomainRequest?e.onprogress=n:e.upload.onprogress=n,n.progressSubscriber=r;o=function(e){var t=o,r=t.progressSubscriber,n=t.subscriber,i=t.request;r&&r.error(e),n.error(new d("ajax error",this,i))},e.onerror=o,o.request=t,o.subscriber=this,o.progressSubscriber=r}function xhrReadyStateChange(e){var t=xhrReadyStateChange,r=t.subscriber,n=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=a?200:0),200<=o&&o<300?(n&&n.complete(),r.next(e),r.complete()):(n&&n.error(e),r.error(new d("ajax error "+o,this,i)))}}e.onreadystatechange=xhrReadyStateChange,xhrReadyStateChange.subscriber=this,xhrReadyStateChange.progressSubscriber=r,xhrReadyStateChange.request=t},AjaxSubscriber.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},AjaxSubscriber}(u.Subscriber);t.AjaxSubscriber=h;var p=function(){return function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=parseXhrResponse(this.responseType,t)}}();t.AjaxResponse=p;var d=function(e){function AjaxError(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=parseXhrResponse(this.responseType,r)}return n(AjaxError,e),AjaxError}(Error);function parseXhrResponse(e,t){switch(e){case"json":return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null");case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}t.AjaxError=d;var y=function(e){function AjaxTimeoutError(t,r){e.call(this,"ajax timeout",t,r)}return n(AjaxTimeoutError,e),AjaxTimeoutError}(d);t.AjaxTimeoutError=y},oztJ:function(e,t,r){"use strict";var n=r("DRWY"),i=r("ovpY");n.Observable.fromEvent=i.fromEvent},p05M:function(e,t,r){var n=r("9R9K"),i=r("FILO"),o={formats:[],format_map:{},truncate:n.truncate,pad:n.pad,day:i.day,month:i.month,quarter:i.quarter,utcQuarter:i.utcQuarter};function template(e){var t=source(e,"d");return t="var __t; return "+t+";",new Function("d",t).bind(o)}function source(e,t,r){t=t||"obj";var i=0,o="'",l=a;return e.replace(l,function(a,l,f){return o+=e.slice(i,f).replace(c,template_escapeChar),i=f+a.length,l&&(o+="'\n+((__t=("+function(e,t,r){var i=e.match(s),o=i.shift().trim(),a=!0;function strcall(e){return e=e||"",a?(a=!1,l="String("+l+")"+e):l+=e,l}function formatter(e){var t=y[0];if(!("'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]))throw Error("Format pattern must be quoted: "+t);t=t.slice(1,-1),h=template_format(t,e),a=!1;var r="number"===e?l:"(typeof "+l+'==="number"?new Date('+l+"):"+l+")";l="this.formats["+h+"]("+r+")"}r&&(r[o]=1);for(var l=template.property(t,o),c=0;c<i.length;++c){var f,h,p,d=i[c],y=null;switch((f=d.indexOf(":"))>0&&(d=d.slice(0,f),y=i[c].slice(f+1).match(u).map(function(e){return e.trim()})),d=d.trim()){case"length":strcall(".length");break;case"lower":strcall(".toLowerCase()");break;case"upper":strcall(".toUpperCase()");break;case"lower-locale":strcall(".toLocaleLowerCase()");break;case"upper-locale":strcall(".toLocaleUpperCase()");break;case"trim":strcall(".trim()");break;case"left":strcall(".slice(0,"+(h=n.number(y[0]))+")");break;case"right":strcall(".slice(-"+(h=n.number(y[0]))+")");break;case"mid":h=n.number(y[0]),p=h+n.number(y[1]),strcall(".slice(+"+h+","+p+")");break;case"slice":strcall(".slice("+(h=n.number(y[0]))+(y.length>1?","+n.number(y[1]):"")+")");break;case"truncate":h=n.number(y[0]),p="left"!==(p=y[1])&&"middle"!==p&&"center"!==p?"right":p,l="this.truncate("+strcall()+","+h+",'"+p+"')";break;case"pad":h=n.number(y[0]),p="left"!==(p=y[1])&&"middle"!==p&&"center"!==p?"right":p,l="this.pad("+strcall()+","+h+",'"+p+"')";break;case"number":formatter("number");break;case"time":formatter("time");break;case"time-utc":formatter("utc");break;case"month":l="this.month("+l+")";break;case"month-abbrev":l="this.month("+l+",true)";break;case"day":l="this.day("+l+")";break;case"day-abbrev":l="this.day("+l+",true)";break;case"quarter":l="this.quarter("+l+")";break;case"quarter-utc":l="this.utcQuarter("+l+")";break;default:throw Error("Unrecognized template filter: "+d)}}return l}(l,t,r)+"))==null?'':__t)+\n'"),a}),o+"'"}template.source=source,template.context=o,template.format=function(e,t){return o.formats[template_format(e,t)]},e.exports=template,template.clearFormatCache=function(){o.formats=[],o.format_map={}},template.property=function(e,t){return e+"["+n.field(t).map(n.str).join("][")+"]"};var a=/\{\{(.+?)\}\}|$/g,s=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,u=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,l={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},c=/\\|'|\r|\n|\u2028|\u2029/g;function template_escapeChar(e){return"\\"+l[e]}function template_format(e,t){var r=t+":"+e;if(null==o.format_map[r]){var n=i[t](e),a=o.formats.length;return o.formats.push(n),o.format_map[r]=a,a}return o.format_map[r]}},p1eK:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("X2xY"),a=r("BFbo"),s=function(e){function TText(t,r,n){var i=e.call(this,a.MarkType.TEXT)||this;return i._table=t,i._marks=r,i._yc={field:"crows.layout_mid"},i._xc={field:"ccols.layout_end",offset:-5},i._align={value:"right"},null==n?i._text={value:"Abc"}:n.isDiscrete?(i.setLeftAlign(),i._text={field:n.alias}):i._text={template:"{{ datum."+n.alias+' | number: ",.0f" }}'},i._color={value:"#666666"},i}return i(TText,e),Object.defineProperty(TText.prototype,"yc",{get:function(){return this._yc},enumerable:!0,configurable:!0}),Object.defineProperty(TText.prototype,"xc",{get:function(){return this._xc},enumerable:!0,configurable:!0}),Object.defineProperty(TText.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(TText.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(TText.prototype,"align",{get:function(){return this._align},enumerable:!0,configurable:!0}),TText.prototype.getProperties=function(){return{enter:{yc:this.yc,xc:this.xc,fill:this.color,text:this.text,align:this.align,fontSize:{value:12},baseline:{value:"middle"}}}},TText.prototype.setLeftAlign=function(){this._align={value:"left"},this._xc={field:"ccols.layout_start",offset:5}},TText}(o.MarkFrom);t.TText=s},p37E:function(e,t,r){"use strict";var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=r("8cbG"),u=(n=s)&&n.__esModule?n:{default:n};var l=["PENDING","FULFILLED","REJECTED"];e.exports=function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).promiseTypeSuffixes||l;return function(t){var r=t.dispatch;return function(t){return function(n){if(!n.payload)return t(n);if(!(0,u.default)(n.payload)&&!(0,u.default)(n.payload.promise))return t(n);var s=n.type,l=n.payload,c=n.meta,f=(c||{}).promiseTypeSuffixes||e,h=a(f,3),p=h[0],d=h[1],y=h[2],g=function(e,t){return o({type:s+"_"+(t?y:d)},e?{payload:e}:{},c?{meta:c}:{},t?{error:!0}:{})},m=void 0,v=void 0;(0,u.default)(n.payload)||"object"!==i(n.payload)?(m=l,v=null):(m=l.promise,v=l.data),t(o({type:s+"_"+p},v?{payload:v}:{},c?{meta:c}:{}));return m.then(function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=g(e,!1);return r(t),{value:e,action:t}},function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=g(e,!0);r(t);var n=e instanceof Error?e:new Error;throw n.reason=e,n.action=t,n})}}}}},pBGv:function(e,t){var r,n,i=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var o,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(o=a,a=[];++u<t;)o&&o[u].run();u=-1,t=a.length}o=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},pOWA:function(e,t,r){"use strict";var n=r("DRWY"),i=r("RToV");n.Observable.prototype.filter=i.filter},pSKN:function(e,t,r){"use strict";var n=r("SgnA");function symbolIteratorPonyfill(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&n.prototype[a]===n.prototype.entries)return a}return"@@iterator"}t.symbolIteratorPonyfill=symbolIteratorPonyfill,t.iterator=symbolIteratorPonyfill(n.root),t.$$iterator=t.iterator},pTYf:function(e,t){e.exports=function(){function identity(e){return e}function ignoreCase(e){return"string"==typeof e?e.toLowerCase():e}return function tb(e,t){var r="function"==typeof this&&this,n=function(e,t){if(t="number"==typeof t?{direction:t}:t||{},"function"!=typeof e){var r=e;e=function(e){return e[r]?e[r]:""}}if(1===e.length){var n=e,i=t.ignoreCase?ignoreCase:identity;e=function(e,t){return i(n(e))<i(n(t))?-1:i(n(e))>i(n(t))?1:0}}return-1===t.direction?function(t,r){return-e(t,r)}:e}(e,t),i=r?function(e,t){return r(e,t)||n(e,t)}:n;return i.thenBy=tb,i}}()},pXYK:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.filter=function(e,t){return function(r){return r.lift(new o(e,t))}};var o=function(){function FilterOperator(e,t){this.predicate=e,this.thisArg=t}return FilterOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},FilterOperator}(),a=function(e){function FilterSubscriber(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0}return n(FilterSubscriber,e),FilterSubscriber.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},FilterSubscriber}(i.Subscriber)},pXwY:function(e,t,r){"use strict";t.letProto=function(e){return e(this)}},pXyS:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Formula(t,r){var n=e.call(this)||this;return n._field=t,n._expr=r,n}return i(Formula,e),Object.defineProperty(Formula.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(Formula.prototype,"expr",{get:function(){return this._expr},enumerable:!0,configurable:!0}),Formula.prototype.compile=function(){return{type:"formula",field:this.field,expr:this.expr}},Formula}(r("3Txa").Transform);t.Formula=o},pYOS:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function PMData(t,r){return e.call(this,t,r,r.cells,r.yAlias+"-"+r.xAlias)||this}return i(PMData,e),PMData.prototype.getFacetFields=function(e){var t=["trKey","tcKey"];return this.marks.seriesFields.length>0&&(t=t.concat(this.marks.seriesFields.map(function(e){return e.alias}))).pop(),t},PMData}(r("uIdv").MData);t.PMData=o},pZww:function(e,t,r){"use strict";var n=r("DRWY"),i=r("3lcO");n.Observable.prototype.distinct=i.distinct},pkpF:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("X2xY"),a=r("BFbo"),s=function(e){function Group(t,r){return e.call(this,a.MarkType.GROUP,t,r)||this}return i(Group,e),Group.prototype.compile=function(){var t=e.prototype.compile.call(this),r=this.getScales();null!=r&&r.length>0&&(t.scales=r);var n=this.getAxes();null!=n&&n.length>0&&(t.axes=n);var i=this.getMarks();return null!=i&&i.length>0?t.marks=i:t.marks=[],t},Group.prototype.getScales=function(){return new Array},Group.prototype.getAxes=function(){return new Array},Group.prototype.getMarks=function(){return new Array},Group}(o.MarkFrom);t.Group=s},pm0e:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TCols(t){var r=e.call(this,"tcols",t)||this;return r.addAggregate(r.getAggFields(t)).distinct("cKey","cells"),r.addFormula("layout_width","datum.cells * CellWidth"),r.addStack(["trKey"],"layout_width",["_id"]),r}return i(TCols,e),TCols.prototype.getAggFields=function(e){return e.getTileColumnKeyFields().concat("tcKey")},TCols}(r("qI4a").Data);t.TCols=o},psnv:function(e,t,r){"use strict";var n=r("AeEG");t.zip=n.zipStatic},pxn2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOLEAN="BOOLEAN",e.DATE="DATE",e.DATETIME="DATETIME",e.INTEGER="INTEGER",e.FLOAT="FLOAT",e.STRING="STRING"}(t.ColumnType||(t.ColumnType={}));var n=function(){function DataColumn(e,t){this._name=e,this._type=t}return Object.defineProperty(DataColumn.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(DataColumn.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),DataColumn}();t.DataColumn=n},pzw3:function(e,t,r){"use strict";var n=r("SScF");t._if=n.IfObservable.create},q6Po:function(e,t,r){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},"qG+g":function(e,t,r){var n;!function(r,i){var o,a,s=void 0!==e,u=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]];function Ansi_Up(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}Ansi_Up.prototype.setup_palette=function(){a=[],function(){var e,t;for(e=0;e<2;++e)for(t=0;t<8;++t)a.push(u[e][t].color)}(),function(){var e,t,r,n=[0,95,135,175,215,255],i=function(e,t,r){return n[e]+", "+n[t]+", "+n[r]};for(e=0;e<6;++e)for(t=0;t<6;++t)for(r=0;r<6;++r)a.push(i.call(this,e,t,r))}(),function(){var e,t=8,r=function(e){return e+", "+e+", "+e};for(e=0;e<24;++e,t+=10)a.push(r.call(this,t))}()},Ansi_Up.prototype.escape_for_html=function(e){return e.replace(/[&<>]/gm,function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":void 0})},Ansi_Up.prototype.linkify=function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(e){return'<a href="'+e+'">'+e+"</a>"})},Ansi_Up.prototype.ansi_to_html=function(e,t){return this.process(e,t,!0)},Ansi_Up.prototype.ansi_to_text=function(e){return this.process(e,{},!1)},Ansi_Up.prototype.process=function(e,t,r){var n=this,i=e.split(/\033\[/),o=i.shift(),a=i.map(function(e){return n.process_chunk(e,t,r)});return a.unshift(o),a.join("")},Ansi_Up.prototype.process_chunk=function(e,t,r){var n=void 0!==(t=void 0===t?{}:t).use_classes&&t.use_classes,i=n?"class":"color",o=e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!o)return e;var s=o[4],l=o[2].split(";");if(""!==o[1]||"m"!==o[3])return s;if(!r)return s;for(var c=this;l.length>0;){var f=l.shift(),h=parseInt(f);isNaN(h)||0===h?(c.fg=c.bg=null,c.bright=0):1===h?c.bright=1:39==h?c.fg=null:49==h?c.bg=null:h>=30&&h<38?c.fg=u[c.bright][h%10][i]:h>=90&&h<98?c.fg=u[1][h%10][i]:h>=40&&h<48?c.bg=u[0][h%10][i]:h>=100&&h<108?c.bg=u[1][h%10][i]:38!==h&&48!==h||function(){var e=38===h;if(l.length>=1){var t=l.shift();if("5"===t&&l.length>=1){var r=parseInt(l.shift());if(r>=0&&r<=255)if(n){var i=r>=16?"ansi-palette-"+r:u[r>7?1:0][r%8].class;e?c.fg=i:c.bg=i}else a||c.setup_palette.call(c),e?c.fg=a[r]:c.bg=a[r]}else if("2"===t&&l.length>=3){var o=parseInt(l.shift()),s=parseInt(l.shift()),f=parseInt(l.shift());if(o>=0&&o<=255&&s>=0&&s<=255&&f>=0&&f<=255){var p=o+", "+s+", "+f;n?e?(c.fg="ansi-truecolor",c.fg_truecolor=p):(c.bg="ansi-truecolor",c.bg_truecolor=p):e?c.fg=p:c.bg=p}}}}()}if(null===c.fg&&null===c.bg)return s;var p=[],d=[],y={},g=function(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push("data-"+t+'="'+this.escape_for_html(e[t])+'"');return r.length>0?" "+r.join(" "):""};return c.fg&&(n?(d.push(c.fg+"-fg"),null!==c.fg_truecolor&&(y["ansi-truecolor-fg"]=c.fg_truecolor,c.fg_truecolor=null)):p.push("color:rgb("+c.fg+")")),c.bg&&(n?(d.push(c.bg+"-bg"),null!==c.bg_truecolor&&(y["ansi-truecolor-bg"]=c.bg_truecolor,c.bg_truecolor=null)):p.push("background-color:rgb("+c.bg+")")),n?'<span class="'+d.join(" ")+'"'+g.call(c,y)+">"+s+"</span>":'<span style="'+p.join(";")+'"'+g.call(c,y)+">"+s+"</span>"},o={escape_for_html:function(e){return(new Ansi_Up).escape_for_html(e)},linkify:function(e){return(new Ansi_Up).linkify(e)},ansi_to_html:function(e,t){return(new Ansi_Up).ansi_to_html(e,t)},ansi_to_text:function(e){return(new Ansi_Up).ansi_to_text(e)},ansi_to_html_obj:function(){return new Ansi_Up}},s&&(e.exports=o),"undefined"!=typeof window&&"undefined"==typeof ender&&(window.ansi_up=o),void 0===(n=(function(){return o}).apply(t,[]))||(e.exports=n)}(Date)},qGPV:function(e,t,r){"use strict";var n=r("f//e");t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.startWith.apply(void 0,e)(this)}},qGnd:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function ScalarObservable(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(ScalarObservable,e),ScalarObservable.create=function(e,t){return new ScalarObservable(e,t)},ScalarObservable.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},ScalarObservable.prototype._subscribe=function(e){var t=this.value,r=this.scheduler;if(r)return r.schedule(ScalarObservable.dispatch,0,{done:!1,value:t,subscriber:e});e.next(t),e.closed||e.complete()},ScalarObservable}(r("DRWY").Observable);t.ScalarObservable=i},qI4a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fxie"),i=r("69cc"),o=r("AWyC"),a=r("s2We"),s=r("Ds2V"),u=r("pXyS"),l=r("TJoA"),c=r("b7E1"),f=r("bAnR"),h=r("E36s"),p=r("b07/"),d=function(){function Data(e,t){this._name=e,this._source=t,this._transforms=new Array}return Object.defineProperty(Data.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(Data.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(Data.prototype,"transforms",{get:function(){return this._transforms},enumerable:!0,configurable:!0}),Data.prototype.addTransform=function(e){this.transforms.push(e)},Data.prototype.addAggregate=function(e){var t=new n.Aggregate(e);return this.addTransform(t),t},Data.prototype.addCross=function(e,t,r){var n=new i.Cross(e,t,r);return this.addTransform(n),n},Data.prototype.addFacet=function(e){var t=new o.Facet(e);return this.addTransform(t),t},Data.prototype.addFilter=function(e){var t=new a.Filter(e);return this.addTransform(t),t},Data.prototype.addFold=function(e,t,r){var n=new s.Fold(e,t,r);return this.addTransform(n),n},Data.prototype.addFormula=function(e,t){var r=new u.Formula(e,t);return this.addTransform(r),r},Data.prototype.addImpute=function(e,t,r,n,i){var o=new l.Impute(e,t,r,n,i);return this.addTransform(o),o},Data.prototype.addLookup=function(e,t,r,n){var i=new c.Lookup(e,t,r,n);return this.addTransform(i),i},Data.prototype.addRank=function(e){var t=new f.Rank(e);return this.addTransform(t),t},Data.prototype.addSort=function(e){var t=new h.Sort(e);return this.addTransform(t),t},Data.prototype.addStack=function(e,t,r){var n=new p.Stack(e,t,r);return this.addTransform(n),n},Data.prototype.compile=function(){var e={name:this.name};if(null!=this.source&&(e.source=this.source.name),this.transforms.length>0){e.transform=new Array;for(var t=0,r=this.transforms;t<r.length;t++){var n=r[t];e.transform.push(n.compile())}}return e},Data}();t.Data=d},qK61:function(e,t,r){(function(t){var n,i=r("AIUU")("algoliasearch:src/hostIndexState.js"),o="algoliasearch-client-js",a={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},s={set:function(e,r){a.set(e,r);try{var n=JSON.parse(t.localStorage[o]);return n[e]=r,t.localStorage[o]=JSON.stringify(n),n[e]}catch(t){return localStorageFailure(e,t)}},get:function(e){try{return JSON.parse(t.localStorage[o])[e]||null}catch(t){return localStorageFailure(e,t)}}};function localStorageFailure(e,r){return i("localStorage failed with",r),function(){try{t.localStorage.removeItem(o)}catch(e){}}(),(n=a).get(e)}function getOrSet(e,t){return 1===arguments.length?n.get(e):n.set(e,t)}function supportsLocalStorage(){try{return"localStorage"in t&&null!==t.localStorage&&(t.localStorage[o]||t.localStorage.setItem(o,JSON.stringify({})),!0)}catch(e){return!1}}n=supportsLocalStorage()?s:a,e.exports={get:getOrSet,set:getOrSet,supportsLocalStorage:supportsLocalStorage}}).call(t,r("h6ac"))},qUS9:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("I9Xa"),a=r("sYtQ"),s=r("Gjim"),u=function(e){function HotObservable(t,r){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(HotObservable,e),HotObservable.prototype._subscribe=function(t){var r=this,n=r.logSubscribedFrame();return t.add(new o.Subscription(function(){r.logUnsubscribedFrame(n)})),e.prototype._subscribe.call(this,t)},HotObservable.prototype.setup=function(){for(var e=this,t=e.messages.length,r=0;r<t;r++)!function(){var t=e.messages[r];e.scheduler.schedule(function(){t.notification.observe(e)},t.frame)}()},HotObservable}(i.Subject);t.HotObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},qXvT:function(e,t,r){"use strict";var n=r("3L1M");t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return n.map(function(e,t){return function(r){for(var n=r,i=0;i<t;i++){var o=n[e[i]];if(void 0===o)return;n=o}return n}}(e,r))(t)}}},qh62:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=r("Zz1P"),s=r("E4ND"),u=r("t9eG"),l=r("YWvS");!function(e){e.YEAR="year",e.QUARTER="quarter",e.MONTH="month",e.DAYOFYEAR="dayofyear",e.DAY="day",e.WEEKDAY="weekday",e.WEEK="week",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(o=t.DatePart||(t.DatePart={}));var c=function(e){function DATENAME(t){return e.call(this,"DATENAME",t)||this}return i(DATENAME,e),DATENAME.prototype.getReturnType=function(e){return s.DataType.STRING},DATENAME.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=a.utc(t[1](e));switch(f.GetDatePart(t[0](e))){case o.YEAR:return n.format("gggg");case o.QUARTER:return n.format("Q");case o.MONTH:return n.format("MMMM");case o.DAYOFYEAR:return n.format("DDD");case o.DAY:return n.format("D");case o.WEEKDAY:return n.format("dddd");case o.WEEK:return n.format("w");case o.HOUR:return n.format("k");case o.MINUTE:return n.format("m");case o.SECOND:return n.format("s")}},DATENAME}(l.FFuncScalar);t.DATENAME=c;var f=function(e){function DATEPART(t){return e.call(this,"DATEPART",t)||this}return i(DATEPART,e),DATEPART.GetDatePart=function(e){switch(e){case"year":return o.YEAR;case"quarter":return o.QUARTER;case"month":return o.MONTH;case"dayofyear":return o.DAYOFYEAR;case"day":return o.DAY;case"weekday":return o.WEEKDAY;case"week":return o.WEEK;case"hour":return o.HOUR;case"minute":return o.MINUTE;case"second":return o.SECOND}},DATEPART.prototype.getReturnType=function(e){if(this.argc>0){var t=this.args[0];if(t.type===u.NodeType.StringLiteral){var r=t;switch(DATEPART.GetDatePart(r.value)){case o.WEEKDAY:return s.DataType.DATEWKDAY;case o.MONTH:return s.DataType.DATEMONTH;case o.QUARTER:return s.DataType.DATEQTR}}}return s.DataType.INTEGER},DATEPART.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[1](e);if(null===n||void 0===n)return null;var i=a.utc(n);switch(DATEPART.GetDatePart(t[0](e))){case o.YEAR:return i.year();case o.QUARTER:return i.quarter();case o.MONTH:return i.month()+1;case o.DAYOFYEAR:return i.dayOfYear();case o.DAY:return i.date();case o.WEEKDAY:return i.day();case o.WEEK:return i.week();case o.HOUR:return i.hour();case o.MINUTE:return i.minute();case o.SECOND:return i.second()}},DATEPART}(l.FFuncScalar);t.DATEPART=f;var h=function(e){function DATETRUNC(t){return e.call(this,"DATETRUNC",t)||this}return i(DATETRUNC,e),DATETRUNC.prototype.getReturnType=function(e){return s.DataType.DATETIME},DATETRUNC.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[1](e);if(null===n||void 0===n)return null;var i=a.utc(n);switch(f.GetDatePart(t[0](e))){case o.YEAR:return i.startOf("year").valueOf();case o.QUARTER:return i.startOf("quarter").valueOf();case o.MONTH:return i.startOf("month").valueOf();case o.DAYOFYEAR:return i.startOf("day").valueOf();case o.DAY:return i.startOf("date").valueOf();case o.WEEKDAY:return i.startOf("day").valueOf();case o.WEEK:return i.startOf("week").valueOf();case o.HOUR:return i.startOf("hour").valueOf();case o.MINUTE:return i.startOf("minute").valueOf();case o.SECOND:return i.startOf("second").valueOf()}},DATETRUNC}(l.FFuncScalar);t.DATETRUNC=h},qmkL:function(e,t,r){var n,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},r=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,i=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},l=function(l,c,f){f||(l=u(l));var h,p=this,d="application/octet-stream"===l.type,y=function(){!function(e,t,r){for(var n=(t=[].concat(t)).length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,r||e)}catch(e){a(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return h=t().createObjectURL(l),void setTimeout(function(){var e,t;r.href=h,r.download=c,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),y(),s(h),p.readyState=p.DONE});!function(){if((o||d&&i)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=o?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,y()},r.readAsDataURL(l),void(p.readyState=p.INIT)}h||(h=t().createObjectURL(l)),d?e.location.href=h:e.open(h,"_blank")||(e.location.href=h);p.readyState=p.DONE,y(),s(h)}()},c=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=u(e)),navigator.msSaveOrOpenBlob(e,t)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(e,t,r){return new l(e,t||e.name||"download",r)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=i:null!==r("lfEA")&&null!==r("yNJ0")&&(void 0===(n=(function(){return i}).call(t,r,t,e))||(e.exports=n))},qrAv:function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){runIfPresent(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){runIfPresent(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){runIfPresent(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(runIfPresent,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&runIfPresent(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},h.clearImmediate=clearImmediate}function clearImmediate(e){delete l[e]}function runIfPresent(e){if(c)setTimeout(runIfPresent,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{clearImmediate(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r("h6ac"),r("pBGv"))},qw2Y:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.scan=function(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new o(e,t,r))}};var o=function(){function ScanOperator(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return ScanOperator.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},ScanOperator}(),a=function(e){function ScanSubscriber(t,r,n,i){e.call(this,t),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}return n(ScanSubscriber,e),Object.defineProperty(ScanSubscriber.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),ScanSubscriber.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},ScanSubscriber.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},ScanSubscriber}(i.Subscriber)},r6gp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5jKL"),i=function(){function Range(){}return Range.Domain=function(e,t){var r=t.map(function(e){return{name:e,ops:["min","max"],as:["min-"+e,"max-"+e]}}),i=n.groupby().summarize(r).execute(e.data),o=0,a=0;return t.forEach(function(e){var t="min-"+e,r="max-"+e;i.forEach(function(e){o=Math.min(o,e[t]),a=Math.max(a,e[r])})}),{min:o,max:a}},Range.StackedDomain=function(e,t,r){var i=r.map(function(e){return{name:e,ops:["sum"],as:[e]}}),o=r.map(function(e){return{name:e,ops:["min","max"],as:["min-"+e,"max-"+e]}}),a=n.groupby(t.map(function(e){return e.alias})).summarize(i).execute(e.data),s=n.groupby().summarize(o).execute(a),u=0,l=0;return r.forEach(function(e){var t="min-"+e,r="max-"+e;s.forEach(function(e){u+=e[t],l+=e[r]})}),{min:u,max:l}},Range.Merge=function(e){for(var t=null,r=null,n=0,i=e;n<i.length;n++){var o=i[n];(null==t||o.min<t)&&(t=o.min),(null==r||o.max>r)&&(r=o.max)}return{min:t,max:r}},Range.Scale=function(e,t){var r,n;return isNaN(e.min)&&isNaN(e.max)?(r=1,n=1):isNaN(e.min)?(r=1,n=Math.max(e.max,r)):isNaN(e.max)?(n=1,r=Math.min(e.min,n)):(r=Math.min(e.min,e.max),n=Math.max(e.min,e.max)),r*=t,n*=t,{min:r=Math.round(Math.max(r,1)),max:n=Math.round(Math.max(n,1))}},Range.Pad=function(e,t,r,n,i){void 0===n&&(n=!0),void 0===i&&(i="LINEAR");var o=e.min;!0===n&&(o=Math.min(o,0));var a=Math.max(e.max,o),s=t.min||0,u=Math.max(t.max,s),l=Math.max(r.min||0,0),c=Math.max(r.max||0,0),f=(a-o)/(u-s-(c+l)),h=o-f*l,p=a+f*c;return{min:h=Math.floor(Math.min(o,h)),max:p=Math.ceil(Math.max(a,p))}},Range}();t.Range=i},rAj2:function(e,t,r){"use strict";var n=r("DRWY"),i=r("ifGG");n.Observable.prototype.bufferWhen=i.bufferWhen},rJd8:function(e,t,r){"use strict";var n=r("DRWY"),i=r("k04V");n.Observable.prototype.findIndex=i.findIndex},rJti:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("kdBv"),i=r("YWvS"),o=r("YyKR"),a=function(){function FilterCollect(e,t){this._query=e,this._result=t,this._collect=this.buildCollect()}return Object.defineProperty(FilterCollect.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(FilterCollect.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(FilterCollect.prototype,"collect",{get:function(){return this._collect},enumerable:!0,configurable:!0}),FilterCollect.prototype.buildCollect=function(){for(var e,t=this,r=new Array,a=new Array,s=0,u=Array.from(this.query.filters);s<u.length;s++){var l=u[s],c=(l[0],l[1]);r.push(c)}for(var f=function(t){switch(e=t.field,t.varType){case n.VariableType.CONTINUOUS:var r=t.range;if(e.type===n.FieldType.VIEWCALC&&e.formula.expr.type===i.FFuncType.SCALAR){var s,u,l=e.formula.expr,c=r.min,f=r.max;s=void 0===c||null===c||""===c?function(e){return!0}:r.includeMin?function(e){return e>=c}:function(e){return e>c},u=void 0===f||null===f||""===f?function(e){return!0}:r.includeMax?function(e){return e<=f}:function(e){return e<f},a.push(function(e){var t=l.value({row:e});return null==t?r.includeNulls:s(t)&&u(t)})}break;case n.VariableType.DISCRETE:var h=t.selection.selected,p=t.selection.mode;if(e.type===n.FieldType.VIEWCALC&&e.formula.expr.type===i.FFuncType.SCALAR){var d=e.formula.expr;a.push(function(e){var t=d.value({row:e});switch(p){case o.SelectionMode.ALL:return!0;case o.SelectionMode.INCLUDE:return!!h.has(t);case o.SelectionMode.EXCLUDE:return!h.has(t)}})}}},h=0,p=r;h<p.length;h++){f(c=p[h])}return function(e,r){for(var n=0,i=a;n<i.length;n++){if(!(0,i[n])(e))return}t.result.addRow(e)}},FilterCollect}();t.FilterCollect=a},rKdS:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TGData(t,r){var n=e.call(this,"tgd-*",t.tGrid)||this;return n._table=t,n._marks=r,n.addFilter(n.getFilterTest()),n}return i(TGData,e),Object.defineProperty(TGData.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(TGData.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),TGData.prototype.getFilterTest=function(){return"datum.trow.yAlias == '*'"},TGData}(r("qI4a").Data);t.TGData=o},rLcB:function(e,t,r){"use strict";var n=r("CsEb"),i=r("Us1s");t.sampleTime=function(e,t){return void 0===t&&(t=n.async),i.sampleTime(e,t)(this)}},rauQ:function(e,t,r){"use strict";var n=r("4izX"),i=r("wrxj");e.exports=i(n)},rcbu:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Border(){return null!==e&&e.apply(this,arguments)||this}return i(Border,e),Border.prototype.getPaths=function(e){for(var t=new Array,r=0,n=e;r<n.length;r++){for(var i=n[r].alias,o=0,a=t;o<a.length;o++){a[o].unshift(i)}t.push([i])}return t},Border}(r("cQBe").Element);t.Border=o},riXn:function(e,t,r){"use strict";var n=r("abP1"),i=r("9FDf");t.animationFrame=new i.AnimationFrameScheduler(n.AnimationFrameAction)},rmMU:function(e,t,r){var n,i,o,a;a=function(e,t,r,n){"use strict";var i=_interopRequireDefault(t),o=_interopRequireDefault(r),a=_interopRequireDefault(n);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var l=function(e){function Clipboard(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Clipboard);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this));return r.resolveOptions(t),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Clipboard,o.default),u(Clipboard,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===s(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,a.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return getAttributeValue("action",e)}},{key:"defaultTarget",value:function(e){var t=getAttributeValue("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return getAttributeValue("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,r=!!document.queryCommandSupported;return t.forEach(function(e){r=r&&!!document.queryCommandSupported(e)}),r}}]),Clipboard}();function getAttributeValue(e,t){var r="data-clipboard-"+e;if(t.hasAttribute(r))return t.getAttribute(r)}e.exports=l},i=[e,r("avVY"),r("Fv1s"),r("Dpwm")],void 0===(o="function"==typeof(n=a)?n.apply(t,i):n)||(e.exports=o)},rmmK:function(e,t,r){"use strict";var n=r("zBR+");t.toArray=function(){return n.toArray()(this)}},rnTn:function(e,t,r){"use strict";var n=r("DRWY"),i=r("IHm5");n.Observable.prototype.debounce=i.debounce},rzqg:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TSquare(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"square"},n}return i(TSquare,e),TSquare}(r("B6IU").TSymbol);t.TSquare=o},s28B:function(e,t,r){"use strict";var n=r("DRWY"),i=r("rmmK");n.Observable.prototype.toArray=i.toArray},s2We:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Filter(t){var r=e.call(this)||this;return r._test=t,r}return i(Filter,e),Object.defineProperty(Filter.prototype,"test",{get:function(){return this._test},enumerable:!0,configurable:!0}),Filter.prototype.compile=function(){return{type:"filter",test:this.test}},Filter}(r("3Txa").Transform);t.Filter=o},s4Lk:function(e,t,r){"use strict";var n=r("HI3A");t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.subscribeOn(e,t)(this)}},sDUs:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function Border(){var t=e.call(this,a.MarkType.RULE)||this;return t._width=1,t._color="#d5d8dd",t._display=!1,t._visible=!0,t}return i(Border,e),Object.defineProperty(Border.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!0,configurable:!0}),Object.defineProperty(Border.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(Border.prototype,"display",{get:function(){return this._display},set:function(e){this._display=e},enumerable:!0,configurable:!0}),Object.defineProperty(Border.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e},enumerable:!0,configurable:!0}),Border.prototype.getProperties=function(){var t=e.prototype.getProperties.call(this);return t.enter=t.enter||{},t.enter.stroke={value:this.color},t.enter.strokeWidth={value:this.width},t},Border}(o.Mark);t.Border=s},sEfj:function(e,t,r){"use strict";var n=r("DRWY"),i=r("mjox");n.Observable.prototype.last=i.last},sMza:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("X2xY"),a=r("BFbo"),s=function(e){function PSymbol(t,r){var n=e.call(this,a.MarkType.SYMBOL)||this;return n._table=t,n._marks=r,n._yc={scale:r.yScaleName,field:r.yAlias},n._xc={scale:r.xScaleName,field:r.xAlias},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n._shape={value:"circle"},n}return i(PSymbol,e),Object.defineProperty(PSymbol.prototype,"yc",{get:function(){return this._yc},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"xc",{get:function(){return this._xc},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"shape",{get:function(){return this._shape},set:function(e){this._shape=e},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"isFilled",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"isStroked",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"stroke",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(PSymbol.prototype,"strokeWidth",{get:function(){return{value:this._strokeWidth}},set:function(e){this._strokeWidth=e},enumerable:!0,configurable:!0}),PSymbol.prototype.getProperties=function(){var e={enter:{yc:this.yc,xc:this.xc,size:this.size,shape:this.shape}};return this.isFilled&&(e.enter.fill=this.fill),this.isStroked&&(e.enter.stroke=this.stroke,e.enter.strokeWidth=this.strokeWidth),e},PSymbol}(o.MarkFrom);t.PSymbol=s},sTlA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("891W"),i=r("TR9g"),o=r("Vx6u");!function(e){e.GENERIC="GENERIC",e.FIELD="FIELD",e.AGGFUNC="AGGFUNC",e.NTILEFUNC="NTILEFUNC",e.DATEFUNC="DATEFUNC"}(t.FormType||(t.FormType={}));var a=function(){function Formula(e,t){this._tree=e,this._compiler=t,this._expr=null}return Object.defineProperty(Formula.prototype,"tree",{get:function(){return this._tree},enumerable:!0,configurable:!0}),Object.defineProperty(Formula.prototype,"source",{get:function(){return this.tree.source},enumerable:!0,configurable:!0}),Object.defineProperty(Formula.prototype,"compiler",{get:function(){return this._compiler},enumerable:!0,configurable:!0}),Object.defineProperty(Formula.prototype,"expr",{get:function(){return this.compile()},enumerable:!0,configurable:!0}),Object.defineProperty(Formula.prototype,"isValid",{get:function(){return 0===this.validate().length},enumerable:!0,configurable:!0}),Object.defineProperty(Formula.prototype,"dataFields",{get:function(){return this.compile(),this.compiler.dataFields},enumerable:!0,configurable:!0}),Formula.prototype.validate=function(){var e=new i.Validator(this.compiler.fieldResolver,this.compiler.funcResolver),t=new n.Pipeline;return t.addVisitor(e.fieldResolver),t.addVisitor(e.funcResolver),t.addVisitor(e),t.visitAllDepthFirst(this.tree),e.errors},Formula.prototype.compile=function(){if(null===this._expr){var e=this.compiler,t=new n.Pipeline;t.addVisitor(e.fieldResolver),t.addVisitor(e.funcResolver),t.addVisitor(e.typeResolver),t.addVisitor(e),t.visitAllDepthFirst(this.tree),e.isScalar?this._expr=new o.FExprScalar(e.returnType,e.final):e.isAggregate&&(this._expr=new o.FExprAgg(e.returnType,e.init,e.step,e.final))}return this._expr},Formula}();t.Formula=a},sYtQ:function(e,t,r){"use strict";var n=r("/sFx"),i=function(){function SubscriptionLoggable(){this.subscriptions=[]}return SubscriptionLoggable.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new n.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},SubscriptionLoggable.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,r=t[e];t[e]=new n.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},SubscriptionLoggable}();t.SubscriptionLoggable=i},scAW:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("qGnd"),a=r("33Jt"),s=function(e){function ArrayLikeObservable(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(ArrayLikeObservable,e),ArrayLikeObservable.create=function(e,t){var r=e.length;return 0===r?new a.EmptyObservable:1===r?new o.ScalarObservable(e[0],t):new ArrayLikeObservable(e,t)},ArrayLikeObservable.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,i=e.subscriber;i.closed||(r>=n?i.complete():(i.next(t[r]),e.index=r+1,this.schedule(e)))},ArrayLikeObservable.prototype._subscribe=function(e){var t=this.arrayLike,r=this.scheduler,n=t.length;if(r)return r.schedule(ArrayLikeObservable.dispatch,0,{arrayLike:t,index:0,length:n,subscriber:e});for(var i=0;i<n&&!e.closed;i++)e.next(t[i]);e.complete()},ArrayLikeObservable}(i.Observable);t.ArrayLikeObservable=s},scSy:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Top(t){var r=e.call(this,"TOP")||this;return r._table=t,r._stacks=new Array,r._headers=new Array,r.borders.bottom.display=!0,r}return i(Top,e),Object.defineProperty(Top.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(Top.prototype,"stacks",{get:function(){return this._stacks},enumerable:!0,configurable:!0}),Object.defineProperty(Top.prototype,"headers",{get:function(){return this._headers},enumerable:!0,configurable:!0}),Object.defineProperty(Top.prototype,"fPath",{get:function(){return this.table.columnFields},enumerable:!0,configurable:!0}),Object.defineProperty(Top.prototype,"rfPath",{get:function(){return this.fPath.slice().reverse()},enumerable:!0,configurable:!0}),Object.defineProperty(Top.prototype,"rStacks",{get:function(){return this.stacks.slice().reverse()},enumerable:!0,configurable:!0}),Top.prototype.getHeight=function(){for(var e=0,t=0,r=this.headers;t<r.length;t++){e+=r[t].getHeight()}return e},Top.prototype.getXProp=function(){return{signal:"TopX"}},Top.prototype.getYProp=function(){return{signal:"TopY"}},Top.prototype.getWidthProp=function(){return{signal:"TopWidth"}},Top.prototype.getHeightProp=function(){return{value:this.getHeight()}},Top.prototype.getProperties=function(){var t=e.prototype.getProperties.call(this);return t.enter=t.enter||{},t.enter.x=this.getXProp(),t.enter.y=this.getYProp(),t},Top.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.headers;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},Top}(r("rcbu").Border);t.Top=o},seLU:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},sgHH:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("pkpF"),a=r("zdYa"),s=r("w5oJ"),u=r("O82P"),l=r("NPiJ"),c=r("jWqk"),f=r("OHH5"),h=r("SGxi"),p=r("pm0e"),d=r("tgjC"),y=r("3qNI"),g=function(e){function Table(t){var r=e.call(this,"table")||this;return r._sheet=t,r._fit=new s.TableFit(r),r._names=new u.Names(r),r._grid=new c.GQuery(r),r._rCount=r.getRowCount(r.grid),r._cCount=r.getColCount(r.grid),r._cells=new l.GCells(r,r.grid),r._cCols=new f.CCols(r,r.cells),r._cRows=new h.CRows(r,r.cells),r._tCols=new p.TCols(r.cells),r._tRows=new d.TRows(r.cells),r._tGrid=new y.TGrid(r.tRows,r.tCols),r}return i(Table,e),Object.defineProperty(Table.prototype,"sheet",{get:function(){return this._sheet},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"fit",{get:function(){return this._fit},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"names",{get:function(){return this._names},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"cCols",{get:function(){return this._cCols},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"cRows",{get:function(){return this._cRows},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"tCols",{get:function(){return this._tCols},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"tRows",{get:function(){return this._tRows},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"tGrid",{get:function(){return this._tGrid},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"rCount",{get:function(){return this._rCount},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"cCount",{get:function(){return this._cCount},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"layout",{get:function(){return this.sheet.layout},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"encoding",{get:function(){return this.sheet.encoding},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"series",{get:function(){return this.encoding.series},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"namesField",{get:function(){return this.sheet.model.namesField},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"valuesField",{get:function(){return this.sheet.model.valuesField},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"valueFields",{get:function(){return this.encoding.value.fields},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"rowFields",{get:function(){return this.encoding.row.fields},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"columnFields",{get:function(){return this.encoding.column.fields},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"facetFields",{get:function(){return[].concat(this.rowFields,this.columnFields)},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"yAxisFields",{get:function(){return this.encoding.y.fields},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"yAxisCount",{get:function(){return this.encoding.y.axes.length},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"xAxisFields",{get:function(){return this.encoding.x.fields},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"xAxisCount",{get:function(){return this.encoding.x.axes.length},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"x2AxisFields",{get:function(){return this.encoding.x2.fields},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"y2AxisFields",{get:function(){return this.encoding.y2.fields},enumerable:!0,configurable:!0}),Object.defineProperty(Table.prototype,"seriesFields",{get:function(){var e=[];return this.series.forEach(function(t){e=e.concat(t.fields)}),e},enumerable:!0,configurable:!0}),Table.prototype.getSeriesNameFields=function(){var e=this,t=new Map,r=function(r){r.forEach(function(r){r.isValues?e.valueFields.forEach(function(e){t.set(e.alias,e)}):t.set(r.alias,r)})};return this.series.forEach(function(t){if(0===t.fields.filter(function(e){return e.isValues}).length){var n=t.getField();null!=n&&r([n])}else r(e.valueFields)}),Array.from(t.values())},Table.prototype.compute=function(){this.sheet.addData(this.names),this.sheet.addData(this.grid),this.sheet.addData(this.cells),this.sheet.addData(this.cCols),this.sheet.addData(this.cRows),this.sheet.addData(this.tCols),this.sheet.addData(this.tRows),this.sheet.addData(this.tGrid),this.sheet.addSignal(new a.Signal("RCellCount",this.rCount)),this.sheet.addSignal(new a.Signal("CCellCount",this.cCount))},Table.prototype.getRowFieldNames=function(){return[].concat(this.rowFields,this.yAxisFields).filter(function(e){return e.isStandard}).filter(function(e){return e.isDiscrete}).map(function(e){return e.alias})},Table.prototype.getColumnFieldNames=function(){return[].concat(this.columnFields,this.xAxisFields).filter(function(e){return e.isStandard}).filter(function(e){return e.isDiscrete}).map(function(e){return e.alias})},Table.prototype.getRowNamesMult=function(){return 0===[].concat(this.rowFields,this.yAxisFields).filter(function(e){return e.isNames}).length?1:this.getSeriesNameFields().length},Table.prototype.getColNamesMult=function(){return 0===[].concat(this.columnFields,this.xAxisFields).filter(function(e){return e.isNames}).length?1:this.getSeriesNameFields().length},Table.prototype.getRowCount=function(e){var t=this.getRowFieldNames(),r=this.getRowNamesMult(),n=this.getKeyCount(e,t);return Math.max(n*r*this.yAxisCount,1)},Table.prototype.getColCount=function(e){var t=this.getColumnFieldNames(),r=this.getColNamesMult(),n=this.getKeyCount(e,t);return Math.max(n*r*this.xAxisCount,1)},Table.prototype.getKeyCount=function(e,t){return e.result.getKeyCount(t)},Table}(o.Group);t.Table=g},siyM:function(e,t,r){"use strict";var n=r("SgnA");function getSymbolObservable(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}t.getSymbolObservable=getSymbolObservable,t.observable=getSymbolObservable(n.root),t.$$observable=t.observable},sk75:function(e,t,r){"use strict";var n=r("DRWY"),i=r("nxCa");n.Observable.prototype.delayWhen=i.delayWhen},smd9:function(e,t,r){"use strict";function bindActionCreator(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return bindActionCreator(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},i=0;i<r.length;i++){var o=r[i],a=e[o];"function"==typeof a&&(n[o]=bindActionCreator(a,t))}return n}},syON:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("O3mw");t.single=function(e){return function(t){return t.lift(new a(e,t))}};var a=function(){function SingleOperator(e,t){this.predicate=e,this.source=t}return SingleOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},SingleOperator}(),s=function(e){function SingleSubscriber(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return n(SingleSubscriber,e),SingleSubscriber.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},SingleSubscriber.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},SingleSubscriber.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},SingleSubscriber.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.EmptyError)},SingleSubscriber}(i.Subscriber)},syYF:function(e,t,r){"use strict";var n=r("DRWY"),i=r("le+B");n.Observable.of=i.of},szm8:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function QueueScheduler(){e.apply(this,arguments)}return n(QueueScheduler,e),QueueScheduler}(r("h5qz").AsyncScheduler);t.QueueScheduler=i},t3sv:function(e,t,r){"use strict";var n=r("DRWY"),i=r("XDOr");n.Observable.prototype.dematerialize=i.dematerialize},t9eG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Zz1P"),i=r("HL0p"),o=function(){function Tree(e,t){this._source=e,this._nodes=t}return Tree.Parse=function(e){return new Tree(e,i.parse(e,{moment:n}))},Object.defineProperty(Tree.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(Tree.prototype,"nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),Object.defineProperty(Tree.prototype,"root",{get:function(){return this.nodes[0]},enumerable:!0,configurable:!0}),Tree}();t.Tree=o,function(e){e.Identifier="Identifier",e.NullLiteral="NullLiteral",e.BooleanLiteral="BooleanLiteral",e.NumberLiteral="NumberLiteral",e.HexLiteral="HexLiteral",e.StringLiteral="StringLiteral",e.RegExpLiteral="RegExpLiteral",e.FieldLiteral="FieldLiteral",e.DateLiteral="DateLiteral",e.UnaryExpression="UnaryExpression",e.BinaryExpression="BinaryExpression",e.LogicalExpression="LogicalExpression",e.CaseExpression="CaseExpression",e.CaseWhen="CaseWhen",e.CaseElse="CaseElse",e.CallExpression="CallExpression"}(t.NodeType||(t.NodeType={}))},tALL:function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r("h6ac"))},tEFf:function(e,t,r){"use strict";var n=r("b9YZ"),i=r("b9YZ");t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.concat.apply(void 0,[t].concat(e)))}}},tELs:function(e,t,r){"use strict";var n=r("g1nX");t.max=function(e){return n.max(e)(this)}},tFZT:function(e,t,r){"use strict";var n=r("BBD6");t.exhaustMap=function(e,t){return n.exhaustMap(e,t)(this)}},tQ5n:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("EYua"),i=r("Isve"),o=r("iNrS"),a=r("+6+c"),s=r("3FHA"),u=r("mnxp"),l=r("kdBv"),c=r("xS0M"),f=r("niCK"),h=function(){function ViewBuilder(e){this._model=e}return Object.defineProperty(ViewBuilder.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),ViewBuilder.prototype.build=function(e){var t=this,r=new i.Config;r.fit=this.buildFit(e);var o=e.encoding.value||[],a=e.encoding.row||[],u=e.encoding.column||[],l=e.encoding.x||[],c=e.encoding.x2||[],f=e.encoding.y||[],h=e.encoding.y2||[];if(o.forEach(function(e,n){var i=t.buildField(e,n);r.encoding.addValue(i)}),a.forEach(function(e,i){var o=t.buildField(e,i);r.encoding.addFacet(n.Channel.ROW,o)}),u.forEach(function(e,i){var o=t.buildField(e,i);r.encoding.addFacet(n.Channel.COLUMN,o)}),l.forEach(function(e,i){var o=t.buildField(e,i);r.encoding.addAxis(n.Channel.X,o)}),c.forEach(function(e,i){var o=t.buildField(e,i);r.encoding.addAxis(n.Channel.X2,o)}),f.forEach(function(e,i){var o=t.buildField(e,i);r.encoding.addAxis(n.Channel.Y,o)}),h.forEach(function(e,i){var o=t.buildField(e,i);r.encoding.addAxis(n.Channel.Y2,o)}),r.encoding.setChannel(e.encoding.marks.channel),e.encoding.marks.series)e.encoding.marks.series.forEach(function(e){var n=t.buildMarks(e.properties);r.encoding.addSeries(e.field,n)});else{var p=e.encoding.marks.properties;r.encoding.addSeries("*",this.buildMarks(p))}return(e.encoding.sorts||[]).forEach(function(e){r.encoding.addSort(t.buildSort(r,e))}),new s.Sheet(r,this.model)},ViewBuilder.prototype.buildFit=function(e){var t,r=e.fit.type,n=e.fit.width,i=e.fit.height;return t="width"===r?a.FitType.WIDTH:"height"===r?a.FitType.HEIGHT:"view"===r?a.FitType.VIEW:a.FitType.STANDARD,new o.Fit(t,n,i)},ViewBuilder.prototype.buildField=function(e,t){var r=e.id,n=e.formula,i=e.variable,o=i?i.type:null;return n===f.SystemFieldName.NAMES?this.model.buildViewSystemField(f.SystemFieldName.NAMES,r,t):n===f.SystemFieldName.VALUES?this.model.buildViewSystemField(f.SystemFieldName.VALUES,r,t):this.model.buildViewCalcField(n,o,r,t)},ViewBuilder.prototype.buildMarks=function(e){var t=this,r=e.type,n=new u.Marks(r.value);if(null!=e.color&&e.color.values.forEach(function(e,r){n.color.addField(t.buildField(e,r))}),null!=e.size){var i=e.size.values[0];n.size.addField(this.buildField(i,0))}return null!=e.text&&e.text.values.forEach(function(e,r){n.text.addField(t.buildField(e,0))}),null!=e.detail&&e.detail.values.forEach(function(e,r){n.detail.addField(t.buildField(e,0))}),n},ViewBuilder.prototype.buildSort=function(e,t){var r=e.encoding.getFieldBySource(t.source),n=t.descending?c.SortOrder.DESC:c.SortOrder.ASC;switch(t.type){case"DATA":return this.model.buildDataSort(r,n);case"ALPHA":return this.model.buildAlphaSort(r,n);case"FIELD":return this.model.buildFieldSort(r,this.buildField(t.byField,0),n)}},ViewBuilder.prototype.getVarType=function(e){if(void 0===e)return null;switch(e.toLocaleLowerCase()){case"discrete":return l.VariableType.DISCRETE;case"continuous":return l.VariableType.CONTINUOUS}},ViewBuilder}();t.ViewBuilder=h},tRvp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("iZmh"),i=r("u6/t");!function(e){function makeVisitor(e){return n.Tree.Pipeline.make([i.Resolver.Nodes.make(e),i.Resolver.Attrs.make(e),i.Resolver.Calls.make(e),i.Resolver.Types.make(e),i.Resolver.Roles.make(e)])}function makeReferenceResolver(e){return n.Tree.Pipeline.make([i.Resolver.Nodes.make(e),i.Resolver.Attrs.make(e)])}e.make=function(){return i.Resolver.make()},e.makeVisitor=makeVisitor,e.makeReferenceResolver=makeReferenceResolver,e.resolveFormula=function(e,t,r){return n.Tree.Pipeline.visit(t,e,makeVisitor(r))},e.resolveReferences=function(e,t,r){return n.Tree.Pipeline.visit(t,e,makeReferenceResolver(r))}}(t.DefaultResolver||(t.DefaultResolver={}))},tYmq:function(e,t,r){"use strict";var n=r("DRWY"),i=r("gYGa");n.Observable.merge=i.merge},teks:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("X2xY"),a=r("BFbo"),s=function(e){function TLine(t,r){var n=e.call(this,a.MarkType.LINE)||this;return n._table=t,n._marks=r,n._y={field:"crows.layout_mid",offset:.5},n._x={field:"ccols.layout_mid",offset:.5},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n}return i(TLine,e),Object.defineProperty(TLine.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(TLine.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(TLine.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(TLine.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(TLine.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),TLine.prototype.getProperties=function(){return{enter:{y:this.y,x:this.x,stroke:this.color,strokeWidth:this.size,strokeCap:this.strokeCap}}},TLine}(o.MarkFrom);t.TLine=s},tgjC:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TRows(t){var r=e.call(this,"trows",t)||this;return r.addAggregate(r.getAggFields(t)).distinct("rKey","cells"),r.addFormula("layout_height","datum.cells * CellHeight"),r.addStack(["tcKey"],"layout_height",["_id"]),r}return i(TRows,e),TRows.prototype.getAggFields=function(e){return e.getTileRowKeyFields().concat("trKey")},TRows}(r("qI4a").Data);t.TRows=o},tsny:function(e,t,r){"use strict";var n=r("LM6W");t.switchMap=function(e,t){return n.switchMap(e,t)(this)}},"u6/t":function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("/YdO");!function(e){function makeAccessPath(e){for(var t=[],r=e;r.type===i.Node.Type.AccessExpression;)t=t.concat([r.object.name]),r=r.member;return t.concat([r.name])}var t,r;e.make=function(){return{nodes:new Map,refs:new Map,calls:new Map,types:new Map,roles:new Map}},function(e){function id(e){return e.location.start.offset}function set(e,t,r){return n({},e,{nodes:new Map(Array.from(e.nodes).concat([[t,r]]))})}e.make=function(e){return function(e,t){return set(e,id(t),t)}},e.id=id,e.get=function(e,t){return e.nodes.get(t)||null},e.set=set}(t=e.Nodes||(e.Nodes={})),function(r){r.make=function(r){var n=function(r,n,i){return e.Attrs.set(r,t.id(n),i)};return function(e,o){switch(o.type){case i.Node.Type.Identifier:case i.Node.Type.AccessIdentifier:return function(e,o){t.id(o);var a=r.attrs.getReference([o.name]);if(null!=a)return n(e,o,a);switch(o.type){case i.Node.Type.Identifier:case i.Node.Type.AccessIdentifier:throw new Error("Cannot find attribute at path ["+o.name+"]");default:return e}}(e,o);case i.Node.Type.AccessExpression:return function(e,i){t.id(i);var o=makeAccessPath(i),a=r.attrs.getReference(o);if(null!=a)return n(e,i,a);throw new Error("Cannot find attribute at path ["+o.join("].[")+"]")}(e,o);default:return e}}},r.get=function(e,t){return e.refs.get(t)||null},r.set=function(e,t,r){return n({},e,{refs:new Map(Array.from(e.refs).concat([[t,r]]))})}}(r=e.Attrs||(e.Attrs={})),function(e){function set(e,t,r){return n({},e,{calls:new Map(Array.from(e.calls).concat([[t,r]]))})}e.make=function(e){var r=function(r,n){t.id(n);for(var o=new Array,a=0;a<n.arguments.length;a++)o.push(n.arguments[a]);var s=e.calls.make(r,n.callee,o);if(null!=s)return function(e,r,n){return set(e,t.id(r),n)}(r,n,s);switch(n.type){case i.Node.Type.CallExpression:throw new Error("Unknown function "+n.callee);default:return r}};return function(e,t){switch(t.type){case i.Node.Type.CallExpression:return r(e,t);default:return e}}},e.get=function(e,t){return e.calls.get(t)||null},e.set=set}(e.Calls||(e.Calls={})),function(o){function set(e,t,r){return n({},e,{types:new Map(Array.from(e.types).concat([[t,r]]))})}o.make=function(n){var o=new Array,a=function(e){return n.types.makeLiteral(e)},s=function(e,r,n){return o.push(n),set(e,t.id(r),n)};return function(u,l){switch(l.type){case i.Node.Type.NullLiteral:return s(u,l,a(i.Node.Type.NullLiteral));case i.Node.Type.BooleanLiteral:return s(u,l,a(i.Node.Type.BooleanLiteral));case i.Node.Type.NumberLiteral:return s(u,l,a(i.Node.Type.NumberLiteral));case i.Node.Type.HexLiteral:return s(u,l,a(i.Node.Type.HexLiteral));case i.Node.Type.StringLiteral:return s(u,l,a(i.Node.Type.StringLiteral));case i.Node.Type.RegExpLiteral:return s(u,l,a(i.Node.Type.RegExpLiteral));case i.Node.Type.DateLiteral:return s(u,l,a(i.Node.Type.DateLiteral));case i.Node.Type.Identifier:case i.Node.Type.AccessIdentifier:return function(e,o){var a=t.id(o),u=r.get(e,a);if(null!=u){var l=n.attrs.getAttrByRef(u);if(l)return s(e,o,l.formula.type);throw new Error("Cannot determine data type of attribute ["+u.view+"].["+u.name+"]")}switch(o.type){case i.Node.Type.Identifier:case i.Node.Type.AccessIdentifier:throw new Error("Cannot determine type of unknown attribute at path ["+o.name+"]");default:return e}}(u,l);case i.Node.Type.AccessExpression:return function(e,r){t.id(r);var i=makeAccessPath(r),o=n.attrs.getReference(i);if(null!=o){var a=n.attrs.getAttrByRef(o);if(null==a)throw new Error("Cannot determine data type of unknown attribute ["+o.view+"].["+o.name+"]");return s(e,r,a.formula.type)}throw new Error("Cannot determine data type of unknown attribute at path ["+i.join("].[")+"]")}(u,l);case i.Node.Type.UnaryExpression:return function(e,t){var r=o.pop();if(null==r)throw new Error("Cannot resolve data type of expression");switch(t.operator){case"NOT":return s(e,t,n.types.makeBoolean());case"-":return s(e,t,n.types.getNegated(r));case"+":return s(e,t,n.types.getPlussed(r));default:return e}}(u,l);case i.Node.Type.BinaryExpression:return function(e,t){var r=o.pop(),u=o.pop();if(null==u||null==r)throw new Error("Error resolving data type of expression");switch(t.operator){case"+":return s(e,t,n.types.getAdd(u,r));case"-":case"*":case"/":case"%":return s(e,t,n.types.getMath(u,r));case"=":case"<>":case"<":case"<=":case">":case">=":case"AND":case"OR":return s(e,t,a(i.Node.Type.BooleanLiteral));default:return e}}(u,l);case i.Node.Type.CaseExpression:return function(e,t){return e}(u);case i.Node.Type.CallExpression:return function(r,i){var a=t.id(i),u=e.Calls.get(r,a);if(null!=u){for(var l=new Array,c=0;c<i.arguments.length;c++)o.pop(),l.unshift(t.id(i.arguments[c]));return s(r,i,n.types.getCall(u))}throw new Error("Cannot find function "+i.callee)}(u,l);default:return u}}},o.get=function(e,t){return void 0===t&&(t=0),e.types.get(t)||null},o.set=set}(e.Types||(e.Types={})),function(o){function set(e,t,r){return n({},e,{roles:new Map(Array.from(e.roles).concat([[t,r]]))})}o.make=function(n){var o=new Array,a=function(e){return n.roles.makeLiteral(e)},s=function(e,r,n){return o.push(n),set(e,t.id(r),n)};return function(u,l){switch(l.type){case i.Node.Type.NullLiteral:return s(u,l,a(i.Node.Type.NullLiteral));case i.Node.Type.BooleanLiteral:return s(u,l,a(i.Node.Type.BooleanLiteral));case i.Node.Type.NumberLiteral:return s(u,l,a(i.Node.Type.NumberLiteral));case i.Node.Type.HexLiteral:return s(u,l,a(i.Node.Type.HexLiteral));case i.Node.Type.StringLiteral:return s(u,l,a(i.Node.Type.StringLiteral));case i.Node.Type.RegExpLiteral:return s(u,l,a(i.Node.Type.RegExpLiteral));case i.Node.Type.DateLiteral:return s(u,l,a(i.Node.Type.DateLiteral));case i.Node.Type.Identifier:case i.Node.Type.AccessIdentifier:return function(e,o){var a=t.id(o),u=r.get(e,a);if(null!=u){var l=n.attrs.getAttrByRef(u);if(l)return s(e,o,l.formula.role);throw new Error("Cannot determine data role of attribute ["+u.view+"].["+u.name+"]")}switch(o.type){case i.Node.Type.Identifier:case i.Node.Type.AccessIdentifier:throw new Error("Cannot determine data role of unknown attribute at path ["+o.name+"]");default:return e}}(u,l);case i.Node.Type.AccessExpression:return function(e,r){t.id(r);var i=makeAccessPath(r),o=n.attrs.getReference(i);if(null!=o){var a=n.attrs.getAttrByRef(o);if(a)return s(e,r,a.formula.role);throw new Error("Cannot determine data role of attribute ["+o.view+"].["+o.name+"]")}throw new Error("Cannot determine data role of unknown attribute at path ["+i.join("].[")+"]")}(u,l);case i.Node.Type.UnaryExpression:return function(e,t){var r=o.pop();if(null==r)throw new Error("Cannot resolve data role of expression");switch(t.operator){case"NOT":return s(e,t,n.roles.makeBoolean());case"-":return s(e,t,n.roles.getNegated(r));case"+":return s(e,t,n.roles.getPlussed(r));default:return e}}(u,l);case i.Node.Type.CaseExpression:return function(e,t){return e}(u);case i.Node.Type.CallExpression:return function(r,i){var a=t.id(i),u=e.Calls.get(r,a);if(null!=u){for(var l=new Array,c=0;c<i.arguments.length;c++)o.pop(),l.unshift(t.id(i.arguments[c]));return s(r,i,n.roles.getCall(u))}throw new Error("Cannot find function "+i.callee)}(u,l);default:return u}}},o.get=function(e,t){return void 0===t&&(t=0),e.roles.get(t)||null},o.set=set}(e.Roles||(e.Roles={}))}(t.Resolver||(t.Resolver={}))},uBL5:function(e,t,r){"use strict";var n=r("DRWY"),i=r("T6ZB");n.Observable.prototype.first=i.first},uELO:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("EIUo"),o=r("k+FJ");t.buffer=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function BufferOperator(e){this.closingNotifier=e}return BufferOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.closingNotifier))},BufferOperator}(),s=function(e){function BufferSubscriber(t,r){e.call(this,t),this.buffer=[],this.add(o.subscribeToResult(this,r))}return n(BufferSubscriber,e),BufferSubscriber.prototype._next=function(e){this.buffer.push(e)},BufferSubscriber.prototype.notifyNext=function(e,t,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},BufferSubscriber}(i.OuterSubscriber)},uERQ:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("xS0M"),a=function(e){function MQuery(t,r){var n=e.call(this,"mq-"+r.alias)||this;n._table=t,n._marks=r;t.sheet.model;return n}return i(MQuery,e),Object.defineProperty(MQuery.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(MQuery.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(MQuery.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),MQuery.prototype.compile=function(){return{name:this.name,values:this.result.data}},MQuery.prototype.getQueryFields=function(){return[].concat(this.table.rowFields,this.table.yAxisFields,this.table.columnFields,this.table.xAxisFields,this.table.valueFields,this.marks.seriesFields)},MQuery.prototype.getQueryFilters=function(){return[]},MQuery.prototype.getQuerySorts=function(e){var t=new Array,r=this.table.encoding.sorts;return this.getQueryFields().forEach(function(n){var i=r.getSort(n);void 0!==i?t.push(i):n.isDimension&&t.push(e.buildDataSort(n,o.SortOrder.ASC))}),t},MQuery}(r("qI4a").Data);t.MQuery=a},uH7x:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("/YdO");!function(e){e.make=function(e){if(1===e.length)return{name:e[0]};if(2===e.length)return{view:e[0],name:e[1]};throw new Error("Cannot resolve data reference at path ["+e.join("[, [")+"]")},e.makeFromNode=function(t){switch(t.type){case n.Node.Type.AccessIdentifier:return e.make([t.name]);case n.Node.Type.AccessExpression:return e.make(function(e){for(var t=[],r=e;r.type===n.Node.Type.AccessExpression;)t=t.concat([r.object.name]),r=r.member;return t.concat([r.name])}(t));default:throw new Error("Cannot resolve reference for node type "+t.type)}}}(t.Reference||(t.Reference={}))},uIdv:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function MData(t,r,n,i){var o=e.call(this,"md-"+i,n)||this;return o._table=t,o._marks=r,o.addLookup("ccols","cKey",["cKey"],"ccols"),o.addLookup("crows","rKey",["rKey"],"crows"),o.addFacet(o.getFacetFields(r)),o.addLookup("tcols","tcKey",["tcKey"],"tcols"),o.addLookup("trows","trKey",["trKey"],"trows"),o}return i(MData,e),Object.defineProperty(MData.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(MData.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),MData}(r("qI4a").Data);t.MData=o},uQY2:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){if(0===t.length)return arguments.length<=0?void 0:arguments[0];var e=t[t.length-1],r=t.slice(0,-1);return r.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}},uQc9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("PesP"),i=r("o0FP"),o=r("YyKR"),a=r("xS0M");!function(e){function makeField(e,t){switch(t.formula){case n.SystemFieldName.NAMES:return e.buildViewNamesField(t.id);case n.SystemFieldName.VALUES:return e.buildViewValuesField(t.id);default:return e.buildViewCalcField(t.formula,t.variable.type,t.id)}}function makeFilters(e,t){var r=new Array;return(t.filter||[]).forEach(function(t){switch(t.filterType){case o.FilterType.Discrete:case o.FilterType.DiscreteBoolean:r.push(e.buildDiscreteFilter(makeField(e,t),{mode:t.selection.mode,selected:new Set(t.selection.selected),type:o.ConditionType.SELECTION}));break;case o.FilterType.Continuous:case o.FilterType.ContinuousDate:r.push(e.buildContinuousFilter(makeField(e,t),{min:t.range.min,max:t.range.max,includeMin:t.includeMin,includeMax:t.includeMax,includeNulls:t.includeNulls,type:o.ConditionType.RANGE}))}}),r}function makeSorts(e,t){var r=new Array;return(t.sorts||[]).forEach(function(i){switch(i.type){case a.SortType.DATA:r.push(e.buildDataSort(makeField(e,i.byField),i.descending?a.SortOrder.DESC:a.SortOrder.ASC));break;case a.SortType.ALPHA:r.push(e.buildAlphaSort(makeField(e,i.byField),i.descending?a.SortOrder.DESC:a.SortOrder.ASC));break;case a.SortType.FIELD:var o=function(e,t){for(var r=e.x,i=e.y,o=e.row,a=e.column,s=e.marks,u=s.channel,l=s.series,c=s.properties,f=0,h=[r,i,o,a];f<h.length;f++)for(var p=h[f],d=0,y=p;d<y.length;d++){var g=y[d];if(g.formula===t)return g}switch(u){case n.Channel.STAR:return findMarkFieldByFormula(c,t);default:for(var m=0,v=l;m<v.length;m++){var b=v[m],_=findMarkFieldByFormula(b.properties,t);if(_)return _}}}(t,i.source);o&&r.push(e.buildFieldSort(makeField(e,o),makeField(e,i.byField),i.descending?a.SortOrder.DESC:a.SortOrder.ASC))}}),r}function findMarkFieldByFormula(e,t){for(var r=0,n=[e.color,e.size,e.detail,e.tooltip,e.angle];r<n.length;r++)for(var i=0,o=n[r].values;i<o.length;i++){var a=o[i];if(a.formula===t)return a}}function addFieldToAxis(e,t,r){t.onField(makeField(e,r))}function addFieldToLayer(e,t,r,n){t.onChannel(r,makeField(e,n))}function addSeriesToAxis(e,t,r,i){(t.series||[]).forEach(function(t){if(i.has(t.field)){var o=makeField(e,i.get(t.field));r.onLayer(o,function(r){t.properties.color.values.length&&t.properties.color.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.COLOR,t)}),t.properties.size.values.length&&addFieldToLayer(e,r,n.Channel.SIZE,t.properties.size.values[0]),t.properties.text.values.length&&t.properties.text.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.TEXT,t)}),t.properties.detail.values.length&&t.properties.detail.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.DETAIL,t)}),t.properties.tooltip.values.length&&t.properties.tooltip.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.TOOLTIP,t)}),t.properties.angle.values.length&&addFieldToLayer(e,r,n.Channel.ANGLE,t.properties.angle.values[0])})}})}e.makePivot=function(e,t){return e.onPivot(function(r){var o;r.onColumns(function(r){if((t.column||[]).forEach(function(t){return addFieldToAxis(e,r,t)}),(t.x||[]).forEach(function(t){return addFieldToAxis(e,r,t)}),(t.x2||[]).forEach(function(t){return addFieldToAxis(e,r,t)}),"x"===t.marks.channel){var n=new Map;(t.x||[]).forEach(function(e){return n.set(e.id,e)}),(t.x2||[]).forEach(function(e){return n.set(e.id,e)}),addSeriesToAxis(e,t.marks,r,n)}}).onRows(function(r){if((t.row||[]).forEach(function(t){return addFieldToAxis(e,r,t)}),(t.y||[]).forEach(function(t){return addFieldToAxis(e,r,t)}),(t.y2||[]).forEach(function(t){return addFieldToAxis(e,r,t)}),"y"===t.marks.channel){var n=new Map;(t.y||[]).forEach(function(e){return n.set(e.id,e)}),(t.y2||[]).forEach(function(e){return n.set(e.id,e)}),addSeriesToAxis(e,t.marks,r,n)}}).onValues(function(r){(t.value||[]).forEach(function(t){return addFieldToAxis(e,r,t)})}),"*"===t.marks.channel&&r.onLayer(function(r){t.marks.properties.color.values.length&&t.marks.properties.color.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.COLOR,t)}),t.marks.properties.size.values.length&&addFieldToLayer(e,r,n.Channel.SIZE,t.marks.properties.size.values[0]),t.marks.properties.text.values.length&&t.marks.properties.text.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.TEXT,t)}),t.marks.properties.detail.values.length&&t.marks.properties.detail.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.DETAIL,t)}),t.marks.properties.tooltip.values.length&&t.marks.properties.tooltip.values.forEach(function(t){return addFieldToLayer(e,r,n.Channel.TOOLTIP,t)}),t.marks.properties.angle.values.length&&addFieldToLayer(e,r,n.Channel.ANGLE,t.marks.properties.angle.values[0])}),(o=r.filterBy.apply(r,makeFilters(e,t))).sortBy.apply(o,makeSorts(e,t)).sortOrderBy(function(e,t){for(var r=t.x,n=t.y,o=i.PivotSortOrder.ANY,a=i.PivotSortOrder.ANY,s=0,u=r||[];s<u.length;s++){var l=u[s],c=makeField(e,l);if(c.isContinuous){o=i.PivotSortOrder.COLUMN;break}}for(var f=0,h=n||[];f<h.length;f++){var p=h[f],d=makeField(e,p);if(d.isContinuous){a=i.PivotSortOrder.ROW;break}}return o===i.PivotSortOrder.COLUMN?a===i.PivotSortOrder.ROW?i.PivotSortOrder.ANY:i.PivotSortOrder.COLUMN:a===i.PivotSortOrder.ROW?i.PivotSortOrder.ROW:(t.column||[]).length>(t.row||[]).length?i.PivotSortOrder.COLUMN:i.PivotSortOrder.ROW}(e,t))})},e.makeField=makeField,e.makeFilters=makeFilters,e.makeSorts=makeSorts}(t.PivotBuilder||(t.PivotBuilder={}))},uTT0:function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},uWZT:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function Left(t){var r=e.call(this,"LEFT")||this;return r._table=t,r._stacks=new Array,r._headers=new Array,r.borders.right.display=!0,r}return i(Left,e),Object.defineProperty(Left.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(Left.prototype,"stacks",{get:function(){return this._stacks},enumerable:!0,configurable:!0}),Object.defineProperty(Left.prototype,"headers",{get:function(){return this._headers},enumerable:!0,configurable:!0}),Object.defineProperty(Left.prototype,"fPath",{get:function(){return this.table.rowFields},enumerable:!0,configurable:!0}),Object.defineProperty(Left.prototype,"rfPath",{get:function(){return this.fPath.slice().reverse()},enumerable:!0,configurable:!0}),Object.defineProperty(Left.prototype,"rStacks",{get:function(){return this.stacks.slice().reverse()},enumerable:!0,configurable:!0}),Left.prototype.getWidth=function(){for(var e=0,t=0,r=this.headers;t<r.length;t++){e+=r[t].getWidth()}return e},Left.prototype.getXProp=function(){return{signal:"LeftX"}},Left.prototype.getYProp=function(){return{signal:"LeftY"}},Left.prototype.getWidthProp=function(){return{value:this.getWidth()}},Left.prototype.getHeightProp=function(){return{signal:"LeftHeight"}},Left.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.headers;r<n.length;r++){var i=n[r];t.push(i.compile())}return t},Left}(r("rcbu").Border);t.Left=o},uYkN:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("891W"),a=function(){function FFieldProvider(e){this._source=e}return Object.defineProperty(FFieldProvider.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),FFieldProvider.prototype.getField=function(e){return this.source.getField(e)},FFieldProvider}();t.FFieldProvider=a;var s=function(e){function FFieldResolver(t){var r=e.call(this)||this;return r._provider=t,r._fields=new Map,r}return i(FFieldResolver,e),Object.defineProperty(FFieldResolver.prototype,"provider",{get:function(){return this._provider},enumerable:!0,configurable:!0}),Object.defineProperty(FFieldResolver.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),FFieldResolver.prototype.getField=function(e){return this.fields.get(e)},FFieldResolver.prototype.visitFieldLiteralNode=function(e){var t=this.provider.getField(e.value);null==t?this.addError(e,"Unknown field "+e.value):"DATA"!==t.type&&"MODELCALC"!==t.type||this.fields.set(e.location.start.offset,t)},FFieldResolver}(o.Validator);t.FFieldResolver=s},uaEH:function(e,t,r){"use strict";var n=r("moUI"),i=r("A9Q0");t.publishLast=function(){return function(e){return i.multicast(new n.AsyncSubject)(e)}}},uhvY:function(e,t,r){(function(e){"use strict";function dsv(e){return new Dsv(e)}function objectConverter(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function Dsv(e){var t=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function formatRow(t){return t.map(formatValue).join(e)}function formatValue(e){return t.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}this.parse=function(e,t){var r,n,i=this.parseRows(e,function(e,i){if(r)return r(e,i-1);n=e,r=t?function(e,t){var r=objectConverter(e);return function(n,i){return t(r(n),i,e)}}(e,t):objectConverter(e)});return i.columns=n,i},this.parseRows=function(e,t){var n,i,o={},a={},s=[],u=e.length,l=0,c=0;function token(){if(l>=u)return a;if(i)return i=!1,o;var t,n=l;if(34===e.charCodeAt(n)){for(var s=n;s++<u;)if(34===e.charCodeAt(s)){if(34!==e.charCodeAt(s+1))break;++s}return l=s+2,13===(t=e.charCodeAt(s+1))?(i=!0,10===e.charCodeAt(s+2)&&++l):10===t&&(i=!0),e.slice(n+1,s).replace(/""/g,'"')}for(;l<u;){var c=1;if(10===(t=e.charCodeAt(l++)))i=!0;else if(13===t)i=!0,10===e.charCodeAt(l)&&(++l,++c);else if(t!==r)continue;return e.slice(n,l-c)}return e.slice(n)}for(;(n=token())!==a;){for(var f=[];n!==o&&n!==a;)f.push(n),n=token();t&&null==(f=t(f,c++))||s.push(f)}return s},this.format=function(t,r){return null==r&&(r=function(e){var t=Object.create(null),r=[];return e.forEach(function(e){for(var n in e)n in t||r.push(t[n]=n)}),r}(t)),[r.map(formatValue).join(e)].concat(t.map(function(t){return r.map(function(e){return formatValue(t[e])}).join(e)})).join("\n")},this.formatRows=function(e){return e.map(formatRow).join("\n")}}dsv.prototype=Dsv.prototype;var t=dsv(","),r=dsv("\t");e.version="0.1.14",e.dsv=dsv,e.csv=t,e.tsv=r})(t)},uiIN:function(e,t,r){"use strict";var n=r("1woP");t.defer=n.DeferObservable.create},uiOY:function(e,t,r){var n=r("wppe"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},uoyC:function(e,t,r){"use strict";var n=r("+HTF");t.onErrorResumeNext=n.onErrorResumeNextStatic},uy5f:function(e,t,r){"use strict";var n=r("DRWY"),i=r("m90P");n.Observable.race=i.race},uylR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("b0ch"),i=function(){function Rows(){this._default=new n.Group}return Object.defineProperty(Rows.prototype,"default",{get:function(){return this._default},enumerable:!0,configurable:!0}),Rows}();t.Rows=i},uzqJ:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("7Osy"),a=r("BFbo"),s=function(e){function VLine(t,r){var n=e.call(this,a.MarkType.LINE)||this;return n._table=t,n._marks=r,n._x={field:"ccols.layout_mid",offset:.5},n._y={scale:r.yScaleName,field:r.yAlias},0===r.color.fields.length?n._color={scale:r.colorScaleName,value:"*"}:n._color={scale:r.colorScaleName,field:r.color.fields[0].alias},0===r.size.fields.length?n._size={scale:r.sizeScaleName,value:"*"}:n._size={scale:r.sizeScaleName,field:r.size.fields[0].alias},n}return i(VLine,e),Object.defineProperty(VLine.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(VLine.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(VLine.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(VLine.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(VLine.prototype,"strokeCap",{get:function(){return{value:"round"}},enumerable:!0,configurable:!0}),VLine.prototype.getProperties=function(){return{enter:{y:this.y,x:this.x,stroke:this.color,strokeWidth:this.size,strokeCap:this.strokeCap}}},VLine}(o.Mark);t.VLine=s},"v4/0":function(e,t,r){"use strict";var n=r("AeEG");t.zipAll=function(e){return function(t){return t.lift(new n.ZipOperator(e))}}},v4Ul:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function CHead(t,r,n,i){var o=e.call(this,r,n)||this;return o._table=t,o._parent=i,o}return i(CHead,e),Object.defineProperty(CHead.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(CHead.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),CHead.prototype.getY=function(){var e=0;return null!=this.parent&&(e+=this.parent.getY()+this.parent.getHeight()),e},CHead.prototype.getHeight=function(){return this.table.fit.getTopHeaderHeight()},CHead.prototype.getYProp=function(){return{value:this.getY()+.5}},CHead.prototype.getHeightProp=function(){return{value:this.getHeight()}},CHead}(r("cQBe").Element);t.CHead=o},vCAM:function(e,t,r){"use strict";var n=r("5FP+"),i=r("m90P");t.raceStatic=i.race,t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.race.apply(void 0,e)(this)}},vMJw:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("1IBE"),o=r("5UgM"),a=r("k+FJ"),s=r("EIUo");t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new u(e,t,r))}};var u=function(){function MergeScanOperator(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return MergeScanOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.accumulator,this.seed,this.concurrent))},MergeScanOperator}();t.MergeScanOperator=u;var l=function(e){function MergeScanSubscriber(t,r,n,i){e.call(this,t),this.accumulator=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(MergeScanSubscriber,e),MergeScanSubscriber.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=i.tryCatch(this.accumulator)(this.acc,e),n=this.destination;r===o.errorObject?n.error(o.errorObject.e):(this.active++,this._innerSub(r,e,t))}else this.buffer.push(e)},MergeScanSubscriber.prototype._innerSub=function(e,t,r){this.add(a.subscribeToResult(this,e,t,r))},MergeScanSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},MergeScanSubscriber.prototype.notifyNext=function(e,t,r,n,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},MergeScanSubscriber.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},MergeScanSubscriber}(s.OuterSubscriber);t.MergeScanSubscriber=l},vXch:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Wm/D"),i=function(){function Axis(e,t){this._type=e,this._scaleName=t}return Object.defineProperty(Axis.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Axis.prototype,"scaleName",{get:function(){return this._scaleName},enumerable:!0,configurable:!0}),Axis.prototype.compile=function(){var e=new Object,t=this.getType();null!=t&&(e.type=t);var r=this.getScale();null!=r&&(e.scale=r);var n=this.getFormat();null!=n&&(e.format=n);var i=this.getFormatType();null!=i&&(e.formatType=i),e.grid=this.getGrid(),e.nice=this.getNice();var o=this.getOffset();null!=o&&(e.offset=o);var a=this.getTicks();null!=a&&(e.ticks=a);var s=this.getTickSizeEnd();null!=s&&(e.tickSizeEnd=s);var u=this.getTitle();null!=u&&(e.title=u);var l=this.getTitleOffset();null!=l&&(e.titleOffset=l);var c=this.getProperties();return null!=c&&Object.keys(c).length>0&&(e.properties=c),e},Axis.prototype.getScale=function(){return this.scaleName},Axis.prototype.getFormat=function(){return null},Axis.prototype.getFormatType=function(){return null},Axis.prototype.getGrid=function(){return!0},Axis.prototype.getNice=function(){return!0},Axis.prototype.getOffset=function(){return 0},Axis.prototype.getTicks=function(){return null},Axis.prototype.getTickSizeEnd=function(){return 0},Axis.prototype.getTitle=function(){return null},Axis.prototype.getTitleOffset=function(){return null},Axis.prototype.getProperties=function(){return new Object},Axis.prototype.getType=function(){switch(this.type){case n.AxisType.X:return"x";case n.AxisType.Y:return"y";case n.AxisType.X2:return"x2";case n.AxisType.Y2:return"y2"}},Axis}();t.Axis=i},va4k:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Text(){this._fields=new Array}return Object.defineProperty(Text.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Text.prototype.addField=function(e){this._fields=this.fields.concat(e)},Text.prototype.addFields=function(e){this._fields=this.fields.concat(e)},Text}();t.Text=n},veqC:function(e,t,r){"use strict";t.noop=function(){}},vkb2:function(e,t,r){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},vltd:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("DRWY"),o=r("1IBE"),a=r("BG6I"),s=r("5UgM"),u=r("I9Xa"),l=Object.prototype.toString;var c=function(e){function FromEventObservable(t,r,n,i){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=i}return n(FromEventObservable,e),FromEventObservable.create=function(e,t,r,n){return a.isFunction(r)&&(n=r,r=void 0),new FromEventObservable(e,t,n,r)},FromEventObservable.setupSubscription=function(e,t,r,n,i){var o;if(function(e){return!!e&&"[object NodeList]"===l.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===l.call(e)}(e))for(var a=0,s=e.length;a<s;a++)FromEventObservable.setupSubscription(e[a],t,r,n,i);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var c=e;e.addEventListener(t,r,i),o=function(){return c.removeEventListener(t,r,i)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var f=e;e.on(t,r),o=function(){return f.off(t,r)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var h=e;e.addListener(t,r),o=function(){return h.removeListener(t,r)}}n.add(new u.Subscription(o))},FromEventObservable.prototype._subscribe=function(e){var t=this.sourceObj,r=this.eventName,n=this.options,i=this.selector,a=i?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=o.tryCatch(i).apply(void 0,t);n===s.errorObject?e.error(s.errorObject.e):e.next(n)}:function(t){return e.next(t)};FromEventObservable.setupSubscription(t,r,a,e,n)},FromEventObservable}(i.Observable);t.FromEventObservable=c},vq4T:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TBorder(){return null!==e&&e.apply(this,arguments)||this}return i(TBorder,e),TBorder.prototype.getProperties=function(){var t=e.prototype.getProperties.call(this);return t.enter.x={value:.5},t.enter.x2={field:{group:"width"}},t.enter.y={value:0},t},TBorder}(r("sDUs").Border);t.TBorder=o},vqB5:function(e,t,r){"use strict";r.d(t,"b",function(){return J}),r.d(t,"c",function(){return me}),r.d(t,"a",function(){return ce}),r.d(t,"g",function(){return ve}),r.d(t,"f",function(){return Se}),r.d(t,"d",function(){return Pe}),r.d(t,"e",function(){return Fe}),r.d(t,"h",function(){return is});var n=5,i=1<<n,o=i-1,a={},s={value:!1},u={value:!1};function MakeRef(e){return e.value=!1,e}function SetRef(e){e&&(e.value=!0)}function OwnerID(){}function ensureSize(e){return void 0===e.size&&(e.size=e.__iterate(returnTrue)),e.size}function wrapIndex(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?ensureSize(e)+t:t}function returnTrue(){return!0}function wholeSlice(e,t,r){return(0===e&&!isNeg(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function resolveBegin(e,t){return resolveIndex(e,t,0)}function resolveEnd(e,t){return resolveIndex(e,t,t)}function resolveIndex(e,t,r){return void 0===e?r:isNeg(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function isNeg(e){return e<0||0===e&&1/e==-1/0}function isImmutable(e){return isCollection(e)||isRecord(e)}function isCollection(e){return!(!e||!e[l])}function isKeyed(e){return!(!e||!e[c])}function isIndexed(e){return!(!e||!e[f])}function isAssociative(e){return isKeyed(e)||isIndexed(e)}function isOrdered(e){return!(!e||!e[h])}function isRecord(e){return!(!e||!e[p])}function isValueObject(e){return!(!e||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}var l="@@__IMMUTABLE_ITERABLE__@@",c="@@__IMMUTABLE_KEYED__@@",f="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",p="@@__IMMUTABLE_RECORD__@@",d=function(e){return isCollection(e)?e:T(e)},y=function(e){function KeyedCollection(e){return isKeyed(e)?e:A(e)}return e&&(KeyedCollection.__proto__=e),KeyedCollection.prototype=Object.create(e&&e.prototype),KeyedCollection.prototype.constructor=KeyedCollection,KeyedCollection}(d),g=function(e){function IndexedCollection(e){return isIndexed(e)?e:x(e)}return e&&(IndexedCollection.__proto__=e),IndexedCollection.prototype=Object.create(e&&e.prototype),IndexedCollection.prototype.constructor=IndexedCollection,IndexedCollection}(d),m=function(e){function SetCollection(e){return isCollection(e)&&!isAssociative(e)?e:k(e)}return e&&(SetCollection.__proto__=e),SetCollection.prototype=Object.create(e&&e.prototype),SetCollection.prototype.constructor=SetCollection,SetCollection}(d);d.Keyed=y,d.Indexed=g,d.Set=m;var v=0,b=1,_=2,w="function"==typeof Symbol&&Symbol.iterator,S="@@iterator",E=w||S,C=function(e){this.next=e};function iteratorValue(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(e){return!!getIteratorFn(e)}function isIterator(e){return e&&"function"==typeof e.next}function getIterator(e){var t=getIteratorFn(e);return t&&t.call(e)}function getIteratorFn(e){var t=e&&(w&&e[w]||e[S]);if("function"==typeof t)return t}C.prototype.toString=function(){return"[Iterator]"},C.KEYS=v,C.VALUES=b,C.ENTRIES=_,C.prototype.inspect=C.prototype.toSource=function(){return this.toString()},C.prototype[E]=function(){return this};var O=Object.prototype.hasOwnProperty;function isArrayLike(e){return e&&"number"==typeof e.length}var T=function(e){function Seq(e){return null===e||void 0===e?emptySequence():isImmutable(e)?e.toSeq():function(e){var t=maybeIndexedSeqFromValue(e);if(t)return t;if("object"==typeof e)return new D(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(Seq.__proto__=e),Seq.prototype=Object.create(e&&e.prototype),Seq.prototype.constructor=Seq,Seq.prototype.toSeq=function(){return this},Seq.prototype.toString=function(){return this.__toString("Seq {","}")},Seq.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Seq.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[t?n-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},Seq.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,i=0;return new C(function(){if(i===n)return{value:void 0,done:!0};var o=r[t?n-++i:i++];return iteratorValue(e,o[0],o[1])})}return this.__iteratorUncached(e,t)},Seq}(d),A=function(e){function KeyedSeq(e){return null===e||void 0===e?emptySequence().toKeyedSeq():isCollection(e)?isKeyed(e)?e.toSeq():e.fromEntrySeq():isRecord(e)?e.toSeq():keyedSeqFromValue(e)}return e&&(KeyedSeq.__proto__=e),KeyedSeq.prototype=Object.create(e&&e.prototype),KeyedSeq.prototype.constructor=KeyedSeq,KeyedSeq.prototype.toKeyedSeq=function(){return this},KeyedSeq}(T),x=function(e){function IndexedSeq(e){return null===e||void 0===e?emptySequence():isCollection(e)?isKeyed(e)?e.entrySeq():e.toIndexedSeq():isRecord(e)?e.toSeq().entrySeq():indexedSeqFromValue(e)}return e&&(IndexedSeq.__proto__=e),IndexedSeq.prototype=Object.create(e&&e.prototype),IndexedSeq.prototype.constructor=IndexedSeq,IndexedSeq.of=function(){return IndexedSeq(arguments)},IndexedSeq.prototype.toIndexedSeq=function(){return this},IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")},IndexedSeq}(T),k=function(e){function SetSeq(e){return(isCollection(e)&&!isAssociative(e)?e:x(e)).toSetSeq()}return e&&(SetSeq.__proto__=e),SetSeq.prototype=Object.create(e&&e.prototype),SetSeq.prototype.constructor=SetSeq,SetSeq.of=function(){return SetSeq(arguments)},SetSeq.prototype.toSetSeq=function(){return this},SetSeq}(T);T.isSeq=isSeq,T.Keyed=A,T.Set=k,T.Indexed=x;var R="@@__IMMUTABLE_SEQ__@@";T.prototype[R]=!0;var P=function(e){function ArraySeq(e){this._array=e,this.size=e.length}return e&&(ArraySeq.__proto__=e),ArraySeq.prototype=Object.create(e&&e.prototype),ArraySeq.prototype.constructor=ArraySeq,ArraySeq.prototype.get=function(e,t){return this.has(e)?this._array[wrapIndex(this,e)]:t},ArraySeq.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,i=0;i!==n;){var o=t?n-++i:i++;if(!1===e(r[o],o,this))break}return i},ArraySeq.prototype.__iterator=function(e,t){var r=this._array,n=r.length,i=0;return new C(function(){if(i===n)return{value:void 0,done:!0};var o=t?n-++i:i++;return iteratorValue(e,o,r[o])})},ArraySeq}(x),D=function(e){function ObjectSeq(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(ObjectSeq.__proto__=e),ObjectSeq.prototype=Object.create(e&&e.prototype),ObjectSeq.prototype.constructor=ObjectSeq,ObjectSeq.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ObjectSeq.prototype.has=function(e){return O.call(this._object,e)},ObjectSeq.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var a=n[t?i-++o:o++];if(!1===e(r[a],a,this))break}return o},ObjectSeq.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length,o=0;return new C(function(){if(o===i)return{value:void 0,done:!0};var a=n[t?i-++o:o++];return iteratorValue(e,a,r[a])})},ObjectSeq}(A);D.prototype[h]=!0;var M,F=function(e){function CollectionSeq(e){this._collection=e,this.size=e.length||e.size}return e&&(CollectionSeq.__proto__=e),CollectionSeq.prototype=Object.create(e&&e.prototype),CollectionSeq.prototype.constructor=CollectionSeq,CollectionSeq.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=getIterator(this._collection),n=0;if(isIterator(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},CollectionSeq.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=getIterator(this._collection);if(!isIterator(r))return new C(iteratorDone);var n=0;return new C(function(){var t=r.next();return t.done?t:iteratorValue(e,n++,t.value)})},CollectionSeq}(x),N=function(e){function IteratorSeq(e){this._iterator=e,this._iteratorCache=[]}return e&&(IteratorSeq.__proto__=e),IteratorSeq.prototype=Object.create(e&&e.prototype),IteratorSeq.prototype.constructor=IteratorSeq,IteratorSeq.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(r=n.next()).done;){var a=r.value;if(i[o]=a,!1===e(a,o++,this))break}return o},IteratorSeq.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,i=0;return new C(function(){if(i>=n.length){var t=r.next();if(t.done)return t;n[i]=t.value}return iteratorValue(e,i,n[i++])})},IteratorSeq}(x);function isSeq(e){return!(!e||!e[R])}function emptySequence(){return M||(M=new P([]))}function keyedSeqFromValue(e){var t=Array.isArray(e)?new P(e):isIterator(e)?new N(e):hasIterator(e)?new F(e):void 0;if(t)return t.fromEntrySeq();if("object"==typeof e)return new D(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function indexedSeqFromValue(e){var t=maybeIndexedSeqFromValue(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function maybeIndexedSeqFromValue(e){return isArrayLike(e)?new P(e):isIterator(e)?new N(e):hasIterator(e)?new F(e):void 0}function is(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(isValueObject(e)&&isValueObject(t)&&e.equals(t))}var I="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function smi(e){return e>>>1&1073741824|3221225471&e}function hash(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return smi(r)}if("string"===t)return e.length>V?function(e){var t=Y[e];void 0===t&&(t=hashString(e),z===W&&(z=0,Y={}),z++,Y[e]=t);return t}(e):hashString(e);if("function"==typeof e.hashCode)return smi(e.hashCode());if("object"===t)return function(e){var t;if(H&&void 0!==(t=B.get(e)))return t;if(void 0!==(t=e[q]))return t;if(!L){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[q]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++U,1073741824&U&&(U=0);if(H)B.set(e,t);else{if(void 0!==j&&!1===j(e))throw new Error("Non-extensible objects are not allowed as keys.");if(L)Object.defineProperty(e,q,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[q]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[q]=t}}return t}(e);if("function"==typeof e.toString)return hashString(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function hashString(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return smi(t)}var j=Object.isExtensible,L=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var B,H="function"==typeof WeakMap;H&&(B=new WeakMap);var U=0,q="__immutablehash__";"function"==typeof Symbol&&(q=Symbol(q));var V=16,W=255,z=0,Y={},$=function(e){function ToKeyedSequence(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(ToKeyedSequence.__proto__=e),ToKeyedSequence.prototype=Object.create(e&&e.prototype),ToKeyedSequence.prototype.constructor=ToKeyedSequence,ToKeyedSequence.prototype.get=function(e,t){return this._iter.get(e,t)},ToKeyedSequence.prototype.has=function(e){return this._iter.has(e)},ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()},ToKeyedSequence.prototype.reverse=function(){var e=this,t=reverseFactory(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},ToKeyedSequence.prototype.map=function(e,t){var r=this,n=mapFactory(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},ToKeyedSequence.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t,n){return e(t,n,r)},t)},ToKeyedSequence.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},ToKeyedSequence}(A);$.prototype[h]=!0;var G=function(e){function ToIndexedSequence(e){this._iter=e,this.size=e.size}return e&&(ToIndexedSequence.__proto__=e),ToIndexedSequence.prototype=Object.create(e&&e.prototype),ToIndexedSequence.prototype.constructor=ToIndexedSequence,ToIndexedSequence.prototype.includes=function(e){return this._iter.includes(e)},ToIndexedSequence.prototype.__iterate=function(e,t){var r=this,n=0;return t&&ensureSize(this),this._iter.__iterate(function(i){return e(i,t?r.size-++n:n++,r)},t)},ToIndexedSequence.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(b,t),i=0;return t&&ensureSize(this),new C(function(){var o=n.next();return o.done?o:iteratorValue(e,t?r.size-++i:i++,o.value,o)})},ToIndexedSequence}(x),K=function(e){function ToSetSequence(e){this._iter=e,this.size=e.size}return e&&(ToSetSequence.__proto__=e),ToSetSequence.prototype=Object.create(e&&e.prototype),ToSetSequence.prototype.constructor=ToSetSequence,ToSetSequence.prototype.has=function(e){return this._iter.includes(e)},ToSetSequence.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},ToSetSequence.prototype.__iterator=function(e,t){var r=this._iter.__iterator(b,t);return new C(function(){var t=r.next();return t.done?t:iteratorValue(e,t.value,t.value,t)})},ToSetSequence}(k),X=function(e){function FromEntriesSequence(e){this._iter=e,this.size=e.size}return e&&(FromEntriesSequence.__proto__=e),FromEntriesSequence.prototype=Object.create(e&&e.prototype),FromEntriesSequence.prototype.constructor=FromEntriesSequence,FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()},FromEntriesSequence.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){if(t){validateEntry(t);var n=isCollection(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}},t)},FromEntriesSequence.prototype.__iterator=function(e,t){var r=this._iter.__iterator(b,t);return new C(function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){validateEntry(n);var i=isCollection(n);return iteratorValue(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}})},FromEntriesSequence}(A);function flipFactory(e){var t=makeSequence(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=cacheResultThrough,t.__iterateUncached=function(t,r){var n=this;return e.__iterate(function(e,r){return!1!==t(r,e,n)},r)},t.__iteratorUncached=function(t,r){if(t===_){var n=e.__iterator(t,r);return new C(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===b?v:b,r)},t}function mapFactory(e,t,r){var n=makeSequence(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var o=e.get(n,a);return o===a?i:t.call(r,o,n,e)},n.__iterateUncached=function(n,i){var o=this;return e.__iterate(function(e,i,a){return!1!==n(t.call(r,e,i,a),i,o)},i)},n.__iteratorUncached=function(n,i){var o=e.__iterator(_,i);return new C(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return iteratorValue(n,s,t.call(r,a[1],s,e),i)})},n}function reverseFactory(e,t){var r=this,n=makeSequence(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=flipFactory(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=cacheResultThrough,n.__iterate=function(r,n){var i=this,o=0;return n&&ensureSize(e),e.__iterate(function(e,a){return r(e,t?a:n?i.size-++o:o++,i)},!n)},n.__iterator=function(n,i){var o=0;i&&ensureSize(e);var a=e.__iterator(_,!i);return new C(function(){var e=a.next();if(e.done)return e;var s=e.value;return iteratorValue(n,t?s[0]:i?r.size-++o:o++,s[1],e)})},n}function filterFactory(e,t,r,n){var i=makeSequence(e);return n&&(i.has=function(n){var i=e.get(n,a);return i!==a&&!!t.call(r,i,n,e)},i.get=function(n,i){var o=e.get(n,a);return o!==a&&t.call(r,o,n,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate(function(e,o,u){if(t.call(r,e,o,u))return s++,i(e,n?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(_,o),s=0;return new C(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,l=u[0],c=u[1];if(t.call(r,c,l,e))return iteratorValue(i,n?l:s++,c,o)}})},i}function sliceFactory(e,t,r,n){var i=e.size;if(wholeSlice(t,r,i))return e;var o=resolveBegin(t,i),a=resolveEnd(r,i);if(o!=o||a!=a)return sliceFactory(e.toSeq().cacheResult(),t,r,n);var s,u=a-o;u==u&&(s=u<0?0:u);var l=makeSequence(e);return l.size=0===s?s:e.size&&s||void 0,!n&&isSeq(e)&&s>=0&&(l.get=function(t,r){return(t=wrapIndex(this,t))>=0&&t<s?e.get(t+o,r):r}),l.__iterateUncached=function(t,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,u=!0,l=0;return e.__iterate(function(e,r){if(!u||!(u=a++<o))return l++,!1!==t(e,n?r:l-1,i)&&l!==s}),l},l.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);if(0===s)return new C(iteratorDone);var i=e.__iterator(t,r),a=0,u=0;return new C(function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var e=i.next();return n||t===b||e.done?e:iteratorValue(t,u-1,t===v?void 0:e.value[1],e)})},l}function skipWhileFactory(e,t,r,n){var i=makeSequence(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return e.__iterate(function(e,o,l){if(!s||!(s=t.call(r,e,o,l)))return u++,i(e,n?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(_,o),u=!0,l=0;return new C(function(){var e,o,c;do{if((e=s.next()).done)return n||i===b?e:iteratorValue(i,l++,i===v?void 0:e.value[1],e);var f=e.value;o=f[0],c=f[1],u&&(u=t.call(r,c,o,a))}while(u);return i===_?e:iteratorValue(i,o,c,e)})},i}function flattenFactory(e,t,r){var n=makeSequence(e);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;return function flatDeep(e,u){e.__iterate(function(e,o){return(!t||u<t)&&isCollection(e)?flatDeep(e,u+1):(a++,!1===i(e,r?o:a-1,n)&&(s=!0)),!s},o)}(e,0),a},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=e.__iterator(n,i),a=[],s=0;return new C(function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(n===_&&(u=u[1]),t&&!(a.length<t)||!isCollection(u))return r?e:iteratorValue(n,s++,u,e);a.push(o),o=u.__iterator(n,i)}else o=a.pop()}return{value:void 0,done:!0}})},n}function sortFactory(e,t,r){t||(t=defaultComparator);var n=isKeyed(e),i=0,o=e.toSeq().map(function(t,n){return[n,t,i++,r?r(t,n,e):t]}).valueSeq().toArray();return o.sort(function(e,r){return t(e[3],r[3])||e[2]-r[2]}).forEach(n?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),n?A(o):isIndexed(e)?x(o):k(o)}function maxFactory(e,t,r){if(t||(t=defaultComparator),r){var n=e.toSeq().map(function(t,n){return[t,r(t,n,e)]}).reduce(function(e,r){return maxCompare(t,e[1],r[1])?r:e});return n&&n[0]}return e.reduce(function(e,r){return maxCompare(t,e,r)?r:e})}function maxCompare(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(void 0===r||null===r||r!=r)||n>0}function zipWithFactory(e,t,r,n){var i=makeSequence(e),o=new P(r).map(function(e){return e.size});return i.size=n?o.max():o.min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(b,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map(function(e){return e=d(e),getIterator(i?e.reverse():e)}),a=0,s=!1;return new C(function(){var r;return s||(r=o.map(function(e){return e.next()}),s=n?r.every(function(e){return e.done}):r.some(function(e){return e.done})),s?{value:void 0,done:!0}:iteratorValue(e,a++,t.apply(null,r.map(function(e){return e.value})))})},i}function reify(e,t){return e===t?e:isSeq(e)?t:e.constructor(t)}function validateEntry(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function collectionClass(e){return isKeyed(e)?y:isIndexed(e)?g:m}function makeSequence(e){return Object.create((isKeyed(e)?A:isIndexed(e)?x:k).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function defaultComparator(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function arrCopy(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function invariant(e,t){if(!e)throw new Error(t)}function assertNotInfinite(e){invariant(e!==1/0,"Cannot perform this action with an infinite size.")}function coerceKeyPath(e){if(isArrayLike(e)&&"string"!=typeof e)return e;if(isOrdered(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function isPlainObj(e){return e&&(e.constructor===Object||void 0===e.constructor)}function isDataStructure(e){return isImmutable(e)||Array.isArray(e)||isPlainObj(e)}function quoteString(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function has(e,t){return isImmutable(e)?e.has(t):isDataStructure(e)&&O.call(e,t)}function get(e,t,r){return isImmutable(e)?e.get(t,r):has(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function shallowCopy(e){if(Array.isArray(e))return arrCopy(e);var t={};for(var r in e)O.call(e,r)&&(t[r]=e[r]);return t}function remove(e,t){if(!isDataStructure(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(isImmutable(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!O.call(e,t))return e;var r=shallowCopy(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function set(e,t,r){if(!isDataStructure(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(isImmutable(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(O.call(e,t)&&r===e[t])return e;var n=shallowCopy(e);return n[t]=r,n}function updateIn(e,t,r,n){n||(n=r,r=void 0);var i=function updateInDeeply(e,t,r,n,i,o){var s=t===a;if(n===r.length){var u=s?i:t,l=o(u);return l===u?t:l}if(!s&&!isDataStructure(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(quoteString)+"]: "+t);var c=r[n];var f=s?a:get(t,c,a);var h=updateInDeeply(f===a?e:isImmutable(f),f,r,n+1,i,o);return h===f?t:h===a?remove(t,c):set(s?e?emptyMap():{}:t,c,h)}(isImmutable(e),e,coerceKeyPath(t),0,r,n);return i===a?r:i}function setIn$1(e,t,r){return updateIn(e,t,a,function(){return r})}function setIn$$1(e,t){return setIn$1(this,e,t)}function removeIn(e,t){return updateIn(e,t,function(){return a})}function deleteIn(e){return removeIn(this,e)}function update$1(e,t,r,n){return updateIn(e,[t],r,n)}function update$$1(e,t,r){return 1===arguments.length?e(this):update$1(this,e,t,r)}function updateIn$1(e,t,r){return updateIn(this,e,t,r)}function merge(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return mergeIntoKeyedWith(this,e)}function mergeWith(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return mergeIntoKeyedWith(this,t,e)}function mergeIntoKeyedWith(e,t,r){for(var n=[],i=0;i<t.length;i++){var o=y(t[i]);0!==o.size&&n.push(o)}return 0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var t=r?function(t,n){update$1(e,n,a,function(e){return e===a?t:r(e,t,n)})}:function(t,r){e.set(r,t)},i=0;i<n.length;i++)n[i].forEach(t)}):e.constructor(n[0])}function mergeDeepWithSources(e,t,r){return mergeWithSources(e,t,function(e){return function deepMerger(t,r,n){return isDataStructure(t)&&isDataStructure(r)?mergeWithSources(t,[r],deepMerger):e?e(t,r,n):r}}(r))}function mergeWithSources(e,t,r){if(!isDataStructure(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(isImmutable(e))return e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,o=n?g:y,a=n?function(t){i===e&&(i=shallowCopy(i)),i.push(t)}:function(t,n){var o=O.call(i,n),a=o&&r?r(i[n],t,n):t;o&&a===i[n]||(i===e&&(i=shallowCopy(i)),i[n]=a)},s=0;s<t.length;s++)o(t[s]).forEach(a);return i}function mergeDeep(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return mergeDeepWithSources(this,e)}function mergeDeepWith(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return mergeDeepWithSources(this,t,e)}function mergeIn(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return updateIn(this,e,emptyMap(),function(e){return mergeWithSources(e,t)})}function mergeDeepIn(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return updateIn(this,e,emptyMap(),function(e){return mergeDeepWithSources(e,t)})}function withMutations(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function asMutable(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)}function asImmutable(){return this.__ensureOwner()}function wasAltered(){return this.__altered}G.prototype.cacheResult=$.prototype.cacheResult=K.prototype.cacheResult=X.prototype.cacheResult=cacheResultThrough;var J=function(e){function Map(t){return null===t||void 0===t?emptyMap():isMap(t)&&!isOrdered(t)?t:emptyMap().withMutations(function(r){var n=e(t);assertNotInfinite(n.size),n.forEach(function(e,t){return r.set(t,e)})})}return e&&(Map.__proto__=e),Map.prototype=Object.create(e&&e.prototype),Map.prototype.constructor=Map,Map.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return emptyMap().withMutations(function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}})},Map.prototype.toString=function(){return this.__toString("Map {","}")},Map.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Map.prototype.set=function(e,t){return updateMap(this,e,t)},Map.prototype.remove=function(e){return updateMap(this,e,a)},Map.prototype.deleteAll=function(e){var t=d(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},Map.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):emptyMap()},Map.prototype.sort=function(e){return me(sortFactory(this,e))},Map.prototype.sortBy=function(e,t){return me(sortFactory(this,t,e))},Map.prototype.__iterator=function(e,t){return new ae(this,e,t)},Map.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},Map.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeMap(this.size,this._root,e,this.__hash):0===this.size?emptyMap():(this.__ownerID=e,this.__altered=!1,this)},Map}(y);function isMap(e){return!(!e||!e[Q])}J.isMap=isMap;var Q="@@__IMMUTABLE_MAP__@@",Z=J.prototype;Z[Q]=!0,Z.delete=Z.remove,Z.removeAll=Z.deleteAll,Z.concat=Z.merge,Z.setIn=setIn$$1,Z.removeIn=Z.deleteIn=deleteIn,Z.update=update$$1,Z.updateIn=updateIn$1,Z.merge=merge,Z.mergeWith=mergeWith,Z.mergeDeep=mergeDeep,Z.mergeDeepWith=mergeDeepWith,Z.mergeIn=mergeIn,Z.mergeDeepIn=mergeDeepIn,Z.withMutations=withMutations,Z.wasAltered=wasAltered,Z.asImmutable=asImmutable,Z["@@transducer/init"]=Z.asMutable=asMutable,Z["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Z["@@transducer/result"]=function(e){return e.asImmutable()};var ee=function(e,t){this.ownerID=e,this.entries=t};ee.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(is(r,i[o][0]))return i[o][1];return n},ee.prototype.update=function(e,t,r,n,i,o,s){for(var u=i===a,l=this.entries,c=0,f=l.length;c<f&&!is(n,l[c][0]);c++);var h=c<f;if(h?l[c][1]===i:u)return this;if(SetRef(s),(u||!h)&&SetRef(o),!u||1!==l.length){if(!h&&!u&&l.length>=se)return function(e,t,r,n){e||(e=new OwnerID);for(var i=new ie(e,hash(r),[r,n]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,l,n,i);var p=e&&e===this.ownerID,d=p?l:arrCopy(l);return h?u?c===f-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),p?(this.entries=d,this):new ee(e,d)}};var te=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};te.prototype.get=function(e,t,r,i){void 0===t&&(t=hash(r));var a=1<<((0===e?t:t>>>e)&o),s=this.bitmap;return 0==(s&a)?i:this.nodes[popCount(s&a-1)].get(e+n,t,r,i)},te.prototype.update=function(e,t,r,s,u,l,c){void 0===r&&(r=hash(s));var f=(0===t?r:r>>>t)&o,h=1<<f,p=this.bitmap,d=0!=(p&h);if(!d&&u===a)return this;var y=popCount(p&h-1),g=this.nodes,m=d?g[y]:void 0,v=updateNode(m,e,t+n,r,s,u,l,c);if(v===m)return this;if(!d&&v&&g.length>=ue)return function(e,t,r,n,o){for(var a=0,s=new Array(i),u=0;0!==r;u++,r>>>=1)s[u]=1&r?t[a++]:void 0;return s[n]=o,new re(e,a+1,s)}(e,g,p,f,v);if(d&&!v&&2===g.length&&isLeafNode(g[1^y]))return g[1^y];if(d&&v&&1===g.length&&isLeafNode(v))return v;var b=e&&e===this.ownerID,_=d?v?p:p^h:p|h,w=d?v?setAt(g,y,v,b):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,a=0;a<n;a++)a===t&&(o=1),i[a]=e[a+o];return i}(g,y,b):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=r,a=-1):o[s]=e[s+a];return o}(g,y,v,b);return b?(this.bitmap=_,this.nodes=w,this):new te(e,_,w)};var re=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};re.prototype.get=function(e,t,r,i){void 0===t&&(t=hash(r));var a=(0===e?t:t>>>e)&o,s=this.nodes[a];return s?s.get(e+n,t,r,i):i},re.prototype.update=function(e,t,r,i,s,u,l){void 0===r&&(r=hash(i));var c=(0===t?r:r>>>t)&o,f=s===a,h=this.nodes,p=h[c];if(f&&!p)return this;var d=updateNode(p,e,t+n,r,i,s,u,l);if(d===p)return this;var y=this.count;if(p){if(!d&&--y<le)return function(e,t,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,l=t.length;s<l;s++,u<<=1){var c=t[s];void 0!==c&&s!==n&&(i|=u,a[o++]=c)}return new te(e,i,a)}(e,h,y,c)}else y++;var g=e&&e===this.ownerID,m=setAt(h,c,d,g);return g?(this.count=y,this.nodes=m,this):new re(e,y,m)};var ne=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};ne.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(is(r,i[o][0]))return i[o][1];return n},ne.prototype.update=function(e,t,r,n,i,o,s){void 0===r&&(r=hash(n));var u=i===a;if(r!==this.keyHash)return u?this:(SetRef(s),SetRef(o),mergeIntoNode(this,e,t,r,[n,i]));for(var l=this.entries,c=0,f=l.length;c<f&&!is(n,l[c][0]);c++);var h=c<f;if(h?l[c][1]===i:u)return this;if(SetRef(s),(u||!h)&&SetRef(o),u&&2===f)return new ie(e,this.keyHash,l[1^c]);var p=e&&e===this.ownerID,d=p?l:arrCopy(l);return h?u?c===f-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]),p?(this.entries=d,this):new ne(e,this.keyHash,d)};var ie=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};ie.prototype.get=function(e,t,r,n){return is(r,this.entry[0])?this.entry[1]:n},ie.prototype.update=function(e,t,r,n,i,o,s){var u=i===a,l=is(n,this.entry[0]);return(l?i===this.entry[1]:u)?this:(SetRef(s),u?void SetRef(o):l?e&&e===this.ownerID?(this.entry[1]=i,this):new ie(e,this.keyHash,[n,i]):(SetRef(o),mergeIntoNode(this,e,t,hash(n),[n,i])))},ee.prototype.iterate=ne.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},te.prototype.iterate=re.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&!1===o.iterate(e,t))return!1}},ie.prototype.iterate=function(e,t){return e(this.entry)};var oe,ae=function(e){function MapIterator(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&mapIteratorFrame(e._root)}return e&&(MapIterator.__proto__=e),MapIterator.prototype=Object.create(e&&e.prototype),MapIterator.prototype.constructor=MapIterator,MapIterator.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,i=void 0;if(r.entry){if(0===n)return mapIteratorValue(e,r.entry)}else if(r.entries){if(n<=(i=r.entries.length-1))return mapIteratorValue(e,r.entries[this._reverse?i-n:n])}else if(n<=(i=r.nodes.length-1)){var o=r.nodes[this._reverse?i-n:n];if(o){if(o.entry)return mapIteratorValue(e,o.entry);t=this._stack=mapIteratorFrame(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},MapIterator}(C);function mapIteratorValue(e,t){return iteratorValue(e,t[0],t[1])}function mapIteratorFrame(e,t){return{node:e,index:0,__prev:t}}function makeMap(e,t,r,n){var i=Object.create(Z);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function emptyMap(){return oe||(oe=makeMap(0))}function updateMap(e,t,r){var n,i;if(e._root){var o=MakeRef(s),l=MakeRef(u);if(n=updateNode(e._root,e.__ownerID,0,void 0,t,r,o,l),!l.value)return e;i=e.size+(o.value?r===a?-1:1:0)}else{if(r===a)return e;i=1,n=new ee(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?makeMap(i,n):emptyMap()}function updateNode(e,t,r,n,i,o,s,u){return e?e.update(t,r,n,i,o,s,u):o===a?e:(SetRef(u),SetRef(s),new ie(t,n,[i,o]))}function isLeafNode(e){return e.constructor===ie||e.constructor===ne}function mergeIntoNode(e,t,r,i,a){if(e.keyHash===i)return new ne(t,i,[e.entry,a]);var s,u=(0===r?e.keyHash:e.keyHash>>>r)&o,l=(0===r?i:i>>>r)&o,c=u===l?[mergeIntoNode(e,t,r+n,i,a)]:(s=new ie(t,i,a),u<l?[e,s]:[s,e]);return new te(t,1<<u|1<<l,c)}function popCount(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function setAt(e,t,r,n){var i=n?e:arrCopy(e);return i[t]=r,i}var se=i/4,ue=i/2,le=i/4,ce=function(e){function List(t){var r=emptyList();if(null===t||void 0===t)return r;if(isList(t))return t;var o=e(t),a=o.size;return 0===a?r:(assertNotInfinite(a),a>0&&a<i?makeList(0,a,n,null,new pe(o.toArray())):r.withMutations(function(e){e.setSize(a),o.forEach(function(t,r){return e.set(r,t)})}))}return e&&(List.__proto__=e),List.prototype=Object.create(e&&e.prototype),List.prototype.constructor=List,List.of=function(){return this(arguments)},List.prototype.toString=function(){return this.__toString("List [","]")},List.prototype.get=function(e,t){if((e=wrapIndex(this,e))>=0&&e<this.size){var r=listNodeFor(this,e+=this._origin);return r&&r.array[e&o]}return t},List.prototype.set=function(e,t){return function(e,t,r){if((t=wrapIndex(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?setListBounds(e,t).set(0,r):setListBounds(e,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,o=MakeRef(u);t>=getTailOffset(e._capacity)?n=updateVNode(n,e.__ownerID,0,t,r,o):i=updateVNode(i,e.__ownerID,e._level,t,r,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e;return makeList(e._origin,e._capacity,e._level,i,n)}(this,e,t)},List.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},List.prototype.insert=function(e,t){return this.splice(e,0,t)},List.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=n,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):emptyList()},List.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(r){setListBounds(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])})},List.prototype.pop=function(){return setListBounds(this,0,-1)},List.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){setListBounds(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])})},List.prototype.shift=function(){return setListBounds(this,1)},List.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var i=t[n],o=e("string"!=typeof i&&hasIterator(i)?i:[i]);0!==o.size&&r.push(o)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations(function(e){r.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(r[0])},List.prototype.setSize=function(e){return setListBounds(this,0,e)},List.prototype.slice=function(e,t){var r=this.size;return wholeSlice(e,t,r)?this:setListBounds(this,resolveBegin(e,r),resolveEnd(t,r))},List.prototype.__iterator=function(e,t){var r=t?this.size:0,n=iterateList(this,t);return new C(function(){var i=n();return i===ye?{value:void 0,done:!0}:iteratorValue(e,t?--r:r++,i)})},List.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,i=iterateList(this,t);(r=i())!==ye&&!1!==e(r,t?--n:n++,this););return n},List.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeList(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?emptyList():(this.__ownerID=e,this.__altered=!1,this)},List}(g);function isList(e){return!(!e||!e[fe])}ce.isList=isList;var fe="@@__IMMUTABLE_LIST__@@",he=ce.prototype;he[fe]=!0,he.delete=he.remove,he.merge=he.concat,he.setIn=setIn$$1,he.deleteIn=he.removeIn=deleteIn,he.update=update$$1,he.updateIn=updateIn$1,he.mergeIn=mergeIn,he.mergeDeepIn=mergeDeepIn,he.withMutations=withMutations,he.wasAltered=wasAltered,he.asImmutable=asImmutable,he["@@transducer/init"]=he.asMutable=asMutable,he["@@transducer/step"]=function(e,t){return e.push(t)},he["@@transducer/result"]=function(e){return e.asImmutable()};var pe=function(e,t){this.array=e,this.ownerID=t};pe.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var i=r>>>t&o;if(i>=this.array.length)return new pe([],e);var a,s=0===i;if(t>0){var u=this.array[i];if((a=u&&u.removeBefore(e,t-n,r))===u&&s)return this}if(s&&!a)return this;var l=editableVNode(this,e);if(!s)for(var c=0;c<i;c++)l.array[c]=void 0;return a&&(l.array[i]=a),l},pe.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var i,a=r-1>>>t&o;if(a>=this.array.length)return this;if(t>0){var s=this.array[a];if((i=s&&s.removeAfter(e,t-n,r))===s&&a===this.array.length-1)return this}var u=editableVNode(this,e);return u.array.splice(a+1),i&&(u.array[a]=i),u};var de,ye={};function iterateList(e,t){var r=e._origin,o=e._capacity,a=getTailOffset(o),s=e._tail;return iterateNodeOrLeaf(e._root,e._level,0);function iterateNodeOrLeaf(e,u,l){return 0===u?function(e,n){var u=n===a?s&&s.array:e&&e.array,l=n>r?0:r-n,c=o-n;c>i&&(c=i);return function(){if(l===c)return ye;var e=t?--c:l++;return u&&u[e]}}(e,l):function(e,a,s){var u,l=e&&e.array,c=s>r?0:r-s>>a,f=1+(o-s>>a);f>i&&(f=i);return function(){for(;;){if(u){var e=u();if(e!==ye)return e;u=null}if(c===f)return ye;var r=t?--f:c++;u=iterateNodeOrLeaf(l&&l[r],a-n,s+(r<<a))}}}(e,u,l)}}function makeList(e,t,r,n,i,o,a){var s=Object.create(he);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function emptyList(){return de||(de=makeList(0,0,n))}function updateVNode(e,t,r,i,a,s){var u,l=i>>>r&o,c=e&&l<e.array.length;if(!c&&void 0===a)return e;if(r>0){var f=e&&e.array[l],h=updateVNode(f,t,r-n,i,a,s);return h===f?e:((u=editableVNode(e,t)).array[l]=h,u)}return c&&e.array[l]===a?e:(SetRef(s),u=editableVNode(e,t),void 0===a&&l===u.array.length-1?u.array.pop():u.array[l]=a,u)}function editableVNode(e,t){return t&&e&&t===e.ownerID?e:new pe(e?e.array.slice():[],t)}function listNodeFor(e,t){if(t>=getTailOffset(e._capacity))return e._tail;if(t<1<<e._level+n){for(var r=e._root,i=e._level;r&&i>0;)r=r.array[t>>>i&o],i-=n;return r}}function setListBounds(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var i=e.__ownerID||new OwnerID,a=e._origin,s=e._capacity,u=a+t,l=void 0===r?s:r<0?s+r:a+r;if(u===a&&l===s)return e;if(u>=l)return e.clear();for(var c=e._level,f=e._root,h=0;u+h<0;)f=new pe(f&&f.array.length?[void 0,f]:[],i),h+=1<<(c+=n);h&&(u+=h,a+=h,l+=h,s+=h);for(var p=getTailOffset(s),d=getTailOffset(l);d>=1<<c+n;)f=new pe(f&&f.array.length?[f]:[],i),c+=n;var y=e._tail,g=d<p?listNodeFor(e,l-1):d>p?new pe([],i):y;if(y&&d>p&&u<s&&y.array.length){for(var m=f=editableVNode(f,i),v=c;v>n;v-=n){var b=p>>>v&o;m=m.array[b]=editableVNode(m.array[b],i)}m.array[p>>>n&o]=y}if(l<s&&(g=g&&g.removeAfter(i,0,l)),u>=d)u-=d,l-=d,c=n,f=null,g=g&&g.removeBefore(i,0,u);else if(u>a||d<p){for(h=0;f;){var _=u>>>c&o;if(_!==d>>>c&o)break;_&&(h+=(1<<c)*_),c-=n,f=f.array[_]}f&&u>a&&(f=f.removeBefore(i,c,u-h)),f&&d<p&&(f=f.removeAfter(i,c,d-h)),h&&(u-=h,l-=h)}return e.__ownerID?(e.size=l-u,e._origin=u,e._capacity=l,e._level=c,e._root=f,e._tail=g,e.__hash=void 0,e.__altered=!0,e):makeList(u,l,c,f,g)}function getTailOffset(e){return e<i?0:e-1>>>n<<n}var ge,me=function(e){function OrderedMap(e){return null===e||void 0===e?emptyOrderedMap():isOrderedMap(e)?e:emptyOrderedMap().withMutations(function(t){var r=y(e);assertNotInfinite(r.size),r.forEach(function(e,r){return t.set(r,e)})})}return e&&(OrderedMap.__proto__=e),OrderedMap.prototype=Object.create(e&&e.prototype),OrderedMap.prototype.constructor=OrderedMap,OrderedMap.of=function(){return this(arguments)},OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")},OrderedMap.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},OrderedMap.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):emptyOrderedMap()},OrderedMap.prototype.set=function(e,t){return updateOrderedMap(this,e,t)},OrderedMap.prototype.remove=function(e){return updateOrderedMap(this,e,a)},OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},OrderedMap.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},OrderedMap.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},OrderedMap.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?makeOrderedMap(t,r,e,this.__hash):0===this.size?emptyOrderedMap():(this.__ownerID=e,this._map=t,this._list=r,this)},OrderedMap}(J);function isOrderedMap(e){return isMap(e)&&isOrdered(e)}function makeOrderedMap(e,t,r,n){var i=Object.create(me.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}function emptyOrderedMap(){return ge||(ge=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(e,t,r){var n,o,s=e._map,u=e._list,l=s.get(t),c=void 0!==l;if(r===a){if(!c)return e;u.size>=i&&u.size>=2*s.size?(n=(o=u.filter(function(e,t){return void 0!==e&&l!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=s.remove(t),o=l===u.size-1?u.pop():u.set(l,void 0))}else if(c){if(r===u.get(l)[1])return e;n=s,o=u.set(l,[t,r])}else n=s.set(t,u.size),o=u.set(u.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e):makeOrderedMap(n,o)}me.isOrderedMap=isOrderedMap,me.prototype[h]=!0,me.prototype.delete=me.prototype.remove;var ve=function(e){function Stack(e){return null===e||void 0===e?emptyStack():isStack(e)?e:emptyStack().pushAll(e)}return e&&(Stack.__proto__=e),Stack.prototype=Object.create(e&&e.prototype),Stack.prototype.constructor=Stack,Stack.of=function(){return this(arguments)},Stack.prototype.toString=function(){return this.__toString("Stack [","]")},Stack.prototype.get=function(e,t){var r=this._head;for(e=wrapIndex(this,e);r&&e--;)r=r.next;return r?r.value:t},Stack.prototype.peek=function(){return this._head&&this._head.value},Stack.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):makeStack(t,r)},Stack.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&isStack(t))return t;assertNotInfinite(t.size);var r=this.size,n=this._head;return t.__iterate(function(e){r++,n={value:e,next:n}},!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):makeStack(r,n)},Stack.prototype.pop=function(){return this.slice(1)},Stack.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):emptyStack()},Stack.prototype.slice=function(t,r){if(wholeSlice(t,r,this.size))return this;var n=resolveBegin(t,this.size);if(resolveEnd(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):makeStack(i,o)},Stack.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeStack(this.size,this._head,e,this.__hash):0===this.size?emptyStack():(this.__ownerID=e,this.__altered=!1,this)},Stack.prototype.__iterate=function(e,t){var r=this;if(t)return new P(this.toArray()).__iterate(function(t,n){return e(t,n,r)},t);for(var n=0,i=this._head;i&&!1!==e(i.value,n++,r);)i=i.next;return n},Stack.prototype.__iterator=function(e,t){if(t)return new P(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new C(function(){if(n){var t=n.value;return n=n.next,iteratorValue(e,r++,t)}return{value:void 0,done:!0}})},Stack}(g);function isStack(e){return!(!e||!e[_e])}ve.isStack=isStack;var be,_e="@@__IMMUTABLE_STACK__@@",we=ve.prototype;function makeStack(e,t,r,n){var i=Object.create(we);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function emptyStack(){return be||(be=makeStack(0))}function deepEqual(e,t){if(e===t)return!0;if(!isCollection(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||isKeyed(e)!==isKeyed(t)||isIndexed(e)!==isIndexed(t)||isOrdered(e)!==isOrdered(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!isAssociative(e);if(isOrdered(e)){var n=e.entries();return t.every(function(e,t){var i=n.next().value;return i&&is(i[1],e)&&(r||is(i[0],t))})&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var s=!0,u=t.__iterate(function(t,n){if(r?!e.has(t):i?!is(t,e.get(n,a)):!is(e.get(n,a),t))return s=!1,!1});return s&&e.size===u}function mixin(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function toJS(e){return isDataStructure(e)?T(e).map(toJS).toJSON():e}we[_e]=!0,we.shift=we.pop,we.unshift=we.push,we.unshiftAll=we.pushAll,we.withMutations=withMutations,we.wasAltered=wasAltered,we.asImmutable=asImmutable,we["@@transducer/init"]=we.asMutable=asMutable,we["@@transducer/step"]=function(e,t){return e.unshift(t)},we["@@transducer/result"]=function(e){return e.asImmutable()};var Se=function(e){function Set(t){return null===t||void 0===t?emptySet():isSet(t)&&!isOrdered(t)?t:emptySet().withMutations(function(r){var n=e(t);assertNotInfinite(n.size),n.forEach(function(e){return r.add(e)})})}return e&&(Set.__proto__=e),Set.prototype=Object.create(e&&e.prototype),Set.prototype.constructor=Set,Set.of=function(){return this(arguments)},Set.fromKeys=function(e){return this(y(e).keySeq())},Set.intersect=function(e){return(e=d(e).toArray()).length?Oe.intersect.apply(Set(e.pop()),e):emptySet()},Set.union=function(e){return(e=d(e).toArray()).length?Oe.union.apply(Set(e.pop()),e):emptySet()},Set.prototype.toString=function(){return this.__toString("Set {","}")},Set.prototype.has=function(e){return this._map.has(e)},Set.prototype.add=function(e){return updateSet(this,this._map.set(e,e))},Set.prototype.remove=function(e){return updateSet(this,this._map.remove(e))},Set.prototype.clear=function(){return updateSet(this,this._map.clear())},Set.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(r){for(var n=0;n<t.length;n++)e(t[n]).forEach(function(e){return r.add(e)})}):this.constructor(t[0])},Set.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map(function(t){return e(t)});var n=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||n.push(e)}),this.withMutations(function(e){n.forEach(function(t){e.remove(t)})})},Set.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map(function(t){return e(t)});var n=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.push(e)}),this.withMutations(function(e){n.forEach(function(t){e.remove(t)})})},Set.prototype.sort=function(e){return Pe(sortFactory(this,e))},Set.prototype.sortBy=function(e,t){return Pe(sortFactory(this,t,e))},Set.prototype.wasAltered=function(){return this._map.wasAltered()},Set.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate(function(t){return e(t,t,r)},t)},Set.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},Set.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},Set}(m);function isSet(e){return!(!e||!e[Ce])}Se.isSet=isSet;var Ee,Ce="@@__IMMUTABLE_SET__@@",Oe=Se.prototype;function updateSet(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function makeSet(e,t){var r=Object.create(Oe);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function emptySet(){return Ee||(Ee=makeSet(emptyMap()))}Oe[Ce]=!0,Oe.delete=Oe.remove,Oe.merge=Oe.concat=Oe.union,Oe.withMutations=withMutations,Oe.asImmutable=asImmutable,Oe["@@transducer/init"]=Oe.asMutable=asMutable,Oe["@@transducer/step"]=function(e,t){return e.add(t)},Oe["@@transducer/result"]=function(e){return e.asImmutable()},Oe.__empty=emptySet,Oe.__make=makeSet;var Te,Ae=function(e){function Range(e,t,r){if(!(this instanceof Range))return new Range(e,t,r);if(invariant(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(Te)return Te;Te=this}}return e&&(Range.__proto__=e),Range.prototype=Object.create(e&&e.prototype),Range.prototype.constructor=Range,Range.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Range.prototype.get=function(e,t){return this.has(e)?this._start+wrapIndex(this,e)*this._step:t},Range.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Range.prototype.slice=function(e,t){return wholeSlice(e,t,this.size)?this:(e=resolveBegin(e,this.size),(t=resolveEnd(t,this.size))<=e?new Range(0,0):new Range(this.get(e,this._end),this.get(t,this._end),this._step))},Range.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},Range.prototype.lastIndexOf=function(e){return this.indexOf(e)},Range.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==e(i,t?r-++o:o++,this);)i+=t?-n:n;return o},Range.prototype.__iterator=function(e,t){var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;return new C(function(){if(o===r)return{value:void 0,done:!0};var a=i;return i+=t?-n:n,iteratorValue(e,t?r-++o:o++,a)})},Range.prototype.equals=function(e){return e instanceof Range?this._start===e._start&&this._end===e._end&&this._step===e._step:deepEqual(this,e)},Range}(x);function getIn$1(e,t,r){for(var n=coerceKeyPath(t),i=0;i!==n.length;)if((e=get(e,n[i++],a))===a)return r;return e}function getIn$$1(e,t){return getIn$1(this,e,t)}function hasIn$1(e,t){return getIn$1(e,t,a)!==a}function toObject(){assertNotInfinite(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}d.isIterable=isCollection,d.isKeyed=isKeyed,d.isIndexed=isIndexed,d.isAssociative=isAssociative,d.isOrdered=isOrdered,d.Iterator=C,mixin(d,{toArray:function(){assertNotInfinite(this.size);var e=new Array(this.size||0),t=isKeyed(this),r=0;return this.__iterate(function(n,i){e[r++]=t?[i,n]:n}),e},toIndexedSeq:function(){return new G(this)},toJS:function(){return toJS(this)},toKeyedSeq:function(){return new $(this,!0)},toMap:function(){return J(this.toKeyedSeq())},toObject:toObject,toOrderedMap:function(){return me(this.toKeyedSeq())},toOrderedSet:function(){return Pe(isKeyed(this)?this.valueSeq():this)},toSet:function(){return Se(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new K(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ve(isKeyed(this)?this.valueSeq():this)},toList:function(){return ce(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return reify(this,function(e,t){var r=isKeyed(e),n=[e].concat(t).map(function(e){return isCollection(e)?r&&(e=y(e)):e=r?keyedSeqFromValue(e):indexedSeqFromValue(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===n.length)return e;if(1===n.length){var i=n[0];if(i===e||r&&isKeyed(i)||isIndexed(e)&&isIndexed(i))return i}var o=new P(n);return r?o=o.toKeyedSeq():isIndexed(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce(function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}},0),o}(this,e))},includes:function(e){return this.some(function(t){return is(t,e)})},entries:function(){return this.__iterator(_)},every:function(e,t){assertNotInfinite(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!e.call(t,n,i,o))return r=!1,!1}),r},filter:function(e,t){return reify(this,filterFactory(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return assertNotInfinite(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){assertNotInfinite(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate(function(n){r?r=!1:t+=e,t+=null!==n&&void 0!==n?n.toString():""}),t},keys:function(){return this.__iterator(v)},map:function(e,t){return reify(this,mapFactory(this,e,t))},reduce:function(e,t,r){return reduce(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return reduce(this,e,t,r,arguments.length<2,!0)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(e,t){return reify(this,sliceFactory(this,e,t,!0))},some:function(e,t){return!this.every(not(e),t)},sort:function(e){return reify(this,sortFactory(this,e))},values:function(){return this.__iterator(b)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return ensureSize(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=J().asMutable();return e.__iterate(function(i,o){n.update(t.call(r,i,o,e),0,function(e){return e+1})}),n.asImmutable()}(this,e,t)},equals:function(e){return deepEqual(this,e)},entrySeq:function(){var e=this;if(e._cache)return new P(e._cache);var t=e.toSeq().map(entryMapper).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(not(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate(function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1}),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(returnTrue)},flatMap:function(e,t){return reify(this,function(e,t,r){var n=collectionClass(e);return e.toSeq().map(function(i,o){return n(t.call(r,i,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return reify(this,flattenFactory(this,e,!0))},fromEntrySeq:function(){return new X(this)},get:function(e,t){return this.find(function(t,r){return is(r,e)},void 0,t)},getIn:getIn$$1,groupBy:function(e,t){return function(e,t,r){var n=isKeyed(e),i=(isOrdered(e)?me():J()).asMutable();e.__iterate(function(o,a){i.update(t.call(r,o,a,e),function(e){return(e=e||[]).push(n?[a,o]:o),e})});var o=collectionClass(e);return i.map(function(t){return reify(e,o(t))})}(this,e,t)},has:function(e){return this.get(e,a)!==a},hasIn:function(e){return hasIn$1(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:d(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:d(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return is(t,e)})},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return maxFactory(this,e)},maxBy:function(e,t){return maxFactory(this,t,e)},min:function(e){return maxFactory(this,e?neg(e):defaultNegComparator)},minBy:function(e,t){return maxFactory(this,t?neg(t):defaultNegComparator,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(not(e),t)},sortBy:function(e,t){return reify(this,sortFactory(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return reify(this,function(e,t,r){var n=makeSequence(e);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return e.__iterate(function(e,i,s){return t.call(r,e,i,s)&&++a&&n(e,i,o)}),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(_,i),s=!0;return new C(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],l=i[1];return t.call(r,l,u,o)?n===_?e:iteratorValue(n,u,l,e):(s=!1,{value:void 0,done:!0})})},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(not(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=isOrdered(e),r=isKeyed(e),n=t?1:0;return function(e,t){return t=I(t,3432918353),t=I(t<<15|t>>>-15,461845907),t=I(t<<13|t>>>-13,5),t=I((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=smi((t=I(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+hashMerge(hash(e),hash(t))|0}:function(e,t){n=n+hashMerge(hash(e),hash(t))|0}:t?function(e){n=31*n+hash(e)|0}:function(e){n=n+hash(e)|0}),n)}(this))}});var xe=d.prototype;xe[l]=!0,xe[E]=xe.values,xe.toJSON=xe.toArray,xe.__toStringMapper=quoteString,xe.inspect=xe.toSource=function(){return this.toString()},xe.chain=xe.flatMap,xe.contains=xe.includes,mixin(y,{flip:function(){return reify(this,flipFactory(this))},mapEntries:function(e,t){var r=this,n=0;return reify(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(e,t){var r=this;return reify(this,this.toSeq().flip().map(function(n,i){return e.call(t,n,i,r)}).flip())}});var ke=y.prototype;ke[c]=!0,ke[E]=xe.entries,ke.toJSON=toObject,ke.__toStringMapper=function(e,t){return quoteString(t)+": "+quoteString(e)},mixin(g,{toKeyedSeq:function(){return new $(this,!1)},filter:function(e,t){return reify(this,filterFactory(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return reify(this,reverseFactory(this,!1))},slice:function(e,t){return reify(this,sliceFactory(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=resolveBegin(e,e<0?this.count():this.size);var n=this.slice(0,e);return reify(this,1===r?n:n.concat(arrCopy(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return reify(this,flattenFactory(this,e,!1))},get:function(e,t){return(e=wrapIndex(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,r){return r===e},void 0,t)},has:function(e){return(e=wrapIndex(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return reify(this,function(e,t){var r=makeSequence(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return e.__iterate(function(e){return(!o||!1!==r(t,o++,i))&&!1!==r(e,o++,i)},n),o},r.__iteratorUncached=function(r,n){var i,o=e.__iterator(b,n),a=0;return new C(function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?iteratorValue(r,a++,t):iteratorValue(r,a++,i.value,i)})},r}(this,e))},interleave:function(){var e=[this].concat(arrCopy(arguments)),t=zipWithFactory(this.toSeq(),x.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),reify(this,r)},keySeq:function(){return Ae(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!1))},zip:function(){return reify(this,zipWithFactory(this,defaultZipper,[this].concat(arrCopy(arguments))))},zipAll:function(){return reify(this,zipWithFactory(this,defaultZipper,[this].concat(arrCopy(arguments)),!0))},zipWith:function(e){var t=arrCopy(arguments);return t[0]=this,reify(this,zipWithFactory(this,e,t))}});var Re=g.prototype;function reduce(e,t,r,n,i,o){return assertNotInfinite(e.size),e.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)},o),r}function keyMapper(e,t){return t}function entryMapper(e,t){return[t,e]}function not(e){return function(){return!e.apply(this,arguments)}}function neg(e){return function(){return-e.apply(this,arguments)}}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(e,t){return e<t?1:e>t?-1:0}function hashMerge(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Re[f]=!0,Re[h]=!0,mixin(m,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),m.prototype.has=xe.includes,m.prototype.contains=m.prototype.includes,mixin(A,y.prototype),mixin(x,g.prototype),mixin(k,m.prototype);var Pe=function(e){function OrderedSet(e){return null===e||void 0===e?emptyOrderedSet():isOrderedSet(e)?e:emptyOrderedSet().withMutations(function(t){var r=m(e);assertNotInfinite(r.size),r.forEach(function(e){return t.add(e)})})}return e&&(OrderedSet.__proto__=e),OrderedSet.prototype=Object.create(e&&e.prototype),OrderedSet.prototype.constructor=OrderedSet,OrderedSet.of=function(){return this(arguments)},OrderedSet.fromKeys=function(e){return this(y(e).keySeq())},OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")},OrderedSet}(Se);function isOrderedSet(e){return isSet(e)&&isOrdered(e)}Pe.isOrderedSet=isOrderedSet;var De,Me=Pe.prototype;function makeOrderedSet(e,t){var r=Object.create(Me);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function emptyOrderedSet(){return De||(De=makeOrderedSet(emptyOrderedMap()))}Me[h]=!0,Me.zip=Re.zip,Me.zipWith=Re.zipWith,Me.__empty=emptyOrderedSet,Me.__make=makeOrderedSet;var Fe=function(e,t){var r,n=function(o){var a=this;if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var s=Object.keys(e),u=i._indices={};i._name=t,i._keys=s,i._defaultValues=e;for(var l=0;l<s.length;l++){var c=s[l];u[c]=l,i[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+recordName(a)+' with property "'+c+'" since that property name is part of the Record API.'):setProp(i,c)}}this.__ownerID=void 0,this._values=ce().withMutations(function(e){e.setSize(a._keys.length),y(o).forEach(function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)})})},i=n.prototype=Object.create(Ne);return i.constructor=n,n};Fe.prototype.toString=function(){for(var e,t=recordName(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)e=r[n],t+=(n?", ":"")+e+": "+quoteString(this.get(e));return t+" }"},Fe.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&recordSeq(this).equals(recordSeq(e))},Fe.prototype.hashCode=function(){return recordSeq(this).hashCode()},Fe.prototype.has=function(e){return this._indices.hasOwnProperty(e)},Fe.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},Fe.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return makeRecord(this,r)}return this},Fe.prototype.remove=function(e){return this.set(e)},Fe.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:makeRecord(this,e)},Fe.prototype.wasAltered=function(){return this._values.wasAltered()},Fe.prototype.toSeq=function(){return recordSeq(this)},Fe.prototype.toJS=function(){return toJS(this)},Fe.prototype.entries=function(){return this.__iterator(_)},Fe.prototype.__iterator=function(e,t){return recordSeq(this).__iterator(e,t)},Fe.prototype.__iterate=function(e,t){return recordSeq(this).__iterate(e,t)},Fe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?makeRecord(this,t,e):(this.__ownerID=e,this._values=t,this)},Fe.isRecord=isRecord,Fe.getDescriptiveName=recordName;var Ne=Fe.prototype;function makeRecord(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function recordName(e){return e._name||e.constructor.name||"Record"}function recordSeq(e){return keyedSeqFromValue(e._keys.map(function(t){return[t,e.get(t)]}))}function setProp(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}Ne[p]=!0,Ne.delete=Ne.remove,Ne.deleteIn=Ne.removeIn=deleteIn,Ne.getIn=getIn$$1,Ne.hasIn=xe.hasIn,Ne.merge=merge,Ne.mergeWith=mergeWith,Ne.mergeIn=mergeIn,Ne.mergeDeep=mergeDeep,Ne.mergeDeepWith=mergeDeepWith,Ne.mergeDeepIn=mergeDeepIn,Ne.setIn=setIn$$1,Ne.update=update$$1,Ne.updateIn=updateIn$1,Ne.withMutations=withMutations,Ne.asMutable=asMutable,Ne.asImmutable=asImmutable,Ne[E]=Ne.entries,Ne.toJSON=Ne.toObject=xe.toObject,Ne.inspect=Ne.toSource=function(){return this.toString()};var Ie;!function(e){function Repeat(e,t){if(!(this instanceof Repeat))return new Repeat(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Ie)return Ie;Ie=this}}e&&(Repeat.__proto__=e),Repeat.prototype=Object.create(e&&e.prototype),Repeat.prototype.constructor=Repeat,Repeat.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Repeat.prototype.get=function(e,t){return this.has(e)?this._value:t},Repeat.prototype.includes=function(e){return is(this._value,e)},Repeat.prototype.slice=function(e,t){var r=this.size;return wholeSlice(e,t,r)?this:new Repeat(this._value,resolveEnd(t,r)-resolveBegin(e,r))},Repeat.prototype.reverse=function(){return this},Repeat.prototype.indexOf=function(e){return is(this._value,e)?0:-1},Repeat.prototype.lastIndexOf=function(e){return is(this._value,e)?this.size:-1},Repeat.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},Repeat.prototype.__iterator=function(e,t){var r=this,n=this.size,i=0;return new C(function(){return i===n?{value:void 0,done:!0}:iteratorValue(e,t?n-++i:i++,r._value)})},Repeat.prototype.equals=function(e){return e instanceof Repeat?is(this._value,e._value):deepEqual(e)}}(x)},vtQN:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function HMData(t,r){return e.call(this,t,r,r.cells,r.alias)||this}return i(HMData,e),HMData.prototype.getFacetFields=function(e){return["trKey","tcKey"].concat(this.marks.seriesFields.map(function(e){return e.alias}))},HMData}(r("uIdv").MData);t.HMData=o},vw2U:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Zz1P");!function(e){var t;!function(e){e.Year="YEAR",e.Quarter="QUARTER",e.Month="MONTH",e.DayOfYear="DAY_OF_YEAR",e.Day="DAY",e.Weekday="WEEKDAY",e.Week="WEEK",e.Hour="HOUR",e.Minute="MINUTE",e.Second="SECOND"}(t=e.Unit||(e.Unit={})),e.unit=function(e){switch(e.toUpperCase()){case"YEAR":return t.Year;case"QUARTER":return t.Quarter;case"MONTH":return t.Month;case"DAYOFYEAR":return t.DayOfYear;case"DAY":return t.Day;case"WEEKDAY":return t.Weekday;case"WEEK":return t.Week;case"HOUR":return t.Hour;case"MINUTE":return t.Minute;case"SECOND":return t.Second;default:return null}},function(r){r.make=function(r,i){var o=n.utc(i);if(!o.isValid())return null;switch(e.unit(r)){case t.Year:return o.year();case t.Quarter:return o.quarter();case t.Month:return o.month()+1;case t.DayOfYear:return o.dayOfYear();case t.Day:return o.date();case t.Weekday:return o.day();case t.Week:return o.week();case t.Hour:return o.hour();case t.Minute:return o.minute();case t.Second:return o.second();default:throw new Error("Unrecognized DateTime unit "+r)}}}(e.DatePart||(e.DatePart={})),function(r){r.make=function(r,i){var o=n.utc(i);if(!o.isValid())return null;switch(e.unit(r)){case t.Year:return o.startOf("year").valueOf();case t.Quarter:return o.startOf("quarter").valueOf();case t.Month:return o.startOf("month").valueOf();case t.DayOfYear:return o.startOf("day").valueOf();case t.Day:return o.startOf("date").valueOf();case t.Weekday:return o.startOf("day").valueOf();case t.Week:return o.startOf("week").valueOf();case t.Hour:return o.startOf("hour").valueOf();case t.Minute:return o.startOf("minute").valueOf();case t.Second:return o.startOf("second").valueOf();default:throw new Error("Unrecognized DateTime unit "+r)}}}(e.DateTrunc||(e.DateTrunc={}))}(t.DateTime||(t.DateTime={}))},vzjw:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("m0oc"),a=r("pkpF"),s=r("IJWI"),u=function(e){function HGPane(t,r,n){var i=e.call(this,"vg-"+r.xAlias,n)||this;return i._table=t,i._marks=r,i._borders=new o.Borders,i._yScale=r.buildXScale(),i._xAxis=new s.HGAxis(t,r),i.borders.right.display=!0,i.borders.bottom.display=!0,i}return i(HGPane,e),Object.defineProperty(HGPane.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(HGPane.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(HGPane.prototype,"borders",{get:function(){return this._borders},enumerable:!0,configurable:!0}),Object.defineProperty(HGPane.prototype,"yScale",{get:function(){return this._yScale},enumerable:!0,configurable:!0}),Object.defineProperty(HGPane.prototype,"xAxis",{get:function(){return this._xAxis},enumerable:!0,configurable:!0}),HGPane.prototype.getScales=function(){var t=e.prototype.getScales.call(this);return t.push(this.yScale.compile()),t},HGPane.prototype.getAxes=function(){var t=e.prototype.getAxes.call(this);return t.push(this.xAxis.compile()),t},HGPane.prototype.getProperties=function(){return{enter:{x:{field:"tcol.layout_start"},y:{field:"trow.layout_start"},width:{field:"tcol.layout_width"},height:{field:"trow.layout_height"}}}},HGPane.prototype.getMarks=function(){for(var t=e.prototype.getMarks.call(this),r=0,n=this.borders.getDisplayed();r<n.length;r++){var i=n[r];t.push(i.compile())}return t},HGPane}(a.Group);t.HGPane=u},w06A:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=r("E4ND"),s=r("YWvS");!function(e){e.AGG="AGG",e.AVG="AVG",e.COUNT="COUNT",e.COUNTD="COUNTD",e.MEDIAN="MEDIAN",e.MIN="MIN",e.MAX="MAX",e.STDEV="STDEV",e.STDEVP="STDEVP",e.SUM="SUM",e.VAR="VAR",e.VARP="VARP"}(o=t.AggregateFunction||(t.AggregateFunction={}));var u=function(e){function AVG(t){return e.call(this,o.AVG,t)||this}return i(AVG,e),AVG.prototype.getReturnType=function(e){return a.DataType.FLOAT},AVG.prototype.init=function(e){e[this.id]={sum:null,length:0}},AVG.prototype.step=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[0](e);null===n||isNaN(n)||(e[this.id].length++,null===e[this.id]?e[this.id]=n:e[this.id].sum+=n)},AVG.prototype.final=function(e){return 0===e[this.id].length?null:null===e[this.id].sum?null:e[this.id].sum/e[this.id].length},AVG}(s.FFuncAgg);t.AVG=u;var l=function(e){function COUNT(t){return e.call(this,o.COUNT,t)||this}return i(COUNT,e),COUNT.prototype.getReturnType=function(e){return a.DataType.INTEGER},COUNT.prototype.init=function(e){return e[this.id]=0},COUNT.prototype.step=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];null!=t[0](e)&&e[this.id]++},COUNT.prototype.final=function(e){return e[this.id]},COUNT}(s.FFuncAgg);t.COUNT=l;var c=function(e){function COUNTD(t){return e.call(this,o.COUNTD,t)||this}return i(COUNTD,e),COUNTD.prototype.getReturnType=function(e){return a.DataType.INTEGER},COUNTD.prototype.init=function(e){e[this.id]=new Set},COUNTD.prototype.step=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[0](e);null!==n&&void 0!==n&&e[this.id].add(n)},COUNTD.prototype.final=function(e){return e[this.id].size},COUNTD}(s.FFuncAgg);t.COUNTD=c;var f=function(e){function MAX(t){return e.call(this,o.MAX,t)||this}return i(MAX,e),MAX.prototype.getReturnType=function(e){return this.argc>0?e[0]:a.DataType.NUMBER},MAX.prototype.init=function(e){e[this.id]=null},MAX.prototype.step=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[0](e);isNaN(n)||(null===e[this.id]?e[this.id]=n:e[this.id]=Math.max(e[this.id],n))},MAX.prototype.final=function(e){return e[this.id]},MAX}(s.FFuncAgg);t.MAX=f;var h=function(e){function MIN(t){return e.call(this,o.MIN,t)||this}return i(MIN,e),MIN.prototype.getReturnType=function(e){return this.argc>0?e[0]:a.DataType.NUMBER},MIN.prototype.init=function(e){e[this.id]=null},MIN.prototype.step=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[0](e);isNaN(n)||null===n||(null===e[this.id]?e[this.id]=n:e[this.id]=Math.min(e[this.id],n))},MIN.prototype.final=function(e){return e[this.id]},MIN}(s.FFuncAgg);t.MIN=h;var p=function(e){function SUM(t){return e.call(this,o.SUM,t)||this}return i(SUM,e),SUM.prototype.getReturnType=function(e){return this.argc>0?e[0]:a.DataType.NUMBER},SUM.prototype.init=function(e){e[this.id]=null},SUM.prototype.step=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[0](e);isNaN(n)||(null===e[this.id]?e[this.id]=n:e[this.id]+=n)},SUM.prototype.final=function(e){return e[this.id]},SUM}(s.FFuncAgg);t.SUM=p},w5oJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function TableFit(e){this._table=e}return Object.defineProperty(TableFit.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(TableFit.prototype,"fit",{get:function(){return this.table.sheet.fit},enumerable:!0,configurable:!0}),Object.defineProperty(TableFit.prototype,"hasRowAxes",{get:function(){return"VERTICAL"===this.table.layout||"PROPORTIONAL"===this.table.layout},enumerable:!0,configurable:!0}),Object.defineProperty(TableFit.prototype,"hasColumnAxes",{get:function(){return"HORIZONTAL"===this.table.layout||"PROPORTIONAL"===this.table.layout},enumerable:!0,configurable:!0}),TableFit.prototype.getCellWidth=function(e){var t=this.fit.width,r=this.table.cCount,n=(t-this.table.leftWidth-this.table.rightWidth)/r;return"STANDARD"===this.fit.widthType?this.hasColumnAxes?Math.max(e,n,1):e:Math.max(n,1)},TableFit.prototype.getCellHeight=function(e){var t=this.fit.height,r=this.table.rCount,n=(t-this.table.topHeight-this.table.bottomHeight)/r;return"STANDARD"===this.fit.heightType?this.hasRowAxes?Math.max(e,n,1):e:Math.max(n,1)},TableFit.prototype.getLeftAxisWidth=function(){return 55},TableFit.prototype.getLeftHeaderWidth=function(){return 100},TableFit.prototype.getTopHeaderHeight=function(){return 20},TableFit.prototype.getTopAxisHeight=function(){return 55},TableFit.prototype.getBottomAxisHeight=function(){return 55},TableFit.prototype.getBottomHeaderHeight=function(){return 100},TableFit}();t.TableFit=n},wCz2:function(e,t,r){"use strict";var n=r("L6ih");t.repeat=function(e){return void 0===e&&(e=-1),n.repeat(e)(this)}},wFCY:function(e,t,r){"use strict";var n=r("DRWY"),i=r("rLcB");n.Observable.prototype.sampleTime=i.sampleTime},wGJa:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r("7cqj"),o=r("jpd/"),a=r("mPZX"),s=r("3bk5");!function(e){var t,r,u,l;!function(e){e.Basic="BASIC",e.Detail="DETAIL"}(t=e.Type||(e.Type={})),e.make=function(e){return{id:o.Utility.id(),type:t.Detail,rows:e.rows||[],columns:e.columns||[],series:e.series||[],values:e.values||[],sorts:e.sorts||[],filters:e.filters||[]}},function(e){e.make=function(e){return{id:o.Utility.id(),type:t.Basic,rows:e.rows||[],columns:e.columns||[],marks:e.marks||{},values:e.values||[],sorts:e.sorts||[],filters:e.filters||[]}}}(e.Basic||(e.Basic={})),function(e){e.get=function(e,t,r){switch(e.type){case l.Type.Basic:return null==(i=e.queries[0])?null:s.Select.Result.get(t,i);case l.Type.Detail:var n=void 0;if(null==r)return null;if(null===(n="string"==typeof r?e.levels.find(function(e){return e.name===r})||null:e.levels.find(function(e){return e.name===r.alias})||null))return null;var i,o=n.query;return null==(i=e.queries.find(function(e){return e.id===o}))?null:s.Select.Result.get(t,i)}}}(e.Result||(e.Result={})),function(e){e.fields=function(e){return[e.color,e.size,e.text,e.detail,e.tooltip,e.shape,e.angle,e.path].reduce(function(e,t){return e.concat(t||[])},[])||[]}}(r=e.Marks||(e.Marks={})),function(e){e.make=function(e,t){return void 0===t&&(t={}),{field:e,marks:t}},e.name=function(e){return e.field.alias}}(u=e.Series||(e.Series={})),function(t){var s,l,c;!function(e){e.Basic="BASIC",e.Detail="DETAIL"}(s=t.Type||(t.Type={})),t.make=function(r,n,i){switch(i.type){case e.Type.Basic:return t.Basic.make(r,n,i);case e.Type.Detail:return 0===i.series.length?t.Basic.make(r,n,i):t.Detail.make(r,n,i)}},function(t){function add(e,t){return n({},e,{queries:e.queries.concat([t])})}t.make=function(t,n,i){var u={id:o.Utility.id(),model:t,relation:n,queries:[],type:s.Basic},l=i.filters,c=i.sorts;switch(i.type){case e.Type.Basic:return add(u,a.Query.make({filters:l,sorts:c,fields:i.rows.concat(i.columns,r.fields(i.marks))}));case e.Type.Detail:return add(u,a.Query.make({filters:l,sorts:c,fields:i.rows.concat(i.columns,i.series.reduce(function(e,t){return e.concat.apply(e,r.fields(t.marks))},[]))}))}}}(t.Basic||(t.Basic={})),function(e){e.make=function(e,t){return{name:u.name(e),query:t.id}}}(l=t.Level||(t.Level={})),function(e){e.make=function(e,t,i){for(var u={id:o.Utility.id(),model:e,relation:t,queries:[],levels:[],type:s.Detail},f=new Map,h=0,p=i.series;h<p.length;h++){var d=p[h],y=c.add(c.make(d),[d.field].concat(i.rows,i.columns,i.values,r.fields(d.marks))),g=c.key(y);if(f.has(g)){var m=f.get(g);if(!m)throw new Error("Cannot find pivot grouping associated with key "+g);f.set(g,c.merge(m,y))}else f.set(g,y)}return f.forEach(function(e,t){for(var r=i.filters,o=i.sorts,s=a.Query.make({filters:r,sorts:o}),c=0,f=Array.from(e.fields);c<f.length;c++){var h=f[c],p=(h[0],h[1]);s=a.Query.select(s,[p])}var d=Array.from(e.series.values()).map(function(e){return l.make(e,s)});u=function(e,t,r){return n({},e,{queries:e.queries.concat([t]),levels:e.levels.concat(r)})}(u,s,d)}),u}}(t.Detail||(t.Detail={})),function(e){e.make=function(e){return{keys:new Map,fields:new Map,series:new Map([[u.name(e),e]])}},e.key=function(e){for(var t=new Array,r=0,n=Array.from(e.keys);r<n.length;r++){var i=n[r],o=i[0];i[1],t.push(o)}return t.sort().join(":")},e.matches=function(e,t){if(e.keys.size!==t.keys.size)return!1;for(var r=0,n=Array.from(e.keys);r<n.length;r++){var i=n[r],o=i[0];if(i[1],!t.keys.has(o))return!1}return!0},e.add=function(e,t){for(var r=0,o=t||[];r<o.length;r++){var a=o[r],s=new Map(e.fields);switch(a.role){case i.Attr.Role.Dimension:var u=new Map(e.keys);e=n({},e,{fields:s.set(a.alias,a),keys:u.set(a.formula.source,a)});case i.Attr.Role.Measure:e=n({},e,{fields:s.set(a.alias,a)})}}return e},e.merge=function(e,t){return n({},e,{series:new Map(Array.from(e.series).concat(Array.from(t.series))),fields:new Map(Array.from(e.fields).concat(Array.from(t.fields)))})}}(c=t.Group||(t.Group={}))}(l=e.Plan||(e.Plan={}))}(t.Pivot||(t.Pivot={}))},wJdG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("rJti"),i=r("Z2I5"),o=function(){function FilterEngine(e,t){this._engine=e,this._query=t}return Object.defineProperty(FilterEngine.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),Object.defineProperty(FilterEngine.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),FilterEngine.prototype.execute=function(){var e=new i.FilterResult(this.query),t=new n.FilterCollect(this.query,e);return this.engine.dataset.data.forEach(function(e,r){t.collect(e,r)}),e},FilterEngine}();t.FilterEngine=o},wMRL:function(e,t,r){var n;function createDebug(e){function debug(){if(debug.enabled){var e=debug,r=+new Date,i=r-(n||r);e.diff=i,e.prev=n,e.curr=r,n=r;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;s++;var i=t.formatters[n];if("function"==typeof i){var a=o[s];r=i.call(e,a),o.splice(s,1),s--}return r}),t.formatArgs.call(e,o),(debug.log||t.log||console.log.bind(console)).apply(e,o)}}return debug.namespace=e,debug.enabled=t.enabled(e),debug.useColors=t.useColors(),debug.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(debug),debug}(t=e.exports=createDebug.debug=createDebug.default=createDebug).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r("6IAg"),t.names=[],t.skips=[],t.formatters={}},wSeB:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("X0B2"),o=r("1IBE"),a=r("5UgM"),s=r("EIUo"),u=r("k+FJ");t.windowWhen=function(e){return function(t){return t.lift(new l(e))}};var l=function(){function WindowOperator(e){this.closingSelector=e}return WindowOperator.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},WindowOperator}(),c=function(e){function WindowSubscriber(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return n(WindowSubscriber,e),WindowSubscriber.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},WindowSubscriber.prototype.notifyError=function(e,t){this._error(e)},WindowSubscriber.prototype.notifyComplete=function(e){this.openWindow(e)},WindowSubscriber.prototype._next=function(e){this.window.next(e)},WindowSubscriber.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},WindowSubscriber.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},WindowSubscriber.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new i.Subject;this.destination.next(r);var n=o.tryCatch(this.closingSelector)();if(n===a.errorObject){var s=a.errorObject.e;this.destination.error(s),this.window.error(s)}else this.add(this.closingNotification=u.subscribeToResult(this,n))},WindowSubscriber}(s.OuterSubscriber)},wUhU:function(e,t,r){var n=r("9R9K"),i=r("JcJc");e.exports=function(){var e=[].reduce.call(arguments,function(e,t){return e.concat(n.array(t))},[]);return(new i).groupby(e).summarize({"*":"values"})}},wZEL:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh"),o=r("O3mw");t.first=function(e,t,r){return function(n){return n.lift(new a(e,t,r,n))}};var a=function(){function FirstOperator(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return FirstOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},FirstOperator}(),s=function(e){function FirstSubscriber(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(FirstSubscriber,e),FirstSubscriber.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},FirstSubscriber.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},FirstSubscriber.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},FirstSubscriber.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},FirstSubscriber.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},FirstSubscriber.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new o.EmptyError):(e.next(this.defaultValue),e.complete())},FirstSubscriber}(i.Subscriber)},"wd/X":function(e,t,r){"use strict";var n=r("DRWY"),i=r("Orbh");n.Observable.prototype.throttleTime=i.throttleTime},wfVV:function(e,t,r){"use strict";var n=r("DRWY"),i=r("1PPK");n.Observable.timer=i.timer},wixA:function(e,t,r){"use strict";var n=r("syON");t.single=function(e){return n.single(e)(this)}},"wpm+":function(e,t,r){"use strict";var n=r("DRWY"),i=r("gZzw");n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},wppe:function(e,t,r){var n=r("MIhM").Symbol;e.exports=n},wqnd:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function TCircle(t,r){var n=e.call(this,t,r)||this;return n.shape={value:"circle"},n}return i(TCircle,e),TCircle}(r("B6IU").TSymbol);t.TCircle=o},wrxj:function(e,t,r){"use strict";(function(t){var n=r("tALL"),i=n.Promise||r("Zt7E").Promise;e.exports=function(e,o){var a=r("4Bm0"),s=r("QKhG"),u=r("QStr"),l=r("dhxR"),c=r("/f3m");function algoliasearch(e,t,n){return(n=r("S7SM")(n||{}))._ua=n._ua||algoliasearch.ua,new AlgoliaSearchBrowser(e,t,n)}o=o||"","debug"===t.env.NODE_ENV&&r("AIUU").enable("algoliasearch*"),algoliasearch.version=r("6O7z"),algoliasearch.ua="Algolia for vanilla JavaScript "+o+algoliasearch.version,algoliasearch.initPlaces=c(algoliasearch),n.__algolia={debug:r("AIUU"),algoliasearch:algoliasearch};var f={hasXMLHttpRequest:"XMLHttpRequest"in n,hasXDomainRequest:"XDomainRequest"in n};function AlgoliaSearchBrowser(){e.apply(this,arguments)}return f.hasXMLHttpRequest&&(f.cors="withCredentials"in new XMLHttpRequest),a(AlgoliaSearchBrowser,e),AlgoliaSearchBrowser.prototype._request=function(e,t){return new i(function(r,n){if(f.cors||f.hasXDomainRequest){e=u(e,t.headers);var i,o,a=t.body,l=f.cors?new XMLHttpRequest:new XDomainRequest,c=!1;i=setTimeout(onTimeout,t.timeouts.connect),l.onprogress=function(){c||onConnect()},"onreadystatechange"in l&&(l.onreadystatechange=function(){!c&&l.readyState>1&&onConnect()}),l.onload=function(){if(o)return;var e;clearTimeout(i);try{e={body:JSON.parse(l.responseText),responseText:l.responseText,statusCode:l.status,headers:l.getAllResponseHeaders&&l.getAllResponseHeaders()||{}}}catch(t){e=new s.UnparsableJSON({more:l.responseText})}e instanceof s.UnparsableJSON?n(e):r(e)},l.onerror=function(e){if(o)return;clearTimeout(i),n(new s.Network({more:e}))},l instanceof XMLHttpRequest?l.open(t.method,e,!0):l.open(t.method,e),f.cors&&(a&&("POST"===t.method?l.setRequestHeader("content-type","application/x-www-form-urlencoded"):l.setRequestHeader("content-type","application/json")),l.setRequestHeader("accept","application/json")),l.send(a)}else n(new s.Network("CORS not supported"));function onTimeout(){o=!0,l.abort(),n(new s.RequestTimeout)}function onConnect(){c=!0,clearTimeout(i),i=setTimeout(onTimeout,t.timeouts.complete)}})},AlgoliaSearchBrowser.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new i(function(r,n){l(e,t,function(e,t){e?n(e):r(t)})})},AlgoliaSearchBrowser.prototype._promise={reject:function(e){return i.reject(e)},resolve:function(e){return i.resolve(e)},delay:function(e){return new i(function(t){setTimeout(t,e)})}},algoliasearch}}).call(t,r("pBGv"))},x2i0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("H49V"),i=r("kdBv"),o=r("9ER9"),a=function(){function PivotReduce(e,t,r){this._query=e,this._model=t,this._result=r,this._reducers=new Map,this._rowNames=new Array,this._columnNames=new Array,this._valueFields=new Array,this.buildFields(),this.buildReducers(),this._reduce=this.buildReduce()}return Object.defineProperty(PivotReduce.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(PivotReduce.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),Object.defineProperty(PivotReduce.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(PivotReduce.prototype,"reduce",{get:function(){return this._reduce},enumerable:!0,configurable:!0}),Object.defineProperty(PivotReduce.prototype,"reducers",{get:function(){return this._reducers},enumerable:!0,configurable:!0}),Object.defineProperty(PivotReduce.prototype,"rowNames",{get:function(){return this._rowNames},enumerable:!0,configurable:!0}),Object.defineProperty(PivotReduce.prototype,"columnNames",{get:function(){return this._columnNames},enumerable:!0,configurable:!0}),Object.defineProperty(PivotReduce.prototype,"valueFields",{get:function(){return this._valueFields},enumerable:!0,configurable:!0}),PivotReduce.prototype.addRowNamesFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.rowNames.push(n)}},PivotReduce.prototype.addColumnNamesFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.columnNames.push(n)}},PivotReduce.prototype.addValueFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.valueFields.push(n)}},PivotReduce.prototype.buildFields=function(){this.addValueFields(this.query.values.fields);for(var e=this.query.rows.measures,t=this.query.columns.measures,r=0,o=Array.from(this.query.rows.layers);r<o.length;r++){var a=o[r],s=(a[0],a[1]);e=e.concat(s.fields.get(n.Channel.ROW))}for(var u=0,l=Array.from(this.query.columns.layers);u<l.length;u++){var c=l[u];c[0],s=c[1];t=t.concat(s.fields.get(n.Channel.COLUMN))}0===t.length?this.addValueFields(e.filter(function(e){return e.type===i.FieldType.VIEWCALC})):0===e.length&&this.addValueFields(t.filter(function(e){return e.type===i.FieldType.VIEWCALC})),this.addRowNamesFields(this.query.rows.fields.filter(function(e){return e.isNames})),this.addColumnNamesFields(this.query.columns.fields.filter(function(e){return e.isNames}))},PivotReduce.prototype.buildReducers=function(){for(var e=0,t=Array.from(this.query.layers);e<t.length;e++)for(var r=t[e],n=(r[0],0),i=r[1];n<i.length;n++){var o=i[n];this.reducers.set(o.name,new s(o,this.model,this.result))}},PivotReduce.prototype.assignNames=function(e,t){if(0===this.valueFields.length)for(var r=0,n=e;r<n.length;r++){t[(a=n[r]).alias]="No Measure Value"}else for(var i=0,o=e;i<o.length;i++)for(var a=o[i],s=0,u=this.valueFields;s<u.length;s++){var l=u[s];t[a.alias]=this.model.getDefaultFieldName(l)}},PivotReduce.prototype.reduceLayerRootNode=function(e,t){var r=null,n=[];if(0===this.columnNames.length)r={},this.assignNames(this.rowNames,r),n.push(r);else if(0===this.rowNames.length)r={},this.assignNames(this.columnNames,r),n.push(r);else for(var i=0,o=this.rowNames;i<o.length;i++)for(var a=o[i],s=0,u=this.columnNames;s<u.length;s++){var l=u[s];r={};for(var c=0,f=this.valueFields;c<f.length;c++){var h=f[c];r[a.alias]=this.model.getDefaultFieldName(h),r[l.alias]=this.model.getDefaultFieldName(h)}n.push(r)}if(0===n.length)Object.keys(t).length>0&&this.result.addBaseRow(Object.assign({},t));else for(var p=0,d=n;p<d.length;p++){var y=d[p];(Object.keys(y).length>0||Object.keys(t).length>0)&&this.result.addBaseRow(Object.assign(y,t))}},PivotReduce.prototype.buildReduce=function(){var e=this,t={},r=null,n=null;return function(){r=[];for(var i=0,a=Array.from(e.result.root.children);i<a.length;i++){var s=a[i],u=(s[0],s[1]);r.push(u)}for(;r.length;)switch((n=r.pop()).type){case o.PivotNodeType.DIMENSION:t[n.field.alias]=n.value;for(var l=0,c=Array.from(n.children);l<c.length;l++){var f=c[l];f[0],u=f[1];r.push(u)}break;case o.PivotNodeType.NAMES:for(var h=0,p=Array.from(n.children);h<p.length;h++){var d=p[h];d[0],u=d[1];r.push(u)}break;case o.PivotNodeType.LAYER:e.reducers.get(n.name).reduce(n);break;case o.PivotNodeType.ROOT:n.level===o.PivotRootLevel.LAYER&&e.reduceLayerRootNode(n,t);for(var y=0,g=Array.from(n.children);y<g.length;y++){var m=g[y];m[0],u=m[1];r.push(u)}}}},PivotReduce}();t.PivotReduce=a;var s=function(){function LayerReducer(e,t,r){this._layer=e,this._model=t,this._result=r,this._rowFields=new Array,this._columnFields=new Array,this._markFields=new Array,this._nameFields=new Array,this.buildFields(),this._reduce=this.buildReduce()}return Object.defineProperty(LayerReducer.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(LayerReducer.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),Object.defineProperty(LayerReducer.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),Object.defineProperty(LayerReducer.prototype,"reduce",{get:function(){return this._reduce},enumerable:!0,configurable:!0}),Object.defineProperty(LayerReducer.prototype,"rowFields",{get:function(){return this._rowFields},enumerable:!0,configurable:!0}),Object.defineProperty(LayerReducer.prototype,"columnFields",{get:function(){return this._columnFields},enumerable:!0,configurable:!0}),Object.defineProperty(LayerReducer.prototype,"markFields",{get:function(){return this._markFields},enumerable:!0,configurable:!0}),Object.defineProperty(LayerReducer.prototype,"nameFields",{get:function(){return this._nameFields},enumerable:!0,configurable:!0}),LayerReducer.prototype.addRowFields=function(e){for(var t=0,r=e||this.layer.query.rows.measures;t<r.length;t++){var n=r[t];this.rowFields.push(n)}},LayerReducer.prototype.addColumnFields=function(e){for(var t=0,r=e||this.layer.query.columns.measures;t<r.length;t++){var n=r[t];this.columnFields.push(n)}},LayerReducer.prototype.addNameFields=function(e){for(var t=0,r=e||this.layer.query.values.fields;t<r.length;t++){var n=r[t];this.nameFields.push(n)}},LayerReducer.prototype.addRowNameFields=function(){for(var e=0,t=this.rowFields;e<t.length;e++){switch(t[e].type){case"VIEWCALC":this.addNameFields(this.columnFields);break;case"VIEWVALUES":if(0===this.columnFields.length)this.addNameFields();else for(var r=0,n=this.columnFields;r<n.length;r++){n[r];this.addNameFields()}}}},LayerReducer.prototype.addColumnNameFields=function(){for(var e=0,t=this.columnFields;e<t.length;e++){switch(t[e].type){case"VIEWCALC":this.addNameFields(this.rowFields);break;case"VIEWVALUES":if(0===this.rowFields.length)this.addNameFields();else for(var r=0,n=this.rowFields;r<n.length;r++){n[r];this.addNameFields()}}}},LayerReducer.prototype.buildFields=function(){for(var e=0,t=Array.from(this.layer.measures);e<t.length;e++)for(var r=t[e],n=r[0],i=0,o=r[1];i<o.length;i++){var a=o[i];switch(n){case"ROW":this.rowFields.push(a);break;case"COLUMN":this.columnFields.push(a);break;default:this.markFields.push(a)}}switch(this.layer.channel){case"ROW":this.addColumnFields();break;case"COLUMN":this.addRowFields()}var s=[].concat(this.rowFields,this.columnFields,this.markFields).filter(function(e){return e.isValues});switch(this.layer.channel){case"*":this.addNameFields();break;case"ROW":0===this.columnFields.length?s.length>0?this.addNameFields():this.addNameFields(this.rowFields):this.addRowNameFields();break;case"COLUMN":0===this.rowFields.length?s.length>0?this.addNameFields():this.addNameFields(this.columnFields):this.addColumnNameFields()}},LayerReducer.prototype.assignValues=function(e,t,r,n){for(var o=0,a=e;o<a.length;o++){var s=a[o];switch(s.type){case i.FieldType.VIEWCALC:r[s.alias]=t.getResult(s);break;case i.FieldType.VIEWVALUES:null!=n&&(r[s.alias]=t.getResult(n))}}},LayerReducer.prototype.reduceMeasureNode=function(e,t){var r={},n={},i=[],a=t;if(t.reduce(),0===this.nameFields.length)n["Measure Names"]="No Measure Value",this.assignValues(this.markFields,t,n),i.push(n);else for(var s=0,u=this.nameFields;s<u.length;s++){var l=u[s];(n={})["Measure Names"]=this.model.getDefaultFieldName(l),this.assignValues(this.rowFields,t,n,l),this.assignValues(this.columnFields,t,n,l),this.assignValues(this.markFields,t,n,l),i.push(n)}for(;a;){switch(a.type){case o.PivotNodeType.DIMENSION:r[a.field.alias]=a.value;break;case o.PivotNodeType.NAMES:for(var c=0,f=i;c<f.length;c++){(d=f[c])[a.field.alias]=d["Measure Names"]}break;case o.PivotNodeType.ROOT:if(a.level===o.PivotRootLevel.ROOT)for(var h=0,p=i;h<p.length;h++){var d=p[h];this.result.addLayerRow(e.name,Object.assign(d,r))}}a=a.parent}},LayerReducer.prototype.buildReduce=function(){var e=this;return function(t){for(var r=[],n=null,i=0,a=Array.from(t.children);i<a.length;i++){var s=a[i],u=(s[0],s[1]);r.push(u)}for(;r.length;)switch((n=r.pop()).type){case o.PivotNodeType.DIMENSION:for(var l=0,c=Array.from(n.children);l<c.length;l++){var f=c[l];f[0],u=f[1];r.push(u)}break;case o.PivotNodeType.NAMES:for(var h=0,p=Array.from(n.children);h<p.length;h++){var d=p[h];d[0],u=d[1];r.push(u)}break;case o.PivotNodeType.MEASURE:e.reduceMeasureNode(t,n)}}},LayerReducer}();t.LayerReducer=s},xEln:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){!function(e){e.Left="LEFT",e.Inner="INNER"}(e.Type||(e.Type={})),e.make=function(e,t){return{type:e,target:t}},function(e){e.make=function(e,t,r){return{view:e,alias:r||e,on:t}}}(e.Target||(e.Target={}))}(t.Join||(t.Join={}))},xQ2D:function(e,t,r){"use strict";var n=r("DRWY"),i=r("14Lv");n.Observable.prototype.observeOn=i.observeOn},xS0M:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ASC="ASC",e.DESC="DESC"}(t.SortOrder||(t.SortOrder={})),function(e){e.DATA="DATA",e.ALPHA="ALPHA",e.FIELD="FIELD",e.MANUAL="MANUAL"}(t.SortType||(t.SortType={}))},xW9Z:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function InnerSubscriber(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(InnerSubscriber,e),InnerSubscriber.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(r("LGJh").Subscriber);t.InnerSubscriber=i},xd6E:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("9QTW"),i=r("x2i0"),o=r("/dVp"),a=r("RLtT"),s=r("YuCF"),u=function(){function Pivot(e,t){this._engine=e,this._query=t}return Object.defineProperty(Pivot.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),Object.defineProperty(Pivot.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Pivot.prototype.execute=function(e){var t=new o.PivotResult(this.query),r=new n.PivotCollect(this.query,t),u=new i.PivotReduce(this.query,e,t),l=a.PivotFilter.makeCollectFilter(e,this.query),c=a.PivotFilter.makeReduceFilter(e,this.query),f=s.PivotSort.makePivotSort(e,this.query);return this.engine.dataset.data.forEach(function(e,t){l(e)&&r.collect(e,t)}),u.reduce(),a.PivotFilter.executeReduceFilter(e,t,c),s.PivotSort.executePivotSort(e,this.query,t,f),t},Pivot.prototype.executeSQL=function(e){return new o.PivotResult(this.query)},Pivot}();t.Pivot=u},xdX3:function(e,t,r){"use strict";var n=r("ZRXU");t.count=function(e){return n.count(e)(this)}},xpuh:function(e,t,r){var n=r("F7ET");e.exports=function(e,t){return function(e,t){var r=t&&t.children||"children",n=t&&t.parent||"parent",i=[];return function visit(e,t){e[n]=t,i.push(e);var o=e[r];if(o)for(var a=0;a<o.length;++a)visit(o[a],e)}(e,null),i.root=e,i}(n(e,t),t)}},xq1Q:function(e,t,r){"use strict";var n=r("DRWY"),i=r("1+O5");n.Observable.prototype.timeoutWith=i.timeoutWith},xqlZ:function(e,t,r){function swivel(e){var t=[],r=[],n=[],i=swivel.tree(),o=e||[];function filter(e){return n.push(Function("row","return "+e+";")),this}function aggregate(e,t,n){return void 0===n&&(n={}),r.push({as:n.as||t,callback:swivel.aggregate(e,t,n)}),this}function getPathFields(){for(var e=[],r=0;r<t.length;r++)e.push(t[r].name);return e}function visitValues(e){for(var t=[],n=0;n<e.length;n++)t.push(o[e[n]]);var i={};for(n=0;n<r.length;n++){var a=r[n];i[a.as]=a.callback(t)}return i}function visitRows(e,r){for(var n=[],o=[],a=r,s=getPathFields(),u=r;u<s.length&&"group"==t[u].type;u++)a+=1,o.push(s[u]);var l=t[a];return i.eachBranch({},e,o,0,function(e,t){var r={};swivel.merge(r,t),a==s.length?swivel.merge(r,visitValues(e)):"pivot"==l.type&&swivel.merge(r,visitColumn(e,a)),n.push(r)}),n}function visitColumn(e,r){var n={},o=r+1,a=getPathFields(),s=t[o];return i.eachValue(e,r,function(e,t){var r={};if(void 0===e)r[t]=null;else if(o==a.length){var i=visitValues(e),u=Object.keys(i);1==u.length?r[t]=i[u[0]]:r[t]=i}else"group"==s.type?r[t]=visitRows(e,o):"pivot"==s.type&&(r[t]=visitColumn(e,o));swivel.merge(n,r)}),n}return{all:function(){!function(){for(var e=0;e<o.length;e++){for(var t=o[e],r=!0,a=0;a<n.length;a++)if(0==n[a](t)){r=!1;break}r&&i.insert(t,e)}}();var e={values:function(e){return i.isEmpty()?[]:Object.keys(i.getValues(e))}};i.isEmpty()?e.data=[]:"group"==t[0].type?e.data=visitRows(i.getRoot(),0):e.data=visitColumn(i.getRoot(),0);return e},group:function(){for(var e=[].concat(swivel.args(arguments)),r=0;r<e.length;r++)i.field(e[r]),t.push({type:"group",name:e[r]});return this},pivot:function(){for(var e=[].concat(swivel.args(arguments)),r=0;r<e.length;r++)i.field(e[r]),t.push({type:"pivot",name:e[r]});return this},filter:filter,config:function(e){if(void 0===e.fields)var t=[];else var t=e.fields;if(void 0===e.transforms)var r=[];else var r=e.transforms;if(void 0===e.aggregates)var n=[];else var n=e.aggregates;for(var i=0;i<t.length;i++){var o=t[i];this[o.type](o.name)}for(var i=0;i<r.length;i++){var a=r[i];"filter"==a.type&&filter(a.test)}for(var i=0;i<n.length;i++){var s=n[i];aggregate(s.type,s.field,{as:s.as})}return this},concat:function(e){return o=o.concat(e),this},aggregate:aggregate,count:function(e,t){return aggregate.call(this,"count",e,t)},countUnique:function(e,t){return aggregate.call(this,"countUnique",e,t)},sum:function(e,t){return aggregate.call(this,"sum",e,t)},average:function(e,t){return aggregate.call(this,"average",e,t)},median:function(e,t){return aggregate.call(this,"median",e,t)},stdDev:function(e,t){return aggregate.call(this,"stdDev",e,t)}}}void 0!==e&&e.exports&&(t=e.exports=swivel),t.swivel=swivel,swivel.tree=function(){var e={},t={},r=[],n=!0;return{field:function(e){r.push(e)},insert:function(i,o){n=!1,function insertOne(e,r,n,i,o){var a=i[o];var s=r[a];var u=o+1==i.length;a in t||(t[a]={});s in t[a]||(t[a][s]=!0);s in e||(e[s]=u?[]:{});u?e[s].push(n):insertOne(e[s],r,n,i,o+1)}(e,i,o,r,0)},isEmpty:function(){return n},getRoot:function(){return e},getValues:function(e){return void 0===t[e]?[]:t[e]},eachValue:function(e,n,i){for(var o=r[n],a=t[o],s=Object.keys(a),u=0;u<s.length;u++){var l=s[u],c=e[l];i(c,l)}},eachBranch:function eachBranch(e,r,n,i,o){if(i==n.length)return o(r,e);var a=n[i];var s=t[a];var u=Object.keys(s);for(var l=0;l<u.length;l++){var c=u[l],f=r[c];void 0!==f&&(e[a]=c,eachBranch(e,f,n,i+1,o),delete e[a])}}}},swivel.args=function(e){return Array.prototype.slice.call(e,0)},swivel.merge=function(e,t){for(var r in t)e[r]=t[r]},swivel.aggregate=function(e,t){switch(e){case"sum":return swivel.sum(t);case"count":return swivel.count(t);case"countUnique":return swivel.countUnique(t);case"average":return swivel.average(t);case"median":return swivel.median(t);case"stdDev":return swivel.stdDev(t);default:return swivel.sum(t)}},swivel.average=function(e){return function(t,r){var n=NaN;if(t.length>0){for(var i=0,o=0;o<t.length;o++)i+=t[o][e];n=i/t.length}return n}},swivel.count=function(){return function(e){return e.length}},swivel.countUnique=function(e){return function(t){for(var r={},n=0;n<t.length;n++){var i=+t[n][e];i in r||(r[i]=!0)}return Object.keys(r).length}},swivel.median=function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push(+t[n][e]);r.sort(function(e,t){return e-t});var i=Math.floor(r.length/2);return r.length%2==0?(r[i-1]+r[i])/2:r[i]}},swivel.stdDev=function(e){return function(t,r){if(0==t.length)return NaN;for(var n=function(t,r){for(var n=[],i=0;i<r.length;i++){var o=r[i][e]-t;n.push(o*o)}return n}(function(t){for(var r=0,n=0;n<t.length;n++)r+=t[n][e];return r/t.length}(t),t),i=0,o=0;o<n.length;o++)i+=n[o];var a=i/n.length;return Math.sqrt(a)}},swivel.sum=function(e){return function(t){for(var r=0,n=0;n<t.length;n++){var i=+t[n][e];if(NaN===i)return NaN;if("number"!=typeof i)return NaN;r+=i}return r}}},xvKj:function(e,t,r){"use strict";var n=r("dVJf");t.fromPromise=n.PromiseObservable.create},y3NY:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("LGJh");t.refCount=function(){return function(e){return e.lift(new o(e))}};var o=function(){function RefCountOperator(e){this.connectable=e}return RefCountOperator.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new a(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},RefCountOperator}(),a=function(e){function RefCountSubscriber(t,r){e.call(this,t),this.connectable=r}return n(RefCountSubscriber,e),RefCountSubscriber.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},RefCountSubscriber}(i.Subscriber)},y6R7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("r6gp"),i=function(){function PMFields(e,t){this._channel=t,this._marks=new Array,this._ranges=new Map,this._domains=new Map}return Object.defineProperty(PMFields.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(PMFields.prototype,"channel",{get:function(){return this._channel},enumerable:!0,configurable:!0}),Object.defineProperty(PMFields.prototype,"marks",{get:function(){return this._marks},enumerable:!0,configurable:!0}),Object.defineProperty(PMFields.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),Object.defineProperty(PMFields.prototype,"domains",{get:function(){return this._domains},enumerable:!0,configurable:!0}),PMFields.prototype.addMarks=function(e){this.marks.push(e)},PMFields.prototype.addField=function(e){var t=this.getMergedRange(e),r=this.getMergedDomain(e);this.ranges.set(e.alias,t),this.domains.set(e.alias,r)},PMFields.prototype.getRange=function(e){return this.ranges.get(e.alias)},PMFields.prototype.getDomain=function(e){return this.domains.get(e.alias)},PMFields.prototype.getMergedRange=function(e){for(var t=new Array,r=0,i=this.marks;r<i.length;r++){var o=i[r];t.push(o.getDomain(e))}return n.Range.Merge(t)},PMFields.prototype.getMergedDomain=function(e){for(var t=new Array,r=0,i=this.marks;r<i.length;r++){var o=i[r],a=o.getDomain(e);t.push(o.getFieldDomain(a))}return n.Range.Merge(t)},PMFields}();t.PMFields=i},y8b9:function(e,t,r){"use strict";var n=r("DRWY"),i=r("Lr0R");n.Observable.prototype.timeout=i.timeout},yEnm:function(e,t,r){"use strict";var n=r("yY7C");t.reduce=function(e,t){return arguments.length>=2?n.reduce(e,t)(this):n.reduce(e)(this)}},yNJ0:function(e,t){(function(t){e.exports=t}).call(t,{})},yTj7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("I8rZ"),i=r("7cqj");!function(e){e.make=function(e,t){return{aggregate:(t=t||{}).aggregate||function(e){switch(e){case i.Attr.Type.Discrete:return n.Call.Name.Count;case i.Attr.Type.Continuous:return n.Call.Name.Sum}}(e)}}}(t.Defaults||(t.Defaults={}))},"yU+A":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("I8rZ");t.Call=n.Call;var i=r("64my");t.DataRole=i.DataRole;var o=r("UEw3");t.DataType=o.DataType;var a=r("vw2U");t.DateTime=a.DateTime;var s=r("/YdO");t.Node=s.Node;var u=r("iZmh");t.Tree=u.Tree;var l=r("7uBA");t.Calc=l.Calc;var c=r("SEpX");t.Column=c.Column;var f=r("A4BP");t.Field=f.Field;var h=r("7cqj");t.Attr=h.Attr;var p=r("xEln");t.Join=p.Join;var d=r("6n5O");t.Model=d.Model;var y=r("Pl9e");t.Relation=y.Relation;var g=r("IyCH");t.View=g.View;var m=r("uH7x");t.Reference=m.Reference;var v=r("u6/t");t.Resolver=v.Resolver;var b=r("ejt7");t.Expression=b.Expression;var _=r("LIE7");t.Access=_.Access;var w=r("jd1k");t.Aggregate=w.Aggregate;var S=r("IDkG");t.DatePart=S.DatePart;var E=r("iFUp");t.DateTrunc=E.DateTrunc;var C=r("UbjR");t.Generic=C.Generic;var O=r("Qg1O");t.Compiler=O.Compiler;var T=r("IIVN");t.Formula=T.Formula;var A=r("5bZP");t.Cond=A.Cond;var x=r("jRDe");t.Domain=x.Domain;var k=r("W4sE");t.Filter=k.Filter;var R=r("wGJa");t.Pivot=R.Pivot;var P=r("mPZX");t.Query=P.Query;var D=r("3bk5");t.Select=D.Select;var M=r("VkZK");t.Sort=M.Sort;var F=r("gh6O");t.Adapter=F.Adapter;var N=r("eHJt");t.DefaultAdapter=N.DefaultAdapter;var I=r("ouJl");t.DefaultCall=I.DefaultCall;var j=r("C3PX");t.DefaultProvider=j.DefaultProvider;var L=r("tRvp");t.DefaultResolver=L.DefaultResolver},yY7C:function(e,t,r){"use strict";var n=r("qw2Y"),i=r("dFqO"),o=r("SFto"),a=r("5esv");t.reduce=function(e,t){return arguments.length>=2?function(r){return a.pipe(n.scan(e,t),i.takeLast(1),o.defaultIfEmpty(t))(r)}:function(t){return a.pipe(n.scan(function(t,r,n){return e(t,r,n+1)}),i.takeLast(1))(t)}}},yf0c:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("2p93"),a=r("/TTe"),s=r("/TTe"),u=r("MCIp"),l=r("y6R7"),c=r("BJ/9"),f=r("Pu7/"),h=r("Jgtz"),p=r("b9Qa"),d=r("+cyl"),y=r("VUpT"),g=function(e){function PMarks(t,r,n,i,a){var s=e.call(this,t,r,i)||this;return s._pField=n,s._channel=a,s._pFields=new l.PMFields(t,a),s._valueRange=s.getDomain(s.field),s._cells=new o.MCells(t,s,s.query),s}return i(PMarks,e),Object.defineProperty(PMarks.prototype,"pFields",{get:function(){return this._pFields},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"pField",{get:function(){return this._pField},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"channel",{get:function(){return this._channel},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"valueRange",{get:function(){return this._valueRange},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"xField",{get:function(){return"X"===this.channel?this.field:"Y"===this.channel?this.pField:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"yField",{get:function(){return"Y"===this.channel?this.field:"X"===this.channel?this.pField:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"xAlias",{get:function(){return this.xField.alias},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"yAlias",{get:function(){return this.yField.alias},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"yAxisFields",{get:function(){return[this.yField]},enumerable:!0,configurable:!0}),Object.defineProperty(PMarks.prototype,"xAxisFields",{get:function(){return[this.xField]},enumerable:!0,configurable:!0}),PMarks.prototype.addMarks=function(e){this.pFields.addMarks(e)},PMarks.prototype.addField=function(e){this.pFields.addField(e)},PMarks.prototype.getFieldDomain=function(e){return"X"===this.channel?this.getYDomain(e):"Y"===this.channel?this.getXDomain(e):void 0},PMarks.prototype.buildXScale=function(){var e;return"X"===this.channel?e=this.getXDomain(this.valueRange):"Y"===this.channel&&(e=this.pFields.getDomain(this.pField)),new a.ContinuousX(this.xScaleName,this.cells,e,this.field)},PMarks.prototype.buildYScale=function(){var e;return"Y"===this.channel?e=this.getYDomain(this.valueRange):"X"===this.channel&&(e=this.pFields.getDomain(this.pField)),new s.ContinuousY(this.yScaleName,this.cells,e,this.field)},PMarks.prototype.buildColorScale=function(){return e.prototype.buildColorScale.call(this,this.cells)},PMarks.prototype.buildSizeScale=function(){return e.prototype.buildSizeScale.call(this,this.cells)},PMarks.prototype.buildAreaScale=function(){return e.prototype.buildAreaScale.call(this,this.cells)},PMarks}(u.TableMarks);t.PMarks=g;var m=function(e){function PMBars(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.marks.push(new f.PBar(t,a)),a}return i(PMBars,e),PMBars.prototype.sizeMax=function(){return 30},Object.defineProperty(PMBars.prototype,"sizeProp",{get:function(){return.8},enumerable:!0,configurable:!0}),PMBars.prototype.getXDomain=function(e){var t=this.cellWidth,r=this.getSizeInterval(),n=Math.round(r.max/2),i={min:n+5,max:n+5};return this.getPaddedInterval(e,{max:t},i)},PMBars.prototype.getYDomain=function(e){var t=this.cellHeight;return this.getPaddedInterval(e,{max:t},{max:15})},PMBars}(g);t.PMBars=m;var v=function(e){function PMLine(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.marks.push(new p.PLine(t,a)),a}return i(PMLine,e),PMLine.prototype.sizeMax=function(){return this.size.fields.length>0?60:12},PMLine.prototype.getXDomain=function(e){return this.getSizePaddedDomain(this.cellWidth,e,{min:10,max:20})},PMLine.prototype.getYDomain=function(e){return this.getSizePaddedDomain(this.cellHeight,e,{min:10,max:20})},PMLine}(g);t.PMLine=v;var b=function(e){function PMArea(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.marks.push(new c.PArea(t,a)),a}return i(PMArea,e),PMArea.prototype.sizeMax=function(){return this.size.fields.length>0?60:12},PMArea.prototype.getXDomain=function(e){return this.getSizePaddedDomain(this.cellWidth,e,{min:0,max:20})},PMArea.prototype.getYDomain=function(e){return this.getSizePaddedDomain(this.cellHeight,e,{min:0,max:20})},PMArea}(g);t.PMArea=b;var _=function(e){function PMSymbol(t,r,n,i,o){return e.call(this,t,r,n,i,o)||this}return i(PMSymbol,e),PMSymbol.prototype.sizeMax=function(){var e=this.size.fields,t=Math.min(this.cellWidth,this.cellHeight);return e.length>0?Math.min(t,280):Math.min(t,140)},PMSymbol.prototype.buildSizeScale=function(){return this.buildAreaScale()},PMSymbol.prototype.getXDomain=function(e){return this.getSizePaddedDomain(this.cellWidth,e,{min:10,max:15})},PMSymbol.prototype.getYDomain=function(e){return this.getSizePaddedDomain(this.cellHeight,e,{min:10,max:15})},PMSymbol}(g);t.PMSymbol=_;var w=function(e){function PMCircle(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.marks.push(new h.PCircle(t,a)),a}return i(PMCircle,e),PMCircle.prototype.sizeMax=function(){return this.size.fields.length>0?e.prototype.sizeMax.call(this):Math.min(this.cellWidth,40)},PMCircle}(_);t.PMCircle=w;var S=function(e){function PMShape(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.marks.push(new d.PShape(t,a)),a}return i(PMShape,e),PMShape}(_);t.PMShape=S;var E=function(e){function PMSquare(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.marks.push(new y.PSquare(t,a)),a}return i(PMSquare,e),PMSquare}(_);t.PMSquare=E},"ygY+":function(e,t,r){"use strict";var n=r("DRWY"),i=r("knuh");n.Observable.prototype.buffer=i.buffer},yh9p:function(e,t,r){"use strict";t.byteLength=function(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=getLens(e),n=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),u=0,l=a>0?n-4:n,c=0;c<l;c+=4)t=i[e.charCodeAt(c)]<<18|i[e.charCodeAt(c+1)]<<12|i[e.charCodeAt(c+2)]<<6|i[e.charCodeAt(c+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(c)]<<2|i[e.charCodeAt(c+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(c)]<<10|i[e.charCodeAt(c+1)]<<4|i[e.charCodeAt(c+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(encodeChunk(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function encodeChunk(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},yjDd:function(e,t,r){"use strict";var n=r("DRWY"),i=r("psnv");n.Observable.zip=i.zip},"yo/l":function(e,t,r){"use strict";function __export(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),__export(r("IVL3")),__export(r("ZT+n"));var n=r("/Cw+");t.MarksSummary=n.MarksSummary;var i=r("a7OZ");t.MarkType=i.MarkType},yolV:function(e,t,r){"use strict";var n=r("YZC0");t.windowCount=function(e,t){return void 0===t&&(t=0),n.windowCount(e,t)(this)}},ypNE:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("Gf6Z"),o=r("DRWY"),a=r("CsEb"),s=function(e){function IntervalObservable(t,r){void 0===t&&(t=0),void 0===r&&(r=a.async),e.call(this),this.period=t,this.scheduler=r,(!i.isNumeric(t)||t<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=a.async)}return n(IntervalObservable,e),IntervalObservable.create=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=a.async),new IntervalObservable(e,t)},IntervalObservable.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.closed||(e.index+=1,this.schedule(e,n))},IntervalObservable.prototype._subscribe=function(e){var t=this.period,r=this.scheduler;e.add(r.schedule(IntervalObservable.dispatch,t,{index:0,subscriber:e,period:t}))},IntervalObservable}(o.Observable);t.IntervalObservable=s},yq3M:function(e,t,r){(function(e){"use strict";var t=new Date,r=new Date;function newInterval(e,n,i,o){function interval(t){return e(t=new Date(+t)),t}return interval.floor=interval,interval.round=function(t){var r=new Date(+t),i=new Date(t-1);return e(r),e(i),n(i,1),t-r<i-t?r:i},interval.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},interval.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},interval.range=function(t,r,i){var o=[];if(t=new Date(t-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(t<r&&i>0))return o;for(n(t,1),e(t),t<r&&o.push(new Date(+t));n(t,i),e(t),t<r;)o.push(new Date(+t));return o},interval.filter=function(t){return newInterval(function(r){for(;e(r),!t(r);)r.setTime(r-1)},function(e,r){for(;--r>=0;)for(;n(e,1),!t(e););})},i&&(interval.count=function(n,o){return t.setTime(+n),r.setTime(+o),e(t),e(r),Math.floor(i(t,r))},interval.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?interval.filter(o?function(t){return o(t)%e==0}:function(t){return interval.count(0,t)%e==0}):interval:null}),interval}var n=newInterval(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});n.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?newInterval(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):n:null};var i=newInterval(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getSeconds()}),o=newInterval(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),a=newInterval(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),s=newInterval(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5},function(e){return e.getDate()-1});function weekday(e){return newInterval(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}var u=weekday(0),l=weekday(1),c=weekday(2),f=weekday(3),h=weekday(4),p=weekday(5),d=weekday(6),y=newInterval(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),g=newInterval(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),m=newInterval(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),v=newInterval(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),b=newInterval(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),_=newInterval(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function utcWeekday(e){return newInterval(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var w=utcWeekday(0),S=utcWeekday(1),E=utcWeekday(2),C=utcWeekday(3),O=utcWeekday(4),T=utcWeekday(5),A=utcWeekday(6),x=newInterval(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),k=newInterval(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}),R=n.range,P=i.range,D=o.range,M=a.range,F=s.range,N=u.range,I=l.range,j=c.range,L=f.range,B=h.range,H=p.range,U=d.range,q=u.range,V=y.range,W=g.range,z=n,Y=R,$=m.range,G=v.range,K=b.range,X=_.range,J=w.range,Q=S.range,Z=E.range,ee=C.range,te=O.range,re=T.range,ne=A.range,ie=w.range,oe=x.range,ae=k.range;e.version="0.1.1",e.milliseconds=R,e.seconds=P,e.minutes=D,e.hours=M,e.days=F,e.sundays=N,e.mondays=I,e.tuesdays=j,e.wednesdays=L,e.thursdays=B,e.fridays=H,e.saturdays=U,e.weeks=q,e.months=V,e.years=W,e.utcMillisecond=z,e.utcMilliseconds=Y,e.utcSeconds=$,e.utcMinutes=G,e.utcHours=K,e.utcDays=X,e.utcSundays=J,e.utcMondays=Q,e.utcTuesdays=Z,e.utcWednesdays=ee,e.utcThursdays=te,e.utcFridays=re,e.utcSaturdays=ne,e.utcWeeks=ie,e.utcMonths=oe,e.utcYears=ae,e.millisecond=n,e.second=i,e.minute=o,e.hour=a,e.day=s,e.sunday=u,e.monday=l,e.tuesday=c,e.wednesday=f,e.thursday=h,e.friday=p,e.saturday=d,e.week=u,e.month=y,e.year=g,e.utcSecond=m,e.utcMinute=v,e.utcHour=b,e.utcDay=_,e.utcSunday=w,e.utcMonday=S,e.utcTuesday=E,e.utcWednesday=C,e.utcThursday=O,e.utcFriday=T,e.utcSaturday=A,e.utcWeek=w,e.utcMonth=x,e.utcYear=k,e.interval=newInterval})(t)},"yrg+":function(e,t,r){"use strict";var n=r("CsEb"),i=r("Wtcn");t.timestamp=function(e){return void 0===e&&(e=n.async),i.timestamp(e)(this)}},yu95:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=r("CsEb"),o=r("UT3o"),a=r("LGJh"),s=r("Him7");t.timeout=function(e,t){void 0===t&&(t=i.async);var r=o.isDate(e),n=r?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(n,r,t,new s.TimeoutError))}};var u=function(){function TimeoutOperator(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=r,this.errorInstance=n}return TimeoutOperator.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},TimeoutOperator}(),l=function(e){function TimeoutSubscriber(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return n(TimeoutSubscriber,e),TimeoutSubscriber.dispatchTimeout=function(e){e.error(e.errorInstance)},TimeoutSubscriber.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout,this.waitFor,this))},TimeoutSubscriber.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},TimeoutSubscriber.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},TimeoutSubscriber}(a.Subscriber)},ywQn:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Array.prototype.slice,a=r("uTT0"),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),o=a(e),s=t&&"[object String]"===i.call(e),h=[];if(!t&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var d=l&&r;if(s&&e.length>0&&!n.call(e,0))for(var y=0;y<e.length;++y)h.push(String(y));if(o&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var m in e)d&&"prototype"===m||!n.call(e,m)||h.push(String(m));if(u)for(var v=function(e){if("undefined"==typeof window||!p)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<c.length;++b)v&&"constructor"===c[b]||!n.call(e,c[b])||h.push(c[b]);return h};d.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return a(t)?e(o.call(t)):e(t)}}}else Object.keys=d;return Object.keys||d},e.exports=d},yxdb:function(e,t,r){"use strict";var n=r("D4xe");t.partition=function(e,t){return n.partition(e,t)(this)}},yyZQ:function(e,t,r){"use strict";var n=r("DRWY"),i=r("ZF5b");n.Observable.prototype.publishReplay=i.publishReplay},z8FJ:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var o=r("vXch"),a=r("Wm/D"),s=function(e){function YAxis(t,r,n,i){var o=e.call(this,a.AxisType.Y,n.name)||this;return o._table=t,o._parent=r,o._field=i,o}return i(YAxis,e),Object.defineProperty(YAxis.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(YAxis.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(YAxis.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),YAxis.prototype.getGrid=function(){return!1},YAxis.prototype.getFormat=function(){return"s"},YAxis.prototype.getFormatType=function(){return"number"},YAxis.prototype.getOffset=function(){return-1*this.parent.getWidth()+1},YAxis.prototype.getTicks=function(){return 3},YAxis.prototype.getTitle=function(){return this.field.name},YAxis.prototype.getTitleOffset=function(){return this.parent.getWidth()-10},YAxis.prototype.getProperties=function(){return{axis:{stroke:{value:"transparent"}},labels:{text:[{test:"datum.data == 0",template:"0"}],baseline:[{test:"datum.data == 0",value:"bottom"},{value:"middle"}],dy:[{test:"datum.data == 0",value:-1}],fill:{value:"#666666"},fontSize:{value:12},fontWeight:{value:"100"}},ticks:{stroke:[{test:"datum.data == 0",value:"transparent"},{value:"#eeeeee"}]},title:{text:this.getTitleText(),fill:{value:"#666666"},fontSize:{value:12},fontWeight:{value:"400"},dx:{value:5}}}},YAxis.prototype.getTitleText=function(){var e=this.table.cellHeight;return[{test:"datum.data == null",template:"Null"},{test:"length(datum.data) <= "+e+" / 10",template:"{{ datum.data | trim }}"},{test:e+" >= 24 * 10",template:"{{ datum.data | trim | truncate: 24 }}"},{test:e+" >= 18 * 10",template:"{{ datum.data | trim | truncate: 18 }}"},{test:e+" >= 12 * 10",template:"{{ datum.data | trim | truncate: 12 }}"},{test:e+" >= 10 * 10",template:"{{ datum.data | trim | truncate: 10 }}"},{test:e+" >= 8 * 10",template:"{{ datum.data | trim | truncate: 8 }}"},{test:e+" >= 6 * 10",template:"{{ datum.data | trim | truncate: 6 }}"}]},YAxis}(o.Axis);t.YAxis=s},"zBR+":function(e,t,r){"use strict";var n=r("yY7C");function toArrayReducer(e,t,r){return 0===r?[t]:(e.push(t),e)}t.toArray=function(){return n.reduce(toArrayReducer,[])}},zVwf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Schema(e){this._columns=e||new Array}return Object.defineProperty(Schema.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Schema.prototype.addColumn=function(e){this.columns.push(e)},Schema.prototype.getColumn=function(e){return this.columns.find(function(t){return t.name===e})},Schema}();t.Schema=n},zdYa:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Signal(e,t){this._name=e,this._init=t}return Object.defineProperty(Signal.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(Signal.prototype,"init",{get:function(){return this._init},enumerable:!0,configurable:!0}),Signal.prototype.compile=function(){return{name:this.name,init:this.init}},Signal}();t.Signal=n},zjNf:function(e,t,r){"use strict";var n=r("DRWY"),i=r("19QM");n.Observable.prototype.combineAll=i.combineAll},znMJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("E4ND"),i=function(){function TypeProvider(){}return TypeProvider.prototype.getConvType=function(e){switch(e){case n.DataType.FLOAT:return n.DataType.FLOAT;case n.DataType.STRING:case n.DataType.REGEXP:case n.DataType.NUMBER:return n.DataType.NUMBER;case n.DataType.NULL:return n.DataType.NULL;default:return n.DataType.INTEGER}},TypeProvider.prototype.getAddType=function(e,t){if(e===n.DataType.STRING||t===n.DataType.STRING)return n.DataType.STRING;if(e===n.DataType.REGEXP||t===n.DataType.REGEXP)return n.DataType.STRING;if(e===n.DataType.UNDEFINED||t===n.DataType.UNDEFINED)return n.DataType.UNDEFINED;switch(e){case n.DataType.FLOAT:return n.DataType.FLOAT;case n.DataType.NUMBER:return n.DataType.NUMBER;default:switch(t){case n.DataType.FLOAT:return n.DataType.FLOAT;default:return n.DataType.INTEGER}}},TypeProvider.prototype.getMathType=function(e,t){switch(e){case n.DataType.STRING:case n.DataType.REGEXP:return n.DataType.NUMBER;case n.DataType.FLOAT:return n.DataType.FLOAT;case n.DataType.NUMBER:switch(t){case n.DataType.STRING:case n.DataType.REGEXP:return n.DataType.STRING;default:return n.DataType.NUMBER}default:switch(t){case n.DataType.STRING:case n.DataType.REGEXP:return n.DataType.NUMBER;case n.DataType.FLOAT:return n.DataType.FLOAT;default:return n.DataType.INTEGER}}},TypeProvider.prototype.getFieldType=function(e){return e.dataType},TypeProvider.prototype.getFuncReturnType=function(e,t){return e.getReturnType(t)},TypeProvider}();t.TypeProvider=i}});
//# sourceMappingURL=vendor.a666a34fd00feeee1976.bundle.js.map